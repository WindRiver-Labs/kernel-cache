From 6834eeabf1e24ec93630f111d7fcfe8c5039824d Mon Sep 17 00:00:00 2001
From: Jibin Xu <jibin.xu@windriver.com>
Date: Wed, 20 Dec 2017 17:18:46 +0800
Subject: [PATCH 2/2] efi : fix memcpy() build warning when CONFIG_X86_32
 enabled

If CONFIG_X86_32 is enabled, declaration of memcpy() is hidden
under #ifndef __HAVE_ARCH_MEMCPY in linux/string.h.This can lead
to build warning:"efi-stub-helper.c:warning:implicit declaration
of function 'memcpy'".

Refer to commit a75ca545e8d57473da47ece828ad98a10727ec6f upstream,
add declaration of memcpy() for X86_32.

Signed-off-by: Jibin Xu <jibin.xu@windriver.com>
---
 arch/x86/include/asm/string_32.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/x86/include/asm/string_32.h b/arch/x86/include/asm/string_32.h
index 3d3e835..4517a00 100644
--- a/arch/x86/include/asm/string_32.h
+++ b/arch/x86/include/asm/string_32.h
@@ -143,6 +143,8 @@ static __always_inline void *__constant_memcpy(void *to, const void *from,
 
 #define __HAVE_ARCH_MEMCPY
 
+extern void *memcpy(void *to, const void *from, size_t len);
+
 #ifdef CONFIG_X86_USE_3DNOW
 
 #include <asm/mmx.h>
-- 
1.7.5.4

