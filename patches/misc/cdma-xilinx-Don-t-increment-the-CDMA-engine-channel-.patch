From e0857a040e97b222189befa7f658cc0f804d9a18 Mon Sep 17 00:00:00 2001
From: Srikanth Thokala <srikanth.thokala@xilinx.com>
Date: Fri, 20 Sep 2013 12:29:43 +0530
Subject: [PATCH 149/628] cdma: xilinx: Don't increment the CDMA engine
 channel count

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit cba526a41b78022e18ddeec60045c316575591eb

Channel count will be incremented internally by dma_async_device_
register().

Signed-off-by: Srikanth Thokala <sthokal@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/dma/xilinx/xilinx_axicdma.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axicdma.c b/drivers/dma/xilinx/xilinx_axicdma.c
index e3483d6..68e1c7d 100644
--- a/drivers/dma/xilinx/xilinx_axicdma.c
+++ b/drivers/dma/xilinx/xilinx_axicdma.c
@@ -904,7 +904,6 @@ static int xilinx_cdma_chan_probe(struct xilinx_cdma_device *xdev,
 
 	/* Add the channel to DMA device channel list */
 	list_add_tail(&chan->common.device_node, &xdev->common.channels);
-	xdev->common.chancnt++;
 
 	return 0;
 }
-- 
1.7.5.4

