From 57c153a70bf8790308f4793303e5e406b53a9c0f Mon Sep 17 00:00:00 2001
From: Naveen Mamindlapalli <naveenm@xhdrdevl6.(none)>
Date: Mon, 12 Sep 2011 17:17:16 +0530
Subject: [PATCH 162/628] Xilinx: ARM: Device Config Driver: Changed
 compatible property

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 7c24b7e5 Xilinx: ARM: Device Tree: Changed the compatible property

Changed the compatible name of the drivers to match the IP names
generated by tools. Modified the xilinx.dts file for the same change.

The following drivers are changed:
slcr, devcfg, gpio, i2c, ethernet, spi, uart and wdt.

Signed-off-by: Naveen Mamindlapalli <naveenm@xhdrdevl6.(none)>
[cherry picked the devcfg driver modification]
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/char/xilinx_devcfg.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/char/xilinx_devcfg.c b/drivers/char/xilinx_devcfg.c
index 25e3a5d..38f2b21 100644
--- a/drivers/char/xilinx_devcfg.c
+++ b/drivers/char/xilinx_devcfg.c
@@ -1468,7 +1468,7 @@ static int __devexit xdevcfg_drv_remove(struct platform_device *pdev)
 
 #ifdef CONFIG_OF
 static struct of_device_id xdevcfg_of_match[] __devinitdata = {
-	{ .compatible = "xlnx,xdevcfg", },
+	{ .compatible = "xlnx,ps7-dev-cfg-1.00.a", },
 	{ /* end of table */}
 };
 MODULE_DEVICE_TABLE(of, xdevcfg_of_match);
-- 
1.7.5.4

