From 01f8db049a8c56cda9cc0113046bb254a04f5c0c Mon Sep 17 00:00:00 2001
From: Naveen Mamindlapalli <naveenm@xhdrdevl6.(none)>
Date: Mon, 12 Sep 2011 17:17:16 +0530
Subject: [PATCH 290/628] Xilinx: ARM: I2C: Changed the compatible property

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 7c24b7e56e2a965e6793e8d8eb8a59703dd47cb8

Changed the compatible name of the drivers to match the IP names
generated by tools. Modified the xilinx.dts file for the same change.

The following drivers are changed:
slcr, devcfg, gpio, i2c, ethernet, spi, uart and wdt.

Signed-off-by: Naveen Mamindlapalli <naveenm@xhdrdevl6.(none)>
[cherry picked the xilinx 2c driver modification only]
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/i2c/busses/i2c-xilinx_ps.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/i2c/busses/i2c-xilinx_ps.c b/drivers/i2c/busses/i2c-xilinx_ps.c
index a6c5080..f942ec9 100644
--- a/drivers/i2c/busses/i2c-xilinx_ps.c
+++ b/drivers/i2c/busses/i2c-xilinx_ps.c
@@ -718,7 +718,7 @@ static int __devexit xi2cps_remove(struct platform_device *pdev)
 
 #ifdef CONFIG_OF
 static struct of_device_id xi2cps_of_match[] __devinitdata = {
-	{ .compatible = "xlnx,xi2cps", },
+	{ .compatible = "xlnx,ps7-i2c-1.00.a", },
 	{ /* end of table */}
 };
 MODULE_DEVICE_TABLE(of, xi2cps_of_match);
-- 
1.7.5.4

