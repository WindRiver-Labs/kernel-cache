From 762d4da76388fa654877bb756eb0602c32ee610d Mon Sep 17 00:00:00 2001
From: Yue Tao <Yue.Tao@windriver.com>
Date: Wed, 29 Aug 2018 14:20:47 +0800
Subject: [PATCH] bpf: fix the wrong parameter of function sanitize_dead_code

The mistake was introduced by backporting the upstream commit c131187d

Signed-off-by: Yue Tao <Yue.Tao@windriver.com>
---
 kernel/bpf/verifier.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.c
index b112f83..e50bc42 100644
--- a/kernel/bpf/verifier.c
+++ b/kernel/bpf/verifier.c
@@ -1908,7 +1908,7 @@ static void adjust_branches(struct bpf_prog *prog, int pos, int delta)
  * branches that are dead at run time. Malicious programs can have dead code
  * too. Therefore replace all dead at-run-time code with nops.
  */
-static void sanitize_dead_code(struct bpf_verifier_env *env)
+static void sanitize_dead_code(struct verifier_env *env)
 {
 	struct bpf_insn_aux_data *aux_data = env->insn_aux_data;
 	struct bpf_insn nop = BPF_MOV64_REG(BPF_REG_0, BPF_REG_0);
-- 
1.7.9.5

