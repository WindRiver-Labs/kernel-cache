From d224d4a689cb6a51b155ffe7a0ffd53ed096fbae Mon Sep 17 00:00:00 2001
From: Liming Wang <liming.wang@windriver.com>
Date: Thu, 10 Apr 2014 15:44:42 +0800
Subject: [PATCH 054/628] arm: zynq: defconfig: Merge tag 'v3.10' into
 master-next

git://github.com/Xilinx/linux-xlnx.git xilinx-v2013.4
commit 106a1dc8 Merge tag 'v3.10' into master-next

Merge Linux 3.10 to our branch

Fix slcr, remoteproc and usb, defconfig update.

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
[cherry picked the xilinx defconfig modification only]
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 arch/arm/mach-zynq/Kconfig |   31 +++++++++++++++++++++++++++++++
 1 files changed, 31 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-zynq/Kconfig b/arch/arm/mach-zynq/Kconfig
index be02a42..1e96e98 100644
--- a/arch/arm/mach-zynq/Kconfig
+++ b/arch/arm/mach-zynq/Kconfig
@@ -12,11 +12,39 @@ config ARCH_ZYNQ
 	select USE_OF
 	select HAVE_SMP
 	select SPARSE_IRQ
+	select CACHE_L2X0
+	select ARCH_REQUIRE_GPIOLIB
+	select COMMON_CLK
+	select ARCH_HAS_CPUFREQ
+	select ARCH_HAS_OPP
 	select MIGHT_HAVE_PCI
 	select CADENCE_TTC_TIMER
 	help
 	  Support for Xilinx Zynq ARM Cortex A9 Platform
 
+if ARCH_ZYNQ
+
+menu "Xilinx Specific Options"
+
+config XILINX_L1_PREFETCH
+	bool "L1 Cache Prefetch"
+	default y
+	help
+	  This option turns on L1 cache prefetching to get the best performance
+	  in many cases. This may not always be the best performance depending on
+	  the usage. There are some cases where this may cause issues when booting.
+
+config XILINX_L2_PREFETCH
+	bool "L2 Cache Prefetch"
+	default y
+	help
+	  This option turns on L2 cache prefetching to get the best performance
+	  in many cases. This may not always be the best performance depending on
+	  the usage.
+
+config DMA_ENGINE
+	def_bool y
+
 config XILINX_AXIPCIE
 	bool "Xilinx AXI PCIe host bridge support"
 	select PCI
@@ -26,3 +54,6 @@ config XILINX_AXIPCIE
 	  Host Bridge. This supports Message Signal Interrupts (MSI), if you
 	  want to use this feature select CONFIG_PCI_MSI from 'Bus Support ->'.
 
+endmenu
+
+endif
-- 
1.7.5.4

