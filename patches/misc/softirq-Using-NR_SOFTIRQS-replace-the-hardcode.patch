From 7091113641520de88cdc0d974ded9f20ca8fc67e Mon Sep 17 00:00:00 2001
From: Zhong Hongbo <hongbo.zhong@windriver.com>
Date: Sat, 11 Oct 2014 14:44:20 +0800
Subject: [PATCH 2/3] softirq: Using NR_SOFTIRQS replace the hardcode

Since the max softirq_vec is NR_SOFTIRQS. So

Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 kernel/softirq.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/kernel/softirq.c b/kernel/softirq.c
index aed2084..74c5e70 100644
--- a/kernel/softirq.c
+++ b/kernel/softirq.c
@@ -62,7 +62,7 @@ void ltt_dump_softirq_vec(void *call_data)
 	int i;
 	char namebuf[KSYM_NAME_LEN];
 
-	for (i = 0; i < 32; i++) {
+	for (i = 0; i < NR_SOFTIRQS; i++) {
 		sprint_symbol(namebuf, (unsigned long)softirq_vec[i].action);
 		__trace_mark(0, softirq_state, softirq_vec, call_data,
 			"id %d address %p symbol %s",
-- 
1.7.5.4

