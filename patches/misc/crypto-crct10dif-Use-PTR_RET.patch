From 8a68d977b1522f68344a8d61d57188fc036ef488 Mon Sep 17 00:00:00 2001
From: Herbert Xu <herbert@gondor.apana.org.au>
Date: Wed, 5 Jun 2013 16:27:51 +0800
Subject: [PATCH 05/22] crypto: crct10dif - Use PTR_RET

commit 67822649d7305caf3dd50ed46c27b99c94eff996 upstream

lib/crc-t10dif.c:42:1-3: WARNING: PTR_RET can be used

 Use PTR_RET rather than if(IS_ERR(...)) + PTR_ERR

Generated by: coccinelle/api/ptr_ret.cocci

Reported-by: Fengguang Wu <fengguang.wu@intel.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Yunguo Wei <yunguo.wei@windriver.com>
---
 lib/crc-t10dif.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/lib/crc-t10dif.c b/lib/crc-t10dif.c
index 0cb6463..fe3428c 100644
--- a/lib/crc-t10dif.c
+++ b/lib/crc-t10dif.c
@@ -39,9 +39,7 @@ EXPORT_SYMBOL(crc_t10dif);
 static int __init crc_t10dif_mod_init(void)
 {
 	crct10dif_tfm = crypto_alloc_shash("crct10dif", 0, 0);
-	if (IS_ERR(crct10dif_tfm))
-		return PTR_ERR(crct10dif_tfm);
-	return 0;
+	return PTR_RET(crct10dif_tfm);
 }
 
 static void __exit crc_t10dif_mod_fini(void)
-- 
1.7.9.5

