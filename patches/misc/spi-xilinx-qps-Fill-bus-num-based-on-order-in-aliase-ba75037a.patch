From 8fd2e59bfdd0a08c82c8e1b856afbe96dc790dad Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Mon, 8 Jul 2013 11:05:51 +0200
Subject: [PATCH 619/628] spi: xilinx-qps: Fill bus-num based on order in
 aliases

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 7075bce22b3993da1a4f52c88ec0b35eca139e12

Do not add bus-num as node property but fill it automatically
based on order in aliases.

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 arch/arm/boot/dts/zynq-zc706.dts |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/arch/arm/boot/dts/zynq-zc706.dts b/arch/arm/boot/dts/zynq-zc706.dts
index 53f4a7b..6512e4f 100644
--- a/arch/arm/boot/dts/zynq-zc706.dts
+++ b/arch/arm/boot/dts/zynq-zc706.dts
@@ -6,7 +6,9 @@
 	#address-cells = <0x1>;
 	#size-cells = <0x1>;
 	interrupt-parent = <0x1>;
-
+	aliases {
+		spi1 = &qspi0;
+	};
 	memory {
 		device_type = "memory";
 		reg = <0x00000000 0x40000000>;
@@ -254,7 +256,6 @@
 			interrupts = <0 19 4>;
 			interrupt-parent = <&gic>;
 			speed-hz = <200000000>;
-			bus-num = <1>;
 			num-chip-select = <1>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-- 
1.7.5.4

