From 3f7bc9cec8d0d53cc8c7a8bbfeba5558b180e86a Mon Sep 17 00:00:00 2001
From: Haiqing Bai <Haiqing.Bai@windriver.com>
Date: Thu, 5 Jan 2017 14:28:29 +0800
Subject: [PATCH] block: Fix 'const' qualifier issue of iter_is_iovec in
 blk-map.c

Fixed the below warning imported when fixing CVE-2016-9576:
block/blk-map.c:72:21: warning: passing argument 1 of 'iter_is_iovec'
discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]

Signed-off-by: Haiqing Bai <Haiqing.Bai@windriver.com>
---
 block/blk-map.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/block/blk-map.c b/block/blk-map.c
index 4fedd6e..ecda993 100644
--- a/block/blk-map.c
+++ b/block/blk-map.c
@@ -69,7 +69,7 @@ int blk_rq_map_user_iov(struct request_queue *q, struct request *rq,
 	struct iov_iter i;
 	struct iovec iov;
 
-	if (!iter_is_iovec(iter))
+	if (!iter_is_iovec((struct iov_iter *)iter))
 		goto fail;
 
 	if (!iter || !iter->count)
-- 
1.7.5.4

