From 701c502be984c38e242beca0e8e69903d9ead6b4 Mon Sep 17 00:00:00 2001
From: Joshua Lock <josh@linux.intel.com>
Date: Fri, 3 Sep 2010 10:59:16 +0100
Subject: [PATCH] increase connector size for use with v86d

Increase the connector message size to avoid message too long errors from
uvesafb as per the below dmesg fragment:

uvesafb: Bochs/Plex86 Developers, Bochs/Plex86 VBE Adapter, $Id$, OEM: Bochs/Plex86 VBE(C) 2003 http://savannah.nongnu.org/projects/vgabios/, VBE v2.0
uvesafb: no monitor limits have been set, default refresh rate will be used
uvesafb: scrolling: redraw
uvesafb: framebuffer at 0xe0000000, mapped to 0xffffc90000080000, using 8192k, total 8192k
fb0: VESA VGA frame buffer device
uvesafb: message too long (57808), can't execute task
uvesafb: VBE get state call failed (eax=0x4f04, err=-7)
udev: starting version 158
EXT3-fs (hda): using internal journal
uvesafb: message too long (57808), can't execute task
uvesafb: VBE get state call failed (eax=0x4f04, err=-7)
uvesafb: message too long (57808), can't execute task
uvesafb: VBE get state call failed (eax=0x4f04, err=-7)
uvesafb: message too long (57808), can't execute task
uvesafb: VBE get state call failed (eax=0x4f04, err=-7)

Signed-off-by: Joshua Lock <josh@linux.intel.com>
---
 include/linux/connector.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/include/linux/connector.h b/include/linux/connector.h
index 3a779ff..0ca24c3 100644
--- a/include/linux/connector.h
+++ b/include/linux/connector.h
@@ -48,7 +48,7 @@
 /*
  * Maximum connector's message size.
  */
-#define CONNECTOR_MAX_MSG_SIZE		16384
+#define CONNECTOR_MAX_MSG_SIZE		65536
 
 /*
  * idx and val are unique identifiers which 
-- 
1.6.5.2

