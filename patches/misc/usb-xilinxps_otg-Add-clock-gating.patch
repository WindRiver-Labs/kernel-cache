From df09b661c48dd2678ccb3176d68d52ce90127f3c Mon Sep 17 00:00:00 2001
From: Soren Brinkmann <soren.brinkmann@xilinx.com>
Date: Mon, 10 Dec 2012 13:55:53 -0800
Subject: [PATCH 503/628] usb: xilinxps_otg: Add clock gating

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 75bb82981f66150ecd75ef19421ee5f1a0d8585c

Clock management using the common clock framework is added.

Signed-off-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
Acked-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 include/linux/usb/xilinx_usbps_otg.h |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/include/linux/usb/xilinx_usbps_otg.h b/include/linux/usb/xilinx_usbps_otg.h
index 8c360b7..c8b3897 100644
--- a/include/linux/usb/xilinx_usbps_otg.h
+++ b/include/linux/usb/xilinx_usbps_otg.h
@@ -176,6 +176,10 @@ struct xusbps_otg {
 	/* irq */
 	int			irq;
 
+	/* clk */
+	struct clk		*clk;
+	struct notifier_block	clk_rate_change_nb;
+
 	/* atomic notifier for interrupt context */
 	struct atomic_notifier_head	otg_notifier;
 
-- 
1.7.5.4

