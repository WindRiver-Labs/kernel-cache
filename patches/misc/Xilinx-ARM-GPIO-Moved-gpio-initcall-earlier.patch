From e46e934aef732eca64c31f102b71a0316fca2a73 Mon Sep 17 00:00:00 2001
From: Bryce Kellogg <bryce.kellogg@xilinx.com>
Date: Tue, 14 Aug 2012 15:49:40 -0700
Subject: [PATCH 323/628] Xilinx: ARM: GPIO: Moved gpio initcall earlier.

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit ffa856d1e92f55aaa8b3d81d87018069b4ba51b7

The gpio initcall has been moved forward from subsys to postcore.
This allows the use of gpios in board setup for things like
usb reset, etc.

Signed-off-by: Bryce Kellogg <bryce.kellogg@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/gpio/gpio-xilinxps.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpio/gpio-xilinxps.c b/drivers/gpio/gpio-xilinxps.c
index bfff00b..3c13f8b 100644
--- a/drivers/gpio/gpio-xilinxps.c
+++ b/drivers/gpio/gpio-xilinxps.c
@@ -562,4 +562,4 @@ static int __init xgpiops_init(void)
 	return platform_driver_register(&xgpiops_driver);
 }
 
-subsys_initcall(xgpiops_init);
+postcore_initcall(xgpiops_init);
-- 
1.7.5.4

