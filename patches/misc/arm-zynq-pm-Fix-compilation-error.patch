From 5414b7db0713479aacf81dd708e958b65e39fad4 Mon Sep 17 00:00:00 2001
From: Soren Brinkmann <soren.brinkmann@xilinx.com>
Date: Fri, 17 May 2013 09:39:29 -0700
Subject: [PATCH 051/628] arm: zynq: pm: Fix compilation error

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 8dff121207f4f51ae345c6a5535680f379d4ee79

The variable 'scu_base' had been renamed to 'zynq_scu_base'. pm.c has
not been updated accordingly. Fixing this with a simple search and
replace:
s/scu_base/zynq_scu_base

Signed-off-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 arch/arm/mach-zynq/pm.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/arch/arm/mach-zynq/pm.c b/arch/arm/mach-zynq/pm.c
index 546826d..95c9ca6 100644
--- a/arch/arm/mach-zynq/pm.c
+++ b/arch/arm/mach-zynq/pm.c
@@ -75,10 +75,10 @@ static int zynq_pm_suspend(unsigned long arg)
 	}
 
 	/* SCU standby mode */
-	if (scu_base) {
-		reg = readl(scu_base + SCU_CTRL);
+	if (zynq_scu_base) {
+		reg = readl(zynq_scu_base + SCU_CTRL);
 		reg |= SCU_STBY_EN_MASK;
-		writel(reg, scu_base + SCU_CTRL);
+		writel(reg, zynq_scu_base + SCU_CTRL);
 	}
 
 	/* Topswitch clock stop disable */
@@ -163,10 +163,10 @@ static int zynq_pm_suspend(unsigned long arg)
 	xslcr_write(reg, SLCR_TOPSW_CLK_CTRL);
 
 	/* SCU standby mode */
-	if (scu_base) {
-		reg = readl(scu_base + SCU_CTRL);
+	if (zynq_scu_base) {
+		reg = readl(zynq_scu_base + SCU_CTRL);
 		reg &= ~SCU_STBY_EN_MASK;
-		writel(reg, scu_base + SCU_CTRL);
+		writel(reg, zynq_scu_base + SCU_CTRL);
 	}
 
 	/* A9 clock gating */
-- 
1.7.5.4

