From 6594547d969513dc3e38c9fe7636b3b6942c9399 Mon Sep 17 00:00:00 2001
From: John Linn <john.linn@xilinx.com>
Date: Tue, 4 Dec 2012 13:25:43 -0800
Subject: [PATCH 603/628] arm: zynq: udpate device tree flash partitions

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 78d0400dc658e0be4e18746d1462959329b4ce96

The u-boot was changed and now Linux device tree
flash partitions are being cleaned up to allow
for a bitstream to be up high in flash.

Signed-off-by: John Linn <john.linn@xilinx.com>
Acked-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 arch/arm/boot/dts/zynq-zc706.dts |   26 +++++++-------------------
 1 files changed, 7 insertions(+), 19 deletions(-)

diff --git a/arch/arm/boot/dts/zynq-zc706.dts b/arch/arm/boot/dts/zynq-zc706.dts
index 6a519e1..9b2864c 100644
--- a/arch/arm/boot/dts/zynq-zc706.dts
+++ b/arch/arm/boot/dts/zynq-zc706.dts
@@ -218,13 +218,9 @@
 				spi-max-frequency = <30000000>;
 				#address-cells = <1>;
 				#size-cells = <1>;
-				partition@qspi-fsbl {
-					label = "qspi-fsbl";
-					reg = <0x0 0x80000>;
-				};
-				partition@qspi-u-boot {
-					label = "qspi-u-boot";
-					reg = <0x80000 0x80000>;
+				partition@qspi-fsbl-uboot {
+					label = "qspi-fsbl-uboot";
+					reg = <0x0 0x100000>;
 				};
 				partition@qspi-linux {
 					label = "qspi-linux";
@@ -234,21 +230,13 @@
 					label = "qspi-device-tree";
 					reg = <0x600000 0x20000>;
 				};
-				partition@qspi-user {
-					label = "qspi-user";
-					reg = <0x620000 0xE0000>;
-				};
-				partition@qspi-scratch {
-					label = "qspi-scratch";
-					reg = <0x700000 0x100000>;
-				};
 				partition@qspi-rootfs {
 					label = "qspi-rootfs";
-					reg = <0x800000 0x1000000>;
+					reg = <0x620000 0x5E0000>;
 				};
-				partition@qspi-test {
-					label = "qspi-test";
-					reg = <0x1800000 0x800000>;
+				partition@qspi-bitstream {
+					label = "qspi-bitstream";
+					reg = <0xC00000 0x1400000>;
 				};
 			};
 		};
-- 
1.7.5.4

