From 2ef7bdf77cc61f710ac9d45b43f3bcc924761b4a Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date: Sun, 14 Jul 2013 16:05:51 -0700
Subject: [PATCH 11/21] sysfs.h: add __ATTR_RW() macro

commit b9b3259746d77f4fcb786e2a43c25bcc40773755 upstream

A number of parts of the kernel created their own version of this, might
as well have the sysfs core provide it instead.

Reviewed-by: Guenter Roeck <linux@roeck-us.net>
Tested-by: Guenter Roeck <linux@roeck-us.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Liwei Song: adjusted patch to deal with missing __ATTR_RW definition]
Signed-off-by: Liwei Song <liwei.song@windriver.com>
---
 include/linux/sysfs.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/include/linux/sysfs.h b/include/linux/sysfs.h
index 3a68e82..9afc7c3 100644
--- a/include/linux/sysfs.h
+++ b/include/linux/sysfs.h
@@ -79,6 +79,8 @@ struct attribute_group {
 	.show	= _name##_show,					\
 }
 
+#define __ATTR_RW(_name) __ATTR(_name, 0644, _name##_show, _name##_store)
+
 #define __ATTR_NULL { .attr = { .name = NULL } }
 
 #ifdef CONFIG_DEBUG_LOCK_ALLOC
-- 
1.7.5.4

