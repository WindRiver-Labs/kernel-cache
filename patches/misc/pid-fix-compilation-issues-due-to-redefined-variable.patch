From 8f03f04d20af1c49a15ce7bcca689f2910431586 Mon Sep 17 00:00:00 2001
From: Zhenbo Gao <zhenbo.gao@windriver.com>
Date: Fri, 16 Oct 2015 13:50:58 +0800
Subject: [PATCH] pid: fix compilation issues due to redefined variable

'make allyesconfig' ; 'make' will get the following err log:
...
include/linux/threads.h:29:0: warning: "MAX_PID_NUM" redefined
^
include/linux/threads.h:27:0: note: this is the location of the
previous definition
^

The issue is introduced by 6174388d0b1a5893e3ab4e0942ed1a75328ee572
trace: Increase process name size for late boottime analysis

Signed-off-by: Zhenbo Gao <zhenbo.gao@windriver.com>
---
 include/linux/threads.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/include/linux/threads.h b/include/linux/threads.h
index 9e49628..12a757c 100644
--- a/include/linux/threads.h
+++ b/include/linux/threads.h
@@ -24,9 +24,10 @@
 /*
  * This controls the default maximum pid allocated to a process
  */
-#define MAX_PID_NUM 0x8000
 #ifdef CONFIG_WR_BOOT
 #define MAX_PID_NUM 0x16000
+#else
+#define MAX_PID_NUM 0x8000
 #endif
 #define PID_MAX_DEFAULT (CONFIG_BASE_SMALL ? 0x1000 : MAX_PID_NUM)
 
-- 
1.7.5.4

