From fbd0d73137db35bebac888b25eb26bbfbf6ba27f Mon Sep 17 00:00:00 2001
From: Qi Hou <qi.hou@windriver.com>
Date: Fri, 3 Mar 2017 14:37:32 +0800
Subject: [PATCH] fs: export do_fallocate for modules

This function needs to be exported so it can be accessible to
dynamically loaded modules.

Signed-off-by: Luis Ramirez <luis.ramirez@windriver.com>
Signed-off-by: Qi Hou <qi.hou@windriver.com>
---
 fs/open.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/fs/open.c b/fs/open.c
index 626d472..8bef36f 100644
--- a/fs/open.c
+++ b/fs/open.c
@@ -280,6 +280,7 @@ int do_fallocate(struct file *file, int mode, loff_t offset, loff_t len)
 	sb_end_write(inode->i_sb);
 	return ret;
 }
+EXPORT_SYMBOL_GPL(do_fallocate);
 
 SYSCALL_DEFINE4(fallocate, int, fd, int, mode, loff_t, offset, loff_t, len)
 {
-- 
1.7.5.4

