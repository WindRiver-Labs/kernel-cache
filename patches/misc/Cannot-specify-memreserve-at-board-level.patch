From c9d36ae66729f5d37f1154f37283d9bc9116d38f Mon Sep 17 00:00:00 2001
From: Jian Liu <jian.liu@windriver.com>
Date: Wed, 21 May 2014 16:46:43 +0800
Subject: [PATCH] Cannot specify /memreserve/ at board level

p2041rdb.dts contains "/include/ fsl/p2041si-pre.dtsi;" which
takes precedence on p2041rdb.dts. And fsl/p2041si-pre.dtsi
has "/dts-v1/;". But there is a rule that the custom
setting should be between "/dts-v1/;" and other includes.
So we have to set /memreserve/ in fsl/p2041si-pre.dtsi.
The ability to specify the memreserve should be at board
level(p2041rdb.dts). The current structure of p2041rdb.dts
get the customers confused.

Signed-off-by: Jian Liu <jian.liu@windriver.com>
---
 arch/powerpc/boot/dts/fsl/p2041si-pre.dtsi |    2 --
 arch/powerpc/boot/dts/p2041rdb.dts         |    2 ++
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/p2041si-pre.dtsi b/arch/powerpc/boot/dts/fsl/p2041si-pre.dtsi
index 7a2697d..7b7009d 100644
--- a/arch/powerpc/boot/dts/fsl/p2041si-pre.dtsi
+++ b/arch/powerpc/boot/dts/fsl/p2041si-pre.dtsi
@@ -32,8 +32,6 @@
  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
 
-/dts-v1/;
-
 /include/ "e500mc_power_isa.dtsi"
 
 / {
diff --git a/arch/powerpc/boot/dts/p2041rdb.dts b/arch/powerpc/boot/dts/p2041rdb.dts
index d97ad74..a0fc2ff 100644
--- a/arch/powerpc/boot/dts/p2041rdb.dts
+++ b/arch/powerpc/boot/dts/p2041rdb.dts
@@ -32,6 +32,8 @@
  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
 
+/dts-v1/;
+
 /include/ "fsl/p2041si-pre.dtsi"
 
 / {
-- 
1.7.5.4

