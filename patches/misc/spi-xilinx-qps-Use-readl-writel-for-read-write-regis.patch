From c8caf8247763dafa51fae06d9c34a9867239a034 Mon Sep 17 00:00:00 2001
From: Suneel Garapati <suneel.garapati@xilinx.com>
Date: Tue, 18 Jun 2013 20:15:36 +0530
Subject: [PATCH 243/628] spi: xilinx-qps: Use readl/writel for read/write
 register

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 7a0bc8db1823b0dddec210beda6dc15ce71cb44b

Use readl/writel api's instead of raw read/write registers.

Signed-off-by: Suneel Garapati <suneel.garapati@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/spi/spi-xilinx-qps.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/spi/spi-xilinx-qps.c b/drivers/spi/spi-xilinx-qps.c
index 872420a..3050151 100644
--- a/drivers/spi/spi-xilinx-qps.c
+++ b/drivers/spi/spi-xilinx-qps.c
@@ -136,8 +136,8 @@
 /*
  * Macros for the QSPI controller read/write
  */
-#define xqspips_read(addr)		__raw_readl(addr)
-#define xqspips_write(addr, val)	__raw_writel((val), (addr))
+#define xqspips_read(addr)		readl(addr)
+#define xqspips_write(addr, val)	writel((val), (addr))
 
 /**
  * struct xqspips - Defines qspi driver instance
-- 
1.7.5.4

