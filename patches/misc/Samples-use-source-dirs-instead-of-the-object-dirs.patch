From 690a995eaf9189913b5e4346161b7a6b7c829e52 Mon Sep 17 00:00:00 2001
From: Jim Somerville <Jim.Somerville@windriver.com>
Date: Fri, 17 Aug 2012 17:13:54 -0400
Subject: [PATCH 2/2] Samples: use source dirs instead of the object dirs

Change to include headers from the source directories instead of the
object directories. This will allow the samples to more readily find
the necessary headers, avoiding having to run headers_install.

Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>
---
 samples/hidraw/Makefile  |    2 +-
 samples/seccomp/Makefile |   16 ++++++++--------
 2 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/samples/hidraw/Makefile b/samples/hidraw/Makefile
index 418f209..583afd5 100644
--- a/samples/hidraw/Makefile
+++ b/samples/hidraw/Makefile
@@ -9,4 +9,4 @@ ifeq ($(CROSS_COMPILE),)
 always := $(hostprogs-y)
 endif
 
-HOSTCFLAGS_hid-example.o += -I$(objtree)/usr/include
+HOSTCFLAGS_hid-example.o += -I$(srctree)/usr/include
diff --git a/samples/seccomp/Makefile b/samples/seccomp/Makefile
index 25d8150..7dfc30a 100644
--- a/samples/seccomp/Makefile
+++ b/samples/seccomp/Makefile
@@ -4,13 +4,13 @@ obj- := dummy.o
 hostprogs-$(CONFIG_SECCOMP) := bpf-fancy dropper
 bpf-fancy-objs := bpf-fancy.o bpf-helper.o
 
-HOSTCFLAGS_bpf-fancy.o += -I$(objtree)/usr/include
-HOSTCFLAGS_bpf-fancy.o += -idirafter $(objtree)/include
-HOSTCFLAGS_bpf-helper.o += -I$(objtree)/usr/include
-HOSTCFLAGS_bpf-helper.o += -idirafter $(objtree)/include
+HOSTCFLAGS_bpf-fancy.o += -I$(srctree)/usr/include
+HOSTCFLAGS_bpf-fancy.o += -idirafter $(srctree)/include
+HOSTCFLAGS_bpf-helper.o += -I$(srctree)/usr/include
+HOSTCFLAGS_bpf-helper.o += -idirafter $(srctree)/include
 
-HOSTCFLAGS_dropper.o += -I$(objtree)/usr/include
-HOSTCFLAGS_dropper.o += -idirafter $(objtree)/include
+HOSTCFLAGS_dropper.o += -I$(srctree)/usr/include
+HOSTCFLAGS_dropper.o += -idirafter $(srctree)/include
 dropper-objs := dropper.o
 
 # bpf-direct.c is x86-only.
@@ -20,8 +20,8 @@ hostprogs-$(CONFIG_SECCOMP) += bpf-direct
 bpf-direct-objs := bpf-direct.o
 endif
 
-HOSTCFLAGS_bpf-direct.o += -I$(objtree)/usr/include
-HOSTCFLAGS_bpf-direct.o += -idirafter $(objtree)/include
+HOSTCFLAGS_bpf-direct.o += -I$(srctree)/usr/include
+HOSTCFLAGS_bpf-direct.o += -idirafter $(srctree)/include
 
 # Try to match the kernel target.
 ifeq ($(CONFIG_64BIT),)
-- 
1.7.9.7

