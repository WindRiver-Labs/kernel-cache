From 4e217ddb05cbe271a108e5908c3e6370d95fd563 Mon Sep 17 00:00:00 2001
From: Yang Shi <yang.shi@windriver.com>
Date: Tue, 8 Sep 2015 15:43:15 -0700
Subject: [PATCH 1/2] Samples: use source dirs instead of the object dirs

Change to include headers from the source directories instead of the
object directories. This will allow the samples to more readily find
the necessary headers, avoiding having to run headers_install.

Signed-off-by: Yang Shi <yang.shi@windriver.com>
---
 samples/hidraw/Makefile  |  2 +-
 samples/seccomp/Makefile | 16 ++++++++--------
 2 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/samples/hidraw/Makefile b/samples/hidraw/Makefile
index a9ab961..f77666b 100644
--- a/samples/hidraw/Makefile
+++ b/samples/hidraw/Makefile
@@ -7,6 +7,6 @@ hostprogs-y := hid-example
 # Tell kbuild to always build the programs
 always := $(hostprogs-y)
 
-HOSTCFLAGS_hid-example.o += -I$(objtree)/usr/include
+HOSTCFLAGS_hid-example.o += -I$(srctree)/usr/include
 
 all: hid-example
diff --git a/samples/seccomp/Makefile b/samples/seccomp/Makefile
index 1b4e4b8..5a4b7e2 100644
--- a/samples/seccomp/Makefile
+++ b/samples/seccomp/Makefile
@@ -3,18 +3,18 @@ obj- := dummy.o
 
 hostprogs-$(CONFIG_SECCOMP_FILTER) := bpf-fancy dropper bpf-direct
 
-HOSTCFLAGS_bpf-fancy.o += -I$(objtree)/usr/include
-HOSTCFLAGS_bpf-fancy.o += -idirafter $(objtree)/include
-HOSTCFLAGS_bpf-helper.o += -I$(objtree)/usr/include
-HOSTCFLAGS_bpf-helper.o += -idirafter $(objtree)/include
+HOSTCFLAGS_bpf-fancy.o += -I$(srctree)/usr/include
+HOSTCFLAGS_bpf-fancy.o += -idirafter $(srctree)/include
+HOSTCFLAGS_bpf-helper.o += -I$(srctree)/usr/include
+HOSTCFLAGS_bpf-helper.o += -idirafter $(srctree)/include
 bpf-fancy-objs := bpf-fancy.o bpf-helper.o
 
-HOSTCFLAGS_dropper.o += -I$(objtree)/usr/include
-HOSTCFLAGS_dropper.o += -idirafter $(objtree)/include
+HOSTCFLAGS_dropper.o += -I$(srctree)/usr/include
+HOSTCFLAGS_dropper.o += -idirafter $(srctree)/include
 dropper-objs := dropper.o
 
-HOSTCFLAGS_bpf-direct.o += -I$(objtree)/usr/include
-HOSTCFLAGS_bpf-direct.o += -idirafter $(objtree)/include
+HOSTCFLAGS_bpf-direct.o += -I$(srctree)/usr/include
+HOSTCFLAGS_bpf-direct.o += -idirafter $(srctree)/include
 bpf-direct-objs := bpf-direct.o
 
 # Try to match the kernel target.
-- 
2.0.2

