From 3a62d52f0d495a6974f55783e793decda60ee167 Mon Sep 17 00:00:00 2001
From: Yanjiang Jin <yanjiang.jin@windriver.com>
Date: Mon, 14 Sep 2015 14:07:02 +0800
Subject: [PATCH 2/2] mips: perf: add perf_get_regs_user()

Add perf_get_regs_user().

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/kernel/perf_regs.c | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/arch/mips/kernel/perf_regs.c b/arch/mips/kernel/perf_regs.c
index 0451c4b..5b04454 100644
--- a/arch/mips/kernel/perf_regs.c
+++ b/arch/mips/kernel/perf_regs.c
@@ -58,3 +58,11 @@ u64 perf_reg_value(struct pt_regs *regs, int idx)
 
 	return (s64)v; /* Sign extend if 32-bit. */
 }
+
+void perf_get_regs_user(struct perf_regs *regs_user,
+			struct pt_regs *regs,
+			struct pt_regs *regs_user_copy)
+{
+	regs_user->regs = task_pt_regs(current);
+	regs_user->abi = perf_reg_abi(current);
+}
-- 
2.0.2

