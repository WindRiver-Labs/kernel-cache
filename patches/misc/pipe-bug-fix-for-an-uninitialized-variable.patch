From ca16c634a65c65fed7a06fe77d00d803a23e6dda Mon Sep 17 00:00:00 2001
From: Zhang Xiao <xiao.zhang@windriver.com>
Date: Fri, 26 Jun 2015 14:31:53 +0800
Subject: [PATCH] pipe: bug fix for an uninitialized variable

In function pipe_write, an variable was used without initialization.
Fix it.

Signed-off-by: Zhang Xiao <xiao.zhang@windriver.com>
---
 fs/pipe.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/fs/pipe.c b/fs/pipe.c
index 05ef90b..350510c 100644
--- a/fs/pipe.c
+++ b/fs/pipe.c
@@ -608,7 +608,7 @@ redo2:
 				src = kmap_atomic(page);
 			else
 				src = kmap(page);
-
+			remaining = chars;
 			error = pipe_iov_copy_from_user(src, &offset, iov,
 							&remaining, atomic);
 			if (atomic)
-- 
1.7.5.4

