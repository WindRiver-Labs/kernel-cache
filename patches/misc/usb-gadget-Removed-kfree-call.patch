From 31f246ab1968e0c5fe9af785d856f15adcabb29a Mon Sep 17 00:00:00 2001
From: Subbaraya Sundeep Bhatta <subbaraya.sundeep.bhatta@xilinx.com>
Date: Mon, 23 Sep 2013 21:20:53 +0530
Subject: [PATCH 563/628] usb: gadget: Removed kfree call

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit 975360cfcabc68f79963f8caf0435efa6101a907

Removed kfree call since not required for static variable.

Signed-off-by: Subbaraya Sundeep Bhatta <sbhatta@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/usb/gadget/xilinx_udc.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

diff --git a/drivers/usb/gadget/xilinx_udc.c b/drivers/usb/gadget/xilinx_udc.c
index 07227f3..ced68f1 100644
--- a/drivers/usb/gadget/xilinx_udc.c
+++ b/drivers/usb/gadget/xilinx_udc.c
@@ -2134,10 +2134,6 @@ static int xudc_stop(struct usb_gadget *gadget,
 
 static void xusb_release(struct device *dev)
 {
-	struct platform_device *pdev = to_platform_device(dev);
-	struct xusb_udc *udc = platform_get_drvdata(pdev);
-
-	kfree(udc);
 }
 
 /**
-- 
1.7.5.4

