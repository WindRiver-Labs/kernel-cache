From 0d6579f07179afa5bf3e8682ffa632d12d41acd5 Mon Sep 17 00:00:00 2001
From: Jianchuan Wang <jianchuan.wang@windriver.com>
Date: Tue, 5 Apr 2016 15:17:37 +0800
Subject: [PATCH] livedump: Support X86/ARM only

From the maintainer, the livedump have been tested in the x86/ARM.
Other patfroms are unknown so that we limit it to X86/ARM.

Signed-off-by: Jianchuan Wang <jianchuan.wang@windriver.com>
---
 init/Kconfig |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/init/Kconfig b/init/Kconfig
index 3b86f4f..0576e1a 100644
--- a/init/Kconfig
+++ b/init/Kconfig
@@ -1488,9 +1488,9 @@ config ELF_CORE
 	  Enable support for generating core dumps. Disabling saves about 4k.
 
 config LIVEDUMP
-	depends on BLOCK
-	default n
 	bool "Enable Live Application Dump"
+	depends on ( X86 || ARM ) && BLOCK
+	default n
 	help
 	  Enable support for live application dump, i.e. the capability to
 	  drop core files from the running process without (substantial)
-- 
1.7.5.4

