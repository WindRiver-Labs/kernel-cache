From e85705fd34bc6b70b6ebd6d89b1622e8d18838f9 Mon Sep 17 00:00:00 2001
From: Roy Li <rongqing.li@windriver.com>
Date: Tue, 19 Nov 2013 09:27:30 +0800
Subject: [PATCH] nfsroot: make nfsroot to accept the 1024 bytes long directory
 name

If we create a project with very long directory names like 256 characters
deep and use NFS, the kernel arguments will be truncated, The kernel will
be unable to mount rootfs, now expands the limit to 1024.

Signed-off-by: Roy Li <rongqing.li@windriver.com>
---
 fs/nfs/nfsroot.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/fs/nfs/nfsroot.c b/fs/nfs/nfsroot.c
index cd3c910..ed29fb8 100644
--- a/fs/nfs/nfsroot.c
+++ b/fs/nfs/nfsroot.c
@@ -90,7 +90,7 @@
 #define NFS_DEF_OPTIONS		"vers=2,udp,rsize=4096,wsize=4096"
 
 /* Parameters passed from the kernel command line */
-static char nfs_root_parms[256] __initdata = "";
+static char nfs_root_parms[1024] __initdata = "";
 
 /* Text-based mount options passed to super.c */
 static char nfs_root_options[256] __initdata = NFS_DEF_OPTIONS;
-- 
1.8.4.93.g57e4c17

