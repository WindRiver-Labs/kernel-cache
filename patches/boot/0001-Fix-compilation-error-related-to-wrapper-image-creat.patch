From b0bc60bad91da7f362fa05daf5e89379cf6370d3 Mon Sep 17 00:00:00 2001
From: Bruce Ashfield <bruce.ashfield@windriver.com>
Date: Wed, 2 Jul 2008 00:50:06 -0400
Subject: [PATCH] Fix compilation error related to wrapper image creation.

The current version of the toolchain is creating a 3.1G sparse file
as vmlinux.stripped. When objcopy is invoked to create information
for the wrapper image and error occurs due to the size of the file.

To fix the build problem, we replace the cuImage rule with a reminder
echo.

Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
---
 arch/powerpc/boot/Makefile |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/powerpc/boot/Makefile b/arch/powerpc/boot/Makefile
index 1cee2f9..63a0852 100644
--- a/arch/powerpc/boot/Makefile
+++ b/arch/powerpc/boot/Makefile
@@ -307,7 +307,8 @@ $(obj)/uImage: vmlinux $(wrapperbits)
 	$(call if_changed,wrap,uboot)
 
 $(obj)/cuImage.%: vmlinux $(obj)/%.dtb $(wrapperbits)
-	$(call if_changed,wrap,cuboot-$*,,$(obj)/$*.dtb)
+	@echo WARNING wrapper image created disabled due to binutils mismatch
+	#$(call if_changed,wrap,cuboot-$*,,$(obj)/$*.dtb)
 
 $(obj)/simpleImage.initrd.%: vmlinux $(obj)/%.dtb $(wrapperbits)
 	$(call if_changed,wrap,simpleboot-$*,,$(obj)/$*.dtb,$(obj)/ramdisk.image.gz)
-- 
1.5.5.1

