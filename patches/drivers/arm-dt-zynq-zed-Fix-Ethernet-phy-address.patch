From 501307275d5764f10a94fb915cf873512053107a Mon Sep 17 00:00:00 2001
From: Soren Brinkmann <soren.brinkmann@xilinx.com>
Date: Thu, 5 Dec 2013 11:55:34 -0800
Subject: [PATCH 03/30] arm: dt: zynq-zed: Fix Ethernet phy address

git://github.com/Xilinx/linux-xlnx.git xilinx-v2013.4-trd
commit 9a3832f0ac6fa697d4c7798970ba14a3bfed5517

When Ethernet is brought up, the driver cannot find the phy. Correcting
the phy address fixes this issue, resulting in working Ethernet.

For Rev <= B the address is 7
For Rev >= C the address is 1

Setting up broadcast address 0 should work on all revisions.

Signed-off-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
Acked-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>
Reviewed-by: Jason Wu <j.wu@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 arch/arm/boot/dts/zynq-zed.dts |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/boot/dts/zynq-zed.dts b/arch/arm/boot/dts/zynq-zed.dts
index e443ec9..bbfded1 100644
--- a/arch/arm/boot/dts/zynq-zed.dts
+++ b/arch/arm/boot/dts/zynq-zed.dts
@@ -131,10 +131,10 @@
 			mdio {
 				#address-cells = <1>;
 				#size-cells = <0>;
-				phy0: phy@7 {
+				phy0: phy@0 {
 					compatible = "marvell,88e1510";
 					device_type = "ethernet-phy";
-					reg = <7>;
+					reg = <0>;
 				} ;
 			} ;
 		} ;
-- 
1.7.5.4

