From c3a3b2baef62421fe6fdf23d55f8a0f02f8cdb89 Mon Sep 17 00:00:00 2001
From: Radhey Shyam Pandey <radhey.shyam.pandey@xilinx.com>
Date: Wed, 15 Jan 2014 13:50:16 +0530
Subject: [PATCH 13/30] video: xylon: Use v4l2 pad_ops for EDID query.

Replaced subdev ioctl with v4L2_subdev_pad_ops
for EDID query.

Signed-off-by: Radhey Shyam Pandey <radheys@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/video/xylon/xylonfb/misc/xylonfb-adv7511.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/video/xylon/xylonfb/misc/xylonfb-adv7511.c b/drivers/video/xylon/xylonfb/misc/xylonfb-adv7511.c
index a6e122c..ba0701e 100644
--- a/drivers/video/xylon/xylonfb/misc/xylonfb-adv7511.c
+++ b/drivers/video/xylon/xylonfb/misc/xylonfb-adv7511.c
@@ -281,8 +281,8 @@ static void xylonfb_adv7511_notify(struct v4l2_subdev *sd,
 					sd_edid.start_block = 0;
 					sd_edid.blocks = 1;
 					sd_edid.edid = xfb_adv7511->edid;
-					ret = xfb_adv7511->sd->ops->core->ioctl(
-						sd, VIDIOC_SUBDEV_G_EDID, (void *)&sd_edid);
+					ret = v4l2_subdev_call(xfb_adv7511->sd, pad,
+							get_edid, (void *)&sd_edid);
 					if (ret) {
 						pr_warn("xylonfb ADV7511 IOCTL error %d\n", ret);
 						break;
-- 
1.7.5.4

