From ffba8153bc528369b7e5c7826aca054ff27ed349 Mon Sep 17 00:00:00 2001
From: Bruce Ashfield <bruce.ashfield@windriver.com>
Date: Thu, 30 Jun 2011 10:16:31 -0400
Subject: [PATCH] i8259: remove obselete shutdown and resume hooks

The mainline sysdev structs have removed support for shutdown
and resume. We don't really need them here, so rather than restoring
the support, we'll drop the hooks.

Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
---
 arch/mips/kernel/i8259.c |   22 ----------------------
 1 files changed, 0 insertions(+), 22 deletions(-)

diff --git a/arch/mips/kernel/i8259.c b/arch/mips/kernel/i8259.c
index c018696..84b38ed 100644
--- a/arch/mips/kernel/i8259.c
+++ b/arch/mips/kernel/i8259.c
@@ -215,30 +215,8 @@ spurious_8259A_irq:
 	}
 }
 
-static int i8259A_resume(struct sys_device *dev)
-{
-	if (i8259A_auto_eoi >= 0)
-		init_8259A(i8259A_auto_eoi);
-	return 0;
-}
-
-static int i8259A_shutdown(struct sys_device *dev)
-{
-	/* Put the i8259A into a quiescent state that
-	 * the kernel initialization code can get it
-	 * out of.
-	 */
-	if (i8259A_auto_eoi >= 0) {
-		outb(0xff, PIC_MASTER_IMR);	/* mask all of 8259A-1 */
-		outb(0xff, PIC_SLAVE_IMR);	/* mask all of 8259A-1 */
-	}
-	return 0;
-}
-
 static struct sysdev_class i8259_sysdev_class = {
 	.name = "i8259",
-	.resume = i8259A_resume,
-	.shutdown = i8259A_shutdown,
 };
 
 static struct sys_device device_i8259A = {
-- 
1.7.4.1

