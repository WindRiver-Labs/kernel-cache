From 55618f4d55e18d8bd28843fc83f6dac987c06959 Mon Sep 17 00:00:00 2001
From: Tiejun Chen <tiejun.chen@windriver.com>
Date: Thu, 11 Aug 2011 10:20:50 +0800
Subject: [PATCH 1/2] net: ucc_geth: Omit check for multicast bit in netdev_for_each_mc_addr

From 781b864711d8cff56af9478be1b892b098e10de8 upstream

There is no need to check for the address being a multicast address in
the netdev_for_each_mc_addr loop, so remove it.

Signed-off-by: Tobias Klauser <tklauser@distanz.ch>
Signed-off-by: David S. Miller <davem@davemloft.net>
[Merged as current ucc QE NIC driver implementation in sdk v1.0.]
Integrated-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/net/ucc_geth.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

diff --git a/drivers/net/ucc_geth.c b/drivers/net/ucc_geth.c
index 9779185..98dfa85 100644
--- a/drivers/net/ucc_geth.c
+++ b/drivers/net/ucc_geth.c
@@ -2029,11 +2029,6 @@ static void ucc_geth_set_multi(struct net_device *dev)
 			out_be32(&p_82xx_addr_filt->gaddr_l, 0x0);
 
 			netdev_for_each_mc_addr(dmi, dev) {
-				/* Only support group multicast for now.
-				 */
-				if (!(dmi->dmi_addr[0] & 1))
-					continue;
-
 				/* Ask CPM to run CRC and set bit in
 				 * filter mask.
 				 */
-- 
1.7.0.2

