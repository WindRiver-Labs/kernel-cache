From 42e4376078a4ac7855a772fb84484089a0a17188 Mon Sep 17 00:00:00 2001
From: Bin Jiang <Bin.Jiang@windriver.com>
Date: Tue, 28 Dec 2010 13:20:15 +0800
Subject: [PATCH] Fix: fsl_p2020 failed to boot up with SD card plugged-in

When booting, SDHC may disable 8-bit transfer width. According
to eSHDH part of datasheet as below, 8-bit transfer width
should be addressed as 0x04 not 0x20.

bits[29,30]: bit29 and bit30 in eSDHC Control Register
      0 0  : 1-bit mode
      0 1  : 4-bit mode
      1 0  : 8-bit mode
---
 drivers/mmc/host/sdhci.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/mmc/host/sdhci.h b/drivers/mmc/host/sdhci.h
index 21526f5..658eda7 100644
--- a/drivers/mmc/host/sdhci.h
+++ b/drivers/mmc/host/sdhci.h
@@ -81,7 +81,7 @@
 #define   SDHCI_CTRL_ADMA1	0x08
 #define   SDHCI_CTRL_ADMA32	0x10
 #define   SDHCI_CTRL_ADMA64	0x18
-#define  SDHCI_CTRL_8BITBUS	0x20
+#define  SDHCI_CTRL_8BITBUS	0x04
 
 #define SDHCI_POWER_CONTROL	0x29
 #define  SDHCI_POWER_ON		0x01
-- 
1.7.3.3

