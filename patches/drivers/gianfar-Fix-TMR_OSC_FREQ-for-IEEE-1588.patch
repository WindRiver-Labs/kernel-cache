From c8c042138a7e859f3019122ce077a9f36128a67a Mon Sep 17 00:00:00 2001
From: Xufeng Zhang <xufeng.zhang@windriver.com>
Date: Tue, 9 Aug 2011 19:23:04 +0800
Subject: [PATCH 22/47] gianfar: Fix TMR_OSC_FREQ for IEEE 1588

Fix the value of TMR_OSC_FREQ used for IEEE 1588.

Extracted from vendor drop QorIQ-NONDPAA-SDK-V1-20110429_ltib.iso
linux-2.6.35-qoriq-gianfar-Fix-TMR_OSC_FREQ-for-IEEE-1588.patch.

Signed-off-by: Sandeep Gopalpet <sandeep.kumar@freescale.com>
Integrated-by: Xufeng Zhang <xufeng.zhang@windriver.com>
---
 drivers/net/gianfar.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/gianfar.h b/drivers/net/gianfar.h
index 88c34f5..9e105b4 100644
--- a/drivers/net/gianfar.h
+++ b/drivers/net/gianfar.h
@@ -605,7 +605,7 @@ extern const char gfar_driver_version[];
 #define TMR_CTRL_EXT_CLK	0x00000000
 #define TMR_CTRL_SYS_CLK	0x00000001
 #define TMR_CTRL_TCLK_PRD	0x000A0000
-#define TMR_OSC_FREQ		166000000
+#define TMR_OSC_FREQ		300000000
 #define TMR_ADD_VAL		CONFIG_GFAR_PTP_TMR_ADD
 #define TMR_CTRL_TCLK_MASK	0x03ff0000
 #define TMR_PTPD_MAX_FREQ	0x80000
-- 
1.7.0.2

