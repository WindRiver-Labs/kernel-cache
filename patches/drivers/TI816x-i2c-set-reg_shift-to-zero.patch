From b0359257d77d6acde81ea02704fb3a723c948627 Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Fri, 24 Jun 2011 18:00:56 +0800
Subject: [PATCH 09/20] TI816x i2c: set reg_shift to zero

This patch is based on below commit from arago git tree.
git://arago-project.org/git/projects/linux-omap3.git
801baa TI816X I2C: Verify I2C support

Signed-off-by: Nageswari Srinivasan <nageswari@ti.com>
[This one is picked from the original commit to compatible
with wrlinux tree]
Integrated-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 drivers/i2c/busses/i2c-omap.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/i2c/busses/i2c-omap.c b/drivers/i2c/busses/i2c-omap.c
index c02ca80..d998393 100644
--- a/drivers/i2c/busses/i2c-omap.c
+++ b/drivers/i2c/busses/i2c-omap.c
@@ -983,6 +983,8 @@ omap_i2c_probe(struct platform_device *pdev)
 
 	if (cpu_is_omap7xx())
 		dev->reg_shift = 1;
+	else if (cpu_is_ti816x())
+		dev->reg_shift = 0;
 	else
 		dev->reg_shift = 2;
 
-- 
1.7.0.2

