From 05aafac132a8cbd9fd0631271a33c3f2ae9b1197 Mon Sep 17 00:00:00 2001
From: Nam Ninh <nam.ninh@windriver.com>
Date: Thu, 17 Apr 2014 13:11:30 -0400
Subject: [PATCH] lttng2: Fix build error related to trace_rcu.

This is the fix for following build error:

ovp-kvm/bitbake_build/tmp/work/intel_x86_64-wrs-linux/linux-windriver/3.10-r0/linux/drivers/staging/lttng2/probes/../instrumentation/events/lttng-module/../../../probes/lttng-events.h:151:6: error: conflicting types for 'trace_rcu_utilization'
|  void trace_##_name(_proto);

rcutree.c defines the argument passed to trace_rcu_utilization to be TPS(x)
which is of type "const char *" while TRACE_EVENT for rcu_utilization
defines the argument to be "char *), so there is a conflicting types for
trace_rcu_utilization

Signed-off-by: Nam Ninh <nam.ninh@windriver.com>
---
 .../instrumentation/events/lttng-module/rcu.h      |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h b/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h
index ec541ba..0063388 100644
--- a/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h
+++ b/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h
@@ -20,7 +20,7 @@
  */
 TRACE_EVENT(rcu_utilization,
 
-	TP_PROTO(char *s),
+	TP_PROTO(const char *s),
 
 	TP_ARGS(s),
 
-- 
1.7.5.4

