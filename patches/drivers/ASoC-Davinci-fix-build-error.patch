From aade8915acf0628bcc7b08453b1e3975f8ce5bd6 Mon Sep 17 00:00:00 2001
From: Hui Wang <Hui.Wang@windriver.com>
Date: Tue, 16 Aug 2011 15:13:03 +0800
Subject: [PATCH 20/20] ASoC: Davinci: fix build error

cpu_is_ti816x() is not defined for other davinci platforms, this will
cause building error, replace it with machine_is_ti8168evm().

Signed-off-by: Hui Wang <Hui.Wang@windriver.com>
---
 sound/soc/davinci/davinci-evm.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/sound/soc/davinci/davinci-evm.c b/sound/soc/davinci/davinci-evm.c
index 6a8d8fd..c328fda 100644
--- a/sound/soc/davinci/davinci-evm.c
+++ b/sound/soc/davinci/davinci-evm.c
@@ -65,7 +65,7 @@ static int evm_hw_params(struct snd_pcm_substream *substream,
 				machine_is_davinci_da850_evm())
 		sysclk = 24576000;
 
-	else if (cpu_is_ti816x())
+	else if (machine_is_ti8168evm())
 		sysclk = 24576000;
 
 	else
@@ -289,7 +289,7 @@ static int __init evm_init(void)
 	} else if (machine_is_davinci_da850_evm()) {
 		evm_snd_dev_data = &da850_evm_snd_devdata;
 		index = 0;
-	} else if (cpu_is_ti816x()) {
+	} else if (machine_is_ti8168evm()) {
 		evm_snd_dev_data = &ti816x_evm_snd_devdata;
 		index = 0;
 	} else
-- 
1.7.0.2

