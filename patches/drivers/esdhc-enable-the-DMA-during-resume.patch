From aa982cf2f1913023c3fa3b49232381a7e851401c Mon Sep 17 00:00:00 2001
From: Xufeng Zhang <xufeng.zhang@windriver.com>
Date: Wed, 13 Jul 2011 16:30:54 +0800
Subject: [PATCH 36/47] esdhc: enable the DMA during resume

Extracted from vendor drop QorIQ-NONDPAA-SDK-V1-20110429_ltib.iso
linux-2.6.35-qoriq-esdhc-enable-the-DMA-during-resume.patch.

Signed-off-by: Jerry Huang <Chang-Ming.Huang@freescale.com>
Signed-off-by: Jin Qing <b24347@freescale.com>
Integrated-by: Xufeng Zhang <xufeng.zhang@windriver.com>
---
 drivers/mmc/host/sdhci-of-core.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/mmc/host/sdhci-of-core.c b/drivers/mmc/host/sdhci-of-core.c
index c7bd95c..893755d 100644
--- a/drivers/mmc/host/sdhci-of-core.c
+++ b/drivers/mmc/host/sdhci-of-core.c
@@ -96,6 +96,8 @@ static int sdhci_of_suspend(struct of_device *ofdev, pm_message_t state)
 static int sdhci_of_resume(struct of_device *ofdev)
 {
 	struct sdhci_host *host = dev_get_drvdata(&ofdev->dev);
+
+	host->ops->enable_dma(host);
 	return sdhci_resume_host(host);
 }
 
-- 
1.7.0.4

