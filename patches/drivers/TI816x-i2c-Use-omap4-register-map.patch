From 3da9226af4e7b5f1ad84cc3daceee95eb3f5c6ca Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Thu, 23 Jun 2011 17:16:00 +0800
Subject: [PATCH 10/20] TI816x i2c: Use omap4 register map

This patch is based on below commit from arago git tree.
git://arago-project.org/git/projects/linux-omap3.git
5a5ac8 ti816x: i2c: Use omap4 register map

Signed-off-by: Hemant Pedanekar <hemantp@ti.com>
Integrated-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 drivers/i2c/busses/i2c-omap.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/i2c/busses/i2c-omap.c b/drivers/i2c/busses/i2c-omap.c
index d998393..3d775af 100644
--- a/drivers/i2c/busses/i2c-omap.c
+++ b/drivers/i2c/busses/i2c-omap.c
@@ -991,7 +991,7 @@ omap_i2c_probe(struct platform_device *pdev)
 	if ((r = omap_i2c_get_clocks(dev)) != 0)
 		goto err_iounmap;
 
-	if (cpu_is_omap44xx())
+	if (cpu_is_omap44xx() || cpu_is_ti816x())
 		dev->regs = (u8 *) omap4_reg_map;
 	else
 		dev->regs = (u8 *) reg_map;
-- 
1.7.0.2

