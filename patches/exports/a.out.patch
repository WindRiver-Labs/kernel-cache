From: Bruce Ashfield <bruce.ashfield@windriver.com>
Subject: cleanup a.out header for export

The <linux/a.out.h> header contains "#ifdef linux".  GCC's includes
then creates its own copy of the installed header with this changed to
"#ifdef __linux__".  There should be no need for "#ifdef linux" in
Linux kernel headers, so this patch removes the conditional.  With
this patch, fixincludes (from GCC 4.1) makes no changes to the headers
installed by "make headers_install" on MIPS (I haven't tested on other
architectures).

Signed-off-by: Joseph Myers <joseph@codesourcery.com>
Acked-by: Bruce Ashfield <bruce.ashfield@windriver.com>

diff --git a/include/linux/a.out.h b/include/linux/a.out.h
index e86dfca..47e647f 100644
--- a/include/linux/a.out.h
+++ b/include/linux/a.out.h
@@ -129,7 +129,6 @@ enum machine_type {
 #define SEGMENT_SIZE PAGE_SIZE
 #endif
 
-#ifdef linux
 #ifdef __KERNEL__
 #include <asm/page.h>
 #else
@@ -146,7 +145,6 @@ enum machine_type {
 #endif
 #endif
 #endif
-#endif
 
 #define _N_SEGMENT_ROUND(x) ALIGN(x, SEGMENT_SIZE)
 
