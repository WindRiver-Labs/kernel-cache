From 2e1ce0c78aa02d6abc0f45bdc19c0d0e96493e20 Mon Sep 17 00:00:00 2001
From: Wenlin Kang <wenlin.kang@windriver.com>
Date: Tue, 25 Aug 2015 05:06:06 -0400
Subject: [PATCH] net: sysctl_net_core: fix a warning "'one' defined but not
 used"

net/core/sysctl_net_core.c:26:12: warning: 'one' defined but not used [-Wunused-variable]
 static int one = 1;
            ^
  CC net/ipv4/ip_sockglue.o

The variable 'one' came from upstream commit cdda88912d62(net: avoid to
hang up on sending due to sysctl configuration overflow), in upstream,
it's in use due to have commit b245be1f4db1(net-timestamp: no-payload
only sysctl) exist. However, on our kernel tree, it isn't in use due to
not have commit b245be1f4db1 exist. But the commit isn't applicable
to our kernel tree, the reason is it needs to introduce some dependence
if we want to apply the commit, so here we remove the variable.

Signed-off-by: Wenlin Kang <wenlin.kang@windriver.com>
---
 net/core/sysctl_net_core.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/net/core/sysctl_net_core.c b/net/core/sysctl_net_core.c
index fc44b99..a46f1b8 100644
--- a/net/core/sysctl_net_core.c
+++ b/net/core/sysctl_net_core.c
@@ -23,7 +23,6 @@
 #include <net/pkt_sched.h>
 
 static int zero = 0;
-static int one = 1;
 static int ushort_max = USHRT_MAX;
 static int min_sndbuf = SOCK_MIN_SNDBUF;
 static int min_rcvbuf = SOCK_MIN_RCVBUF;
-- 
1.7.5.4

