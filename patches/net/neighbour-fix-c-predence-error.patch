From dd7ffa6da00f4f65048e0e2691bb1c47aa8959ad Mon Sep 17 00:00:00 2001
From: yzhu1 <yanjun.zhu@windriver.com>
Date: Thu, 30 Apr 2015 13:43:24 +0800
Subject: [PATCH] neighbour: fix c predence error

In commit 5331a4"net: neighbour: Add mcast_resolicit to configure
the number of multicast resolicitations in PROBE state", the
intentios is to compute the number of probes. But because of C
predence, the correct number of probes is not got. So the
paranthesis is needed to make sure the correct number.

Reported-by: Slabbert <Clinton.Slabbert@windriver.com>
Signed-off-by: yzhu1 <yanjun.zhu@windriver.com>
---
 net/core/neighbour.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/net/core/neighbour.c b/net/core/neighbour.c
index eb573cf..2db10b8 100644
--- a/net/core/neighbour.c
+++ b/net/core/neighbour.c
@@ -845,7 +845,7 @@ static __inline__ int neigh_max_probes(struct neighbour *n)
 	struct neigh_parms *p = n->parms;
 
 	return p->ucast_probes + p->app_probes +
-		(n->nud_state & NUD_PROBE) ? p->mcast_reprobes : p->mcast_probes;
+		((n->nud_state & NUD_PROBE) ? p->mcast_reprobes : p->mcast_probes);
 }
 
 static void neigh_invalidate(struct neighbour *neigh)
-- 
1.7.5.4

