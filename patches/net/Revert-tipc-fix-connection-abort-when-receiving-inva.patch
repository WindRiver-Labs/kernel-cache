From 5e3315bdfb52eac84c30d31e4bc68d2fa6f6e29b Mon Sep 17 00:00:00 2001
From: Zhenbo Gao <zhenbo.gao@windriver.com>
Date: Wed, 28 Mar 2018 16:35:59 +0800
Subject: [PATCH 001/376] Revert "tipc: fix connection abort when receiving
 invalid cancel request"

This reverts commit cbab31ede4bfcb8e91bd7391d7e18e488d5604f5.

A big patch set for upgrading TIPC(to v4.16-rc6) will come soon

Signed-off-by: Zhenbo Gao <zhenbo.gao@windriver.com>
---
 net/tipc/subscr.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/net/tipc/subscr.c b/net/tipc/subscr.c
index 1b1f9b3..97880fd 100644
--- a/net/tipc/subscr.c
+++ b/net/tipc/subscr.c
@@ -311,8 +311,7 @@ static void tipc_subscrb_rcv_cb(struct net *net, int conid,
 	int swap;
 
 	/* Determine subscriber's endianness */
-	swap = !(s->filter & (TIPC_SUB_PORTS | TIPC_SUB_SERVICE |
-			      TIPC_SUB_CANCEL));
+	swap = !(s->filter & (TIPC_SUB_PORTS | TIPC_SUB_SERVICE));
 
 	/* Detect & process a subscription cancellation request */
 	if (s->filter & htohl(TIPC_SUB_CANCEL, swap)) {
-- 
1.7.5.4

