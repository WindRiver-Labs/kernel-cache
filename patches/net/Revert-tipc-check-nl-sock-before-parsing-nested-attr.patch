From 84bd121b358e15893a3ea1122abe539ad92795e2 Mon Sep 17 00:00:00 2001
From: Zhenbo Gao <zhenbo.gao@windriver.com>
Date: Wed, 28 Mar 2018 16:40:20 +0800
Subject: [PATCH 017/376] Revert "tipc: check nl sock before parsing nested
 attributes"

This reverts commit 0624bed05cbc9bcfb573170c636948694591d5b7.

A big patch set for upgrading TIPC(to v4.16-rc6) will come soon

Signed-off-by: Zhenbo Gao <zhenbo.gao@windriver.com>
---
 net/tipc/socket.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/net/tipc/socket.c b/net/tipc/socket.c
index d41d424..20cc6df 100644
--- a/net/tipc/socket.c
+++ b/net/tipc/socket.c
@@ -2804,9 +2804,6 @@ int tipc_nl_publ_dump(struct sk_buff *skb, struct netlink_callback *cb)
 		if (err)
 			return err;
 
-		if (!attrs[TIPC_NLA_SOCK])
-			return -EINVAL;
-
 		err = nla_parse_nested(sock, TIPC_NLA_SOCK_MAX,
 				       attrs[TIPC_NLA_SOCK],
 				       tipc_nl_sock_policy);
-- 
1.7.5.4

