From 72be1e32673e59af08b53850e2badb36362a3c74 Mon Sep 17 00:00:00 2001
From: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date: Thu, 24 Sep 2009 19:13:31 +0900
Subject: [PATCH 16/16] net: nec_candy: Use if_mii helper

Use if_mii() instead of open-coded variant.

Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
---
 drivers/net/nec_candy.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/drivers/net/nec_candy.c b/drivers/net/nec_candy.c
index 018dff6..76a1a1b 100644
--- a/drivers/net/nec_candy.c
+++ b/drivers/net/nec_candy.c
@@ -347,11 +347,10 @@ static int
 candy_ioctl(struct net_device *dev, struct ifreq *rq, int cmd)
 {
 	struct candy_private *pp = netdev_priv(dev);
-	struct mii_ioctl_data *mii = (struct mii_ioctl_data *)&rq->ifr_data;
 	int rc;
 
 	spin_lock_irq(&pp->lock);
-	rc = generic_mii_ioctl(&pp->mii_if, mii, cmd, NULL);
+	rc = generic_mii_ioctl(&pp->mii_if, if_mii(rq), cmd, NULL);
 	spin_unlock_irq(&pp->lock);
 	return rc;
 }
-- 
1.6.3.3

