From 3681093e3bf2788180d1ba7103b7614da20c1c2a Mon Sep 17 00:00:00 2001
From: Liu Changhui <changhui.liu@windriver.com>
Date: Fri, 29 Jan 2010 13:27:47 +0800
Subject: [PATCH] Platform: Add kernel/mm build support

Add some file build support in Makefile in kernel and mm directory.

source: from RMI SDK1.7

Signed-off-by: shuo.kang <shuo.kang@windriver.com>
---
 arch/mips/kernel/Makefile |    2 ++
 arch/mips/mm/Makefile     |    4 +++-
 2 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/arch/mips/kernel/Makefile b/arch/mips/kernel/Makefile
index 8972f5e..1d19afe 100644
--- a/arch/mips/kernel/Makefile
+++ b/arch/mips/kernel/Makefile
@@ -42,6 +42,8 @@ obj-$(CONFIG_CPU_SB1)		+= r4k_fpu.o r4k_switch.o
 obj-$(CONFIG_CPU_TX39XX)	+= r2300_fpu.o r2300_switch.o
 obj-$(CONFIG_CPU_TX49XX)	+= r4k_fpu.o r4k_switch.o
 obj-$(CONFIG_CPU_VR41XX)	+= r4k_fpu.o r4k_switch.o
+obj-$(CONFIG_CPU_PHOENIX)	+= r4k_fpu.o r4k_switch.o
+obj-$(CONFIG_CPU_PHOENIX)	+= xlr_fast_sys_call_handler.o 
 
 obj-$(CONFIG_DYNAMIC_FTRACE)	+= ftrace.o
 
diff --git a/arch/mips/mm/Makefile b/arch/mips/mm/Makefile
index 44e8dd8..b6b0909 100644
--- a/arch/mips/mm/Makefile
+++ b/arch/mips/mm/Makefile
@@ -29,7 +29,9 @@ obj-$(CONFIG_CPU_VR41XX)	+= c-r4k.o cex-gen.o tlb-r4k.o
 
 obj-$(CONFIG_IP22_CPU_SCACHE)	+= sc-ip22.o
 obj-$(CONFIG_R5000_CPU_SCACHE)  += sc-r5k.o
+
+obj-$(CONFIG_CPU_PHOENIX)	+= c-phoenix.o tlb-r4k.o \
+                               cex-gen.o cerr-phoenix.o 
 obj-$(CONFIG_RM7000_CPU_SCACHE)	+= sc-rm7k.o
 obj-$(CONFIG_MIPS_CPU_SCACHE)	+= sc-mips.o
-
 EXTRA_CFLAGS += -Werror
-- 
1.6.0.4

