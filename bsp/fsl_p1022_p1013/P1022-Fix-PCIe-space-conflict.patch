From b6370fedbbe9201452a4bab8937168f61ae3625d Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Mon, 29 Nov 2010 19:24:21 +0800
Subject: [PATCH 6/6] P1022:Fix PCIe space conflict

Fix the range conflict in PCIe descpriton of dts files.

Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 arch/powerpc/boot/dts/p1022ds_36bit.dts      |   12 ++++++------
 arch/powerpc/boot/dts/p1022ds_camp_core0.dts |    8 ++++----
 arch/powerpc/boot/dts/p1022ds_camp_core1.dts |    4 ++--
 3 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/arch/powerpc/boot/dts/p1022ds_36bit.dts b/arch/powerpc/boot/dts/p1022ds_36bit.dts
index 1ab1fe8..3fffad3 100644
--- a/arch/powerpc/boot/dts/p1022ds_36bit.dts
+++ b/arch/powerpc/boot/dts/p1022ds_36bit.dts
@@ -626,8 +626,8 @@
 			#size-cells = <2>;
 			#address-cells = <3>;
 			device_type = "pci";
-			ranges = <0x2000000 0x0 0xe0000000
-				  0x2000000 0x0 0xe0000000
+			ranges = <0x2000000 0x0 0xa0000000
+				  0x2000000 0x0 0xa0000000
 				  0x0 0x20000000
 
 				  0x1000000 0x0 0x0
@@ -662,8 +662,8 @@
 			#size-cells = <2>;
 			#address-cells = <3>;
 			device_type = "pci";
-			ranges = <0x2000000 0x0 0xe0000000
-				  0x2000000 0x0 0xe0000000
+			ranges = <0x2000000 0x0 0xc0000000
+				  0x2000000 0x0 0xc0000000
 				  0x0 0x20000000
 
 				  0x1000000 0x0 0x0
@@ -699,8 +699,8 @@
 			#size-cells = <2>;
 			#address-cells = <3>;
 			device_type = "pci";
-			ranges = <0x2000000 0x0 0xe0000000
-				  0x2000000 0x0 0xe0000000
+			ranges = <0x2000000 0x0 0x80000000
+				  0x2000000 0x0 0x80000000
 				  0x0 0x20000000
 
 				  0x1000000 0x0 0x0
diff --git a/arch/powerpc/boot/dts/p1022ds_camp_core0.dts b/arch/powerpc/boot/dts/p1022ds_camp_core0.dts
index 21b095b..79a8484 100644
--- a/arch/powerpc/boot/dts/p1022ds_camp_core0.dts
+++ b/arch/powerpc/boot/dts/p1022ds_camp_core0.dts
@@ -372,8 +372,8 @@
 			#size-cells = <2>;
 			#address-cells = <3>;
 			device_type = "pci";
-			ranges = <0x2000000 0x0 0xe0000000
-				  0x2000000 0x0 0xe0000000
+			ranges = <0x2000000 0x0 0xa0000000
+				  0x2000000 0x0 0xa0000000
 				  0x0 0x20000000
 
 				  0x1000000 0x0 0x0
@@ -407,8 +407,8 @@
 			#size-cells = <2>;
 			#address-cells = <3>;
 			device_type = "pci";
-			ranges = <0x2000000 0x0 0xe0000000
-				  0x2000000 0x0 0xe0000000
+			ranges = <0x2000000 0x0 0x80000000
+				  0x2000000 0x0 0x80000000
 				  0x0 0x20000000
 
 				  0x1000000 0x0 0x0
diff --git a/arch/powerpc/boot/dts/p1022ds_camp_core1.dts b/arch/powerpc/boot/dts/p1022ds_camp_core1.dts
index 9ab6b91..c6bd0d7 100644
--- a/arch/powerpc/boot/dts/p1022ds_camp_core1.dts
+++ b/arch/powerpc/boot/dts/p1022ds_camp_core1.dts
@@ -315,8 +315,8 @@
 			#size-cells = <2>;
 			#address-cells = <3>;
 			device_type = "pci";
-			ranges = <0x2000000 0x0 0xe0000000
-				  0x2000000 0x0 0xe0000000
+			ranges = <0x2000000 0x0 0xc0000000
+				  0x2000000 0x0 0xc0000000
 				  0x0 0x20000000
 
 				  0x1000000 0x0 0x0
-- 
1.6.5.2

