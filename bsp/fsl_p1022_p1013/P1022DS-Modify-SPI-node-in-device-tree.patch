From 6baf881faef41084b5d14cca2d1f2beca3d5dd79 Mon Sep 17 00:00:00 2001
From: Xufeng Zhang <xufeng.zhang@windriver.com>
Date: Thu, 18 Aug 2011 19:16:41 +0800
Subject: [PATCH 12/12] P1022DS: Modify SPI node in device tree

Signed-off-by: Xufeng Zhang <xufeng.zhang@windriver.com>
---
 arch/powerpc/boot/dts/p1022ds.dts                  |    6 +++---
 arch/powerpc/boot/dts/p1022ds_36bit.dts            |    6 +++---
 arch/powerpc/boot/dts/p1022ds_camp_core1.dts       |    6 +++---
 arch/powerpc/boot/dts/p1022ds_camp_core1_36bit.dts |    6 +++---
 4 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/arch/powerpc/boot/dts/p1022ds.dts b/arch/powerpc/boot/dts/p1022ds.dts
index 748796f..cefeb55 100644
--- a/arch/powerpc/boot/dts/p1022ds.dts
+++ b/arch/powerpc/boot/dts/p1022ds.dts
@@ -253,17 +253,17 @@
 			cell-index = <0>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-			compatible = "fsl,espi";
+			compatible = "fsl,mpc8536-espi";
 			reg = <0x7000 0x1000>;
 			interrupts = <59 0x2>;
 			interrupt-parent = <&mpic>;
-			espi,num-ss-bits = <4>;
+			fsl,espi-num-chipselects = <4>;
 			mode = "cpu";
 
 			fsl_m25p80@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "fsl,espi-flash";
+				compatible = "spansion,s25sl12801";
 				reg = <0>;
 				linux,modalias = "fsl_m25p80";
 				spi-max-frequency = <40000000>; /* input clock */
diff --git a/arch/powerpc/boot/dts/p1022ds_36bit.dts b/arch/powerpc/boot/dts/p1022ds_36bit.dts
index f30117c..0c6f0f0 100644
--- a/arch/powerpc/boot/dts/p1022ds_36bit.dts
+++ b/arch/powerpc/boot/dts/p1022ds_36bit.dts
@@ -260,17 +260,17 @@
 			cell-index = <0>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-			compatible = "fsl,espi";
+			compatible = "fsl,mpc8536-espi";
 			reg = <0x7000 0x1000>;
 			interrupts = <59 0x2>;
 			interrupt-parent = <&mpic>;
-			espi,num-ss-bits = <4>;
+			fsl,espi-num-chipselects = <4>;
 			mode = "cpu";
 
 			fsl_m25p80@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "fsl,espi-flash";
+				compatible = "spansion,s25sl12801";
 				reg = <0>;
 				linux,modalias = "fsl_m25p80";
 				spi-max-frequency = <40000000>; /* input clock */
diff --git a/arch/powerpc/boot/dts/p1022ds_camp_core1.dts b/arch/powerpc/boot/dts/p1022ds_camp_core1.dts
index 07612c1..b4b26c0 100644
--- a/arch/powerpc/boot/dts/p1022ds_camp_core1.dts
+++ b/arch/powerpc/boot/dts/p1022ds_camp_core1.dts
@@ -172,17 +172,17 @@
 			cell-index = <0>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-			compatible = "fsl,espi";
+			compatible = "fsl,mpc8536-espi";
 			reg = <0x7000 0x1000>;
 			interrupts = <59 0x2>;
 			interrupt-parent = <&mpic>;
-			espi,num-ss-bits = <4>;
+			fsl,espi-num-chipselects = <4>;
 			mode = "cpu";
 
 			fsl_m25p80@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "fsl,espi-flash";
+				compatible = "spansion,s25sl12801";
 				reg = <0>;
 				linux,modalias = "fsl_m25p80";
 				spi-max-frequency = <40000000>; /* input clock */
diff --git a/arch/powerpc/boot/dts/p1022ds_camp_core1_36bit.dts b/arch/powerpc/boot/dts/p1022ds_camp_core1_36bit.dts
index 3b938db..896c2cb 100644
--- a/arch/powerpc/boot/dts/p1022ds_camp_core1_36bit.dts
+++ b/arch/powerpc/boot/dts/p1022ds_camp_core1_36bit.dts
@@ -178,17 +178,17 @@
 			cell-index = <0>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-			compatible = "fsl,espi";
+			compatible = "fsl,mpc8536-espi";
 			reg = <0x7000 0x1000>;
 			interrupts = <59 0x2>;
 			interrupt-parent = <&mpic>;
-			espi,num-ss-bits = <4>;
+			fsl,espi-num-chipselects = <4>;
 			mode = "cpu";
 
 			fsl_m25p80@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "fsl,espi-flash";
+				compatible = "spansion,s25sl12801";
 				reg = <0>;
 				linux,modalias = "fsl_m25p80";
 				spi-max-frequency = <40000000>; /* input clock */
-- 
1.7.0.4

