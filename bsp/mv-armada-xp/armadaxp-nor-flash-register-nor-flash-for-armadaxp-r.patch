From feb956fbcb0cdf9887b89af9ff1a554c07fcb354 Mon Sep 17 00:00:00 2001
From: Wang Hui <Hui.Wang@windriver.com>
Date: Wed, 14 Nov 2012 12:00:07 +0800
Subject: [PATCH 30/50] armadaxp: nor flash: register nor flash for armadaxp rd and gp board

On the armdaxp rd and gp board, there is a 16MB nor flash, we should
reigster it and let the mtd can find it.

Signed-off-by: Wang Hui <Hui.Wang@windriver.com>
---
 .../armada_xp_family/boardEnv/mvBoardEnvSpec.c     |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-armadaxp/armada_xp_family/boardEnv/mvBoardEnvSpec.c b/arch/arm/mach-armadaxp/armada_xp_family/boardEnv/mvBoardEnvSpec.c
index c1030cc..0415e57 100644
--- a/arch/arm/mach-armadaxp/armada_xp_family/boardEnv/mvBoardEnvSpec.c
+++ b/arch/arm/mach-armadaxp/armada_xp_family/boardEnv/mvBoardEnvSpec.c
@@ -1278,7 +1278,10 @@ MV_BOARD_GPP_INFO rd78460gpInfoBoardGppInfo[] = {
 MV_DEV_CS_INFO rd78460gpInfoBoardDeCsInfo[] = {
 	/*{deviceCS, params, devType, devWidth, busWidth }*/
 #if defined(MV_INCLUDE_SPI)
-	{SPI_CS0, N_A, BOARD_DEV_SPI_FLASH, 8, 8} /* SPI DEV */
+	{SPI_CS0, N_A, BOARD_DEV_SPI_FLASH, 8, 8}, /* SPI DEV */
+#endif
+#if defined(MV_INCLUDE_NOR)
+	{DEV_BOOCS, N_A, BOARD_DEV_NOR_FLASH, 16, 16} /* NOR DEV */
 #endif
 };
 
-- 
1.7.0

