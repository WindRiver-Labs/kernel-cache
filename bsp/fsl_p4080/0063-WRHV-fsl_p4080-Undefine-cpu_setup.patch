From 88d8573ba01a3aa4075169f5e5d32ac55ac58c3b Mon Sep 17 00:00:00 2001
From: Tiejun Chen <tiejun.chen@windriver.com>
Date: Fri, 4 Dec 2009 22:58:20 -0800
Subject: [PATCH 63/77] WRHV/fsl_p4080: Undefine cpu_setup

It's not necessary to create some ivors for WRHV since they are not
allowed and needed for WRHV.

Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 arch/powerpc/kernel/cpu_setup_fsl_booke.S |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/kernel/cpu_setup_fsl_booke.S b/arch/powerpc/kernel/cpu_setup_fsl_booke.S
index eb4b9ad..bd3ec7e 100644
--- a/arch/powerpc/kernel/cpu_setup_fsl_booke.S
+++ b/arch/powerpc/kernel/cpu_setup_fsl_booke.S
@@ -17,6 +17,22 @@
 #include <asm/cputable.h>
 #include <asm/ppc_asm.h>
 
+/* Only weak for WRHV. */
+	.weak	__setup_e200_ivors
+	.globl	__setup_e200_ivors
+__setup_e200_ivors:
+	blr
+        
+	.weak	__setup_e500_ivors
+	.globl	__setup_e500_ivors
+__setup_e500_ivors:
+	blr
+        
+	.weak	__setup_e500mc_ivors
+	.globl	__setup_e500mc_ivors
+__setup_e500mc_ivors:
+	blr
+
 _GLOBAL(__setup_cpu_e200)
 	/* enable dedicated debug exception handling resources (Debug APU) */
 	mfspr	r3,SPRN_HID0
-- 
1.6.5.2

