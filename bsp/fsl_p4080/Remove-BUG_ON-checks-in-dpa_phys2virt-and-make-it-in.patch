From 5fa0f80fbed2556a0e9f429b17238bf9e0d6c322 Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Wed, 4 Aug 2010 14:07:47 +0800
Subject: [PATCH 03/22] Remove BUG_ON checks in dpa_phys2virt and make it inline

It is from FSL vendor SDK 2.x.

Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
Integrated-by: Andrew Liu <shengping.liu@windriver.com>
---
 drivers/net/dpa/dpa.c |   10 +---------
 1 files changed, 1 insertions(+), 9 deletions(-)

diff --git a/drivers/net/dpa/dpa.c b/drivers/net/dpa/dpa.c
index e4af7fc..c8b694f 100644
--- a/drivers/net/dpa/dpa.c
+++ b/drivers/net/dpa/dpa.c
@@ -273,17 +273,9 @@ _return_bman_free_pool:
 	return _errno;
 }
 
-static void * __must_check __attribute__((nonnull))
+static inline void * __must_check __attribute__((nonnull))
 dpa_phys2virt(const struct dpa_bp *dpa_bp, const struct bm_buffer *bmb)
 {
-#ifdef CONFIG_BUG
-	const struct bman_pool_params	*bp_params;
-
-	bp_params = bman_get_params(dpa_bp->pool);
-#endif
-	BUG_ON(bp_params->cb_ctx != dpa_bp);
-	BUG_ON(bp_params->bpid != bmb->bpid);
-
 	return dpa_bp->vaddr + (bmb->lo - dpa_bp->paddr);
 }
 
-- 
1.6.5.2

