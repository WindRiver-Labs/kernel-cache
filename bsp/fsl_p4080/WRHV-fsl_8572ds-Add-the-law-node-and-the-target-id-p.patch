From a7b3ad5880c9244743715a507399e1bc0da031c3 Mon Sep 17 00:00:00 2001
From: Tiejun Chen <tiejun.chen@windriver.com>
Date: Mon, 11 Jan 2010 21:33:28 -0800
Subject: [PATCH 4/6] WRHV/fsl_8572ds: Add the law node and the target-id property

Add device node, corenet-law, to configure LAW. And add
'target-id' property on the pcie node to select correct PCIE.

Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 arch/powerpc/boot/dts/mpc8572ds.dts |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc8572ds.dts b/arch/powerpc/boot/dts/mpc8572ds.dts
index 8939322..6a1621a 100644
--- a/arch/powerpc/boot/dts/mpc8572ds.dts
+++ b/arch/powerpc/boot/dts/mpc8572ds.dts
@@ -171,6 +171,12 @@
 		reg = <0xe0000000 0x1000>;	// CCSRBAR & soc regs, remove once parse code for immrbase fixed
 		bus-frequency = <0>;		// Filled out by uboot.
 
+		corenet-law {
+			compatible = "fsl,corenet-law";
+			reg = <0x0 0x1000>;
+			fsl,num-laws = <6>;
+		};
+
 		memory-controller@2000 {
 			compatible = "fsl,mpc8572-memory-controller";
 			reg = <0x2000 0x1000>;
@@ -394,6 +400,7 @@
 		cell-index = <1>;
 		compatible = "fsl,mpc8548-pcie";
 		device_type = "pci";
+		target-id = <1>;
 		#interrupt-cells = <1>;
 		#size-cells = <2>;
 		#address-cells = <3>;
-- 
1.6.5.2

