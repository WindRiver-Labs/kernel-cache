From 296913f8583a979545f31179b3d4823c0221bc82 Mon Sep 17 00:00:00 2001
From: Kumar Gala <galak@kernel.crashing.org>
Date: Mon, 8 Feb 2010 15:22:28 -0600
Subject: [PATCH] Enable PAMU and disable Qman/Bman driver checking

[Kevin: Original patch taken from Freescale p4080 SDK 2.0.3 tar
package, apply cleanly to kernel 2.6.27]
Integrated-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/configs/p4080_ds_defconfig |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/arch/powerpc/configs/p4080_ds_defconfig b/arch/powerpc/configs/p4080_ds_defconfig
index eb5e101..9b69e84 100644
--- a/arch/powerpc/configs/p4080_ds_defconfig
+++ b/arch/powerpc/configs/p4080_ds_defconfig
@@ -1,7 +1,7 @@
 #
 # Automatically generated make config: don't edit
 # Linux kernel version: 2.6.30
-# Tue Sep  1 15:03:58 2009
+# Mon Feb  8 15:22:15 2010
 #
 # CONFIG_PPC64 is not set
 
@@ -289,7 +289,8 @@ CONFIG_ZONE_DMA=y
 CONFIG_PPC_INDIRECT_PCI=y
 CONFIG_FSL_SOC=y
 CONFIG_FSL_PCI=y
-# CONFIG_HAS_FSL_PAMU is not set
+CONFIG_HAS_FSL_PAMU=y
+CONFIG_FSL_PAMU=y
 CONFIG_PPC_PCI_CHOICE=y
 CONFIG_PCI=y
 CONFIG_PCI_DOMAINS=y
@@ -1443,7 +1444,7 @@ CONFIG_RTC_DRV_CMOS=y
 # Hardware allocator support
 #
 CONFIG_FSL_BMAN=y
-CONFIG_FSL_BMAN_CHECKING=y
+# CONFIG_FSL_BMAN_CHECKING is not set
 CONFIG_FSL_BMAN_PORTAL=y
 # CONFIG_FSL_BMAN_PORTAL_DISABLEAUTO is not set
 CONFIG_FSL_BMAN_CONFIG=y
@@ -1453,7 +1454,7 @@ CONFIG_FSL_BMAN_CONFIG=y
 # Hardware queue support
 #
 CONFIG_FSL_QMAN=y
-CONFIG_FSL_QMAN_CHECKING=y
+# CONFIG_FSL_QMAN_CHECKING is not set
 CONFIG_FSL_QMAN_PORTAL=y
 # CONFIG_FSL_QMAN_PORTAL_DISABLEAUTO is not set
 # CONFIG_FSL_QMAN_PORTAL_DISABLEAUTO_DCA is not set
-- 
1.6.0.4

