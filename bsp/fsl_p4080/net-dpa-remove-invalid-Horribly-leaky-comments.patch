From 678868dbfee4e3c704fd49f7bc893fb1c018fc44 Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Wed, 4 Aug 2010 14:42:44 +0800
Subject: [PATCH 09/22] net: dpa - remove invalid "Horribly leaky" comments

It is from FSL vendor SDK 2.x.

devres guarantees this memory be freed whether initialization fails
half-way or the device gets detached.

Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
Integrated-by: Andrew Liu <shengping.liu@windriver.com>
---
 drivers/net/dpa/dpa.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/drivers/net/dpa/dpa.c b/drivers/net/dpa/dpa.c
index e9fc9d4..6520b92 100644
--- a/drivers/net/dpa/dpa.c
+++ b/drivers/net/dpa/dpa.c
@@ -2103,7 +2103,6 @@ dpa_probe(struct of_device *_of_dev)
 
 		BUG_ON(num_fqs[TX] != net_dev->num_tx_queues);
 
-		/* FIXME: Horribly leaky */
 		dpa_fq = devm_kzalloc(dev, sizeof(*dpa_fq) * num_fqs[TX],
 					GFP_KERNEL);
 		if (unlikely(dpa_fq == NULL)) {
@@ -2172,7 +2171,6 @@ dpa_probe(struct of_device *_of_dev)
 					num_fqs[i] += fqids[i][j * 2 + 1];
 			}
 
-		/* FIXME: Horribly leaky */
 		dpa_fq = devm_kzalloc(dev,
 				sizeof(*dpa_fq) * (num_fqs[TX] + num_fqs[RX]),
 				GFP_KERNEL);
-- 
1.6.5.2

