From 4736eaa0c583b42c7370f3bcc0f1e6f5d8263d18 Mon Sep 17 00:00:00 2001
From: Greg Moffatt <greg.moffatt@windriver.com>
Date: Wed, 23 Sep 2009 09:34:07 -0400
Subject: [PATCH 49/77] p4080ds: add cpu die

The P4080DS board support code provided by FSL did not include an
implementation of the cpu_die() function, resulting in compiler errors.
The cpu_die() function here simply calls the generic_mach_cpu_die() function
similar to what is done elsewhere in the arch/powerpc code.

Signed-off-by: Greg Moffatt <greg.moffatt@windriver.com>
---
 arch/powerpc/platforms/85xx/p4080_ds.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/platforms/85xx/p4080_ds.c b/arch/powerpc/platforms/85xx/p4080_ds.c
index 71e4365..159d2e6 100644
--- a/arch/powerpc/platforms/85xx/p4080_ds.c
+++ b/arch/powerpc/platforms/85xx/p4080_ds.c
@@ -57,6 +57,13 @@ void __init mpc85xx_ds_pic_init(void)
 	mpic_init(mpic);
 }
 
+#ifdef CONFIG_HOTPLUG_CPU
+void cpu_die(void)
+{
+        generic_mach_cpu_die();
+}
+#endif
+
 #ifdef CONFIG_PCI
 static int primary_phb_addr;
 #endif
-- 
1.6.5.2

