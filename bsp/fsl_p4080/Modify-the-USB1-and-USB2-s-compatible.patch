From aa986ec3dab9bce3990761742741f6e4602614a3 Mon Sep 17 00:00:00 2001
From: Jun-jie Zhang <b18070@freescale.com>
Date: Tue, 22 Sep 2009 16:01:54 +0800
Subject: [PATCH 05/26] Modify the USB1 and USB2's compatible.

The dts files don't match descrition of the user mannual.
In manual, it's "USB1 is a host-only interface and USB2 may
be a host or device interface."  But in the dts files, USB1 is
mpc85xx-usb2-dr, and USB2 is mpc85xx-usb2-mph.

Signed-off-by: Jun-Jie Zhang <b18070@freescale.com>
[Cleanly applied the FSL SDK 2.0.3 patch:
"kernel-2.6.30-X-Modify-the-USB1-and-USB2-s-compatible.patch"]
Integrated-by: Yuri Nedel <Yuri.Nedel@windriver.com>
---
 arch/powerpc/boot/dts/p4080ds.dts     |   10 +++++-----
 arch/powerpc/boot/dts/p4080ds_36b.dts |   10 +++++-----
 2 files changed, 10 insertions(+), 10 deletions(-)

diff --git a/arch/powerpc/boot/dts/p4080ds.dts b/arch/powerpc/boot/dts/p4080ds.dts
index be672dc..713d29d 100644
--- a/arch/powerpc/boot/dts/p4080ds.dts
+++ b/arch/powerpc/boot/dts/p4080ds.dts
@@ -903,25 +903,25 @@
 		};
 
 		usb0: usb@210000 {
-			compatible = "fsl,p4080-usb2-dr",
-					"fsl,mpc85xx-usb2-dr", "fsl-usb2-dr";
+			compatible = "fsl,p4080-usb2-mph",
+					"fsl,mpc85xx-usb2-mph", "fsl-usb2-mph";
 			reg = <0x210000 0x1000>;
 			#address-cells = <1>;
 			#size-cells = <0>;
 			interrupt-parent = <&mpic>;
 			interrupts = <44 0x2>;
-			dr_mode = "host";
 			phy_type = "ulpi";
 		};
 
 		usb1: usb@211000 {
-			compatible = "fsl,p4080-usb2-mph",
-					"fsl,mpc85xx-usb2-mph", "fsl-usb2-mph";
+			compatible = "fsl,p4080-usb2-dr",
+					"fsl,mpc85xx-usb2-dr", "fsl-usb2-dr";
 			reg = <0x211000 0x1000>;
 			#address-cells = <1>;
 			#size-cells = <0>;
 			interrupt-parent = <&mpic>;
 			interrupts = <45 0x2>;
+			dr_mode = "host";
 			phy_type = "ulpi";
 		};
 
diff --git a/arch/powerpc/boot/dts/p4080ds_36b.dts b/arch/powerpc/boot/dts/p4080ds_36b.dts
index c9d4ded..ea6ff9a 100644
--- a/arch/powerpc/boot/dts/p4080ds_36b.dts
+++ b/arch/powerpc/boot/dts/p4080ds_36b.dts
@@ -904,25 +904,25 @@
 		};
 
 		usb0: usb@210000 {
-			compatible = "fsl,p4080-usb2-dr",
-					"fsl,mpc85xx-usb2-dr", "fsl-usb2-dr";
+			compatible = "fsl,p4080-usb2-mph",
+					"fsl,mpc85xx-usb2-mph", "fsl-usb2-mph";
 			reg = <0x210000 0x1000>;
 			#address-cells = <1>;
 			#size-cells = <0>;
 			interrupt-parent = <&mpic>;
 			interrupts = <44 0x2>;
-			dr_mode = "host";
 			phy_type = "ulpi";
 		};
 
 		usb1: usb@211000 {
-			compatible = "fsl,p4080-usb2-mph",
-					"fsl,mpc85xx-usb2-mph", "fsl-usb2-mph";
+			compatible = "fsl,p4080-usb2-dr",
+					"fsl,mpc85xx-usb2-dr", "fsl-usb2-dr";
 			reg = <0x211000 0x1000>;
 			#address-cells = <1>;
 			#size-cells = <0>;
 			interrupt-parent = <&mpic>;
 			interrupts = <45 0x2>;
+			dr_mode = "host";
 			phy_type = "ulpi";
 		};
 
-- 
1.6.5.2

