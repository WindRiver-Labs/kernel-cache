From a853e5aafcf9b1daee35d2d3661475f190f4e221 Mon Sep 17 00:00:00 2001
From: Kumar Gala <galak@kernel.crashing.org>
Date: Tue, 9 Feb 2010 10:04:02 -0600
Subject: [PATCH] Simply code in dpa_fd_offset

[Kevin: Original patch taken form Freescale moto-patches-2.tar.gz tar
package, apply cleanly to kernel 2.6.27]
Integrated-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/net/dpa/dpa.c |   11 ++---------
 1 files changed, 2 insertions(+), 9 deletions(-)

diff --git a/drivers/net/dpa/dpa.c b/drivers/net/dpa/dpa.c
index c8f587b..62d6717 100644
--- a/drivers/net/dpa/dpa.c
+++ b/drivers/net/dpa/dpa.c
@@ -632,17 +632,10 @@ dpa_fd_length(const struct qm_fd *fd)
 static inline ssize_t __const __must_check __attribute__((nonnull))
 dpa_fd_offset(const struct qm_fd *fd)
 {
-	switch (fd->format) {
-	case qm_fd_contig:
-	case qm_fd_sg:
+	if ((fd->format == qm_fd_contig) || (fd->format == qm_fd_sg))
 		return fd->offset;
-	case qm_fd_contig_big:
-	case qm_fd_sg_big:
-	case qm_fd_compound:
+	else
 		return 0;
-	}
-	BUG();
-	return -EINVAL;
 }
 
 static int __must_check __attribute__((nonnull))
-- 
1.6.0.4

