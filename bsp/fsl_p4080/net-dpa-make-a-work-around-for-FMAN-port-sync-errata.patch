From 18573a30c222f01f727d9831f33d484bcf0fdf7e Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Wed, 18 Nov 2009 00:07:52 -0800
Subject: [PATCH 2/2] net/dpa: make a work around for FMAN port sync errata

This patch is extracted from 0001-FMD6.ppp.patch in Freescale
p4080 SDK 2.0 ISO image.

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 .../dpa/NetCommSw/Peripherals/FM/Port/fm_port.h    |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

diff --git a/drivers/net/dpa/NetCommSw/Peripherals/FM/Port/fm_port.h b/drivers/net/dpa/NetCommSw/Peripherals/FM/Port/fm_port.h
index 3192d41..b7fe291 100644
--- a/drivers/net/dpa/NetCommSw/Peripherals/FM/Port/fm_port.h
+++ b/drivers/net/dpa/NetCommSw/Peripherals/FM/Port/fm_port.h
@@ -45,6 +45,8 @@
 #include "fm_common.h"
 
 
+#define FM_PORT_SYNC_ERRATA
+
 #define MIN_EXT_BUF_SIZE                                64
 /**************************************************************************//**
  @Description       Memory Map defines
@@ -84,7 +86,11 @@
 #define DEFAULT_PORT_l4Checksum                         TRUE
 #define DEFAULT_PORT_BufMargins_startMargins            32
 #define DEFAULT_PORT_BufMargins_endMargins              0
+#ifdef FM_PORT_SYNC_ERRATA
+#define DEFAULT_PORT_syncReq                            FALSE
+#else
 #define DEFAULT_PORT_syncReq                            TRUE
+#endif /* FM_PORT_SYNC_ERRATA */
 #define DEFAULT_PORT_color                              e_FM_PORT_COLOR_GREEN
 #define DEFAULT_PORT_errorsToDiscard                    0
 
-- 
1.6.5.2

