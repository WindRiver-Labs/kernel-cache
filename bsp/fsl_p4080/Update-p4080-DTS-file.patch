From 8b8f9a504a452bfc2d71e461c5854b29fdc6a05d Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Tue, 14 Dec 2010 16:02:41 +0800
Subject: [PATCH 2/3] Update p4080 DTS file

Patch taken from FSL vendor SDK 2.2.

Change the number of interrupt from hex to decimal.

Remove interrupt-parent item in every subnode, and just place
an interrup_parent declaration in top level for all subnodes
to share it.

Change CAAM node reference name according to its driver's reference.

Remove Fman nodes' unused stuff.

Integrated-by: Andrew Liu <shengping.liu@windriver.com>
---
 arch/powerpc/boot/dts/p4080ds_36b.dts |  276 ++++++--------------------------
 1 files changed, 52 insertions(+), 224 deletions(-)

diff --git a/arch/powerpc/boot/dts/p4080ds_36b.dts b/arch/powerpc/boot/dts/p4080ds_36b.dts
index 83a9b5c..d3839c4 100644
--- a/arch/powerpc/boot/dts/p4080ds_36b.dts
+++ b/arch/powerpc/boot/dts/p4080ds_36b.dts
@@ -17,6 +17,7 @@
 	compatible = "fsl,P4080DS";
 	#address-cells = <2>;
 	#size-cells = <2>;
+	interrupt-parent = <&mpic>;
 
 	aliases {
 		ccsr = &soc;
@@ -62,15 +63,15 @@
 		msi2 = &msi2;
 
 		crypto = &crypto;
-		sec_jq0 = &sec_jq0;
-		sec_jq1 = &sec_jq1;
-		sec_jq2 = &sec_jq2;
-		sec_jq3 = &sec_jq3;
+		sec_jr0 = &sec_jr0;
+		sec_jr1 = &sec_jr1;
+		sec_jr2 = &sec_jr2;
+		sec_jr3 = &sec_jr3;
 		rtic_a = &rtic_a;
 		rtic_b = &rtic_b;
 		rtic_c = &rtic_c;
 		rtic_d = &rtic_d;
-		snvs = &snvs;
+		sec_mon = &sec_mon;
 
 		fman0 = &fman0;
 		fman0_oh0 = &fman0_oh0;
@@ -186,78 +187,68 @@
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x0 0x4000 0x100000 0x1000>;
 			cpu-handle = <&cpu0>;
-			interrupts = <0x69 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <105 2 0 0>;
 		};
 		bman-portal@4000 {
 			cell-index = <0x1>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x4000 0x4000 0x101000 0x1000>;
 			cpu-handle = <&cpu1>;
-			interrupts = <0x6b 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <107 2 0 0>;
 		};
 		bman-portal@8000 {
 			cell-index = <2>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x8000 0x4000 0x102000 0x1000>;
 			cpu-handle = <&cpu2>;
-			interrupts = <0x6d 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <109 2 0 0>;
 		};
 		bman-portal@c000 {
 			cell-index = <0x3>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0xc000 0x4000 0x103000 0x1000>;
 			cpu-handle = <&cpu3>;
-			interrupts = <0x6f 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <111 2 0 0>;
 		};
 		bman-portal@10000 {
 			cell-index = <0x4>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x10000 0x4000 0x104000 0x1000>;
 			cpu-handle = <&cpu4>;
-			interrupts = <0x71 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <113 2 0 0>;
 		};
 		bman-portal@14000 {
 			cell-index = <0x5>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x14000 0x4000 0x105000 0x1000>;
 			cpu-handle = <&cpu5>;
-			interrupts = <0x73 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <115 2 0 0>;
 		};
 		bman-portal@18000 {
 			cell-index = <0x6>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x18000 0x4000 0x106000 0x1000>;
 			cpu-handle = <&cpu6>;
-			interrupts = <0x75 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <117 2 0 0>;
 		};
 		bman-portal@1c000 {
 			cell-index = <0x7>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x1c000 0x4000 0x107000 0x1000>;
 			cpu-handle = <&cpu7>;
-			interrupts = <0x77 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <119 2 0 0>;
 		};
 		bman-portal@20000 {
 			cell-index = <0x8>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x20000 0x4000 0x108000 0x1000>;
-			interrupts = <0x79 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <121 2 0 0>;
 		};
 		bman-portal@24000 {
 			cell-index = <0x9>;
 			compatible = "fsl,p4080-bman-portal", "fsl,bman-portal";
 			reg = <0x24000 0x4000 0x109000 0x1000>;
-			interrupts = <0x7b 2 0 0>;
-			interrupt-parent = <&mpic>;
+			interrupts = <123 2 0 0>;
 		};
 
 		buffer-pool@0 {
@@ -278,25 +269,12 @@
 			reg = <0x0 0x4000 0x100000 0x1000>;
 			cpu-handle = <&cpu0>;
 			interrupts = <0x68 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x0>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal1: qman-portal@4000 {
@@ -305,25 +283,12 @@
 			reg = <0x4000 0x4000 0x101000 0x1000>;
 			cpu-handle = <&cpu1>;
 			interrupts = <0x6a 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x1>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal2: qman-portal@8000 {
@@ -332,25 +297,12 @@
 			reg = <0x8000 0x4000 0x102000 0x1000>;
 			cpu-handle = <&cpu2>;
 			interrupts = <0x6c 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x2>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal3: qman-portal@c000 {
@@ -359,25 +311,12 @@
 			reg = <0xc000 0x4000 0x103000 0x1000>;
 			cpu-handle = <&cpu3>;
 			interrupts = <0x6e 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x3>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal4: qman-portal@10000 {
@@ -386,25 +325,12 @@
 			reg = <0x10000 0x4000 0x104000 0x1000>;
 			cpu-handle = <&cpu4>;
 			interrupts = <0x70 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x4>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal5: qman-portal@14000 {
@@ -413,25 +339,12 @@
 			reg = <0x14000 0x4000 0x105000 0x1000>;
 			cpu-handle = <&cpu5>;
 			interrupts = <0x72 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x5>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal6: qman-portal@18000 {
@@ -440,25 +353,12 @@
 			reg = <0x18000 0x4000 0x106000 0x1000>;
 			cpu-handle = <&cpu6>;
 			interrupts = <0x74 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x6>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal7: qman-portal@1c000 {
@@ -467,25 +367,12 @@
 			reg = <0x1c000 0x4000 0x107000 0x1000>;
 			cpu-handle = <&cpu7>;
 			interrupts = <0x76 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x7>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal8: qman-portal@20000 {
@@ -493,25 +380,12 @@
 			compatible = "fsl,p4080-qman-portal", "fsl,qman-portal";
 			reg = <0x20000 0x4000 0x108000 0x1000>;
 			interrupts = <0x78 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x8>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qportal9: qman-portal@24000 {
@@ -519,25 +393,12 @@
 			compatible = "fsl,p4080-qman-portal", "fsl,qman-portal";
 			reg = <0x24000 0x4000 0x109000 0x1000>;
 			interrupts = <0x7a 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qman-channel-id = <0x9>;
 			fsl,qman-pool-channels = <&qpool1 &qpool2 &qpool3
 						  &qpool4 &qpool5 &qpool6
 						  &qpool7 &qpool8 &qpool9
 						  &qpool10 &qpool11 &qpool12
 						  &qpool13 &qpool14 &qpool15>;
-			crypto@0 {
-				dev-handle = <&crypto>;
-			};
-			pme@0 {
-				dev-handle = <&pme>;
-			};
-			fman@0 {
-				dev-handle = <&fman0>;
-			};
-			fman@1 {
-				dev-handle = <&fman1>;
-			};
 		};
 
 		qpool1: qman-pool@1 {
@@ -659,13 +520,11 @@
 		memory-controller@8000 {
 			compatible = "fsl,p4080-memory-controller";
 			reg = <0x8000 0x1000>;
-			interrupt-parent = <&mpic>;
 		};
 
 		memory-controller@9000 {
 			compatible = "fsl,p4080-memory-controller";
 			reg = <0x9000 0x1000>;
-			interrupt-parent = <&mpic>;
 		};
 
 		cpc: l3-cache-controller {
@@ -680,7 +539,6 @@
 			compatible = "fsl,p4080-pamu";
 			reg = <0x20000 0x5000>;
 			interrupts = <24 2 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		msi0: msi@41600 {
@@ -696,7 +554,6 @@
 				0xe5 0 0 0
 				0xe6 0 0 0
 				0xe7 0 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		msi1: msi@41800 {
@@ -712,7 +569,6 @@
 				0xed 0 0 0
 				0xee 0 0 0
 				0xef 0 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		msi2: msi@41a00 {
@@ -728,7 +584,6 @@
 				0xf5 0 0 0
 				0xf6 0 0 0
 				0xf7 0 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		dma0: dma@100300 {
@@ -743,7 +598,6 @@
 						"fsl,eloplus-dma-channel";
 				reg = <0x0 0x80>;
 				cell-index = <0>;
-				interrupt-parent = <&mpic>;
 				interrupts = <28 2 0 0>;
 			};
 			dma-channel@80 {
@@ -751,7 +605,6 @@
 						"fsl,eloplus-dma-channel";
 				reg = <0x80 0x80>;
 				cell-index = <1>;
-				interrupt-parent = <&mpic>;
 				interrupts = <29 2 0 0>;
 			};
 			dma-channel@100 {
@@ -759,7 +612,6 @@
 						"fsl,eloplus-dma-channel";
 				reg = <0x100 0x80>;
 				cell-index = <2>;
-				interrupt-parent = <&mpic>;
 				interrupts = <30 2 0 0>;
 			};
 			dma-channel@180 {
@@ -767,7 +619,6 @@
 						"fsl,eloplus-dma-channel";
 				reg = <0x180 0x80>;
 				cell-index = <3>;
-				interrupt-parent = <&mpic>;
 				interrupts = <31 2 0 0>;
 			};
 		};
@@ -784,7 +635,6 @@
 						"fsl,eloplus-dma-channel";
 				reg = <0x0 0x80>;
 				cell-index = <0>;
-				interrupt-parent = <&mpic>;
 				interrupts = <32 2 0 0>;
 			};
 			dma-channel@80 {
@@ -792,7 +642,6 @@
 						"fsl,eloplus-dma-channel";
 				reg = <0x80 0x80>;
 				cell-index = <1>;
-				interrupt-parent = <&mpic>;
 				interrupts = <33 2 0 0>;
 			};
 			dma-channel@100 {
@@ -808,7 +657,6 @@
 						"fsl,eloplus-dma-channel";
 				reg = <0x180 0x80>;
 				cell-index = <3>;
-				interrupt-parent = <&mpic>;
 				interrupts = <35 2 0 0>;
 			};
 		};
@@ -820,7 +668,6 @@
 			compatible = "fsl-i2c";
 			reg = <0x118000 0x100>;
 			interrupts = <38 2 0 0>;
-			interrupt-parent = <&mpic>;
 			dfsrr;
 		};
 
@@ -831,7 +678,6 @@
 			compatible = "fsl-i2c";
 			reg = <0x118100 0x100>;
 			interrupts = <38 2 0  0 0>;
-			interrupt-parent = <&mpic>;
 			dfsrr;
 			eeprom@51 {
 				compatible = "at24,24c256";
@@ -845,7 +691,6 @@
 				compatible = "dallas,ds3232";
 				reg = <0x68>;
 				interrupts = <0 0x1 0 0>;
-				interrupt-parent = <&mpic>;
 			};
 		};
 
@@ -856,7 +701,6 @@
 			compatible = "fsl-i2c";
 			reg = <0x119000 0x100>;
 			interrupts = <39 2 0 0>;
-			interrupt-parent = <&mpic>;
 			dfsrr;
 		};
 
@@ -867,7 +711,6 @@
 			compatible = "fsl-i2c";
 			reg = <0x119100 0x100>;
 			interrupts = <39 2 0 0>;
-			interrupt-parent = <&mpic>;
 			dfsrr;
 		};
 
@@ -878,7 +721,6 @@
 			compatible = "fsl,espi";
 			reg = <0x110000 0x1000>;
 			interrupts = <53 0x2 0 0>;
-			interrupt-parent = <&mpic>;
 			espi,num-ss-bits = <4>;
 			mode = "cpu";
 
@@ -917,7 +759,6 @@
 			reg = <0x210000 0x1000>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-			interrupt-parent = <&mpic>;
 			interrupts = <44 0x2 0 0>;
 			phy_type = "ulpi";
 		};
@@ -928,7 +769,6 @@
 			reg = <0x211000 0x1000>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-			interrupt-parent = <&mpic>;
 			interrupts = <45 0x2 0 0>;
 			dr_mode = "host";
 			phy_type = "ulpi";
@@ -941,7 +781,6 @@
 			reg = <0x11c500 0x100>;
 			clock-frequency = <0>;
 			interrupts = <36 2 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		serial1: serial@11c600 {
@@ -951,7 +790,6 @@
 			reg = <0x11c600 0x100>;
 			clock-frequency = <0>;
 			interrupts = <36 2 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		serial2: serial@11d500 {
@@ -961,7 +799,6 @@
 			reg = <0x11d500 0x100>;
 			clock-frequency = <0>;
 			interrupts = <37 2 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		serial3: serial@11d600 {
@@ -971,7 +808,6 @@
 			reg = <0x11d600 0x100>;
 			clock-frequency = <0>;
 			interrupts = <37 2 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		guts: global-utilities@e0000 {
@@ -1016,7 +852,6 @@
                                         0xb1 2 0 0
                                         0xb2 2 0 0
                                         0xb3 2 0 0>;
-				interrupt-parent = < &mpic >;
 			};
 		};
 
@@ -1024,7 +859,6 @@
 			compatible = "fsl,p4080-esdhc", "fsl,esdhc";
 			reg = <0x114000 0x1000>;
 			interrupts = <48 2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,sdhci-auto-cmd12;
 			clock-frequency = <0>;
 		};
@@ -1039,73 +873,66 @@
 			#address-cells = <1>;
 			#size-cells = <1>;
 			reg		 = <0x300000 0x10000>;
-			ranges		 = <0 0x300000 0x1000>;
+			ranges		 = <0 0x300000 0x10000>;
 			interrupts	 = <92 2 0 0>;
-			interrupt-parent = <&mpic>;
 			fsl,qi-spids	 = <5>;
 
-			sec_jq0: jq@1000 {
-				compatible = "fsl,p4080-sec4.0-job-queue", "fsl,sec4.0-job-queue";
+			sec_jr0: jr@1000 {
+				compatible = "fsl,p4080-sec4.0-job-ring", "fsl,sec4.0-job-ring";
 				reg	   = <0x1000 0x1000>;
 				interrupts	 = <88 2 0 0>;
-				interrupt-parent = <&mpic>;
 			};
-
-			sec_jq1: jq@2000 {
-				compatible = "fsl,p4080-sec4.0-job-queue", "fsl,sec4.0-job-queue";
+			sec_jr1: jr@2000 {
+				compatible = "fsl,p4080-sec4.0-job-ring", "fsl,sec4.0-job-ring";
 				reg	   = <0x2000 0x1000>;
 				interrupts	 = <89 2 0 0>;
-				interrupt-parent = <&mpic>;
 			};
 
-			sec_jq2: jq@3000 {
-				compatible = "fsl,p4080-sec4.0-job-queue", "fsl,sec4.0-job-queue";
+			sec_jr2: jr@3000 {
+				compatible = "fsl,p4080-sec4.0-job-ring", "fsl,sec4.0-job-ring";
 				reg	   = <0x3000 0x1000>;
 				interrupts	 = <90 2 0 0>;
-				interrupt-parent = <&mpic>;
 			};
 
-			sec_jq3: jq@4000 {
-				compatible = "fsl,p4080-sec4.0-job-queue", "fsl,sec4.0-job-queue";
+			sec_jr3: jr@4000 {
+				compatible = "fsl,p4080-sec4.0-job-ring", "fsl,sec4.0-job-ring";
 				reg	   = <0x4000 0x1000>;
 				interrupts	 = <91 2 0 0>;
-				interrupt-parent = <&mpic>;
 			};
 
-			rtic@6100 {
+			rtic@6000 {
 				compatible = "fsl,p4080-sec4.0-rtic", "fsl,sec4.0-rtic";
 				#address-cells = <1>;
 				#size-cells = <1>;
-				reg		 = <0x6100 0x100>;
+				reg		 = <0x6000 0x100>;
 				ranges		 = <0x0 0x6100 0xe00>;
 
-				rtic_a: rtic-a@100 {
+				rtic_a: rtic-a@0 {
 					compatible = "fsl,p4080-sec4.0-rtic-memory", "fsl,sec4.0-rtic-memory";
-					reg		 = <0x100 0x20 0x200 0x80>;
+					reg		 = <0x00 0x20 0x100 0x80>;
 				};
 
-				rtic_b: rtic-b@120 {
+				rtic_b: rtic-b@20 {
 					compatible = "fsl,p4080-sec4.0-rtic-memory", "fsl,sec4.0-rtic-memory";
-					reg		 = <0x120 0x20 0x300 0x80>;
+					reg		 = <0x20 0x20 0x200 0x80>;
 				};
 
-				rtic_c: rtic-c@140 {
+				rtic_c: rtic-c@40 {
 					compatible = "fsl,p4080-sec4.0-rtic-memory", "fsl,sec4.0-rtic-memory";
-					reg		 = <0x140 0x20 0x400 0x80>;
+					reg		 = <0x40 0x20 0x300 0x80>;
 				};
 
-				rtic_d: rtic-d@160 {
+				rtic_d: rtic-d@60 {
 					compatible = "fsl,p4080-sec4.0-rtic-memory", "fsl,sec4.0-rtic-memory";
-					reg		 = <0x160 0x20 0x500 0x80>;
+					reg		 = <0x60 0x20 0x500 0x80>;
 				};
 			};
 		};
 
-		snvs: snvs@314000 {
-			compatible = "fsl,p4080-sec4.0-snvs", "fsl,sec4.0-snvs";
+		sec_mon: sec_mon@314000 {
+			compatible = "fsl,p4080-sec4.0-mon", "fsl,sec4.0-mon";
 			reg	   = <0x314000 0x1000>;
 			interrupts	 = <93 2 0 0>;
-			interrupt-parent = <&mpic>;
 		};
 
 		pme: pme@316000 {
@@ -1113,12 +940,13 @@
 			reg = <0x316000 0x10000>;
 			/* fsl,pme-pdsr = <0x0 0x23000000 0x0 0x01000000>; */
 			/* fsl,pme-sre = <0x0 0x24000000 0x0 0x00a00000>; */
-			interrupt-parent = <&mpic>;
+			interrupts = <16 2 1 5>;
 		};
 
 		qman: qman@318000 {
 			compatible = "fsl,p4080-qman", "fsl,qman";
 			reg = <0x318000 0x1000>;
+			interrupts = <16 2 1 3>;
 			/* Commented out, use default allocation */
 			/* fsl,qman-fqd = <0x0 0x20000000 0x0 0x01000000>; */
 			/* fsl,qman-pfdr = <0x0 0x21000000 0x0 0x01000000>; */
@@ -1127,6 +955,7 @@
 		bman: bman@31a000 {
 			compatible = "fsl,p4080-bman", "fsl,bman";
 			reg = <0x31a000 0x1000>;
+			interrupts = <16 2 1 2>;
 			/* Same as fsl,qman-*, use default allocation */
 			/* fsl,bman-fbpr = <0x0 0x22000000 0x0 0x01000000>; */
 		};
@@ -1138,10 +967,11 @@
 			compatible = "fsl,p4080-fman", "fsl,fman", "simple-bus";
 			ranges = <0 0x400000 0x100000>;
 			reg = <0x400000 0x100000>;
-			clock-frequency = <666>;
-			interrupts = <96 2 0 0>;
-			interrupt-parent = <&mpic>;
-
+			clock-frequency = <0>;
+			interrupts = <
+				96 2 0 0
+				16 2 1 1>;
+			
 			cc@0 {
 				compatible = "fsl,p4080-fman-cc", "fsl,fman-cc";
 			};
@@ -1492,10 +1322,12 @@
 			compatible = "fsl,p4080-fman", "fsl,fman", "simple-bus";
 			ranges = <0 0x500000 0x100000>;
 			reg = <0x500000 0x100000>;
-			clock-frequency = <666>;
-			interrupts = <97 2 0 0>;
-			interrupt-parent = <&mpic>;
+			clock-frequency = <0>;
+			interrupts = <
+				97 2 0 0
+				16 2 1 0>;
 
+			
 			cc@0 {
 				compatible = "fsl,p4080-fman-cc", "fsl,fman-cc";
 			};
@@ -1738,7 +1570,7 @@
 		compatible = "fsl,rapidio-delta";
 		reg = <0xf 0xfe0c0000 0 0x20000>;
 		ranges = <0 0 0xc 0x20000000 0 0x01000000>;
-		interrupt-parent = <&mpic>;
+		
 		interrupts = <
 			16 2 1 11 /* err_irq */
                         56 2 0 0  /* bell_outb_irq */
@@ -1761,8 +1593,7 @@
 			  0x01000000 0 0x00000000 0xf 0xf8000000 0x0 0x00010000>;
 		clock-frequency = <0x1fca055>;
 		fsl,msi = <&msi0>;
-		interrupt-parent = <&mpic>;
-
+		
 		interrupt-map-mask = <0xf800 0 0 7>;
 		interrupt-map = <
 			/* IDSEL 0x0 */
@@ -1798,7 +1629,6 @@
 			  0x01000000 0x0 0x00000000 0xf 0xf8010000 0x0 0x00010000>;
 		clock-frequency = <0x1fca055>;
 		fsl,msi = <&msi1>;
-		interrupt-parent = <&mpic>;
 		interrupt-map-mask = <0xf800 0 0 7>;
 		interrupt-map = <
 			/* IDSEL 0x0 */
@@ -1834,7 +1664,6 @@
 			  0x01000000 0 0x00000000 0xf 0xf8020000 0 0x00010000>;
 		clock-frequency = <0x1fca055>;
 		fsl,msi = <&msi2>;
-		interrupt-parent = <&mpic>;
 		interrupt-map-mask = <0xf800 0 0 7>;
 		interrupt-map = <
 			/* IDSEL 0x0 */
@@ -1917,7 +1746,6 @@
 		compatible = "fsl,p4080-elbc", "fsl,elbc", "simple-bus";
 		reg = <0xf 0xfe124000 0 0x1000>;
 		interrupts = <25 2 0 0>;
-		interrupt-parent = <&mpic>;
 		#address-cells = <2>;
 		#size-cells = <1>;
 
-- 
1.6.5.2

