From 7549e227062ad428ab95e269794407bf6591a4b5 Mon Sep 17 00:00:00 2001
From: Zhang Xiao <xiao.zhang@windriver.com>
Date: Mon, 24 Mar 2014 14:41:41 +0800
Subject: [PATCH] drm/i915: fix uninitialized variable warnings

Initialize the port variable in a similar manner as upstream commit a42f704b
[drm/i915: Warn if a pipe is enabled with a bogus port], to avoid an
uninitialized variable warning.

drivers/gpu/drm/i915/intel_ddi.c:1169:2: warning: 'port' may be used uninitialized in this function [-Wuninitialized]

Signed-off-by: Zhang Xiao <xiao.zhang@windriver.com>
---
 drivers/gpu/drm/i915/intel_ddi.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpu/drm/i915/intel_ddi.c b/drivers/gpu/drm/i915/intel_ddi.c
index 59b778d..def4a34 100644
--- a/drivers/gpu/drm/i915/intel_ddi.c
+++ b/drivers/gpu/drm/i915/intel_ddi.c
@@ -1148,7 +1148,7 @@ static uint32_t intel_ddi_get_crtc_pll(struct drm_i915_private *dev_priv,
 				       enum pipe pipe)
 {
 	uint32_t temp, ret;
-	enum port port;
+	enum port port = I915_MAX_PORTS;
 	enum transcoder cpu_transcoder = intel_pipe_to_cpu_transcoder(dev_priv,
 								      pipe);
 	int i;
-- 
1.7.5.4

