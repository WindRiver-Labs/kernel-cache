From fe40d4aa5b61116cb9394af49f132439a9368f5c Mon Sep 17 00:00:00 2001
From: Zhipeng Gong <zhipeng.gong@intel.com>
Date: Mon, 16 Jun 2014 10:53:27 +0800
Subject: [PATCH 06/14] drm/i915: add register MFC_QP_STATUS_COUNT for ring 1

[Original patch was taken from Intel MediaSDK]

Signed-off-by: Zhipeng Gong <zhipeng.gong@intel.com>
Signed-off-by: Pengyu Ma <pengyu.ma@windriver.com>
---
 drivers/gpu/drm/i915/i915_cmd_parser.c |    1 +
 drivers/gpu/drm/i915/i915_reg.h        |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/gpu/drm/i915/i915_cmd_parser.c b/drivers/gpu/drm/i915/i915_cmd_parser.c
index 0b032a7..fcc67e1 100644
--- a/drivers/gpu/drm/i915/i915_cmd_parser.c
+++ b/drivers/gpu/drm/i915/i915_cmd_parser.c
@@ -458,6 +458,7 @@ static const u32 gen7_vcs_regs[] = {
 	MFC_BITSTREAM_SE_BITCOUNT_FRAME,
 	MFC_IMAGE_STATUS_MASK,
 	MFC_IMAGE_STATUS_CONTROL,
+	MFC_QP_STATUS_COUNT,
 	MFC_BITSTREAM_BYTECOUNT_SLICE,
 };
 
diff --git a/drivers/gpu/drm/i915/i915_reg.h b/drivers/gpu/drm/i915/i915_reg.h
index 4cd3622..dae81e8 100644
--- a/drivers/gpu/drm/i915/i915_reg.h
+++ b/drivers/gpu/drm/i915/i915_reg.h
@@ -6677,5 +6677,6 @@ enum punit_power_well {
 #define MFC_BITSTREAM_SE_BITCOUNT_FRAME 0x124A4
 #define MFC_IMAGE_STATUS_MASK 0x124B4
 #define MFC_IMAGE_STATUS_CONTROL 0x124B8
+#define MFC_QP_STATUS_COUNT      0x124BC
 #define MFC_BITSTREAM_BYTECOUNT_SLICE 0x000124D0
 #endif /* _I915_REG_H_ */
-- 
1.7.5.4

