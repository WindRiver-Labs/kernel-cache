From 47dde84eef66c617f9557c9cd654543495ca22db Mon Sep 17 00:00:00 2001
From: Li Wang <li.wang@windriver.com>
Date: Fri, 9 Jan 2009 13:42:38 +0800
Subject: [PATCH] audio: give AACI more time to Initialise

On some boards, AACI initial needs a few millisecond, not only
a few microseconds.  AACI is embeded into FPGA, and is one of FPGA
devices.  Testing on boards has revealed that AACI initialization
is at first operating of the FPGA, and from that time to operating
AACI has about 42ms.

Signed-off-by: Li Wang <li.wang@windriver.com>
---
 sound/arm/aaci.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/sound/arm/aaci.c b/sound/arm/aaci.c
index b0a4744..5634442 100644
--- a/sound/arm/aaci.c
+++ b/sound/arm/aaci.c
@@ -946,9 +946,9 @@ static int __devinit aaci_probe_ac97(struct aaci *aaci)
 
 	/*
 	 * Give the AC'97 codec more than enough time
-	 * to wake up. (42us = ~2 frames at 48kHz.)
+	 * to wake up.
 	 */
-	udelay(42);
+	mdelay(42);
 
 	ret = snd_ac97_bus(aaci->card, 0, &aaci_bus_ops, aaci, &ac97_bus);
 	if (ret)
-- 
1.6.0.3

