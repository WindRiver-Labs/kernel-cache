From fc0450513d18bc23ee4f402604683d740836ab1e Mon Sep 17 00:00:00 2001
From: Yang, Xiao <xiao.yang@windriver.com>
Date: Tue, 15 May 2012 13:42:46 +0800
Subject: [PATCH 1/1] ima: remove reverse dependency between IMA and TCG_TPM/TCG_TIS

Bool config option CONFIG_IMA in security/integrity/ima/Kconfig will select
CONFIG_TCG_TPM/CONFIG_TCG_TIS=y mandatorily without any condition judgment.

In case need module tpm_tis.ko remove-able and replace-able by TPM emulator
software, this reverse dependency should be removed. TCG_TIS option will be
explicitly selected and be set to =m in driver/char/tpm/Kconfig seperately.

Signed-off-by: Yang, Xiao <xiao.yang@windriver.com>
---
 security/integrity/ima/Kconfig |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/security/integrity/ima/Kconfig b/security/integrity/ima/Kconfig
index 3d7846d..99337fa 100644
--- a/security/integrity/ima/Kconfig
+++ b/security/integrity/ima/Kconfig
@@ -9,8 +9,6 @@ config IMA
 	select CRYPTO_HMAC
 	select CRYPTO_MD5
 	select CRYPTO_SHA1
-	select TCG_TPM
-	select TCG_TIS
 	help
 	  The Trusted Computing Group(TCG) runtime Integrity
 	  Measurement Architecture(IMA) maintains a list of hash
-- 
1.7.0.5

