From 427c62757fa6e6c65d728fb501e6c11911429c54 Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Mon, 8 Apr 2013 14:39:38 +0300
Subject: [PATCH 22/36] fmd: add missing field into struct
 ioc_fm_pcd_manip_reassem_ip_stats_t

Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>

Structures in fm_pcd_ioctls.h and fm_pcd_ext.h should maintain their
compatibility

[Grabbed from the branch, LINUX_IR5.3.0_ALPHA, of
https://git.freescale.com/git-private/cgit.cgi/ppc/dpaa-offload/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 include/linux/fmd/Peripherals/fm_pcd_ioctls.h |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/include/linux/fmd/Peripherals/fm_pcd_ioctls.h b/include/linux/fmd/Peripherals/fm_pcd_ioctls.h
index 0123b17..a5004ca 100644
--- a/include/linux/fmd/Peripherals/fm_pcd_ioctls.h
+++ b/include/linux/fmd/Peripherals/fm_pcd_ioctls.h
@@ -2034,7 +2034,11 @@ typedef struct ioc_fm_pcd_manip_reassem_ip_stats_t {
     uint32_t    external_buffer_busy;             /**< Counts the number of times external buffer busy occurred */
     uint32_t    sg_fragments;                    /**< Counts the number of Scatter/Gather fragments */
     uint32_t    dma_semaphore_depletion;          /**< Counts the number of failed attempts to allocate a DMA semaphore */
-    struct {
+#if (DPAA_VERSION >= 11)
+    uint32_t        non_consistent_sp;            /**< Counts the number of Non Consistent Storage Profile events for
+                                                     successfully reassembled frames */
+#endif /* (DPAA_VERSION >= 11) */
+struct {
         uint32_t    successfully_reassembled;    /**< Counts the number of successfully reassembled frames */
         uint32_t    valid_fragments;             /**< Counts the total number of valid fragments that
                                                      have been processed for all frames */
-- 
1.7.5.4

