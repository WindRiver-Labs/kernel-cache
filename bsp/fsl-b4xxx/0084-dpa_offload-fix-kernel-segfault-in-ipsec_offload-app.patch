From a55966a24f34a925a7bfe4048587e6f5f6ba3d80 Mon Sep 17 00:00:00 2001
From: Alexandru Badicioiu <b15898@freescale.com>
Date: Thu, 22 Aug 2013 10:27:42 +0300
Subject: [PATCH 084/130] dpa_offload : fix kernel segfault in ipsec_offload
 application

Buffer pool id for frames enqueued to ipsec_offload inbound macless interface
must match the interface bpid.

Signed-off-by: Alexandru Badicioiu <alexandru.badicioiu@freescale.com>
[Fetch from http://git.freescale.com/git/cgit.cgi/ppc/sdk/linux.git/,
 Tag: fsl-sdk-v1.4.5
 rebase on current context.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 .../dts/b4860qds-usdpaa-shared-interfaces.dts      |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts b/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts
index 537d3f2..7baa9b1 100644
--- a/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts
+++ b/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts
@@ -149,7 +149,7 @@
 			/* Define frame queues for the OH port*/
 			/* <OH Rx error, OH Rx default> */
 			fsl,qman-frame-queues-oh = <0x6e 1 0x6f 1>;
-			fsl,bman-buffer-pools = <&bp9>;
+			fsl,bman-buffer-pools = <&bp16>;
 			fsl,fman-oh-port = <&fman0_oh2>;
 		};
                 dpa_fman0_oh3: dpa-fman0-oh@3 {
-- 
1.7.5.4

