From 1a039b136f43339c2ed9c4fcdf76e72f9a6845d9 Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Fri, 9 Nov 2012 19:04:47 +0000
Subject: [PATCH 376/518] dpa_classifier: Bug fix. ioctl code for
 "dpa_classif_table_get_params" was unrecognized

The definition of the ioctl code for 32bit user space/64bit kernel compat
mode was using the wrong data structure as argument.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 .../staging/fsl_dpa_offload/dpa_classifier_ioctl.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_classifier_ioctl.h b/drivers/staging/fsl_dpa_offload/dpa_classifier_ioctl.h
index ffa8a88..a402410 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_classifier_ioctl.h
+++ b/drivers/staging/fsl_dpa_offload/dpa_classifier_ioctl.h
@@ -625,7 +625,7 @@ int dpa_cls_hm_mpls_params_compatcpy(
 
 #ifdef CONFIG_COMPAT
 #define DPA_CLS_IOC_COMPAT_TBL_GET_PARAMS		\
-	_IOWR(DPA_CLS_IOC_MAGIC, 15, struct dpa_cls_compat_tbl_params)
+	_IOWR(DPA_CLS_IOC_MAGIC, 15, struct compat_ioc_dpa_cls_tbl_params)
 #endif /* CONFIG_COMPAT */
 
 #define DPA_CLS_IOC_SET_REMOVE_HM			\
-- 
1.7.5.4

