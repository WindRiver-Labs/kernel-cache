From 7d6c8feae4227454a8f2ec8187a508f2b7ee1bf3 Mon Sep 17 00:00:00 2001
From: Aurelian Zanoschi <aurelian.zanoschi@freescale.com>
Date: Thu, 11 Apr 2013 18:18:11 +0000
Subject: [PATCH 35/36] dpa_stats: Add support for UNICAST class counter

Enabled the UNICAST IN/OUT class counter support into DPA Stats
component by removing the condition that returned an error in case
of UNICAST class counter was selected.

Signed-off-by: Aurelian Zanoschi <Aurelian.Zanoschi@freescale.com>
[Grabbed from the branch, LINUX_IR5.3.0_ALPHA, of
https://git.freescale.com/git-private/cgit.cgi/ppc/dpaa-offload/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/staging/fsl_dpa_offload/dpa_stats.c |   10 ----------
 1 files changed, 0 insertions(+), 10 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_stats.c b/drivers/staging/fsl_dpa_offload/dpa_stats.c
index 1db6a4a..ac63a0c 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_stats.c
+++ b/drivers/staging/fsl_dpa_offload/dpa_stats.c
@@ -1457,16 +1457,6 @@ static int set_cls_cnt_eth_cb(struct dpa_stats_cnt_cb *cnt_cb,
 		cnt_sel -= 1;
 
 	for (i = 0; i < params->class_members; i++) {
-		/* 1G Port, DTSEC controller */
-		if (params->eth_params.src[i].eth_id <
-				DPA_STATS_ETH_10G_PORT0) {
-			if ((cnt_sel & DPA_STATS_CNT_ETH_IN_UNICAST_PKTS) ||
-			   (cnt_sel & DPA_STATS_CNT_ETH_OUT_UNICAST_PKTS)) {
-				pr_err("Invalid Ethernet counter selection\n");
-				return -EINVAL;
-			}
-		}
-
 		/* Get FM MAC handle */
 		err = get_fm_mac(params->eth_params.src[i], &h_FmMac);
 		if (err != 0) {
-- 
1.7.5.4

