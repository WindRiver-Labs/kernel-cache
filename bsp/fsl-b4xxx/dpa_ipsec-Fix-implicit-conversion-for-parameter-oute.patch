From 218f26c5bc6b0fb5135dd6db39da411cafb4cfb8 Mon Sep 17 00:00:00 2001
From: Anca-Jeanina Floarea <anca.floarea@freescale.com>
Date: Mon, 18 Feb 2013 21:52:36 +0000
Subject: [PATCH 471/518] dpa_ipsec: Fix implicit conversion for parameter
 "outerIPHdrLen"

The "outerIPHdrLen" parameter of function FM_PCD_ManipNodeSet is
an uint8_t, while the IPSec PDB "ip_hdr_len" can store an uint16_t
value.

Signed-off-by: Anca Jeanina FLOAREA <anca.floarea@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/staging/fsl_dpa_offload/dpa_ipsec.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_ipsec.c b/drivers/staging/fsl_dpa_offload/dpa_ipsec.c
index 3a4d1ea..52485f4 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_ipsec.c
+++ b/drivers/staging/fsl_dpa_offload/dpa_ipsec.c
@@ -1346,7 +1346,7 @@ static int create_ipsec_manip(struct dpa_ipsec_sa *sa, int next_hmd, int *hmd)
 		offld_params->u.ipsec.variableIpHdrLen = sa->use_var_iphdr_len;
 	} else {
 		offld_params->u.ipsec.variableIpVersion = true;
-		offld_params->u.ipsec.outerIPHdrLen =
+		offld_params->u.ipsec.outerIPHdrLen = (uint8_t)
 						sa->sec_desc->pdb_en.ip_hdr_len;
 	}
 	offld_params->u.ipsec.ecnCopy = sa->ecn_copy;
-- 
1.7.5.4

