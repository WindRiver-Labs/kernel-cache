From 686ddbc87f2f5b6658925cc6409b634098d993ec Mon Sep 17 00:00:00 2001
From: Anca-Jeanina Floarea <anca.floarea@freescale.com>
Date: Thu, 25 Oct 2012 23:15:27 +0000
Subject: [PATCH 338/518] dpa_stats: Replaced xx_zalloc with kzalloc function

Improper use of function xx_zalloc, call was replaced
with kernel function kzalloc.

Signed-off-by: Anca Jeanina FLOAREA <anca.floarea@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/staging/fsl_dpa_offload/dpa_stats.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_stats.c b/drivers/staging/fsl_dpa_offload/dpa_stats.c
index 3f3dcae..6a6e069 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_stats.c
+++ b/drivers/staging/fsl_dpa_offload/dpa_stats.c
@@ -2492,7 +2492,8 @@ int dpa_stats_init(const struct dpa_stats_params *params, int *dpa_stats_id)
 		return err;
 
 	/* Control block allocation */
-	dpa_stats = (struct dpa_stats *)xx_zalloc(sizeof(struct dpa_stats));
+	dpa_stats = (struct dpa_stats *)
+			kzalloc(sizeof(struct dpa_stats), GFP_KERNEL);
 	if (!dpa_stats) {
 		pr_err("Could not allocate memory for control block.\n");
 		return -ENOMEM;
-- 
1.7.5.4

