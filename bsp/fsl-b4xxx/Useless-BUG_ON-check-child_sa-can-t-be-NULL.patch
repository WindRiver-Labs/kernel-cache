From 4fef39b36cee4d207c20bc699a1dda58c6ae7602 Mon Sep 17 00:00:00 2001
From: andrei varvara <andrei.varvara@freescale.com>
Date: Mon, 21 May 2012 22:03:23 +0000
Subject: [PATCH 192/518] Useless BUG_ON check, child_sa can't be NULL

Fix Klocwork reported isssue.
Child SA can't be NULL since sa_is_parent is checking if
sa->child_sa is diffrent than NULL.

Signed-off-by: Andrei Varvara <andrei.varvara@freescale.com>
Acked-by: Mihai Serb <mihai.serb@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/staging/fsl_dpa_offload/dpa_ipsec.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_ipsec.c b/drivers/staging/fsl_dpa_offload/dpa_ipsec.c
index c7e2714..a03c83a 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_ipsec.c
+++ b/drivers/staging/fsl_dpa_offload/dpa_ipsec.c
@@ -3322,7 +3322,6 @@ int dpa_ipsec_remove_sa(int sa_id)
 	/* SA is parent? If so acquire its child's lock */
 	if (sa_is_parent(sa)) {
 		child_sa = sa->child_sa;
-		BUG_ON(!child_sa);
 		ret = mutex_trylock(&child_sa->lock);
 		if (ret == 0) {
 			mutex_unlock(&sa->lock);
-- 
1.7.5.4

