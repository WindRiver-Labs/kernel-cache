From 6787fa14053ba48037a42058977492a1eb8457c4 Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Tue, 11 Sep 2012 20:03:36 +0000
Subject: [PATCH 306/518] dpa_classifier: Fixed BUG_ON parameters

The code contains some BUG_ON statements in several zones completely
unaccessible to execution. These are usually only "default" cases in
switch statements after the range of the variable was already checked
for valid values. In case things do go horribly wrong (usually because
of bugs introduced by the developer) and execution does get into these
zones, these BUG_ON statements expressely cause the driver to hang and
the Linux kernel to complain about a bug.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/staging/fsl_dpa_offload/dpa_classifier.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_classifier.c b/drivers/staging/fsl_dpa_offload/dpa_classifier.c
index 2db4a8d..648ddfe 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_classifier.c
+++ b/drivers/staging/fsl_dpa_offload/dpa_classifier.c
@@ -3633,7 +3633,7 @@ static int remove_hm_update_params(struct dpa_cls_hm *premove_hm)
 		break;
 	default:
 		/* Should never get here */
-		BUG_ON(false);
+		BUG_ON(true);
 		break;
 	}
 
@@ -3825,7 +3825,7 @@ static int insert_hm_update_params(struct dpa_cls_hm *pinsert_hm)
 		break;
 	default:
 		/* Should never get here */
-		BUG_ON(false);
+		BUG_ON(true);
 	}
 
 	hm_node->params.u.hdr.insrtParams.u.generic.offset	= offset;
@@ -3959,7 +3959,7 @@ int dpa_classif_modify_insert_hm(int hmd,
 		break;
 	default:
 		/* Should never get here */
-		BUG_ON(false);
+		BUG_ON(true);
 	}
 
 	if (update) {
-- 
1.7.5.4

