From 0b5dcf903cd8f372a2ae94be808c82124d04bf95 Mon Sep 17 00:00:00 2001
From: Anca-Jeanina Floarea <anca.floarea@freescale.com>
Date: Fri, 9 Nov 2012 19:13:49 +0000
Subject: [PATCH 392/518] dpa_stats: Return appropriate error code

Return the appropriate error code in case of an error or 0 on success
in several wrapper functions.

Signed-off-by: Anca Jeanina FLOAREA <anca.floarea@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/staging/fsl_dpa_offload/wrp_dpa_stats.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/wrp_dpa_stats.c b/drivers/staging/fsl_dpa_offload/wrp_dpa_stats.c
index 797aad0..73241b3 100644
--- a/drivers/staging/fsl_dpa_offload/wrp_dpa_stats.c
+++ b/drivers/staging/fsl_dpa_offload/wrp_dpa_stats.c
@@ -1368,7 +1368,7 @@ static int do_ioctl_stats_reset_counters(void *args)
 
 	if (copy_to_user((void *)args, &prm, sizeof(prm))) {
 		pr_err("Could not copy the result to user space\n");
-		ret = -EINVAL;
+		return -EINVAL;
 	}
 
 	return 0;
@@ -1415,7 +1415,7 @@ static int do_ioctl_stats_compat_reset_counters(void *args)
 
 	if (copy_to_user((void *)args, &uprm, sizeof(uprm))) {
 		pr_err("Could not copy the result to user space\n");
-		ret = -EINVAL;
+		return -EINVAL;
 	}
 
 	return 0;
@@ -1997,7 +1997,7 @@ static long dpa_stats_tbl_cls_compatcpy(
 		}
 		kfree(pairs);
 	}
-	return ret;
+	return 0;
 }
 
 static long dpa_stats_ccnode_cls_compatcpy(
-- 
1.7.5.4

