From 084e30a1e83ab98fe793eef824f78a76e8bb19f9 Mon Sep 17 00:00:00 2001
From: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
Date: Fri, 19 Oct 2012 15:19:21 +0300
Subject: [PATCH 048/518] dpaa_eth: Remove unused start_tx field

Remove a field needlessly accessed on the egress fastpath.

Signed-off-by: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.h b/drivers/net/ethernet/freescale/dpa/dpaa_eth.h
index ab05560..1680b86 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.h
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.h
@@ -334,7 +334,6 @@ struct dpa_percpu_priv_s {
 	/* current number of skbs in the CPU's list */
 	int skb_count;
 #endif
-	u32 start_tx;
 	u32 in_interrupt;
 	u32 ingress_calls;
 	u32 tx_returned;
@@ -498,7 +497,6 @@ static inline int __hot dpa_xmit(struct dpa_priv_s *priv,
 {
 	int err, i;
 
-	prefetchw(&percpu->start_tx);
 	for (i = 0; i < 100000; i++) {
 		err = qman_enqueue(priv->egress_fqs[queue], fd, 0);
 		if (err != -EBUSY)
-- 
1.7.5.4

