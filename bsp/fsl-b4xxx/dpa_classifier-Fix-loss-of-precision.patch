From 1ab342a43b6befd49d54b2695dc4b0ec31a3af19 Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Tue, 26 Mar 2013 17:29:24 +0200
Subject: [PATCH 31/36] dpa_classifier: Fix loss of precision

Mark an explicit cast for the policer relative profile Id rather than
letting the compiler do it by default.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
[Grabbed from the branch, LINUX_IR5.3.0_ALPHA, of
https://git.freescale.com/git-private/cgit.cgi/ppc/dpaa-offload/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 drivers/staging/fsl_dpa_offload/dpa_classifier.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_classifier.c b/drivers/staging/fsl_dpa_offload/dpa_classifier.c
index 75a6f59..bdaf666 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_classifier.c
+++ b/drivers/staging/fsl_dpa_offload/dpa_classifier.c
@@ -3010,8 +3010,8 @@ static int action_to_next_engine_params(const struct dpa_cls_tbl_action *action,
 					sharedProfile = action->enq_params.
 					policer_params->shared_profile;
 				next_engine_params->params.plcrParams.
-			newRelativeProfileId = action->enq_params.
-			policer_params->new_rel_profile_id;
+			newRelativeProfileId = (uint16_t)action->enq_params.
+				policer_params->new_rel_profile_id;
 			} else {
 				next_engine_params->nextEngine = e_FM_PCD_DONE;
 			}
-- 
1.7.5.4

