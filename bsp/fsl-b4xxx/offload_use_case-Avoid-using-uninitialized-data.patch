From 54d1f9e8e50a054b33cfec6249fe083c01f33226 Mon Sep 17 00:00:00 2001
From: Radu-Andrei BULIE <radu.bulie@freescale.com>
Date: Wed, 31 Oct 2012 22:39:05 +0000
Subject: [PATCH 370/518] offload_use_case: Avoid using uninitialized data

The local variable buf was not initialized prior to use in function
"dbgfs_statistics_read". The patch fixes this issue.

Signed-off-by: Radu-Andrei BULIE <radu.bulie@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 .../staging/fsl_dpa_offload/usecases/dbgfs_ctl.c   |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/usecases/dbgfs_ctl.c b/drivers/staging/fsl_dpa_offload/usecases/dbgfs_ctl.c
index 1e82789..c90cc59 100644
--- a/drivers/staging/fsl_dpa_offload/usecases/dbgfs_ctl.c
+++ b/drivers/staging/fsl_dpa_offload/usecases/dbgfs_ctl.c
@@ -51,7 +51,7 @@ static ssize_t dbgfs_statistics_read(struct file *file, char __user *user_buf,
 	struct priv_data *priv = file->private_data;
 
 	memset(&sa_stats, 0, sizeof(struct dpa_ipsec_sa_stats));
-
+	memset(buf, 0, sizeof(buf));
 	dpa_ipsec_sa_get_stats(priv->sa_id, &sa_stats);
 
 	switch (priv->type) {
-- 
1.7.5.4

