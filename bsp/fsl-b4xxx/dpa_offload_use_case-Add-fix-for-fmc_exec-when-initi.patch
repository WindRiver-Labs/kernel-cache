From adafe0cfb958fb914deb671af4e84a72d060b803 Mon Sep 17 00:00:00 2001
From: Radu-Andrei BULIE <radu.bulie@freescale.com>
Date: Sat, 19 May 2012 16:06:05 +0000
Subject: [PATCH 203/518] dpa_offload_use_case: Add fix for fmc_exec when
 initializing a ccTree

ccTreeParams must be initialized with 0 each time a ccTree is created

Signed-off-by: Radu-Andrei BULIE <radu.bulie@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 .../staging/fsl_dpa_offload/usecases/fmc_exec.c    |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/usecases/fmc_exec.c b/drivers/staging/fsl_dpa_offload/usecases/fmc_exec.c
index a6363dd..21023a7 100644
--- a/drivers/staging/fsl_dpa_offload/usecases/fmc_exec.c
+++ b/drivers/staging/fsl_dpa_offload/usecases/fmc_exec.c
@@ -554,6 +554,7 @@ fmc_exec_cctree( fmc_model* model, unsigned int engine,
 #endif /* P1023 */
     unsigned int        i;
 
+    memset(&ccTreeParams, 0, sizeof(t_FmPcdCcTreeParams));
     ccTreeParams.numOfGrps = model->port[port].ccroot_count;
     ccTreeParams.h_NetEnv  = model->port[port].env_id_handle;
 #ifndef P1023
-- 
1.7.5.4

