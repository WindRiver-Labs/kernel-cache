From ad25b52a2a3080ddbdd62a1f3ff39dd578d611a1 Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Wed, 20 Feb 2013 20:09:48 +0000
Subject: [PATCH 450/518] dpa_classifier: Optimize runtime header manipulation
 modification identifiers

Some of the runtime header manipulation modification identifiers
were not making sense to be used all alone, hence some of the
updates were grouped to be easier to use.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
[Grabbed from the branch, LINUX_IR5.2.0, of
https://git.freescale.com/git-private/cgit.cgi/ppc/alu-b4860/linux.git.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 include/linux/fsl_dpa_classifier.h |   25 +++++++++++--------------
 1 files changed, 11 insertions(+), 14 deletions(-)

diff --git a/include/linux/fsl_dpa_classifier.h b/include/linux/fsl_dpa_classifier.h
index 216778d..16551e1 100644
--- a/include/linux/fsl_dpa_classifier.h
+++ b/include/linux/fsl_dpa_classifier.h
@@ -844,17 +844,15 @@ enum dpa_cls_hm_insert_type {
 enum dpa_cls_hm_insert_modify_flags {
 	/* Ethernet and PPPoE insert group */
 	DPA_CLS_HM_INS_MOD_ETH_HEADER		= 0x01,
-	DPA_CLS_HM_INS_MOD_NUM_QTAGS		= 0x02,
-	DPA_CLS_HM_INS_MOD_QTAGS_ARRAY		= 0x04,
-	DPA_CLS_HM_INS_MOD_PPPoE_HEADER		= 0x08,
+	DPA_CLS_HM_INS_MOD_QTAGS		= 0x02,
+	DPA_CLS_HM_INS_MOD_PPPoE_HEADER		= 0x04,
 
 	/* PPP insert group */
-	DPA_CLS_HM_INS_MOD_PPP_PID		= 0x10,
+	DPA_CLS_HM_INS_MOD_PPP_PID		= 0x08,
 
 	/* Custom insert group */
-	DPA_CLS_HM_INS_MOD_CUSTOM_OFFSET	= 0x20,
-	DPA_CLS_HM_INS_MOD_CUSTOM_SIZE		= 0x40,
-	DPA_CLS_HM_INS_MOD_CUSTOM_DATA		= 0x80
+	DPA_CLS_HM_INS_MOD_CUSTOM_OFFSET	= 0x10,
+	DPA_CLS_HM_INS_MOD_CUSTOM_DATA		= 0x20
 };
 
 /* General insert parameters */
@@ -1022,7 +1020,7 @@ struct dpa_cls_hm_l3_update_params {
 
 	/*
 	 * A combination of flags designating the header fields to replace. The
-	 * available options are defined in the dpa_cls_hm_l3_update_params enum
+	 * available options are defined in the dpa_cls_hm_l3_field_flags enum
 	 */
 	int					field_flags;
 };
@@ -1034,7 +1032,7 @@ struct dpa_cls_hm_l4_update_params {
 
 	/*
 	 * A combination of flags designating the header fields to replace. The
-	 * available options are defined in the dpa_cls_hm_l4_update_params enum
+	 * available options are defined in the dpa_cls_hm_l4_field_flags enum
 	 */
 	int		field_flags;
 };
@@ -1146,11 +1144,10 @@ enum dpa_cls_hm_vlan_modify_flags {
 	/* This flag cannot be combined with any other flags */
 	DPA_CLS_HM_VLAN_MOD_INGRESS_NUM_QTAGS		= 0x01,
 
-	DPA_CLS_HM_VLAN_MOD_EGRESS_NUM_QTAGS		= 0x02,
-	DPA_CLS_HM_VLAN_MOD_EGRESS_QTAGS_ARRAY		= 0x04,
-	DPA_CLS_HM_VLAN_MOD_EGRESS_UPDATE_OP		= 0x08,
-	DPA_CLS_HM_VLAN_MOD_EGRESS_VPRI			= 0x10,
-	DPA_CLS_HM_VLAN_MOD_EGRESS_DSCP_TO_VPRI_ARRAY	= 0x20
+	DPA_CLS_HM_VLAN_MOD_EGRESS_QTAGS		= 0x02,
+	DPA_CLS_HM_VLAN_MOD_EGRESS_UPDATE_OP		= 0x04,
+	DPA_CLS_HM_VLAN_MOD_EGRESS_VPRI			= 0x08,
+	DPA_CLS_HM_VLAN_MOD_EGRESS_DSCP_TO_VPRI_ARRAY	= 0x10
 };
 
 /* Ingress VLAN specific header manipulation parameters */
-- 
1.7.5.4

