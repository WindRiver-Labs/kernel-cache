From 3d1fad46669213e2dbf982872b68d3cb18893de9 Mon Sep 17 00:00:00 2001
From: Phil Staub <Phil.Staub@windriver.com>
Date: Fri, 29 Apr 2011 15:13:03 -0700
Subject: [PATCH 13/13] Cavium: Update USB bug fix after KDUMP calltrace fix

An earlier commit changed a struct name from "octeon_usb_priv_t" to
"struct octeon_hcd". A more recent commit adds a function using the
old name. Update to the correct usage.

Signed-off-by: Phil Staub <Phil.Staub@windriver.com>
---
 drivers/usb/host/octeon-hcd.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/usb/host/octeon-hcd.c b/drivers/usb/host/octeon-hcd.c
index 8f359e9..23ec6f7 100644
--- a/drivers/usb/host/octeon-hcd.c
+++ b/drivers/usb/host/octeon-hcd.c
@@ -690,7 +690,7 @@ static int octeon_usb_driver_remove_phy(struct device *dev)
 {
 	int status;
 	struct usb_hcd *hcd = dev_get_drvdata(dev);
-	octeon_usb_priv_t *priv = (octeon_usb_priv_t *)hcd->hcd_priv;
+	struct octeon_hcd *priv = hcd_to_octeon(hcd);
 	unsigned long flags;
 
 	DEBUG_CALL("OcteonUSB: %s called\n", __FUNCTION__);
-- 
1.7.0.4

