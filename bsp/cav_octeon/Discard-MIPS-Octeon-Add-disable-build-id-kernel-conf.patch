From 1d169b92b74cdec35f2e5c9449eb4f8281f3309a Mon Sep 17 00:00:00 2001
From: ltian <le.tian@windriver.com>
Date: Mon, 15 Nov 2010 16:12:41 +0800
Subject: [PATCH 121/132] Discard MIPS-Octeon-Add-disable-build-id-kernel-config.patch

Discard MIPS-Octeon-Add-disable-build-id-kernel-config.patch,
because there's no need to support so obsolete bootloader.

Signed-off-by: ltian <le.tian@windriver.com>
---
 Makefile                        |    2 --
 arch/mips/cavium-octeon/Kconfig |   15 ---------------
 2 files changed, 0 insertions(+), 17 deletions(-)

diff --git a/Makefile b/Makefile
index 45c1ca3..164788d 100644
--- a/Makefile
+++ b/Makefile
@@ -612,10 +612,8 @@ ifneq ($(KCFLAGS),)
 endif
 
 # Use --build-id when available.
-ifndef CONFIG_BUILD_ID_DISABLE
 LDFLAGS_BUILD_ID = $(patsubst -Wl$(comma)%,%,\
 			      $(call cc-ldoption, -Wl$(comma)--build-id,))
-endif
 LDFLAGS_MODULE += $(LDFLAGS_BUILD_ID)
 LDFLAGS_vmlinux += $(LDFLAGS_BUILD_ID)
 
diff --git a/arch/mips/cavium-octeon/Kconfig b/arch/mips/cavium-octeon/Kconfig
index 414e91e..e27bd12 100644
--- a/arch/mips/cavium-octeon/Kconfig
+++ b/arch/mips/cavium-octeon/Kconfig
@@ -308,18 +308,3 @@ config RAPIDIO
        bool
        default n
 
-config BUILD_ID_DISABLE
-	bool "Disable the build-id feature of the linker"
-	default "n"
-	help
-	  The 1.7.x SDK u-boot bootloader does not know how to
-	  handle the presence of a non-empty NOTES program header
-	  in the kernel load file. This occurs when the linker
-	  option '--build-id' is specified. Setting this option
-	  to 'Y' prevents use of the build-id feature and allows
-	  u-boot to load the kernel.
-
-	  1.9.x SDK u-boot bootloader can handle this correctly,
-	  so set the default value to N. If 1.7.x SDK u-boot is
-	  used, please se this option to Y.
-
-- 
1.6.5.2

