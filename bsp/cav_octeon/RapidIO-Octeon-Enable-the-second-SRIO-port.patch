From fb17b88fac58ec5a67badd5f534f1dc63e2b8272 Mon Sep 17 00:00:00 2001
From: ltian <le.tian@windriver.com>
Date: Mon, 15 Nov 2010 14:17:25 +0800
Subject: [PATCH 082/132] RapidIO: Octeon: Enable the second SRIO port.

Signed-off-by: Chad Reese <kreese@caviumnetworks.com>
Signed-off-by: ltian <le.tian@windriver.com>
---
 arch/mips/cavium-octeon/octeon-rapidio.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-rapidio.c b/arch/mips/cavium-octeon/octeon-rapidio.c
index 0fcef1d..446f4b6 100644
--- a/arch/mips/cavium-octeon/octeon-rapidio.c
+++ b/arch/mips/cavium-octeon/octeon-rapidio.c
@@ -597,8 +597,7 @@ static int __init octeon_rio_init(void)
 		RIO_PRINTK(&srio_ports[srio_port].mport, "Registering port\n");
 		if (cvmx_srio_initialize(srio_port,
 			CVMX_SRIO_INITIALIZE_DEBUG) == 0) {
-			if (!srio_port)
-				rio_register_mport(&srio_ports[srio_port].mport);
+			rio_register_mport(&srio_ports[srio_port].mport);
 			if (request_irq(OCTEON_IRQ_SRIO0 + srio_port,
 				octeon_rio_irq, IRQF_SHARED, "SRIO",
 				&srio_ports[srio_port].mport)) {
-- 
1.6.5.2

