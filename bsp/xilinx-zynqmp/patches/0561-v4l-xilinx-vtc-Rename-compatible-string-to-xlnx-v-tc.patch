From f218c0eb572332a2994c3f83ce4cfbe07662c073 Mon Sep 17 00:00:00 2001
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Date: Fri, 12 Sep 2014 23:17:07 +0300
Subject: [PATCH 561/827] v4l: xilinx: vtc: Rename compatible string to xlnx,v-tc

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

This matches the compatible string values used by the DT generator.

Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
(cherry picked from commit a9287c1109ad6f410081d002e17748051c7f68cb)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../bindings/media/xilinx/xlnx,axi-vtc.txt         | 33 ----------------------
 drivers/media/platform/xilinx/xilinx-vtc.c         |  4 +--
 2 files changed, 2 insertions(+), 35 deletions(-)
 delete mode 100644 Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt

diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt
deleted file mode 100644
index 39fb517..0000000
--- a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt
+++ /dev/null
@@ -1,33 +0,0 @@
-Xilinx Video Timing Controller (VTC)
-------------------------------------
-
-The Video Timing Controller is a general purpose video timing generator and
-detector.
-
-Required properties:
-
-  - compatible: Must be "xlnx,axi-vtc-6.1".
-
-  - reg: Physical base address and length of the registers set for the device.
-
-  - clocks: Must contain a clock specifier for the VTC core and timing
-    interfaces clock.
-
-Optional properties:
-
-  - xlnx,detector: The VTC has a timing detector
-  - xlnx,generator: The VTC has a timing generator
-
-  At least one of the xlnx,detector and xlnx,generator properties must be
-  specified.
-
-
-Example:
-
-	vtc: vtc@43c40000 {
-		compatible = "xlnx,axi-vtc-6.1";
-		reg = <0x43c40000 0x10000>;
-
-		clocks = <&clkc 15>;
-		xlnx,generator;
-	};
diff --git a/drivers/media/platform/xilinx/xilinx-vtc.c b/drivers/media/platform/xilinx/xilinx-vtc.c
index d6e0d17..cae4b8f 100644
--- a/drivers/media/platform/xilinx/xilinx-vtc.c
+++ b/drivers/media/platform/xilinx/xilinx-vtc.c
@@ -363,14 +363,14 @@ static int xvtc_remove(struct platform_device *pdev)
 }
 
 static const struct of_device_id xvtc_of_id_table[] = {
-	{ .compatible = "xlnx,axi-vtc-6.1" },
+	{ .compatible = "xlnx,v-tc-6.1" },
 	{ }
 };
 MODULE_DEVICE_TABLE(of, xvtc_of_id_table);
 
 static struct platform_driver xvtc_driver = {
 	.driver = {
-		.name = "xilinx-axi-vtc",
+		.name = "xilinx-vtc",
 		.of_match_table = xvtc_of_id_table,
 	},
 	.probe = xvtc_probe,
-- 
2.9.3

