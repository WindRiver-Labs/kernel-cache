From 691fa9cd9df65cf4913c277bc8ca14bde8cff9be Mon Sep 17 00:00:00 2001
From: Filip Drazic <filip.drazic@aggios.com>
Date: Mon, 8 Feb 2016 19:51:24 +0100
Subject: [PATCH 081/827] ARM64: zynqmp: Replace ACK_CALLBACK_STANDARD with ACK_NON_BLOCKING

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Signed-off-by: Filip Drazic <filip.drazic@aggios.com>
Acked-by: SÃ¶ren Brinkmann <soren.brinkmann@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit d2738205e12cd522a50edcfc7f59a86fa16a8048)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/soc/xilinx/zynqmp/pm.c       | 4 ++--
 include/linux/soc/xilinx/zynqmp/pm.h | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/soc/xilinx/zynqmp/pm.c b/drivers/soc/xilinx/zynqmp/pm.c
index a8d53ce..ed8b51f 100644
--- a/drivers/soc/xilinx/zynqmp/pm.c
+++ b/drivers/soc/xilinx/zynqmp/pm.c
@@ -738,7 +738,7 @@ static ssize_t zynqmp_pm_debugfs_api_write(struct file *file,
 					ZYNQMP_PM_CAPABILITY_ACCESS,
 			pm_api_arg[2] ? pm_api_arg[2] : 0,
 			pm_api_arg[3] ? pm_api_arg[3] :
-				ZYNQMP_PM_REQUEST_ACK_CALLBACK_STANDARD);
+				ZYNQMP_PM_REQUEST_ACK_NON_BLOCKING);
 		break;
 	case RELEASE_NODE:
 		ret = zynqmp_pm_release_node(pm_api_arg[0]);
@@ -749,7 +749,7 @@ static ssize_t zynqmp_pm_debugfs_api_write(struct file *file,
 					ZYNQMP_PM_CAPABILITY_CONTEXT,
 			pm_api_arg[2] ? pm_api_arg[2] : 0,
 			pm_api_arg[3] ? pm_api_arg[3] :
-				ZYNQMP_PM_REQUEST_ACK_CALLBACK_STANDARD);
+				ZYNQMP_PM_REQUEST_ACK_NON_BLOCKING);
 		break;
 	case SET_MAX_LATENCY:
 		ret = zynqmp_pm_set_max_latency(pm_api_arg[0],
diff --git a/include/linux/soc/xilinx/zynqmp/pm.h b/include/linux/soc/xilinx/zynqmp/pm.h
index 33107e1..24a2e46 100644
--- a/include/linux/soc/xilinx/zynqmp/pm.h
+++ b/include/linux/soc/xilinx/zynqmp/pm.h
@@ -40,7 +40,7 @@
 enum zynqmp_pm_request_ack {
 	ZYNQMP_PM_REQUEST_ACK_NO = 1,
 	ZYNQMP_PM_REQUEST_ACK_BLOCKING,
-	ZYNQMP_PM_REQUEST_ACK_CALLBACK_STANDARD,
+	ZYNQMP_PM_REQUEST_ACK_NON_BLOCKING,
 };
 
 enum zynqmp_pm_abort_reason {
-- 
2.9.3

