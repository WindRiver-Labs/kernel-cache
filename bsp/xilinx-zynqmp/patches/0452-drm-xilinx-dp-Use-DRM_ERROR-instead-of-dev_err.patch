From b3a0999def7fdaa2b8beeb432fc6c4e8c09c97db Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Tue, 10 Jun 2014 17:40:36 -0700
Subject: [PATCH 452/827] drm: xilinx: dp: Use DRM_ERROR() instead of dev_err()

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Use DRM_ERROR() for errors after the drm encoder operation is attached.

Signed-off-by: Hyun Kwon <hyunk@xilinx.com>
Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 8028fbb540537336a18875dd591ad0ac8aa4ba84)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpu/drm/xilinx/xilinx_drm_dp.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/xilinx/xilinx_drm_dp.c b/drivers/gpu/drm/xilinx/xilinx_drm_dp.c
index a72c994..3013c2c 100644
--- a/drivers/gpu/drm/xilinx/xilinx_drm_dp.c
+++ b/drivers/gpu/drm/xilinx/xilinx_drm_dp.c
@@ -492,7 +492,7 @@ static int xilinx_drm_dp_phy_ready(struct xilinx_drm_dp *dp)
 			return 0;
 
 		if (i == 100) {
-			dev_err(dp->dev, "PHY isn't ready\n");
+			DRM_ERROR("PHY isn't ready\n");
 			return -ENODEV;
 		}
 
@@ -1089,7 +1089,7 @@ static int xilinx_drm_dp_encoder_init(struct platform_device *pdev,
 	/* Get aclk rate */
 	clock_rate = clk_get_rate(dp->aclk);
 	if (clock_rate < XILINX_DP_TX_CLK_DIVIDER_MHZ) {
-		dev_err(dp->dev, "aclk should be higher than 1MHz\n");
+		DRM_ERROR("aclk should be higher than 1MHz\n");
 		return -EINVAL;
 	}
 
-- 
2.9.3

