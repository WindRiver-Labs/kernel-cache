From b897206d81818a2fb705c09486dd1d4cdda023c4 Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Fri, 21 Nov 2014 16:35:20 -0800
Subject: [PATCH 616/827] drm: xilinx: dp: Remove unnecessary register reads

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

No need to read registers before returning error codes.

Signed-off-by: Hyun Kwon <hyun.kwon@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 46fdc28232ad5f262e1839f20ad691089fed44d5)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpu/drm/xilinx/xilinx_drm_dp.c | 2 --
 1 file changed, 2 deletions(-)

diff --git a/drivers/gpu/drm/xilinx/xilinx_drm_dp.c b/drivers/gpu/drm/xilinx/xilinx_drm_dp.c
index 4f69c9c..7eb10e6 100644
--- a/drivers/gpu/drm/xilinx/xilinx_drm_dp.c
+++ b/drivers/gpu/drm/xilinx/xilinx_drm_dp.c
@@ -709,14 +709,12 @@ static int xilinx_drm_dp_train(struct xilinx_drm_dp *dp)
 	ret = xilinx_drm_dp_link_train_cr(dp);
 	if (ret) {
 		DRM_ERROR("failed to train clock recovery\n");
-		reg = xilinx_drm_readl(dp->iomem, XILINX_DP_TX_PHY_STATUS);
 		return ret;
 	}
 
 	ret = xilinx_drm_dp_link_train_ce(dp);
 	if (ret) {
 		DRM_ERROR("failed to train channel eq\n");
-		reg = xilinx_drm_readl(dp->iomem, XILINX_DP_TX_PHY_STATUS);
 		return ret;
 	}
 
-- 
2.9.3

