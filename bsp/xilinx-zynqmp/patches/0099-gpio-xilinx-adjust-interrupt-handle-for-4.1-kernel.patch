From a77448cf450d50d8fd8600a01232ba9b29380f1c Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Wed, 28 Sep 2016 10:57:16 +0800
Subject: [PATCH 099/827] gpio: xilinx: adjust interrupt handle for 4.1 kernel

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

This patch is to fix the not-proper function type for 4.1 on xilinx GPIO.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpio/gpio-xilinx.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/drivers/gpio/gpio-xilinx.c b/drivers/gpio/gpio-xilinx.c
index 72fb3cd..3531a0e 100644
--- a/drivers/gpio/gpio-xilinx.c
+++ b/drivers/gpio/gpio-xilinx.c
@@ -386,10 +386,8 @@ static int xgpio_to_irq(struct gpio_chip *gc, unsigned offset)
  * @irq: gpio irq number
  * @desc: Pointer to interrupt description
  */
-static void xgpio_irqhandler(struct irq_desc *desc)
+static void xgpio_irqhandler(unsigned int irq, struct irq_desc *desc)
 {
-	unsigned int irq = irq_desc_get_irq(desc);
-
 	struct xgpio_instance *chip = (struct xgpio_instance *)
 						irq_get_handler_data(irq);
 	struct of_mm_gpio_chip *mm_gc = &chip->mmchip;
-- 
2.9.3

