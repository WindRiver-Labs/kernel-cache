From 2077b1ba36612df834d6fd51ebc58207ab115cfb Mon Sep 17 00:00:00 2001
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Date: Wed, 5 Nov 2014 17:14:25 +0200
Subject: [PATCH 574/827] v4l: xilinx: dma: Remove explicit trailing \0 after snprintf

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

snprintf adds a trailing zero even when it truncates the printed chain.
Don't add a trailing \0 manually.

Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
(cherry picked from commit 3421c74ebd15821d5a7669113a18a9f5219a9861)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/media/platform/xilinx/xilinx-dma.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/media/platform/xilinx/xilinx-dma.c b/drivers/media/platform/xilinx/xilinx-dma.c
index d850460..1be1936 100644
--- a/drivers/media/platform/xilinx/xilinx-dma.c
+++ b/drivers/media/platform/xilinx/xilinx-dma.c
@@ -530,7 +530,6 @@ xvip_dma_querycap(struct file *file, void *fh, struct v4l2_capability *cap)
 	strlcpy(cap->card, dma->video.name, sizeof(cap->card));
 	snprintf(cap->bus_info, sizeof(cap->bus_info), "platform:%s:%u",
 		 dma->xdev->dev->of_node->name, dma->port);
-	cap->bus_info[sizeof(cap->bus_info) - 1] = '\0';
 
 	return 0;
 }
-- 
2.9.3

