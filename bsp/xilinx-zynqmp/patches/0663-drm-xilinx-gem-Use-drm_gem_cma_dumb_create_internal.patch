From edfd0cfd23cad987395bfa9f877f865da9b9577f Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Fri, 29 Jan 2016 17:27:34 -0800
Subject: [PATCH 663/827] drm: xilinx: gem: Use drm_gem_cma_dumb_create_internal()

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

drm_gem_cma_dumb_create() has been modified, and
drm_gem_cma_dumb_create_internal() should be used in order to
modify the pitch and return the value to user space.

Signed-off-by: Hyun Kwon <hyun.kwon@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit e973826464d21dab79b25642a0dde8c2ff6a9f3a)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpu/drm/xilinx/xilinx_drm_gem.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/xilinx/xilinx_drm_gem.c b/drivers/gpu/drm/xilinx/xilinx_drm_gem.c
index 998bfae..b554c20 100644
--- a/drivers/gpu/drm/xilinx/xilinx_drm_gem.c
+++ b/drivers/gpu/drm/xilinx/xilinx_drm_gem.c
@@ -41,5 +41,5 @@ int xilinx_drm_gem_cma_dumb_create(struct drm_file *file_priv,
 
 	args->pitch = ALIGN(pitch, xilinx_drm_get_align(drm));
 
-	return drm_gem_cma_dumb_create(file_priv, drm, args);
+	return drm_gem_cma_dumb_create_internal(file_priv, drm, args);
 }
-- 
2.9.3

