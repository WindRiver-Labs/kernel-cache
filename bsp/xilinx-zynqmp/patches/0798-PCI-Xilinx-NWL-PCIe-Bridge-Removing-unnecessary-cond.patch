From bf725395ad875be4fc301072a5a1283295edc09a Mon Sep 17 00:00:00 2001
From: Bharat Kumar Gogada <bharat.kumar.gogada@xilinx.com>
Date: Mon, 15 Feb 2016 21:18:53 +0530
Subject: [PATCH 798/827] PCI: Xilinx NWL PCIe Bridge: Removing unnecessary condition

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Removing unnecessary condition in nwl_pcie_valid_device function.

Signed-off-by: Bharat Kumar Gogada <bharatku@xilinx.com>
Signed-off-by: Ravi Kiran Gummaluri <rgummal@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit d62ed307f9a8787c29118c755e4bafd2b0288416)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/pci/host/pci-xilinx-nwl.c | 7 -------
 1 file changed, 7 deletions(-)

diff --git a/drivers/pci/host/pci-xilinx-nwl.c b/drivers/pci/host/pci-xilinx-nwl.c
index a9bfecb..5272a86 100644
--- a/drivers/pci/host/pci-xilinx-nwl.c
+++ b/drivers/pci/host/pci-xilinx-nwl.c
@@ -303,13 +303,6 @@ static bool nwl_pcie_valid_device(struct pci_bus *bus, unsigned int devfn)
 	if (bus->number == pcie->root_busno && devfn > 0)
 		return false;
 
-	/*
-	 * Do not read more than one device on the bus directly attached
-	 * to root port.
-	 */
-	if (bus->primary == pcie->root_busno && devfn > 0)
-		return false;
-
 	return true;
 }
 
-- 
2.9.3

