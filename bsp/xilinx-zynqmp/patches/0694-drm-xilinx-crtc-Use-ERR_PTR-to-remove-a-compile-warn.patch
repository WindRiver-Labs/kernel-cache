From 4e6f216d080ee1de5361ad0b2f67994a871f915d Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Fri, 15 Jul 2016 10:22:05 -0700
Subject: [PATCH 694/827] drm: xilinx: crtc: Use ERR_PTR() to remove a compile warning

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Reported-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
Signed-off-by: Hyun Kwon <hyun.kwon@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit c66bf3741a4b1ff00787eefe9995af401a998c44)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpu/drm/xilinx/xilinx_drm_crtc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/xilinx/xilinx_drm_crtc.c b/drivers/gpu/drm/xilinx/xilinx_drm_crtc.c
index 7f37061..6bc4212 100644
--- a/drivers/gpu/drm/xilinx/xilinx_drm_crtc.c
+++ b/drivers/gpu/drm/xilinx/xilinx_drm_crtc.c
@@ -480,7 +480,7 @@ struct drm_crtc *xilinx_drm_crtc_create(struct drm_device *drm)
 	/* probe a plane manager */
 	crtc->plane_manager = xilinx_drm_plane_probe_manager(drm);
 	if (IS_ERR(crtc->plane_manager)) {
-		if ((int)crtc->plane_manager != -EPROBE_DEFER)
+		if (PTR_ERR(crtc->plane_manager) != -EPROBE_DEFER)
 			DRM_ERROR("failed to probe a plane manager\n");
 		return ERR_CAST(crtc->plane_manager);
 	}
-- 
2.9.3

