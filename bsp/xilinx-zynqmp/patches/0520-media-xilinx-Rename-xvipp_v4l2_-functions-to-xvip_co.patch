From d59df1684eb08b28aba664dc191a0a8db3ca9bfb Mon Sep 17 00:00:00 2001
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Date: Wed, 26 Mar 2014 04:01:55 +0100
Subject: [PATCH 520/827] media: xilinx: Rename xvipp_v4l2_* functions to xvip_composite_v4l2_*

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

This prepares for support of complex graphs with multiple pipelines.

Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 979de172ade574810dd92b02324ca3d8c2e20bd9)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/media/platform/xilinx/xilinx-vipp.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/drivers/media/platform/xilinx/xilinx-vipp.c b/drivers/media/platform/xilinx/xilinx-vipp.c
index 1aa0cb0..02a034b 100644
--- a/drivers/media/platform/xilinx/xilinx-vipp.c
+++ b/drivers/media/platform/xilinx/xilinx-vipp.c
@@ -516,14 +516,14 @@ done:
  * Media Controller and V4L2
  */
 
-static void xvipp_v4l2_cleanup(struct xvip_composite_device *xdev)
+static void xvip_composite_v4l2_cleanup(struct xvip_composite_device *xdev)
 {
 	v4l2_ctrl_handler_free(&xdev->ctrl_handler);
 	v4l2_device_unregister(&xdev->v4l2_dev);
 	media_device_unregister(&xdev->media_dev);
 }
 
-static int xvipp_v4l2_init(struct xvip_composite_device *xdev)
+static int xvip_composite_v4l2_init(struct xvip_composite_device *xdev)
 {
 	int ret;
 
@@ -571,7 +571,7 @@ static int xvipp_probe(struct platform_device *pdev)
 	INIT_LIST_HEAD(&xdev->entities);
 	mutex_init(&xdev->lock);
 
-	ret = xvipp_v4l2_init(xdev);
+	ret = xvip_composite_v4l2_init(xdev);
 	if (ret < 0)
 		return ret;
 
@@ -586,7 +586,7 @@ static int xvipp_probe(struct platform_device *pdev)
 	return 0;
 
 error:
-	xvipp_v4l2_cleanup(xdev);
+	xvip_composite_v4l2_cleanup(xdev);
 	return ret;
 }
 
@@ -595,7 +595,7 @@ static int xvipp_remove(struct platform_device *pdev)
 	struct xvip_composite_device *xdev = platform_get_drvdata(pdev);
 
 	xvip_graph_cleanup(xdev);
-	xvipp_v4l2_cleanup(xdev);
+	xvip_composite_v4l2_cleanup(xdev);
 	mutex_destroy(&xdev->lock);
 
 	return 0;
-- 
2.9.3

