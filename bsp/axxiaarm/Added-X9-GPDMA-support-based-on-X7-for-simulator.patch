From 15a4935c68978b94629647f169ffc54a876a7144 Mon Sep 17 00:00:00 2001
From: SangeethaRao <sangeetha.rao@lsi.com>
Date: Fri, 12 Dec 2014 10:58:20 +0100
Subject: [PATCH 43/59] Added X9 GPDMA support based on X7 for simulator

git://git.yoctoproject.org/linux-yocto-4.1 standard/axxia/base
	commit 603a532ea14a46e58a63c7c883c4bcbc93753a08

Signed-off-by: SangeethaRao <sangeetha.rao@lsi.com>
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/dma/Kconfig  |   10 ++++++++++
 drivers/dma/Makefile |    1 +
 2 files changed, 11 insertions(+), 0 deletions(-)

diff --git a/drivers/dma/Kconfig b/drivers/dma/Kconfig
index bda2cb0..a3b58e8 100644
--- a/drivers/dma/Kconfig
+++ b/drivers/dma/Kconfig
@@ -101,6 +101,16 @@ config AT_XDMAC
 	help
 	  Support the Atmel XDMA controller.
 
+config LSI_DMA
+	tristate "LSI General Purpose DMA support"
+	depends on ARCH_AXXIA
+	select DMA_ENGINE
+	select DMA_VIRTUAL_CHANNELS
+	select ASYNC_TX_ENABLE_CHANNEL_SWITCH
+	help
+	  Enable support for the LSI General Purpose DMA controller found
+	  on ACP34xx, AXM25xx, AXM55xx and AXM56xx devices.
+
 config FSL_DMA
 	tristate "Freescale Elo series DMA support"
 	depends on FSL_SOC
diff --git a/drivers/dma/Makefile b/drivers/dma/Makefile
index 69f77d5..22cf0e7 100644
--- a/drivers/dma/Makefile
+++ b/drivers/dma/Makefile
@@ -6,6 +6,7 @@ obj-$(CONFIG_DMA_VIRTUAL_CHANNELS) += virt-dma.o
 obj-$(CONFIG_DMA_ACPI) += acpi-dma.o
 obj-$(CONFIG_DMA_OF) += of-dma.o
 
+obj-$(CONFIG_LSI_DMA) += lsi-dma32.o
 obj-$(CONFIG_DMATEST) += dmatest.o
 obj-$(CONFIG_INTEL_IOATDMA) += ioat/
 obj-$(CONFIG_INTEL_IOP_ADMA) += iop-adma.o
-- 
1.7.5.4

