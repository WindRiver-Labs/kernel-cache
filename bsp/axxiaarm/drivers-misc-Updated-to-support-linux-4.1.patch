From 646a964dbead48dff80a436a8482091599ddfeb9 Mon Sep 17 00:00:00 2001
From: Charlie Paul <cpaul.windriver@gmail.com>
Date: Tue, 1 Sep 2015 21:23:10 -0700
Subject: [PATCH 54/59] drivers/misc: Updated to support linux 4.1

git://git.yoctoproject.org/linux-yocto-4.1 standard/axxia/base
	commit fff788efafb23c1cb3193bfdea6f9859b1779fa4

Had to remove the 5600 references to compile

Signed-off-by: Charlie Paul <cpaul.windriver@gmail.com>
[Xulin: add CONFIG_ARCH_AXXIA to exclude the code.]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/misc/lsi-mtc.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/drivers/misc/lsi-mtc.c b/drivers/misc/lsi-mtc.c
index 7baa8e2..6214bd6 100644
--- a/drivers/misc/lsi-mtc.c
+++ b/drivers/misc/lsi-mtc.c
@@ -3515,6 +3515,7 @@ mtc_dev_ioctl(struct file *filp, unsigned int cmd, unsigned long arg)
 
 		break;
 
+#ifndef CONFIG_ARCH_AXXIA
 	case MTC_AXI_EXT_PRGM_MEM_ENABLE:
 
 		if (of_find_compatible_node(NULL, NULL, "lsi,axm5600")) {
@@ -3888,7 +3889,7 @@ mtc_dev_ioctl(struct file *filp, unsigned int cmd, unsigned long arg)
 		}
 
 		break;
-
+#endif
 
 	default:
 		pr_debug("Invalid ioctl cmd=%d MTC_DEBUG_OP=%ld\n",
-- 
1.7.5.4

