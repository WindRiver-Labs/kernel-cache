From b92dc36c862a342449f009f8bc2b88f8b371e982 Mon Sep 17 00:00:00 2001
From: John Jacques <john.jacques@intel.com>
Date: Fri, 8 Jan 2016 17:51:42 +0200
Subject: [PATCH 81/86] include/linux: Resolve Compile Warning

Some versions of gcc warn if a bool (in this case the
result of the ending the macro with '!= 0'.  Also
casting to (unsigned long) as this is what the print
formats expect.

Signed-off-by: John Jacques <john.jacques@intel.com>
Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
[Original patch is from linux-yocto-4.1 axxia/base branch.]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 include/linux/blkdev.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/include/linux/blkdev.h b/include/linux/blkdev.h
index d9ea5e8..9810078 100644
--- a/include/linux/blkdev.h
+++ b/include/linux/blkdev.h
@@ -622,7 +622,7 @@ static inline void queue_flag_clear(unsigned int flag, struct request_queue *q)
 
 #define list_entry_rq(ptr)	list_entry((ptr), struct request, queuelist)
 
-#define rq_data_dir(rq)		(((rq)->cmd_flags & 1) != 0)
+#define rq_data_dir(rq)		(unsigned int)((rq)->cmd_flags & 1)
 
 /*
  * Driver can handle struct request, if it either has an old style
-- 
1.7.5.4

