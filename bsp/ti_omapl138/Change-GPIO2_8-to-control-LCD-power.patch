From 505b47e340d4c06a1206dc88555e3e2ac61413e5 Mon Sep 17 00:00:00 2001
From: Stanley.Miao <stanley.miao@windriver.com>
Date: Mon, 7 Dec 2009 22:24:54 +0800
Subject: [PATCH 39/43] Change GPIO2_8 to control LCD power.

On the OMAPL138 Beta version board, it is GPIO2_8, not GPIO8_10 any more,
to control the LCD power enable.

Signed-off-by: Stanley.Miao <stanley.miao@windriver.com>
---
 arch/arm/mach-davinci/da850.c                   |    2 +-
 arch/arm/mach-davinci/devices.c                 |    2 +-
 arch/arm/mach-davinci/include/mach/da8xx_lcdc.h |    4 ++--
 arch/arm/mach-davinci/include/mach/mux.h        |    2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/arm/mach-davinci/da850.c b/arch/arm/mach-davinci/da850.c
index c84cfd9..5e49221 100644
--- a/arch/arm/mach-davinci/da850.c
+++ b/arch/arm/mach-davinci/da850.c
@@ -632,7 +632,7 @@ static const struct mux_config davinci_da850_pins[] = {
 	DA8XX_MUX_CFG(DA850,	GPIO4_0,	10,   28,  15,   8,	false)
 	DA8XX_MUX_CFG(DA850,	GPIO4_1,	10,   24,  15,   8,	false)
 	DA8XX_MUX_CFG(DA850,	GPIO2_15,	5,    0,   15,   8,	false)
-	DA8XX_MUX_CFG(DA850,	GPIO8_10,	18,   28,  15,   8,	false)
+	DA8XX_MUX_CFG(DA850,	GPIO2_8,	5,    28,  15,   8,     false)
 };
 
 static const s8 dma0_chan_da850_no_event[] = {
diff --git a/arch/arm/mach-davinci/devices.c b/arch/arm/mach-davinci/devices.c
index e10923b..6e156e1 100644
--- a/arch/arm/mach-davinci/devices.c
+++ b/arch/arm/mach-davinci/devices.c
@@ -597,7 +597,7 @@ static int __init davinci_init_devices(void)
 			davinci_cfg_reg(DA850_LCD_VSYNC);
 			davinci_cfg_reg(DA850_NLCD_AC_ENB_CS);
 			davinci_cfg_reg(DA850_GPIO2_15);
-			davinci_cfg_reg(DA850_GPIO8_10);
+			davinci_cfg_reg(DA850_GPIO2_8);
 		}
 	}
 
diff --git a/arch/arm/mach-davinci/include/mach/da8xx_lcdc.h b/arch/arm/mach-davinci/include/mach/da8xx_lcdc.h
index 7f65332..e7a1e48 100644
--- a/arch/arm/mach-davinci/include/mach/da8xx_lcdc.h
+++ b/arch/arm/mach-davinci/include/mach/da8xx_lcdc.h
@@ -12,8 +12,8 @@
 
 /* GPIO 2[15] is used for LCD backlight - 16 * 2 + 15 = 47 */
 #define DA850_LCD_BL_GPIO	47
-/* GPIO 8[10] is used for LCD POWER - 16 * 8 + 10 = 138 */
-#define DA850_LCD_POWER_GPIO	138
+/* GPIO 2[8] is used for LCD POWER - 16 * 2 + 8 = 40 */
+#define DA850_LCD_POWER_GPIO	40
 
 struct da8xx_lcdc_platform_data {
 	const char *lcdc_clk_name;
diff --git a/arch/arm/mach-davinci/include/mach/mux.h b/arch/arm/mach-davinci/include/mach/mux.h
index d8d80f9..bcdf115 100644
--- a/arch/arm/mach-davinci/include/mach/mux.h
+++ b/arch/arm/mach-davinci/include/mach/mux.h
@@ -536,7 +536,7 @@ enum davinci_da850_index {
 	DA850_GPIO4_0,
 	DA850_GPIO4_1,
 	DA850_GPIO2_15,
-	DA850_GPIO8_10,
+	DA850_GPIO2_8,
 
 	/* USB0 DRVVBUS index */
 	DA850_USB0_DRVVBUS,
-- 
1.6.5.2

