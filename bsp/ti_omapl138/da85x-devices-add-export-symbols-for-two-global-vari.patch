From b289cc9520d57e9d46ed26f2529f184780c75449 Mon Sep 17 00:00:00 2001
From: Wang Hui <Hui.Wang@windriver.com>
Date: Wed, 1 Sep 2010 20:10:14 -0700
Subject: [PATCH] da85x/devices: add export symbols for two global variables

When we build musb as a kernel module and execute
"insmod musb_hdrc.ko", the following error is displayed:
"Unknown symbol da8xx_syscfg0_base" error occurs when add musb_hdrc.ko
on ti_omapl138.

This is because the global variable refered in the musb_hdrc.ko is not
an export symbol.

[The change is take from the commit 3375ec1 of
 git://arago-project.org/git/projects/linux-omapl1.git
 refs/heads/DAVINCIPSP_03.20.00.11]

Signed-off-by: Wang Hui <Hui.Wang@windriver.com>
---
 arch/arm/mach-davinci/devices-da8xx.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-davinci/devices-da8xx.c b/arch/arm/mach-davinci/devices-da8xx.c
index 5d1369c..234c4f2 100644
--- a/arch/arm/mach-davinci/devices-da8xx.c
+++ b/arch/arm/mach-davinci/devices-da8xx.c
@@ -46,7 +46,9 @@
 #define DA8XX_EMAC_CTRL_RAM_SIZE	SZ_8K
 
 void __iomem *da8xx_syscfg0_base;
+EXPORT_SYMBOL_GPL(da8xx_syscfg0_base);
 void __iomem *da8xx_syscfg1_base;
+EXPORT_SYMBOL_GPL(da8xx_syscfg1_base);
 
 static struct plat_serial8250_port da8xx_serial_pdata[] = {
 	{
-- 
1.6.5.2

