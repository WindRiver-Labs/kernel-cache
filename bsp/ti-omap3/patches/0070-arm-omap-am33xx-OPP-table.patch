From 4e651b0ff1d2ee2c204434513b9f57aa49eba2f4 Mon Sep 17 00:00:00 2001
From: Afzal Mohammed <afzal@ti.com>
Date: Tue, 29 Nov 2011 16:11:10 +0530
Subject: [PATCH 070/609] arm:omap:am33xx: OPP table

Original commit: f5a6422d4e0e85a9c7f5522d3321254bfdfa7f04

  From git://arago-project.org/git/projects/linux-am33x.git
  And ti-sdk-am335x-evm-05.05.00.00-Linux-x86-Install image

OPP table for MPU voltage domain

Signed-off-by: Afzal Mohammed <afzal@ti.com>
---
 arch/arm/mach-omap2/opp3xxx_data.c |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-omap2/opp3xxx_data.c b/arch/arm/mach-omap2/opp3xxx_data.c
index d95f3f9..0e540c8 100644
--- a/arch/arm/mach-omap2/opp3xxx_data.c
+++ b/arch/arm/mach-omap2/opp3xxx_data.c
@@ -150,6 +150,26 @@ static struct omap_opp_def __initdata omap36xx_opp_def_list[] = {
 	OPP_INITIALIZER("iva", false, 800000000, OMAP3630_VDD_MPU_OPP1G_UV),
 };
 
+/* 33xx */
+
+/* VDD1 */
+
+#define AM33XX_VDD_MPU_OPP50_UV		950000
+#define AM33XX_VDD_MPU_OPP100_UV	1100000
+#define AM33XX_VDD_MPU_OPP120_UV	1200000
+#define AM33XX_VDD_MPU_OPPTURBO_UV	1260000
+
+static struct omap_opp_def __initdata am33xx_opp_def_list[] = {
+	/* MPU OPP1 - OPP50 */
+	OPP_INITIALIZER("mpu", true,  275000000, AM33XX_VDD_MPU_OPP50_UV),
+	/* MPU OPP2 - OPP100 */
+	OPP_INITIALIZER("mpu", true,  500000000, AM33XX_VDD_MPU_OPP100_UV),
+	/* MPU OPP3 - OPP120 */
+	OPP_INITIALIZER("mpu", true,  600000000, AM33XX_VDD_MPU_OPP120_UV),
+	/* MPU OPP4 - OPPTurbo */
+	OPP_INITIALIZER("mpu", true,  720000000, AM33XX_VDD_MPU_OPPTURBO_UV),
+};
+
 /**
  * omap3_opp_init() - initialize omap3 opp table
  */
@@ -163,6 +183,9 @@ int __init omap3_opp_init(void)
 	if (cpu_is_omap3630())
 		r = omap_init_opp_table(omap36xx_opp_def_list,
 			ARRAY_SIZE(omap36xx_opp_def_list));
+	else if (cpu_is_am33xx())
+		r = omap_init_opp_table(am33xx_opp_def_list,
+			ARRAY_SIZE(am33xx_opp_def_list));
 	else
 		r = omap_init_opp_table(omap34xx_opp_def_list,
 			ARRAY_SIZE(omap34xx_opp_def_list));
-- 
1.7.5.4

