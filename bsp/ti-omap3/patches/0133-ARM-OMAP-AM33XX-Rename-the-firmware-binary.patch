From 0ec477ff6910f512a4346fdb7d65483c5c0401f5 Mon Sep 17 00:00:00 2001
From: Vaibhav Bedia <vaibhav.bedia@ti.com>
Date: Fri, 9 Mar 2012 21:17:48 +0530
Subject: [PATCH 133/609] ARM: OMAP: AM33XX: Rename the firmware binary

Original commit: 0af1c765ab0d071b25cd518d033041d68894f4b8

  From git://arago-project.org/git/projects/linux-am33x.git
  And ti-sdk-am335x-evm-05.05.00.00-Linux-x86-Install image

Update the name of the firmware binary to be loaded
onto Cortex-M3 for low power transitions.

If the binary is not provided at the time of kernel
compilation there's a timeout of 60 seconds. To avoid
creating any confusion due to missing binary add a
message indicating that the firmware is now going
to be loaded.

Signed-off-by: Vaibhav Bedia <vaibhav.bedia@ti.com>
---
 arch/arm/mach-omap2/pm33xx.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/pm33xx.c b/arch/arm/mach-omap2/pm33xx.c
index bdb0864..23e122d 100644
--- a/arch/arm/mach-omap2/pm33xx.c
+++ b/arch/arm/mach-omap2/pm33xx.c
@@ -371,8 +371,10 @@ static int wkup_m3_init(void)
 		goto err5;
 	}
 
+	pr_info("Trying to load am335x-pm-firmware.bin\n");
+
 	/* Now try to load the firware */
-	ret = request_firmware(&firmware, "cm3-firmware.bin", mpu_dev);
+	ret = request_firmware(&firmware, "am335x-pm-firmware.bin", mpu_dev);
 	if (ret < 0) {
 		dev_err(mpu_dev, "request_firmware failed\n");
 		goto err6;
-- 
1.7.5.4

