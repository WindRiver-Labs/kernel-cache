From e721c33b2c700ff90d6757cc830655a463ec48d2 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Fri, 26 Oct 2012 13:59:58 +0800
Subject: [PATCH 608/609] arm: omap: am335x: fix wrong remove for pmu init

commit ef7e409d131fbc96553c9323adbe81533beca614 in
git://arago-project.org/git/projects/linux-am33x.git
Removes support for non-existent, or unused devices.
WRL supports these platforms, so we restore the support.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/mach-omap2/devices.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/devices.c b/arch/arm/mach-omap2/devices.c
index c3bd660..fe95391 100644
--- a/arch/arm/mach-omap2/devices.c
+++ b/arch/arm/mach-omap2/devices.c
@@ -634,7 +634,7 @@ static void omap_init_pmu(void)
 {
 	if (cpu_is_omap24xx())
 		omap_pmu_device.resource = &omap2_pmu_resource;
-	else if (cpu_is_omap34xx() && !cpu_is_am33xx())
+	else if (cpu_is_omap34xx())
 		omap_pmu_device.resource = &omap3_pmu_resource;
 	else
 		return;
-- 
1.7.5.4

