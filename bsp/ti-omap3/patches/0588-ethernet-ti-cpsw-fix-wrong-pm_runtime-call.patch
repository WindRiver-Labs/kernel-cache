From 32919ba3f8c51cdba774856d784077ae2ebecb0e Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Mon, 3 Sep 2012 14:35:58 +0800
Subject: [PATCH 588/609] ethernet: ti: cpsw: fix wrong pm_runtime call

We should call pm_runtime_put rather than pm_runtime_get
when cpsw will be disabled.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/ti/cpsw.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/ethernet/ti/cpsw.c b/drivers/net/ethernet/ti/cpsw.c
index 2bc2d3f..d4abd49 100644
--- a/drivers/net/ethernet/ti/cpsw.c
+++ b/drivers/net/ethernet/ti/cpsw.c
@@ -2461,7 +2461,7 @@ clean_cpsw_iores_ret:
 clean_clk_ret:
 	clk_put(priv->clk);
 clean_slave_ret:
-	pm_runtime_get_sync(&pdev->dev);
+	pm_runtime_put_sync(&pdev->dev);
 	pm_runtime_disable(&pdev->dev);
 	kfree(priv->slaves);
 clean_ndev_ret:
-- 
1.7.5.4

