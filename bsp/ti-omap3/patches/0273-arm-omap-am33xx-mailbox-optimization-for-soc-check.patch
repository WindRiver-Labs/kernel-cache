From 67d2e8434ac5f6460910502b3fc245d9f84cebad Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Mon, 16 Jul 2012 10:42:13 +0800
Subject: [PATCH 273/609] arm: omap: am33xx: mailbox: optimization for soc
 check

Since is_omap34xx always includes is_am33xx, so we split them for more
readable and simple.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/mach-omap2/mailbox.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/arm/mach-omap2/mailbox.c b/arch/arm/mach-omap2/mailbox.c
index ce03ac3..12bd5df 100644
--- a/arch/arm/mach-omap2/mailbox.c
+++ b/arch/arm/mach-omap2/mailbox.c
@@ -388,12 +388,12 @@ static int __devinit omap2_mbox_probe(struct platform_device *pdev)
 
 	if (false)
 		;
-	else if (cpu_is_omap34xx() && !cpu_is_am33xx()) {
-		list = omap3_mboxes;
+	else if (cpu_is_am33xx()) {
+		list = am33xx_mboxes;
 
 		list[0]->irq = platform_get_irq(pdev, 0);
-	} else if (cpu_is_am33xx()) {
-		list = am33xx_mboxes;
+	} else if (cpu_is_omap34xx()) {
+		list = omap3_mboxes;
 
 		list[0]->irq = platform_get_irq(pdev, 0);
 	}
-- 
1.7.5.4

