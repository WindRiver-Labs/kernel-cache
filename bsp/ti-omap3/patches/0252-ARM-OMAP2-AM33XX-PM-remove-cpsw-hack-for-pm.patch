From 27ccf61b19479ede4a8efb03a1fa788d389cce7a Mon Sep 17 00:00:00 2001
From: Mugunthan V N <mugunthanvnm@ti.com>
Date: Tue, 5 Jun 2012 13:37:47 +0530
Subject: [PATCH 252/609] ARM: OMAP2+: AM33XX: PM: remove cpsw hack for pm

Original commit: e7948ba47427d7cf2538b9b834c12792ca0a279a

  From git://arago-project.org/git/projects/linux-am33x.git
  And ti-sdk-am335x-evm-05.05.00.00-Linux-x86-Install image

Removing cpsw hack to disable the module in suspend as cpsw supports rumtime pm

Signed-off-by: Mugunthan V N <mugunthanvnm@ti.com>
---
 arch/arm/mach-omap2/pm33xx.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/arch/arm/mach-omap2/pm33xx.c b/arch/arm/mach-omap2/pm33xx.c
index d432dfd..8e9722d 100644
--- a/arch/arm/mach-omap2/pm33xx.c
+++ b/arch/arm/mach-omap2/pm33xx.c
@@ -113,17 +113,14 @@ static int am33xx_pm_suspend(void)
 {
 	int state, ret = 0;
 
-	struct omap_hwmod *cpgmac_oh, *gpmc_oh, *usb_oh;
+	struct omap_hwmod *gpmc_oh, *usb_oh;
 
-	cpgmac_oh	= omap_hwmod_lookup("cpgmac0");
 	usb_oh		= omap_hwmod_lookup("usb_otg_hs");
 	gpmc_oh		= omap_hwmod_lookup("gpmc");
 
-	omap_hwmod_enable(cpgmac_oh);
 	omap_hwmod_enable(usb_oh);
 	omap_hwmod_enable(gpmc_oh);
 
-	omap_hwmod_idle(cpgmac_oh);
 	omap_hwmod_idle(usb_oh);
 	omap_hwmod_idle(gpmc_oh);
 
-- 
1.7.5.4

