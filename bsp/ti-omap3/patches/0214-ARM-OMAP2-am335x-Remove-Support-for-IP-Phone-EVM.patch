From 4405f34810ff71f5b1034220bef6461c9817fb5d Mon Sep 17 00:00:00 2001
From: "Hebbar, Gururaja" <gururaja.hebbar@ti.com>
Date: Mon, 23 Apr 2012 12:25:13 +0530
Subject: [PATCH 214/609] ARM: OMAP2+: am335x: Remove Support for IP-Phone EVM

Original commit: a2f47f5456c564688e55d2a244c9c6375a69b97a

  From git://arago-project.org/git/projects/linux-am33x.git
  And ti-sdk-am335x-evm-05.05.00.00-Linux-x86-Install image

Since IP-Phone EVM is dropped from development, remove the support
as well in the code.

Signed-off-by: Hebbar, Gururaja <gururaja.hebbar@ti.com>
---
 arch/arm/mach-omap2/board-am335xevm.c              |   25 --------------------
 arch/arm/mach-omap2/include/mach/board-am335xevm.h |    5 +--
 2 files changed, 2 insertions(+), 28 deletions(-)

diff --git a/arch/arm/mach-omap2/board-am335xevm.c b/arch/arm/mach-omap2/board-am335xevm.c
index c4b5218..78982ce 100644
--- a/arch/arm/mach-omap2/board-am335xevm.c
+++ b/arch/arm/mach-omap2/board-am335xevm.c
@@ -1683,22 +1683,6 @@ static struct evm_dev_cfg ind_auto_mtrl_evm_dev_cfg[] = {
 	{NULL, 0, 0},
 };
 
-/* IP-Phone EVM */
-static struct evm_dev_cfg ip_phn_evm_dev_cfg[] = {
-	{enable_ecap0,	DEV_ON_DGHTR_BRD, PROFILE_NONE},
-	{lcdc_init,	DEV_ON_DGHTR_BRD, PROFILE_NONE},
-	{tsc_init,	DEV_ON_DGHTR_BRD, PROFILE_NONE},
-	{rgmii1_init,	DEV_ON_BASEBOARD, PROFILE_NONE},
-	{rgmii2_init,	DEV_ON_DGHTR_BRD, PROFILE_NONE},
-	{usb0_init,	DEV_ON_BASEBOARD, PROFILE_NONE},
-	{usb1_init,	DEV_ON_BASEBOARD, PROFILE_NONE},
-	{evm_nand_init, DEV_ON_DGHTR_BRD, PROFILE_NONE},
-	{i2c1_init,	DEV_ON_BASEBOARD, PROFILE_NONE},
-	{mcasp1_init,	DEV_ON_DGHTR_BRD, PROFILE_NONE},
-	{mmc0_init,	DEV_ON_BASEBOARD, PROFILE_NONE},
-	{NULL, 0, 0},
-};
-
 /* Beaglebone < Rev A3 */
 static struct evm_dev_cfg beaglebone_old_dev_cfg[] = {
 	{rmii1_init,	DEV_ON_BASEBOARD, PROFILE_NONE},
@@ -1761,13 +1745,6 @@ static void setup_ind_auto_motor_ctrl_evm(void)
 
 }
 
-static void setup_ip_phone_evm(void)
-{
-	pr_info("The board is an IP phone EVM\n");
-
-	_configure_device(IP_PHN_EVM, ip_phn_evm_dev_cfg, PROFILE_NONE);
-}
-
 /* BeagleBone < Rev A3 */
 static void setup_beaglebone_old(void)
 {
@@ -1894,8 +1871,6 @@ static void am335x_evm_setup(struct memory_accessor *mem_acc, void *context)
 			setup_general_purpose_evm();
 		else if (!strncmp("SKU#02", config.opt, 6))
 			setup_ind_auto_motor_ctrl_evm();
-		else if (!strncmp("SKU#03", config.opt, 6))
-			setup_ip_phone_evm();
 		else
 			goto out;
 	}
diff --git a/arch/arm/mach-omap2/include/mach/board-am335xevm.h b/arch/arm/mach-omap2/include/mach/board-am335xevm.h
index c146444..8bfefcf 100644
--- a/arch/arm/mach-omap2/include/mach/board-am335xevm.h
+++ b/arch/arm/mach-omap2/include/mach/board-am335xevm.h
@@ -22,9 +22,8 @@
 
 #define GEN_PURP_EVM		0
 #define IND_AUT_MTR_EVM		1
-#define IP_PHN_EVM		2
-#define BEAGLE_BONE_OLD		3
-#define BEAGLE_BONE_A3		4
+#define BEAGLE_BONE_OLD		2
+#define BEAGLE_BONE_A3		3
 
 /* REVIST : check posibility of PROFILE_(x) syntax usage */
 #define PROFILE_NONE	-1	/* Few EVM doesn't have profiles */
-- 
1.7.5.4

