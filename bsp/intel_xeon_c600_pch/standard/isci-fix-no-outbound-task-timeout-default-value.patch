From 1e0b566322d8fa48c94b2ecc89986b1c3b03ef67 Mon Sep 17 00:00:00 2001
From: Tomasz Chudy <Tomasz.Chudy@intel.com>
Date: Wed, 23 Feb 2011 00:08:49 -0800
Subject: [PATCH 024/474] isci: fix "no outbound task timeout" default value

upstream: 06fdb3286270a45d05b15db46416b2fe2f52583a

The default should be 5us.  The hardware encodes it in 256ns increments,
so the value should be 20 to approximate a 5us timeout.

Signed-off-by: Tomasz Chudy <Tomasz.Chudy@intel.com>
Signed-off-by: Jacek Danecki <Jacek.Danecki@intel.com>
Signed-off-by: Dan Williams <dan.j.williams@intel.com>

Integrated-by: Hui Wang <Hui.Wang@windriver.com>
---
 drivers/scsi/isci/core/scic_sds_controller.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/drivers/scsi/isci/core/scic_sds_controller.c b/drivers/scsi/isci/core/scic_sds_controller.c
index 53861cc..1cbb91c 100644
--- a/drivers/scsi/isci/core/scic_sds_controller.c
+++ b/drivers/scsi/isci/core/scic_sds_controller.c
@@ -1997,8 +1997,7 @@ static void scic_sds_controller_set_default_config_parameters(
 	this_controller->user_parameters.sds1.ssp_inactivity_timeout = 5;
 	this_controller->user_parameters.sds1.stp_max_occupancy_timeout = 5;
 	this_controller->user_parameters.sds1.ssp_max_occupancy_timeout = 20;
-	this_controller->user_parameters.sds1.no_outbound_task_timeout = 5;
-
+	this_controller->user_parameters.sds1.no_outbound_task_timeout = 20;
 }
 
 
-- 
1.7.0

