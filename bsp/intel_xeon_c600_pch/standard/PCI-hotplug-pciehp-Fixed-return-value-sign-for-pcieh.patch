From 8f15fb705e960dfceac2cdce933f7d7cbeb84522 Mon Sep 17 00:00:00 2001
From: Praveen Kalamegham <praveen@nextio.com>
Date: Thu, 20 May 2010 15:32:22 -0500
Subject: [PATCH 223/474] PCI hotplug: pciehp: Fixed return value sign for pciehp_unconfigure_device

commit 01b666df487b80c956cef3ce3253776ddeebd41e upstream

pciehp_unconfigure_device() should return -EINVAL, not EINVAL.

Signed-off-by: Praveen Kalamegham <praveen@nextio.com>
Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
---
 drivers/pci/hotplug/pciehp_pci.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/pci/hotplug/pciehp_pci.c b/drivers/pci/hotplug/pciehp_pci.c
index 2fce726..a4031df 100644
--- a/drivers/pci/hotplug/pciehp_pci.c
+++ b/drivers/pci/hotplug/pciehp_pci.c
@@ -137,7 +137,7 @@ int pciehp_unconfigure_device(struct slot *p_slot)
 					 "Cannot remove display device %s\n",
 					 pci_name(temp));
 				pci_dev_put(temp);
-				rc = EINVAL;
+				rc = -EINVAL;
 				break;
 			}
 		}
-- 
1.7.0

