From e99873beb5d2e9832333d1e6c01c0c85b4191802 Mon Sep 17 00:00:00 2001
From: Pankaj Chauhan <pankaj.chauhan@freescale.com>
Date: Tue, 23 Dec 2014 17:27:29 +0530
Subject: [PATCH 165/237] devcore: Add msi_list to device

Add msi_list (head of MSI descriptor list) to struct device.
This is required to support non PCI MSI devices.

Signed-off-by: Pankaj Chauhan <pankaj.chauhan@freescale.com>
Change-Id: I5c7fe575a2245904a244d81adb1ba9a4137a5160
Reviewed-on: http://git.am.freescale.net:8181/33322
Reviewed-by: Stuart Yoder <stuart.yoder@freescale.com>
Tested-by: Stuart Yoder <stuart.yoder@freescale.com>
[Original patch from FSL LS2085 SDK EAR4.0]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 include/linux/device.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/include/linux/device.h b/include/linux/device.h
index c4c1142..a97a394 100644
--- a/include/linux/device.h
+++ b/include/linux/device.h
@@ -793,6 +793,8 @@ struct device {
 
 	bool			offline_disabled:1;
 	bool			offline:1;
+
+	struct list_head msi_list;
 };
 
 static inline struct device *kobj_to_dev(struct kobject *kobj)
-- 
1.9.1

