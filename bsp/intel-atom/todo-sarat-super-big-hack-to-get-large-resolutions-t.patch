From e4f93846bec6be9c029d31eee1f7905d6b394e9d Mon Sep 17 00:00:00 2001
From: fli <fupan.li@windriver.com>
Date: Tue, 31 Dec 2013 11:04:33 +0800
Subject: [PATCH 236/252] todo sarat super big hack to get large resolutions
 to work

TODO SARAT super big hack to get large resolutions to work.
Actual fix is to switch to dma-sg backend for vb2.
This patch comes from the ATOMISP golden2.1 path set

Signed-off-by: fli <fupan.li@windriver.com>
---
 drivers/media/v4l2-core/videobuf2-dma-contig.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/drivers/media/v4l2-core/videobuf2-dma-contig.c b/drivers/media/v4l2-core/videobuf2-dma-contig.c
index a5804cf..616da3d 100644
--- a/drivers/media/v4l2-core/videobuf2-dma-contig.c
+++ b/drivers/media/v4l2-core/videobuf2-dma-contig.c
@@ -74,8 +74,9 @@ static unsigned long vb2_dc_get_contiguous_size(struct sg_table *sgt)
 	unsigned long size = 0;
 
 	for_each_sg(sgt->sgl, s, sgt->nents, i) {
-		if (sg_dma_address(s) != expected)
-			break;
+		//TODO SARAT super big hack to get large resolutions to work. Actual fix is to switch to dma-sg backend for vb2.
+		//if (sg_dma_address(s) != expected)
+		//      break;
 		expected = sg_dma_address(s) + sg_dma_len(s);
 		size += sg_dma_len(s);
 	}
-- 
1.7.5.4

