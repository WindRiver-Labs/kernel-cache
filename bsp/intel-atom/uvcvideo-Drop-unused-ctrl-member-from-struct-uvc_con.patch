From 3ba8ff66490bc52bf911b215a3fc3d1d1847f5aa Mon Sep 17 00:00:00 2001
From: Hans de Goede <hdegoede@redhat.com>
Date: Sun, 8 Apr 2012 12:59:54 -0300
Subject: [PATCH 034/252] uvcvideo: Drop unused ctrl member from struct
 uvc_control_mapping

commit d1c07ef1135310940f4f49765f7e385aa847cff5 upstream

Signed-off-by: Hans de Goede <hdegoede@redhat.com>
Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
Signed-off-by: fupan li <fupan.li@windriver.com>
---
 drivers/media/video/uvc/uvc_ctrl.c |    1 -
 drivers/media/video/uvc/uvcvideo.h |    2 --
 2 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/drivers/media/video/uvc/uvc_ctrl.c b/drivers/media/video/uvc/uvc_ctrl.c
index 03212c7..28363b7 100644
--- a/drivers/media/video/uvc/uvc_ctrl.c
+++ b/drivers/media/video/uvc/uvc_ctrl.c
@@ -1880,7 +1880,6 @@ static int __uvc_ctrl_add_mapping(struct uvc_device *dev,
 	if (map->set == NULL)
 		map->set = uvc_set_le_value;
 
-	map->ctrl = &ctrl->info;
 	list_add_tail(&map->list, &ctrl->info.mappings);
 	uvc_trace(UVC_TRACE_CONTROL,
 		"Adding mapping '%s' to control %pUl/%u.\n",
diff --git a/drivers/media/video/uvc/uvcvideo.h b/drivers/media/video/uvc/uvcvideo.h
index 777bb75..7c3d082 100644
--- a/drivers/media/video/uvc/uvcvideo.h
+++ b/drivers/media/video/uvc/uvcvideo.h
@@ -157,8 +157,6 @@ struct uvc_control_mapping {
 	struct list_head list;
 	struct list_head ev_subs;
 
-	struct uvc_control_info *ctrl;
-
 	__u32 id;
 	__u8 name[32];
 	__u8 entity[16];
-- 
1.7.5.4

