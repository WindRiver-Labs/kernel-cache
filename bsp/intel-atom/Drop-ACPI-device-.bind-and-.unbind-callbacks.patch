From f34954cc232a0d94646a240c78bc85bcfb3d5f06 Mon Sep 17 00:00:00 2001
From: Peng Chao <chao.peng@windriver.com>
Date: Thu, 8 Aug 2013 10:27:21 +0800
Subject: [PATCH 099/134] Drop ACPI device .bind() and .unbind() callbacks

upstream: 3eec5f7a1955ead549020ec2f60235ea6a4a2252

Drop the .bind() and .unbind() that have no more users from
struct acpi_device_ops and remove all of the code referring to
them from drivers/acpi/scan.c.

Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Yinghai Lu <yinghai@kernel.org>
Acked-by: Toshi Kani <toshi.kani@hp.com>
Signed-off-by: Peng Chao <chao.peng@windriver.com>
---
 drivers/acpi/scan.c     |   14 +-------------
 include/acpi/acpi_bus.h |    4 ----
 2 files changed, 1 insertions(+), 17 deletions(-)

diff --git a/drivers/acpi/scan.c b/drivers/acpi/scan.c
index f82c1ac..5f01427 100644
--- a/drivers/acpi/scan.c
+++ b/drivers/acpi/scan.c
@@ -648,7 +648,7 @@ int acpi_device_add(struct acpi_device *device,
 	return result;
 }
 
-static void acpi_device_unregister(struct acpi_device *device, int type)
+static void acpi_device_unregister(struct acpi_device *device)
 {
 	mutex_lock(&acpi_device_lock);
 	if (device->parent)
@@ -1324,18 +1324,6 @@ void acpi_device_add_finalize(struct acpi_device *device)
 	kobject_uevent(&device->dev.kobj, KOBJ_ADD);
 }
 
-
-/*
- * acpi_hot_add_bind - Bind _ADR-based devices on hot-add.
- * @device: ACPI device node to bind.
- */
-static void acpi_hot_add_bind(struct acpi_device *device)
-{
-	if (device->flags.bus_address
-	    && device->parent && device->parent->ops.bind)
-		device->parent->ops.bind(device);
-}
-
 static int acpi_add_single_object(struct acpi_device **child,
 				  acpi_handle handle, int type,
 				  unsigned long long sta)
diff --git a/include/acpi/acpi_bus.h b/include/acpi/acpi_bus.h
index b5b58fc..3f9c453 100644
--- a/include/acpi/acpi_bus.h
+++ b/include/acpi/acpi_bus.h
@@ -89,8 +89,6 @@ typedef int (*acpi_op_start) (struct acpi_device * device);
 typedef int (*acpi_op_suspend) (struct acpi_device * device,
 				pm_message_t state);
 typedef int (*acpi_op_resume) (struct acpi_device * device);
-typedef int (*acpi_op_bind) (struct acpi_device * device);
-typedef int (*acpi_op_unbind) (struct acpi_device * device);
 typedef void (*acpi_op_notify) (struct acpi_device * device, u32 event);
 
 struct acpi_device_ops {
@@ -99,8 +97,6 @@ struct acpi_device_ops {
 	acpi_op_start start;
 	acpi_op_suspend suspend;
 	acpi_op_resume resume;
-	acpi_op_bind bind;
-	acpi_op_unbind unbind;
 	acpi_op_notify notify;
 };
 
-- 
1.7.5.4

