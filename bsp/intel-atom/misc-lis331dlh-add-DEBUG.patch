From 3cccae923099857db76411643f399c1213150171 Mon Sep 17 00:00:00 2001
From: Wei Yang <Wei.Yang@windriver.com>
Date: Mon, 2 Jul 2012 10:30:34 +0800
Subject: [PATCH 8/8] misc/lis331dlh: add DEBUG

add DEBUG to avoid too much output in console

Signed-off-by: Yang Wei <wei.yang@windriver.com>
---
 drivers/misc/lis331dlh/lis331dlh_acc.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/drivers/misc/lis331dlh/lis331dlh_acc.c b/drivers/misc/lis331dlh/lis331dlh_acc.c
index 59b5a97..e3fcfb8 100644
--- a/drivers/misc/lis331dlh/lis331dlh_acc.c
+++ b/drivers/misc/lis331dlh/lis331dlh_acc.c
@@ -380,7 +380,9 @@ static irqreturn_t lis331dlh_acc_isr1(int irq, void *dev)
 
 	disable_irq_nosync(irq);
 	queue_work(acc->irq1_work_queue, &acc->irq1_work);
+#ifdef DEBUG
 	printk(KERN_INFO "%s: isr1 queued\n", LIS331DLH_ACC_DEV_NAME);
+#endif
 
 	return IRQ_HANDLED;
 }
@@ -391,7 +393,9 @@ static irqreturn_t lis331dlh_acc_isr2(int irq, void *dev)
 
 	disable_irq_nosync(irq);
 	queue_work(acc->irq2_work_queue, &acc->irq2_work);
+#ifdef DEBUG
 	printk(KERN_INFO "%s: isr2 queued\n", LIS331DLH_ACC_DEV_NAME);
+#endif
 
 	return IRQ_HANDLED;
 }
@@ -405,7 +409,9 @@ static void lis331dlh_acc_irq1_work_func(struct work_struct *work)
 		 ie:lis331dlh_acc_get_int1_source(acc); */
 	;
 	/*  */
+#ifdef DEBUG
 	printk(KERN_INFO "%s: IRQ1 triggered\n", LIS331DLH_ACC_DEV_NAME);
+#endif
 
 	enable_irq(acc->irq1);
 }
@@ -420,7 +426,9 @@ static void lis331dlh_acc_irq2_work_func(struct work_struct *work)
 	;
 	/*  */
 
+#ifdef DEBUG
 	printk(KERN_INFO "%s: IRQ2 triggered\n", LIS331DLH_ACC_DEV_NAME);
+#endif
 
 	enable_irq(acc->irq2);
 }
-- 
1.7.7

