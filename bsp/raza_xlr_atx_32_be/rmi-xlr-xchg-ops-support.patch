From 0aa5e732c9b011e740312ff82f023ad86550b6c9 Mon Sep 17 00:00:00 2001
From: Jack Tan <jack.tan@windriver.com>
Date: Tue, 16 Dec 2008 19:07:11 +0800
Subject: [PATCH] rmi xlr xchg ops support

XLR's exchange operation support.

Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 include/asm-mips/system.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/include/asm-mips/system.h b/include/asm-mips/system.h
index a944eda..b360519 100644
--- a/include/asm-mips/system.h
+++ b/include/asm-mips/system.h
@@ -129,7 +129,7 @@ static inline unsigned long __xchg_u32(volatile int * m, unsigned int val)
 	return retval;
 }
 
-#ifdef CONFIG_64BIT
+#if defined(CONFIG_64BIT) || defined(CONFIG_RMI_PHOENIX)
 static inline __u64 __xchg_u64(volatile __u64 * m, __u64 val)
 {
 	__u64 retval;
-- 
1.6.0.4

