From 9be1781dfe5542fc2a1dd4a5e890b0f9df2f9e49 Mon Sep 17 00:00:00 2001
From: Michel Thebeau <michel.thebeau@windriver.com>
Date: Tue, 5 Apr 2011 09:34:09 -0400
Subject: [PATCH] Cavium: fix build for missing Hotplug octeon_hotplug_entry

Fix build for cav_octeon_63xx when CONFIG_WRHV is enabled.

This is not a proper solution, but allows us to spin the current
treegen.

Signed-off-by: Michel Thebeau <michel.thebeau@windriver.com>
---
 .../mach-cavium-octeon/wrhv-kernel-entry-init.h    |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/mips/include/asm/mach-cavium-octeon/wrhv-kernel-entry-init.h b/arch/mips/include/asm/mach-cavium-octeon/wrhv-kernel-entry-init.h
index 7063ade..11e126d 100644
--- a/arch/mips/include/asm/mach-cavium-octeon/wrhv-kernel-entry-init.h
+++ b/arch/mips/include/asm/mach-cavium-octeon/wrhv-kernel-entry-init.h
@@ -22,6 +22,9 @@
 .macro  kernel_entry_setup
 	.set push
 	.set arch=octeon
+#ifdef CONFIG_HOTPLUG_CPU
+FEXPORT(octeon_hotplug_entry)
+#endif
 #ifdef CONFIG_SMP
 	li	v0, VB_CONFIG_ADDR
 	lw	v0, WRHV_COREID_OFFSET(v0)
-- 
1.7.0.4

