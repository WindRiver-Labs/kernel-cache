From 67066a046f5e1ab451a2704da3ac16cf63001c1f Mon Sep 17 00:00:00 2001
From: Ioana Radulescu <ruxandra.radulescu@freescale.com>
Date: Mon, 2 Jul 2012 16:00:19 +0000
Subject: [PATCH 47/57] fmd: Fix arrays of FMan hardware port ids

commit 453a8ec59f88b8ef8132a3e157747c7baaf90e66 from
https://git.freescale.com/git-private/cgit.cgi/ppc/t4240/linux.git

Update the FMD linux wrapper to take into account the larger number
of ports supported by FMan v3.

This fixes the incorrect setting of LIODN offset for the 6th 1G
and the second 10G port on T4240.

Signed-off-by: Ioana Radulescu <ruxandra.radulescu@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
---
 .../dpa/NetCommSw/src/wrapper/lnxwrp_fm.c          |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_fm.c b/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_fm.c
index 6d9ed36..f6f1465 100644
--- a/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_fm.c
+++ b/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_fm.c
@@ -209,8 +209,8 @@ typedef _Packed struct {
     int         i;
     uint32_t    fmRev;
 
-    static const uint8_t     phys1GRxPortId[] = {0x8,0x9,0xa,0xb,0xc};
-    static const uint8_t     phys10GRxPortId[] = {0x10};
+    static const uint8_t     phys1GRxPortId[] = {0x8,0x9,0xa,0xb,0xc,0xd,0xe,0xf};
+    static const uint8_t     phys10GRxPortId[] = {0x10,0x11};
 
     fmRev = (uint32_t)(*((volatile uint32_t *)UINT_TO_PTR(p_LnxWrpFmDev->fmBaseAddr+FM_FPM_IP_REV_1_OFFSET)));
     fmRev &= 0xffff;
-- 
1.7.9.7

