From 37770931297b2426970aee45d81d8da7884e4133 Mon Sep 17 00:00:00 2001
From: Junxiao Bi <Junxiao.Bi@windriver.com>
Date: Tue, 21 Jun 2011 17:32:05 +0800
Subject: [PATCH 20/21] ARM VEXPRESS: add watchdog support

Add watchdog support

Signed-off-by: Junxiao Bi <Junxiao.Bi@windriver.com>
---
 arch/arm/mach-vexpress/v2m.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-vexpress/v2m.c b/arch/arm/mach-vexpress/v2m.c
index 8b91b3a..8f954c1 100644
--- a/arch/arm/mach-vexpress/v2m.c
+++ b/arch/arm/mach-vexpress/v2m.c
@@ -315,6 +315,10 @@ static struct clk osc2_clk = {
 	.rate	= 24000000,
 };
 
+static struct clk wdt_clk = {
+	.rate	= 32768,
+};
+
 static struct clk dummy_apb_pclk;
 
 static struct clk_lookup v2m_lookups[] = {
@@ -346,6 +350,10 @@ static struct clk_lookup v2m_lookups[] = {
 		.dev_id		= "mb:clcd",
 		.clk		= &osc1_clk,
 	},
+	{	/* Watchdog */
+		.dev_id		= "mb:wdt",
+		.clk		= &wdt_clk,
+	},
 };
 
 static void v2m_power_off(void)
-- 
1.7.0.4

