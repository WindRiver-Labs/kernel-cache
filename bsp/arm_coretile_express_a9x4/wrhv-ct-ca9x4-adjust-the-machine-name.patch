From 1aafc92c18c012de8718dca9d3e88c9a18dccaec Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Mon, 4 Jul 2011 13:56:19 +0800
Subject: [PATCH 1/3] wrhv/ct-ca9x4: adjust the machine name

Add "Wind River Hypervisor" prefix for machine name. This is needed
by wrload.

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/mach-vexpress/ct-ca9x4.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-vexpress/ct-ca9x4.c b/arch/arm/mach-vexpress/ct-ca9x4.c
index 2678ef8..f310167 100644
--- a/arch/arm/mach-vexpress/ct-ca9x4.c
+++ b/arch/arm/mach-vexpress/ct-ca9x4.c
@@ -212,7 +212,11 @@ static void __init ct_ca9x4_init(void)
 		amba_device_register(ct_ca9x4_amba_devs[i], &iomem_resource);
 }
 
+#ifdef CONFIG_WRHV
+MACHINE_START(VEXPRESS, "Wind River Hypervisor ARM-Versatile Express CA9x4")
+#else
 MACHINE_START(VEXPRESS, "ARM-Versatile Express CA9x4")
+#endif
 	.phys_io	= V2M_UART0 & SECTION_MASK,
 	.io_pg_offst	= (__MMIO_P2V(V2M_UART0) >> 18) & 0xfffc,
 	.boot_params	= PHYS_OFFSET + 0x00000100,
-- 
1.7.0.4

