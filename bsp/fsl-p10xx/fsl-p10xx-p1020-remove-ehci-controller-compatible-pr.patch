From b1dc8fff438135aa47f72bd01e8f1255949f8adf Mon Sep 17 00:00:00 2001
From: Yang Wei <Wei.Yang@windriver.com>
Date: Mon, 22 Apr 2013 11:20:09 +0800
Subject: [PATCH 02/21] fsl-p10xx/p1020: remove ehci controller compatible
 property

Remove ehci controller compatible property. If ehci controller
version is 1.6 or above, we need to check PHY_CLK_VALID to avoid
that kernel booting up will hang during USB initialization while
missing USB PHY clock.

Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 arch/powerpc/boot/dts/fsl/p1020si-post.dtsi |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/p1020si-post.dtsi b/arch/powerpc/boot/dts/fsl/p1020si-post.dtsi
index a3fb10a..80176f3 100644
--- a/arch/powerpc/boot/dts/fsl/p1020si-post.dtsi
+++ b/arch/powerpc/boot/dts/fsl/p1020si-post.dtsi
@@ -144,11 +144,11 @@
 /include/ "pq3-dma-0.dtsi"
 /include/ "pq3-usb2-dr-0.dtsi"
 	usb@22000 {
-		compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
+		compatible = "fsl-usb2-dr";
 	};
 /include/ "pq3-usb2-dr-1.dtsi"
 	usb@23000 {
-		compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
+		compatible = "fsl-usb2-dr";
 	};
 
 /include/ "pq3-esdhc-0.dtsi"
-- 
1.7.5.4

