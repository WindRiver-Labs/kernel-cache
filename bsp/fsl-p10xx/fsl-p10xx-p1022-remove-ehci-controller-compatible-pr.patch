From 9a97bd7c072a26fdc997ce01b00d25b8856e728b Mon Sep 17 00:00:00 2001
From: Ruan Zhengwang <zhengwang.ruan@windriver.com>
Date: Wed, 10 Apr 2013 13:38:14 +0800
Subject: [PATCH 21/21] fsl-p10xx/p1022: remove ehci controller compatible
 property

Remove ehci controller compatible property. If ehci controller
version is 1.6 or above, we need to check PHY_CLK_VALID to avoid
that kernel booting up will hang during USB initialization while
missing USB PHY clock.

Signed-off-by: Ruan Zhengwang <zhengwang.ruan@windriver.com>
---
 arch/powerpc/boot/dts/fsl/p1022si-post.dtsi |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi b/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi
index 522bd0d..862806a 100644
--- a/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi
+++ b/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi
@@ -206,12 +206,12 @@
 /include/ "pq3-dma-0.dtsi"
 /include/ "pq3-usb2-dr-0.dtsi"
 	usb@22000 {
-		compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
+		compatible = "fsl-usb2-dr";
 		fsl,pmc-handle = <&usb1_clk>;
 	};
 /include/ "pq3-usb2-dr-1.dtsi"
 	usb@23000 {
-		compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
+		compatible = "fsl-usb2-dr";
 		fsl,pmc-handle = <&usb2_clk>;
 	};
 
-- 
1.7.5.4

