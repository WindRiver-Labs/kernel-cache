From 70d68f527a01e5493110577d3532ff15f997a5bc Mon Sep 17 00:00:00 2001
From: Wei Yang <Wei.Yang@windriver.com>
Date: Mon, 25 Mar 2013 12:13:11 +0800
Subject: [PATCH 19/21] powerpc/p1021mds: remove ehci controller compatible
 property

If ehci controller version is 1.6 or above, we need to check
PHY_CLK_VALID to avoid that kernel booting up will hang during USB
initialization while missing USB PHY clock.

Per p1021MDS specific pdf, PHY_CLK_VALID isn't defined in the USB
control register actually. So we should remove this compatible property
in dts to skip this undefined behaviour.

Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
Signed-off-by: Wei Yang <Wei.Yang@windriver.com>
---
 arch/powerpc/boot/dts/fsl/p1021si-post.dtsi |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/p1021si-post.dtsi b/arch/powerpc/boot/dts/fsl/p1021si-post.dtsi
index d0e9ee3..dd7cec0 100644
--- a/arch/powerpc/boot/dts/fsl/p1021si-post.dtsi
+++ b/arch/powerpc/boot/dts/fsl/p1021si-post.dtsi
@@ -143,9 +143,6 @@
 
 /include/ "pq3-dma-0.dtsi"
 /include/ "pq3-usb2-dr-0.dtsi"
-	usb@22000 {
-		compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
-	};
 
 /include/ "pq3-esdhc-0.dtsi"
 	sdhc@2e000 {
-- 
1.7.5.4

