From 1600899decdbbc00f1151522ce8889a6bad4cf54 Mon Sep 17 00:00:00 2001
From: Wang Hui <Hui.Wang@windriver.com>
Date: Fri, 18 Dec 2009 14:06:43 +0800
Subject: [PATCH 17/20] musb/omap2430: remove xceiver callback in set mode function

Platform init code is responsible for setting up the transeciver,
No need to change transceiver state here.

[Reference upstream commit ID: 84e250f, from this commit, only picking
change for musb_platform_set_mode in omap2430.c.]

Signed-off-by: Wang Hui <Hui.Wang@windriver.com>
---
 drivers/usb/musb/omap2430.c |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

diff --git a/drivers/usb/musb/omap2430.c b/drivers/usb/musb/omap2430.c
index 4c47a0a..5fe93a6 100644
--- a/drivers/usb/musb/omap2430.c
+++ b/drivers/usb/musb/omap2430.c
@@ -200,17 +200,6 @@ void musb_platform_set_mode(struct musb *musb, u8 musb_mode)
 
 	devctl |= MUSB_DEVCTL_SESSION;
 	musb_writeb(musb->mregs, MUSB_DEVCTL, devctl);
-
-	switch (musb_mode) {
-	case MUSB_HOST:
-		otg_set_host(&musb->xceiv, musb->xceiv.host);
-		break;
-	case MUSB_PERIPHERAL:
-		otg_set_peripheral(&musb->xceiv, musb->xceiv.gadget);
-		break;
-	case MUSB_OTG:
-		break;
-	}
 }
 
 int __init musb_platform_init(struct musb *musb)
-- 
1.6.5.2

