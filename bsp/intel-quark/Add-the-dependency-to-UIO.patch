From aa0ffd7260c82bbfacc0df0f8b13c720c11c7550 Mon Sep 17 00:00:00 2001
From: Lans Zhang <jia.zhang@windriver.com>
Date: Tue, 6 Jan 2015 09:37:56 +0800
Subject: [PATCH 27/31] Add the dependency to UIO.

GIP and GPIO_SCH have dependency on UIO. Otherwise, a build error
will happen:

ERROR: "uio_unregister_device" [drivers/mfd/intel_qrk_gip.ko] undefined!

Signed-off-by: Lans Zhang <jia.zhang@windriver.com>
---
 drivers/gpio/Kconfig |    1 +
 drivers/mfd/Kconfig  |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/gpio/Kconfig b/drivers/gpio/Kconfig
index 4d07a90..151cc60 100644
--- a/drivers/gpio/Kconfig
+++ b/drivers/gpio/Kconfig
@@ -257,6 +257,7 @@ config GPIO_SCH
 	depends on PCI && X86
 	select MFD_CORE
 	select LPC_SCH
+	select UIO
 	help
 	  Say yes here to support GPIO interface on Intel Poulsbo SCH,
 	  Intel Tunnel Creek processor, Intel Centerton processor or Intel
diff --git a/drivers/mfd/Kconfig b/drivers/mfd/Kconfig
index f58e947..39ff57b2 100644
--- a/drivers/mfd/Kconfig
+++ b/drivers/mfd/Kconfig
@@ -1004,6 +1004,7 @@ config INTEL_QRK_GIP
 	depends on PCI && X86 && INTEL_QUARK_X1000_SOC
 	depends on I2C
 	select GENERIC_IRQ_CHIP
+	select UIO
 	help
 	  GIP driver for Quark SoC.
 	  Quark GIP is a single PCI function exporting a GPIO and an I2C
-- 
1.7.5.4

