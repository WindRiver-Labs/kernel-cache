From 08ef62af3ce3f6bca0529ece1ce4848ac939fe3f Mon Sep 17 00:00:00 2001
From: Lans Zhang <jia.zhang@windriver.com>
Date: Fri, 25 Apr 2014 22:04:17 +0800
Subject: [PATCH 2/3] Fix intel_mid_dma build error.

Signed-off-by: Lans Zhang <jia.zhang@windriver.com>
---
 drivers/dma/Kconfig                |    1 +
 drivers/dma/intel_mid_dma/Makefile |    3 ---
 2 files changed, 1 insertions(+), 3 deletions(-)
 delete mode 100644 drivers/dma/intel_mid_dma/Makefile

diff --git a/drivers/dma/Kconfig b/drivers/dma/Kconfig
index af13024..a0b4fe3 100644
--- a/drivers/dma/Kconfig
+++ b/drivers/dma/Kconfig
@@ -36,6 +36,7 @@ comment "DMA Devices"
 config INTEL_MID_DMAC
 	tristate "Intel DMAC Moorsetown/Medfield/Quark DMA controllers"
 	depends on PCI && X86
+	select DMA_ENGINE
 	default n
 	help
 	  Enable support for the Intel(R) MID/Quark DMA engine present
diff --git a/drivers/dma/intel_mid_dma/Makefile b/drivers/dma/intel_mid_dma/Makefile
deleted file mode 100644
index 6ec8b97..0000000
--- a/drivers/dma/intel_mid_dma/Makefile
+++ /dev/null
@@ -1,3 +0,0 @@
-obj-$(CONFIG_INTEL_MID_DMAC) += intel_mid_dma.o
-intel_mid_dma-objs:= intel_qrk_dma_pci.o intel_mid_dma_pci.o
-
-- 
1.7.5.4

