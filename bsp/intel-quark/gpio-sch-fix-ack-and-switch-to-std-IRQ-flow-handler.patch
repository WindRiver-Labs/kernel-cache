From f7d1d4c1f715895d7482dd4fe6d289f86008fe60 Mon Sep 17 00:00:00 2001
From: "Tan, Raymond" <raymond.tan@intel.com>
Date: Thu, 14 May 2015 14:16:21 +0800
Subject: [PATCH 02/65] gpio-sch: fix ack() and switch to std IRQ flow handler

This patch is ported from Quark BSP R1.1, with the same name,
for RTC #75539 #78738

Original author is Josef Ahmad <josef.ahmad@intel.com>

Signed-off-by: Tan, Raymond <raymond.tan@intel.com>
Change-Id: Ieb81aa30bc9b0975999e4ff2649ebc79e6ea842c
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/4990
Signed-off-by: Pengyu Ma <pengyu.ma@windriver.com>
---
 drivers/gpio/gpio-sch.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpio/gpio-sch.c b/drivers/gpio/gpio-sch.c
index 65cb162..ca936de 100644
--- a/drivers/gpio/gpio-sch.c
+++ b/drivers/gpio/gpio-sch.c
@@ -282,7 +282,7 @@ static void sch_gpio_irqs_init(struct sch_gpio *sch, unsigned int num)
 	for (i = 0; i < num; i++) {
 		irq_set_chip_data(i + sch->irq_base, sch);
 		irq_set_chip_and_handler_name(i + sch->irq_base, &sch_irq_chip,
-					handle_simple_irq, "sch_gpio_irq_chip");
+					handle_edge_irq, "sch_gpio_irq_chip");
 	}
 }
 
-- 
1.7.5.4

