From fcb545db7d199469447eb2bd4ffdd1350a0fb6f5 Mon Sep 17 00:00:00 2001
From: Dave Gerlach <d-gerlach@ti.com>
Date: Wed, 26 Feb 2014 17:03:01 -0600
Subject: [PATCH 229/285] ARM: dts: am43xx: Remove MPU DS0 voltage scaling

Currently am43xx handles MPU voltage scaling to 0.95v during sleep using
CM3 firmware to write sequence to PMIC. This creates a problem during
resume because sequence written to scale the voltage back is fixed at
1.1v which may not agree with cpufreq governor. Because of the conflict
here MPU voltage should be scaled manually to lowest OPP with cpufreq
before suspend rather than doing it here.

Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
[Kevin: The original patch taken from TI
ti-sdk-am437x-evm-07.01.00.00-Linux-x86-Install.bin]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/am437x-gp-evm.dts  |    4 ----
 arch/arm/boot/dts/am43x-epos-evm.dts |    4 ----
 2 files changed, 0 insertions(+), 8 deletions(-)

diff --git a/arch/arm/boot/dts/am437x-gp-evm.dts b/arch/arm/boot/dts/am437x-gp-evm.dts
index 531d085..69ee278 100644
--- a/arch/arm/boot/dts/am437x-gp-evm.dts
+++ b/arch/arm/boot/dts/am437x-gp-evm.dts
@@ -469,8 +469,6 @@
 	sleep-sequence = /bits/ 8 <
 		0x02 0x24 0x10 0x6b /* Password unlock 1 */
 		0x02 0x24 0x16 0x8A /* Set DCDC1 (Core) to 0.95V */
-		0x02 0x24 0x10 0x6A /* Password unlock 2 */
-		0x02 0x24 0x17 0x8A /* Set DCDC2 (MPU) to 0.95V */
 		0x02 0x24 0x10 0x67 /* Password unlock 3 */
 		0x02 0x24 0x1A 0x86 /* Apply DCDC changes */
 	>;
@@ -479,8 +477,6 @@
 	wake-sequence = /bits/ 8 <
 		0x02 0x24 0x10 0x6B /* Password unlock 2 */
 		0x02 0x24 0x16 0x99 /* Set DCDC1 (Core) to 1.1V */
-		0x02 0x24 0x10 0x6A /* Password unlock 1 */
-		0x02 0x24 0x17 0x99 /* Set DCDC2 (MPU)to 1.1V */
 		0x02 0x24 0x10 0x67 /* Password unlock 3 */
 		0x02 0x24 0x1A 0x86 /* Apply DCDC changes */
 	>;
diff --git a/arch/arm/boot/dts/am43x-epos-evm.dts b/arch/arm/boot/dts/am43x-epos-evm.dts
index 1bb9dd5e..0f70697 100644
--- a/arch/arm/boot/dts/am43x-epos-evm.dts
+++ b/arch/arm/boot/dts/am43x-epos-evm.dts
@@ -629,8 +629,6 @@
 	sleep-sequence = /bits/ 8 <
 		0x02 0x24 0x10 0x6b /* Password unlock 1 */
 		0x02 0x24 0x16 0x8A /* Set DCDC1 (Core) to 0.95V */
-		0x02 0x24 0x10 0x6A /* Password unlock 2 */
-		0x02 0x24 0x17 0x8A /* Set DCDC2 (MPU) to 0.95V */
 		0x02 0x24 0x10 0x67 /* Password unlock 3 */
 		0x02 0x24 0x1A 0x86 /* Apply DCDC changes */
 	>;
@@ -639,8 +637,6 @@
 	wake-sequence = /bits/ 8 <
 		0x02 0x24 0x10 0x6B /* Password unlock 2 */
 		0x02 0x24 0x16 0x99 /* Set DCDC1 (Core) to 1.1V */
-		0x02 0x24 0x10 0x6A /* Password unlock 1 */
-		0x02 0x24 0x17 0x99 /* Set DCDC2 (MPU)to 1.1V */
 		0x02 0x24 0x10 0x67 /* Password unlock 3 */
 		0x02 0x24 0x1A 0x86 /* Apply DCDC changes */
 	>;
-- 
1.7.5.4

