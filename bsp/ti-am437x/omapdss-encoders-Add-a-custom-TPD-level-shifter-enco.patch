From 0b3e3e8d71aa96b9418aacd059fabe9b57e34852 Mon Sep 17 00:00:00 2001
From: Archit Taneja <archit@ti.com>
Date: Thu, 26 Sep 2013 13:03:02 +0530
Subject: [PATCH 069/285] omapdss: encoders: Add a custom TPD level shifter
 encoder driver for dra7 evm

DRA7 EVM has quite a complicated path between the HDMI DDC, HPD lines and the
TPD level shifter. The current display model cannot be used to implement such
path. Implement the encoder driver such that it incorporates all the components
in between.

This encoder driver cannot be currently used to detect a hot plug event, however
it can probe the hot plug pin state and configure the level shifter accordingly.

Signed-off-by: Archit Taneja <archit@ti.com>
[Kevin: The original patch taken from TI
ti-sdk-am437x-evm-07.01.00.00-Linux-x86-Install.bin, part of the
original patch was already merged into wrlinux]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/video/omap2/displays-new/Kconfig |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

diff --git a/drivers/video/omap2/displays-new/Kconfig b/drivers/video/omap2/displays-new/Kconfig
index 6d2b2e1..9010f55 100644
--- a/drivers/video/omap2/displays-new/Kconfig
+++ b/drivers/video/omap2/displays-new/Kconfig
@@ -26,6 +26,12 @@ config DISPLAY_ENCODER_SIL9022
 	  a brief about Sil9022 can be found here:
 	  http://www.semiconductorstore.com/pdf/newsite/siliconimage/SiI9022a_pb.pdf
 
+config DISPLAY_DRA_EVM_ENCODER_TPD12S015
+        tristate "TPD12S015 HDMI ESD protection and level shifter on DRA7 EVM"
+	help
+	  Driver for TPD12S015, which offers HDMI ESD protection and level
+	  shifting on DRA EVM.
+
 config DISPLAY_CONNECTOR_DVI
         tristate "DVI Connector"
 	depends on I2C
-- 
1.7.5.4

