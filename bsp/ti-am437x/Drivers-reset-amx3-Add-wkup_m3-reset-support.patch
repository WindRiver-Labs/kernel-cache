From f1c0e1b5511b19373aa36ba8185af1dd6a3ef8de Mon Sep 17 00:00:00 2001
From: Dave Gerlach <d-gerlach@ti.com>
Date: Wed, 11 Dec 2013 01:47:09 +0000
Subject: [PATCH 177/188] Drivers: reset: amx3: Add wkup_m3 reset support

This commit comes from branch ti-linux-3.12.y:
  git://git.ti.com/ti-linux-kernel/ti-linux-kernel.git

Add the correct register offset and bit shift data for wkup_m3 reset
for both AM335x and AM43xx within reset driver at data index 1.

Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
Acked-by: Russ Dill <russ.dill@ti.com>
(cherry picked from commit 48b0d66c8b53aa054a1aeab2861e4e338faf1432)
---
 drivers/reset/ti_reset.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

diff --git a/drivers/reset/ti_reset.c b/drivers/reset/ti_reset.c
index 4ec49e9..cfa79e6 100644
--- a/drivers/reset/ti_reset.c
+++ b/drivers/reset/ti_reset.c
@@ -40,6 +40,12 @@ static struct ti_reset_reg_data am335x_reset_reg_data[] = {
 		.rstctrl_bit	= 0,
 		.rstst_bit	= 0,
 	},
+	{
+		.rstctrl_offs	= 0x0D00,
+		.rstst_offs	= 0x0D0C,
+		.rstctrl_bit	= 3,
+		.rstst_bit	= 5,
+	},
 };
 
 static struct ti_reset_data am335x_reset_data = {
@@ -54,6 +60,12 @@ static struct ti_reset_reg_data am43x_reset_reg_data[] = {
 		.rstctrl_bit	= 0,
 		.rstst_bit	= 0,
 	},
+	{
+		.rstctrl_offs	= 0x2010,
+		.rstst_offs	= 0x2014,
+		.rstctrl_bit	= 3,
+		.rstst_bit	= 5,
+	},
 };
 
 static struct ti_reset_data am43x_reset_data = {
-- 
1.7.5.4

