From 0599383ecddc4af74e341d28094cd518a7c6ce01 Mon Sep 17 00:00:00 2001
From: Sourav Poddar <sourav.poddar@ti.com>
Date: Fri, 31 Jan 2014 16:29:46 -0600
Subject: [PATCH 192/285] arm: dts: am43x-epos: Add "sleep" state for i2c.

Add "sleep" state for i2c pincontrol nodes. This will ensure that during
suspend pins are set to the values that optimize power savings.

Signed-off-by: Sourav Poddar <sourav.poddar@ti.com>
Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
Tested-by: Sourav Poddar <sourav.poddar@ti.com>
[Kevin: The original patch taken from TI
ti-sdk-am437x-evm-07.01.00.00-Linux-x86-Install.bin]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/am43x-epos-evm.dts |   18 +++++++++++++-----
 1 files changed, 13 insertions(+), 5 deletions(-)

diff --git a/arch/arm/boot/dts/am43x-epos-evm.dts b/arch/arm/boot/dts/am43x-epos-evm.dts
index 8c05f2a..c4afd9d 100644
--- a/arch/arm/boot/dts/am43x-epos-evm.dts
+++ b/arch/arm/boot/dts/am43x-epos-evm.dts
@@ -220,20 +220,27 @@
 		>;
 	};
 
-	i2c0_pins: pinmux_i2c0_pins {
+	i2c0_default: pinmux_i2c0_default {
 		pinctrl-single,pins = <
 			0x188 (PIN_INPUT_PULLUP | SLEWCTRL_FAST | MUX_MODE0)	/* i2c0_sda.i2c0_sda */
 			0x18c (PIN_INPUT_PULLUP | SLEWCTRL_FAST | MUX_MODE0)	/* i2c0_scl.i2c0_scl */
 		>;
 	};
 
-	i2c2_pins: pinmux_i2c2_pins {
+	i2c2_default: pinmux_i2c2_default {
 		pinctrl-single,pins = <
 			0x1c0 (PIN_INPUT_PULLUP | SLEWCTRL_FAST | MUX_MODE8)    /* i2c2_sda.i2c2_sda */
 			0x1c4 (PIN_INPUT_PULLUP | SLEWCTRL_FAST | MUX_MODE8)    /* i2c2_scl.i2c2_scl */
 		>;
 	};
 
+	i2c2_sleep: pinmux_i2c2_sleep {
+		pinctrl-single,pins = <
+			0x1c0 (MUX_MODE8)
+			0x1c4 (MUX_MODE8)
+		>;
+	};
+
 	spi0_pins: pinmux_spi0_pins {
 		pinctrl-single,pins = <
 			0x150 (PIN_INPUT_PULLUP | MUX_MODE0)	/* spi0_clk.spi0_clk */
@@ -487,7 +494,7 @@
 
 &i2c0 {
 	pinctrl-names = "default";
-	pinctrl-0 = <&i2c0_pins>;
+	pinctrl-0 = <&i2c0_default>;
 
 	/* Set OPP50 (0.95V) for VDD MPU and core */
 	sleep-sequence = /bits/ 8 <
@@ -599,8 +606,9 @@
 };
 
 &i2c2 {
-	pinctrl-names = "default";
-	pinctrl-0 = <&i2c2_pins>;
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&i2c2_default>;
+	pinctrl-1 = <&i2c2_sleep>;
 	status = "okay";
 
 	sii9022: sii9022@3b {
-- 
1.7.5.4

