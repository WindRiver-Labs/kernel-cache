From 54a83f81755e9f5ddf13a862e2158c1058421f5f Mon Sep 17 00:00:00 2001
From: Dave Gerlach <d-gerlach@ti.com>
Date: Mon, 10 Feb 2014 22:58:45 +0000
Subject: [PATCH 223/285] arm: dts: am43x-epos-evm: Add "sleep" state for lcd

Add "sleep" state for dss pincontrol nodes. This will ensure that
during suspend pins are set to the values that optimize power savings.

Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
Signed-off-by: Darren Etheridge <detheridge@ti.com>
[Kevin: The original patch taken from TI
ti-sdk-am437x-evm-07.01.00.00-Linux-x86-Install.bin]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/am43x-epos-evm.dts |   43 ++++++++++++++++++++++++++++++---
 1 files changed, 39 insertions(+), 4 deletions(-)

diff --git a/arch/arm/boot/dts/am43x-epos-evm.dts b/arch/arm/boot/dts/am43x-epos-evm.dts
index a134454..cd2abc4 100644
--- a/arch/arm/boot/dts/am43x-epos-evm.dts
+++ b/arch/arm/boot/dts/am43x-epos-evm.dts
@@ -160,7 +160,7 @@
 
 &am43xx_pinmux {
 	pinctrl-names = "default";
-	pinctrl-0 = <&dss_pinctrl &clkout2_pin>;
+	pinctrl-0 = <&clkout2_pin>;
 
 	cpsw_default: cpsw_default {
 		pinctrl-single,pins = <
@@ -306,7 +306,7 @@
 		>;
 	};
 
-	dss_pinctrl: dss_pinctrl {
+	dss_pinctrl_default: dss_pinctrl_default {
 		pinctrl-single,pins = <
 			0x020 (PIN_OUTPUT_PULLUP | MUX_MODE1) /*gpmc ad 8 -> DSS DATA 23 */
 			0x024 (PIN_OUTPUT_PULLUP | MUX_MODE1)
@@ -340,6 +340,40 @@
 		>;
 	};
 
+	dss_pinctrl_sleep: dss_pinctrl_sleep {
+		pinctrl-single,pins = <
+			0x020 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE2)
+			0x024 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE2)
+			0x028 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE2)
+			0x02C (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE2)
+			0x030 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE0)
+			0x034 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE0)
+			0x038 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE0)
+			0x03C (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE0)
+			0x0A0 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0A4 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0A8 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0AC (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0B0 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0B4 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0B8 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0BC (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0C0 (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0C4 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0C8 (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0CC (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0D0 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0D4 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0D8 (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0DC (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0E0 (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0E4 (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x0E8 (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+			0x0EC (DS0_PULL_UP_DOWN_EN | PULL_DISABLE | INPUT_EN | MUX_MODE7)
+			0x08C (DS0_PULL_UP_DOWN_EN | INPUT_EN | MUX_MODE7)
+		>;
+	};
+
 	qspi1_default: qspi1_default {
 		pinctrl-single,pins = <
 			0x7c (PIN_INPUT_PULLUP | MUX_MODE3)
@@ -519,8 +553,9 @@
 };
 
 &dpi {
-	pinctrl-names = "default";
-	pinctrl-0 = <&dss_pinctrl>;
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&dss_pinctrl_default>;
+	pinctrl-1 = <&dss_pinctrl_sleep>;
 };
 
 &qspi {
-- 
1.7.5.4

