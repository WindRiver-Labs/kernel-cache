From 8ae15116196701355887ec784e60327d32e1e7d7 Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Thu, 18 Jun 2009 15:33:48 +0800
Subject: [PATCH 07/25] MPC5121 FEC: fix fec DMA_CONTROL field offset

Original patch taken from rev 4 board support ISO image:
  mpc5121ads-20081208_ltib-beta.iso
  http://www.freescale.com/webapp/sps/site/overview.jsp?
  nodeId=0127260061033202A5621E

The DMA_CONTROL register has the wrong offset
add padding to make the offset correct.

This fixes the problem of FEC not working if
not initialized by u-boot.

Signed-off-by: John Rigby <jrigby@freescale.com>
Integrated-by: Andrew Liu <shengping.liu@windriver.com>
---
 drivers/net/fs_enet/fec_mpc5121.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/net/fs_enet/fec_mpc5121.h b/drivers/net/fs_enet/fec_mpc5121.h
index b44ca37..090d05d 100644
--- a/drivers/net/fs_enet/fec_mpc5121.h
+++ b/drivers/net/fs_enet/fec_mpc5121.h
@@ -57,6 +57,7 @@ struct fec {
 	u32 fec_r_des_start;	/* Receive descriptor ring */
 	u32 fec_x_des_start;	/* Transmit descriptor ring */
 	u32 fec_r_buff_size;	/* Maximum receive buff size */
+	u32 fec_reserved12[26];
 	u32 fec_dma_control;	/* DMA Endian and other ctrl */
 };
 
-- 
1.6.3.1

