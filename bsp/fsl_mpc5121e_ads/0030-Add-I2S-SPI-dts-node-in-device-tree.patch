From 0f9fee9202aa4ba13c51ee9d9413962e1a83f69e Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Tue, 4 Nov 2008 14:46:17 +0800
Subject: [PATCH] Add I2S/SPI dts node in device tree

These device tree nodes are commented. If you
want to use any of the features requiring them,
uncomment the corresponding nodes.

Signed-off-by: Andrew Liu <shengping.liu@windriver.com>
---
 arch/powerpc/boot/dts/mpc5121ads.dts |   63 ++++++++++++++++++++++++++++++++++
 1 files changed, 63 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc5121ads.dts b/arch/powerpc/boot/dts/mpc5121ads.dts
index 46e9f80..e849b80 100644
--- a/arch/powerpc/boot/dts/mpc5121ads.dts
+++ b/arch/powerpc/boot/dts/mpc5121ads.dts
@@ -337,6 +337,39 @@
 			tx-fifo-size = <16>;
 		};
 
+		// PSC3 in spi mode for MPC5121eADS off board MEDIA touch screen
+		// connected via connector P6
+		// Note:  To use this console needs to be set to ttyPSC1
+		// spi@11300 {
+		// compatible = "fsl,mpc5121-psc-spi", "fsl,mpc5121-psc";
+		// cell-index = <3>;
+		// reg = <0x11300 0x100>;
+		// interrupts = <40 0x8>;
+		// interrupt-parent = < &ipic >;
+		// rx-fifo-size = <16>;
+		// tx-fifo-size = <16>;
+
+		// dummy entry for testing spidev user land spidev api
+		// spidev@0 {
+		//	compatible = "linux,spidev";
+		//	max_speed_hz = <100000>;
+		//	chip_select = <0>;	// not yet used
+		//};
+
+		// entry for 784x touch screen controller
+		// ts@0 {
+		//	compatible = "ti,ads7846";
+		//	model = <7843>;
+		//	vref_delay_usecs = <100>;
+		//	x_plate_ohms = <500>;
+		//	y_plate_ohms = <500>;
+		//	// pendown irq is statically routed by
+		//	// cpld pic to external irq1 (ipic 17)
+		//	interrupt-parent = < &ipic >;
+		//	interrupts = <17 2>;
+		//	};
+		//};
+
 		// PSC4 serial port B aka ttyPSC1
 		serial@11400 {
 			device_type = "serial";
@@ -352,6 +385,21 @@
 			tx-fifo-size = <16>;
 		};
 
+		// PSC4 in spi mode (eg ad1938 codec control
+		// spi@11400 {
+		// compatible = "fsl,mpc5121-psc-spi", "fsl,mpc5121-psc";
+		// cell-index = <4>;
+		// reg = <0x11400 0x100>;
+		// interrupts = <40 0x8>;
+		// interrupt-parent = < &ipic >;
+		// rx-fifo-size = <16>;
+		// tx-fifo-size = <16>;
+		// ad1939: codec@4 {
+		//	compatible = "ad,ad1939";
+		//	clock-frequency = <12288000>;
+		//	};
+		//};
+
 		// PSC5 in ac97 mode
 		ac97@11500 {
 			compatible = "fsl,mpc5121-psc-ac97", "fsl,mpc5121-psc";
@@ -364,6 +412,21 @@
 			tx-fifo-size = <384>;
 		};
 
+		// PSC5 in I2S mode
+		// i2s@11500 {
+		// device_type = "sound";
+		// compatible = "fsl,mpc5121-psc-i2s", "fsl,mpc5121-psc";
+		// cell-index = <5>;
+		// reg = <0x11500 0x100>;
+		// interrupts = <40 0x8>;
+		// interrupt-parent = < &ipic >;
+		// fsl,mode = "i2s-slave";
+		// //fsl,mode = "i2s-master";
+		// codec-handle = < &ad1939 >;
+		// rx-fifo-size = <384>;
+		// tx-fifo-size = <384>;
+		//};
+
 		pscfifo@11f00 {
 			compatible = "fsl,mpc5121-psc-fifo";
 			reg = <0x11f00 0x100>;
-- 
1.6.0.90.g436ed

