From 579cb1f8700904d0f526a630ebc57210ab363f06 Mon Sep 17 00:00:00 2001
From: Tinku Mannan <tmannan@ti.com>
Date: Tue, 22 Apr 2014 11:01:22 -0400
Subject: [PATCH 235/257] crypto: keystone: Workaround for SASS PSINFO
 alignment issue in k2le

SASS in k2le is not able to handle certain combination of tag size
plus extra psinfo data. The workaround for this is to have the
extra data in psinfo to be 16 byte aligned.

Signed-off-by: Tinku Mannan <tmannan@ti.com>
Signed-off-by: Hao Zhang <hzhang@ti.com>
(cherry picked from commit 74004d5e0d47e898f66d0591fd0301d53a3f7d27)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/crypto/keystone-sa.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/crypto/keystone-sa.c b/drivers/crypto/keystone-sa.c
index dbfaef2..e0ec336 100644
--- a/drivers/crypto/keystone-sa.c
+++ b/drivers/crypto/keystone-sa.c
@@ -269,7 +269,7 @@ enum sa_submode {
  * word-0: Request type
  * word-1: pointer to request
  */
-#define SA_NUM_PSDATA_CTX_WORDS 2
+#define SA_NUM_PSDATA_CTX_WORDS 4
 
 /* Maximum size of Command label in 32 words */
 #define SA_MAX_CMDL_WORDS (SA_DMA_NUM_PS_WORDS - SA_NUM_PSDATA_CTX_WORDS)
-- 
2.7.4

