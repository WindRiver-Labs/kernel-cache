From d5806d971545113ebf3f4f2ae016ee7873c5971a Mon Sep 17 00:00:00 2001
From: Anurag <anurag.gopinath@broadcom.com>
Date: Mon, 5 Nov 2012 20:49:43 +0530
Subject: [PATCH 617/761] DTRE : Enable DTRE support.

Based on Broadcom SDK 2.3.

Signed-off-by: Anurag <anurag.gopinath@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/dma/nlm_adma.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/dma/nlm_adma.c b/drivers/dma/nlm_adma.c
index e282464..15af2bf 100644
--- a/drivers/dma/nlm_adma.c
+++ b/drivers/dma/nlm_adma.c
@@ -519,8 +519,8 @@ static dma_cookie_t nlm_tx_submit (struct dma_async_tx_descriptor *tx)
 			}
 
 #ifdef CONFIG_CPU_LITTLE_ENDIAN
-			for (j=0; j<(DTRE_MAX_MEMCPY_DESC_LIST*4); j++)
-				nlm_tx->list_desc[j] = __swab64(nlm_tx->list_desc[j]);
+			for (i=0; i<(DTRE_MAX_MEMCPY_DESC_LIST*4); i++)
+				nlm_tx->list_desc[i] = __swab64(nlm_tx->list_desc[i]);
 
 #endif
 
@@ -597,8 +597,8 @@ static dma_cookie_t nlm_tx_submit (struct dma_async_tx_descriptor *tx)
 	}
 
 #ifdef CONFIG_CPU_LITTLE_ENDIAN
-	for (j=0; j<nlm_tx->entries_count; j++)
-		nlm_tx->hw_desc.entries[j] = __swab64(nlm_tx->hw_desc.entries[j]);
+	for (i=0; i<nlm_tx->entries_count; i++)
+		nlm_tx->hw_desc.entries[i] = __swab64(nlm_tx->hw_desc.entries[i]);
 #endif
 
 	raid_list_msg [0] = gen_dtr_raid_msg_format_0((nlm_tx->entries_count), nlm_tx->hw_desc.entries);
-- 
1.7.10.4

