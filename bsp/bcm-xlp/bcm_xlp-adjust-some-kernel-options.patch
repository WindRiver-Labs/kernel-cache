From 20d135870709bdd95331e6a1e93de06f77645cdb Mon Sep 17 00:00:00 2001
From: Yanjiang Jin <yanjiang.jin@windriver.com>
Date: Mon, 22 Apr 2013 17:46:42 +0800
Subject: [PATCH 670/761] bcm_xlp: adjust some kernel options

Adjust some kernel options.

Based on Broadcom SDK 2.3.

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/Kconfig |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index ce2424a..e130852 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -869,6 +869,7 @@ config NLM_XLP_BOARD
 	select ZONE_DMA if 64BIT
 	select SYNC_R4K
 	select SYS_HAS_EARLY_PRINTK
+	select SYS_SUPPORTS_NUMA
 	help
 	  This board is based on Netlogic XLP Processor.
 	  Say Y here if you have a XLP based board.
@@ -944,11 +945,6 @@ config SCHED_OMIT_FRAME_POINTER
 	bool
 	default y
 
-config GENERIC_HARDIRQS_NO__DO_IRQ
-# XLP_MERGE_TODO
-	default  n if NLM_XLP_SIM || NLM_XLP_EVP_BOARD || NLM_XLP_BOARD
-	def_bool y
-
 #
 # Select some configuration options automatically based on user selections.
 #
@@ -2213,6 +2209,7 @@ config ARCH_FLATMEM_ENABLE
 config ARCH_DISCONTIGMEM_ENABLE
 	bool
 	default y if NLM_XLP_EVP_BOARD
+	default y if NLM_XLP_BOARD
 	default y if SGI_IP27
 	help
 	  Say Y to support efficient handling of discontiguous physical memory,
@@ -2240,6 +2237,7 @@ config SYS_SUPPORTS_NUMA
 config NODES_SHIFT
 	int
 	default "2" if NLM_XLP_EVP_BOARD
+	default "2" if NLM_XLP_BOARD
 	default "6"
 	depends on NEED_MULTIPLE_NODES
 
@@ -2338,7 +2336,7 @@ source "kernel/time/Kconfig"
 
 choice
 	prompt "Timer frequency"
-	default HZ_250
+	default HZ_1000
 	help
 	 Allows the configuration of the timer frequency.
 
-- 
1.7.10.4

