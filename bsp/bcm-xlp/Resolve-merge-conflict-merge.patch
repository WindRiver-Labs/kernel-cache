From b627bca8e555df5fe86f1999e67194fd39812171 Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Thu, 29 Sep 2011 16:26:50 -0700
Subject: [PATCH 405/761] Resolve merge conflict: merge

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/include/asm/cacheflush.h |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

diff --git a/arch/mips/include/asm/cacheflush.h b/arch/mips/include/asm/cacheflush.h
index 1cec1a89..662a599 100644
--- a/arch/mips/include/asm/cacheflush.h
+++ b/arch/mips/include/asm/cacheflush.h
@@ -51,10 +51,11 @@ static inline void flush_dcache_page(struct page *page)
 {
 #ifdef CONFIG_NLM_COMMON
 	extern void nlm_common_flush_dcache_page(struct page *page);
-	nlm_common_flush_dcache_page(page);  
+	nlm_common_flush_dcache_page(page);
 #else
 	if (cpu_has_dc_aliases || !cpu_has_ic_fills_f_dc)
 		__flush_dcache_page(page);
+
 #endif
 }
 
@@ -119,10 +120,6 @@ extern void (*flush_data_cache_page)(unsigned long addr);
 	set_bit(PG_dcache_dirty, &(page)->flags)
 #define ClearPageDcacheDirty(page)	\
 	clear_bit(PG_dcache_dirty, &(page)->flags)
-#ifdef CONFIG_NLM_COMMON
-#define TestPageDcacheDirty(page)	\
-	test_bit(PG_dcache_dirty, &(page)->flags)
-#endif
 
 /* Run kernel code uncached, useful for cache probing functions. */
 unsigned long run_uncached(void *func);
-- 
1.7.10.4

