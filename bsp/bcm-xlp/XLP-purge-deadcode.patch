From 4d8181d02e75551828b0c43b3e86a8c33c24e2e8 Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@broadcom.com>
Date: Thu, 5 Apr 2012 18:27:45 -0700
Subject: [PATCH 545/761] XLP: purge deadcode

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/xlp/setup.c |    4 ----
 arch/mips/netlogic/xlp/smp.c   |    3 ---
 2 files changed, 7 deletions(-)

diff --git a/arch/mips/netlogic/xlp/setup.c b/arch/mips/netlogic/xlp/setup.c
index 1dfb6c6..c04c61f 100644
--- a/arch/mips/netlogic/xlp/setup.c
+++ b/arch/mips/netlogic/xlp/setup.c
@@ -195,10 +195,6 @@ uint32_t nlm_coremask = 1, nlm_cpumask  = 1;
 int  nlm_threads_per_core = 1;
 extern u32 __dtb_start[];
 
-void prom_reconfigure_thr_resources(void)
-{
-}
-
 int nlm_common_get_pgprot(unsigned long address)
 {
 	return 0;
diff --git a/arch/mips/netlogic/xlp/smp.c b/arch/mips/netlogic/xlp/smp.c
index f524db8..7b493c8 100644
--- a/arch/mips/netlogic/xlp/smp.c
+++ b/arch/mips/netlogic/xlp/smp.c
@@ -61,7 +61,6 @@ EXPORT_SYMBOL(phys_cpu_present_map);
 
 void nlm_enable_vc_intr(void);
 extern void ptr_smp_boot(unsigned long, unsigned long, unsigned long);
-extern void prom_reconfigure_thr_resources(void);
 extern unsigned long nlm_common_ebase;
 extern void enable_cpus(unsigned int node, unsigned online_mask);
 extern void nlm_smp_irq_init(void);
@@ -337,8 +336,6 @@ void prom_boot_cpus_secondary(void *args)
 	}
 	__sync();
 
-	prom_reconfigure_thr_resources();
-
 	if (netlogic_thr_id() == 0) config_mmu();
 
         setup_mapped_kernel_tlbs(TRUE, FALSE);
-- 
1.7.10.4

