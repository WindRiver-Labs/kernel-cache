From 20d5e2f20dd9ec51aff9952ffea674a603cc7853 Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Mon, 3 Oct 2011 14:37:57 -0700
Subject: [PATCH 434/761] Fix compile warning: xlp_nand_partition_info

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/mtd/nand/xlp_plat_nand.c |    2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/mtd/nand/xlp_plat_nand.c b/drivers/mtd/nand/xlp_plat_nand.c
index 7089287..10c3a1c 100644
--- a/drivers/mtd/nand/xlp_plat_nand.c
+++ b/drivers/mtd/nand/xlp_plat_nand.c
@@ -46,6 +46,7 @@ int enable_hwecc = 1;
 #define NAND_DEV_CS		1
 #define DEFAULT_NUM_PARTITIONS	2
 
+#ifdef CONFIG_MTD_PARTITIONS
 static struct mtd_partition xlp_nand_partition_info[] = {
         {
         .name = "NAND FS 0",
@@ -58,6 +59,7 @@ static struct mtd_partition xlp_nand_partition_info[] = {
         .size = MTDPART_SIZ_FULL ,
         },
 };
+#endif
 	
 struct xlp_nand_data {
         struct nand_chip        chip;
-- 
1.7.10.4

