From ae11a9508bc14883ec02711067adff4df989d54f Mon Sep 17 00:00:00 2001
From: Venu Vadapalli <vvadapalli@netlogicmicro.com>
Date: Fri, 3 Sep 2010 20:32:02 -0700
Subject: [PATCH 167/762] Fix for HAL_DIR file path parsing

Based on Broadcom SDK 2.3.

Signed-off-by: Venu Vadapalli <vvadapalli@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/msgcfg/Makefile |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/arch/mips/netlogic/msgcfg/Makefile b/arch/mips/netlogic/msgcfg/Makefile
index 870d259..4287cbd 100644
--- a/arch/mips/netlogic/msgcfg/Makefile
+++ b/arch/mips/netlogic/msgcfg/Makefile
@@ -18,11 +18,8 @@ clean-files += msgring.lex.c
 
 shared_sources:
 	$(Q)mkdir -p $(LOCAL_HAL_DIR)
-ifneq ("$(HAL_DIR)", "")
 	$(Q)cp -fr $(HAL_DIR)/* $(LOCAL_HAL_DIR)/
-endif
-	$(Q)cp $(LOCAL_HAL_DIR)/nlm_hal.c  ../common
-	$(Q)cp $(LOCAL_HAL_DIR)/nlm_hal_fmn_config.c  ../common
+	$(Q)cp $(srctree)/arch/mips/include/asm/netlogic/hal/nlm_hal.c  ../common
 
 msgring:
 	make -f Makefile.msgring all
-- 
1.7.0.4

