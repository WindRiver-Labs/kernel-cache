From c894ec94c5abce69ae1abd49cc7daa652f97401b Mon Sep 17 00:00:00 2001
From: Yonghong Song <ysong@broadcom.com>
Date: Wed, 27 Jun 2012 09:15:15 -0700
Subject: [PATCH 581/762] mmu: fix compilation error when ri/xi is enabled in config file

Based on Broadcom SDK 2.3.

Signed-off-by: Yonghong Song <ysong@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/xlp/mmu.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/mips/netlogic/xlp/mmu.c b/arch/mips/netlogic/xlp/mmu.c
index ff1b4b5..e508923 100644
--- a/arch/mips/netlogic/xlp/mmu.c
+++ b/arch/mips/netlogic/xlp/mmu.c
@@ -311,11 +311,11 @@ void __cpuinit mmu_init(void)
 	current_cpu_data.tlbsize = (read_c0_config6() >> 16 ) & 0xffff;
 
 #ifdef CONFIG_EXEC_INHIBIT
-	pagegrain_write(pagegrain_read() | EXEC_INHIBIT);
+	write_c0_pagegrain(read_c0_pagegrain() | EXEC_INHIBIT);
 #endif
 
 #ifdef CONFIG_READ_INHIBIT
-	pagegrain_write(pagegrain_read() | READ_INHIBIT);
+	write_c0_pagegrain(read_c0_pagegrain() | READ_INHIBIT);
 #endif
 
 	if (is_cpu_core_xlp_ii) {
-- 
1.7.0.4

