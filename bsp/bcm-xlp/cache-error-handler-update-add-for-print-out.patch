From 93e8e1b4e472db5fbff82ddde5d69969c34c551c Mon Sep 17 00:00:00 2001
From: Wei Zhang <wezhang@broadcom.com>
Date: Fri, 6 Jul 2012 14:22:16 -0700
Subject: [PATCH 571/761] cache-error-handler: update add '%' for print out

Based on Broadcom SDK 2.3.

Signed-off-by: Wei Zhang <wezhang@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/mm/cerr-nlm.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/mips/mm/cerr-nlm.c b/arch/mips/mm/cerr-nlm.c
index 0fa380a..53fa5f6 100644
--- a/arch/mips/mm/cerr-nlm.c
+++ b/arch/mips/mm/cerr-nlm.c
@@ -248,7 +248,7 @@ static int Check_ICU_error(void)
 	if( (icu_log0&0xF) == 0 && icu_log1 == 0 && icu_log2 == 0 ) return 0;
 
 	cerr_printk("ICU Cache %s:\n", (icu_log0&0xF) ? "Error" : "Warning" );
-	cerr_printk("   log0=0x08x, phyaddr=0x016llx\n", icu_log0, phyaddr);
+	cerr_printk("   log0=0x%08x, phyaddr=0x%016llx\n", icu_log0, phyaddr);
 	if( (icu_log0 & 0xF) == 0 )
 	{
 		write_32bit_nlm_ctrl_reg(CPU_BLOCKID_ICU,ICU_CERRLOG1_REGID, 0);
@@ -326,7 +326,7 @@ static int Check_SCU_error(void)
 	if( ( scu_log0 & 1) == 0 && phyaddr == 0 )	return 0;
 
 	cerr_printk("SCU Cache %s:\n", (scu_log0&1) ? "Error" : "Warning" );
-	cerr_printk("   log0=0x08x, phyaddr=0x016llx\n", scu_log0, phyaddr);
+	cerr_printk("   log0=0x%08x, phyaddr=0x%016llx\n", scu_log0, phyaddr);
 	if( ( scu_log0 & 1 ) == 0 )
 	{
 		write_32bit_nlm_ctrl_reg(CPU_BLOCKID_SCU, SCU_CERRLOG1_REGID, 0);
@@ -382,7 +382,7 @@ static int Check_L3_error(void)
 	if( ( reg0 & 1) == 0 && phyaddr == 0 ) return 0;
 
 	cerr_printk("L3 Cache %s:\n", (reg0&1) ? "Error" : "Warning" );
-	cerr_printk("   log0=0x08x, phyaddr=0x016llx\n", reg0, phyaddr);
+	cerr_printk("   log0=0x%08x, phyaddr=0x%016llx\n", reg0, phyaddr);
 	if( ( reg0 & 1) == 0)
 	{
 		nlm_hal_write_32bit_reg(mmio, 0xDA, 0);
@@ -424,7 +424,7 @@ static int Check_DRAM_error(void)
 		if( ( log1 & 1 ) == 0 ) continue;
 
 		if(error==0)	cerr_printk("DRAM exception: \n");
-		cerr_printk("  Bank (%c): log1=0x08x, log1=0x08x\n", (char)(n+'A'),log1, log2);
+		cerr_printk("  Bank (%c): log1=0x%08x, log1=0x%08x\n", (char)(n+'A'),log1, log2);
 		cerr_printk("       Syndrome: %x\n",  (log1>>16) );
 		cerr_printk("     Error Type: %x\n",  (log1>>8) & 0xF );
 		cerr_printk("       Opt Type: %x\n",  (log1>>4) & 0xF );
@@ -490,7 +490,7 @@ static int Check_NBU_error(void)
 	if( valid == 0 && phyaddr == 0)	return 0;
 
 	cerr_printk("NBU Cache %s:\n", valid ? "Error" : "Warning" );
-	cerr_printk("   log0=0x08x, phyaddr=0x016llx\n", nbu_reg0, phyaddr);
+	cerr_printk("   log0=0x%08x, phyaddr=0x%016llx\n", nbu_reg0, phyaddr);
 
 	if( valid == 0 )
 	{
-- 
1.7.10.4

