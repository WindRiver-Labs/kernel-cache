From 18d34abd2de16184fcf3a0117ba777c646a543f4 Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Fri, 30 Sep 2011 11:39:34 -0700
Subject: [PATCH 414/762] Fix compile error: SPIN_LOCK_UNLOCKED deprecated.

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/xlp/irq.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/netlogic/xlp/irq.c b/arch/mips/netlogic/xlp/irq.c
index 0009c1a..7c54dcf 100644
--- a/arch/mips/netlogic/xlp/irq.c
+++ b/arch/mips/netlogic/xlp/irq.c
@@ -93,7 +93,7 @@ static volatile uint64_t xlp_irq_mask;
 /* spin lock for all interrupt related data structures
  * This variable is used in timer init, so we export it
  */
-spinlock_t xlp_pic_lock = SPIN_LOCK_UNLOCKED;
+DEFINE_SPINLOCK(xlp_pic_lock);
 EXPORT_SYMBOL(xlp_pic_lock);
 #if defined CONFIG_PCI_MSI
 /*
-- 
1.7.0.4

