From 84956602df23a72feadc7901d35c07fb25906af2 Mon Sep 17 00:00:00 2001
From: Kamlakant Patel <kamlakant.patel@broadcom.com>
Date: Mon, 15 Dec 2014 17:09:30 +0530
Subject: gpio: add GPIO controller support for multinode

update dts entries for gpio support on EVP/GVP multinode boards.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp8xx-linux-mn-kernel.dts b/arch/mips/boot/dts/xlp8xx-linux-mn-kernel.dts
index d1d0a8c..6af0666 100644
--- a/arch/mips/boot/dts/xlp8xx-linux-mn-kernel.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux-mn-kernel.dts
@@ -399,6 +399,18 @@
 				};
 			};
 		};
+
+		gpio1: xlp_gpio@74000 {
+			compatible = "netlogic,xlp-gpio";
+			reg = <0 0x74100 0x1000>;
+			#gpio-cells = <2>;
+			gpio-controller;
+
+			#interrupt-cells = <1>;
+			interrupt-parent = <&pic1>;
+			interrupts = <39>;
+			interrupt-controller;
+		};
 	};
 
 	chosen {
diff --git a/arch/mips/boot/dts/xlp8xx-linux-mn4-kernel.dts b/arch/mips/boot/dts/xlp8xx-linux-mn4-kernel.dts
index 59ad81f..f50f46e 100644
--- a/arch/mips/boot/dts/xlp8xx-linux-mn4-kernel.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux-mn4-kernel.dts
@@ -313,7 +313,7 @@
 
 		gpio1: xlp_gpio@74000 {
 			compatible = "netlogic,xlp-gpio";
-			reg = <0 0x74000 0x1000>;
+			reg = <0 0x74100 0x1000>;
 			#gpio-cells = <2>;
 			gpio-controller;
 
diff --git a/arch/mips/boot/dts/xlp9xx-linux-mn-kernel.dts b/arch/mips/boot/dts/xlp9xx-linux-mn-kernel.dts
index bde05ac..38a3ad7 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-mn-kernel.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-mn-kernel.dts
@@ -390,6 +390,18 @@
 				};
 			};
 		};
+
+		gpio1: xlp_gpio@614000 {
+			compatible = "netlogic,xlp-gpio";
+			reg = <0 0x614100 0x1000>;
+			#gpio-cells = <2>;
+			gpio-controller;
+
+			#interrupt-cells = <1>;
+			interrupt-parent = <&pic1>;
+			interrupts = <39>;
+			interrupt-controller;
+		};
 	};
 
 	chosen {
-- 
1.7.1

