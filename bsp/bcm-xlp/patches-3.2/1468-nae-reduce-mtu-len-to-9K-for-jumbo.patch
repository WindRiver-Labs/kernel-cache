From 94cd5bb3b8dfedcee9a930fadc72abe0b2d95a2b Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Fri, 28 Nov 2014 16:17:56 +0530
Subject: nae: reduce mtu len to 9K for jumbo.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
index 236d4d7..24ecd10 100644
--- a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
@@ -639,7 +639,7 @@ int initialize_nae(uint32_t *phys_cpu_map, int mode, int *jumbo_enabled)
 	mod_api.contig_free = NULL;
 	mod_api.netsoc_debug_level = nae_debug_level;
 	if(*jumbo_enabled){
-               mod_api.mtu_len = 16*1024; /*Max is 16K packet size*/
+               mod_api.mtu_len = 9*1024; /*Max is 9K packet size*/
        }
 
 	brcm_netsoc_lib_init(&mod_api);
-- 
1.7.1

