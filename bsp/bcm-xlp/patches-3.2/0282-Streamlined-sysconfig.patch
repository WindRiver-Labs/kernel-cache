From b534d473b1c2394535b79ad9587f6cabb96d4a86 Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthia@netlogicmicro.com>
Date: Mon, 23 Jan 2012 19:30:32 +0530
Subject: Streamlined sysconfig

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/README.storm b/arch/mips/boot/dts/README.storm
deleted file mode 100644
index 885ae88..0000000
--- a/arch/mips/boot/dts/README.storm
+++ /dev/null
@@ -1,2 +0,0 @@
-the default storm-*dts files support XLP316. 
-online mask need to be changed for XLP308 and XLP304 accordingly
diff --git a/arch/mips/boot/dts/README.xlp3xx b/arch/mips/boot/dts/README.xlp3xx
new file mode 100644
index 0000000..90ea880
--- /dev/null
+++ b/arch/mips/boot/dts/README.xlp3xx
@@ -0,0 +1,2 @@
+the default xlp3xx-*dts files support XLP316. 
+online mask need to be changed for XLP308 and XLP304 accordingly
diff --git a/arch/mips/boot/dts/helinux.dts b/arch/mips/boot/dts/helinux.dts
deleted file mode 100644
index e775a5e..0000000
--- a/arch/mips/boot/dts/helinux.dts
+++ /dev/null
@@ -1,192 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xffffffff>;
-                                nae-rx-vc = <1>;
-                                nae-fb-vc = <2>;
-				sae-rx-vc = <1>; /* sharing with nae */
-				sae-rx-sync-vc = <3>; /* should be exclusive */
-                                napi-vc-mask = <0x6>;
-
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0xE0000000 0xC0000000>;  // 3GB @ 3.5GB
-			};
-                        fmn {
-                                node_0_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                                node_1_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                                node_2_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                                node_3_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                        };
-			pic {
-			};
-		};
-
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x8000000>; // 128M
-			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <0>;  /* sharing with nae */
-				/* helinux, as only 1 thread per cpu, it should poll for both nae and sae 
-				   responses. Also there is no other vc as linux is using other 2 vcs */
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x60000000 0x60000000>;  // 1.5GB @ 1.5GB
-			};
-			app-param{
-				onlinemask = <0xffff>;
-			};
-			nae{
-				owner = <1>;
-			};
-
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-		};
-
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x8000000>; // 128M
-			shared-mem = <0x0 0x48000000 0x0 0x10000000>; // 128M @ 1152Mb
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffff0000>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0xE0000000 0x60000000>;  // 1.5Gb @ 3584Mb
-			};
-			app-param{
-				onlinemask = <0xffff0000>;
-			};
-			nae{
-				owner = <0>;
-			};
-
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/linux-numa.dts b/arch/mips/boot/dts/linux-numa.dts
deleted file mode 100644
index 6e48dd3..0000000
--- a/arch/mips/boot/dts/linux-numa.dts
+++ /dev/null
@@ -1,82 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-			#nodes = <2>;
-			#cpumask-cells=<2>;
-
-			cpu {
-				onlinemask = <0xffffffff 0xffffffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-                                napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			//Make sure each node's memory is separated out 
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0x20000000 0xa0000000>; // 2586M at 512M
-			};
-                        fmn {
-                                node_0_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                        };
-			pic {
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  mem=512m@3584m";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/linux-perf.dts b/arch/mips/boot/dts/linux-perf.dts
deleted file mode 100644
index 013867c..0000000
--- a/arch/mips/boot/dts/linux-perf.dts
+++ /dev/null
@@ -1,105 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xffffffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0x20000000 0x60000000>;  // 2586M at 512M
-			};
-                        fmn {
-                                node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                        };
-			pic {
-			};
-		};
-	};
-
-	fmn-config {
-		/* credit and queue size configuration, 
-		   A single entry message consumes 12 byte, 2 entry 20 byte etc. 
-		   so queue size of 16K can store 16 * 1024 /12 = 1365 single 
-		   entry messages 
-		   Stations which are not specified in the list will be configured
-		   with the default values given below 
-		   Names are cpu, popq, pcie, gdx, regx, rsa, crypto, srio, cmp, poe, nae 
-		*/
-
-		default-credits = <50>;
-		default-queue-size = <16384>;
-		cpu {
-			queue-size = <32768>; /* queue size for all the cpu vcs */
-			nae = <100>;	/* credits from cpu to nae */
-		};
-		poe {
-			cpu = <500>;
-		};
-	};
-
-	extra-mem-config {
-		/* used only if spill enabled */
-		freein-fifo-spill-mem-range = <0x00000000 0x0fe00000 0x00000000 0x00100000>; // 1MB @ 254MB
-		fmn-spill-mem-range = <0x00000000 0x10000000 0x00000000 0x02000000>; //32MB @ 256MB
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  rhash_entries=1048576";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/linux.dts b/arch/mips/boot/dts/linux.dts
deleted file mode 100644
index 8a98592..0000000
--- a/arch/mips/boot/dts/linux.dts
+++ /dev/null
@@ -1,81 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xffffffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc  = <3>; /* should be exclusive */
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0x20000000 0xa0000000>;  // 2586M at 512M
-			};
-                        fmn {
-                                node_0_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
-                                node_1_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
-                                node_2_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
-                                node_3_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
-                        };
-			pic {
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  mem=512m@3584m ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/mnxlp8xx-linux.dts b/arch/mips/boot/dts/mnxlp8xx-linux.dts
new file mode 100644
index 0000000..6e48dd3
--- /dev/null
+++ b/arch/mips/boot/dts/mnxlp8xx-linux.dts
@@ -0,0 +1,82 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+			#nodes = <2>;
+			#cpumask-cells=<2>;
+
+			cpu {
+				onlinemask = <0xffffffff 0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+                                napi-vc-mask = <0x3>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			//Make sure each node's memory is separated out 
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0xa0000000>; // 2586M at 512M
+			};
+                        fmn {
+                                node_0_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                        };
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  mem=512m@3584m";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/mnxlpev-linux.dts b/arch/mips/boot/dts/mnxlpev-linux.dts
new file mode 100644
index 0000000..6e48dd3
--- /dev/null
+++ b/arch/mips/boot/dts/mnxlpev-linux.dts
@@ -0,0 +1,82 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+			#nodes = <2>;
+			#cpumask-cells=<2>;
+
+			cpu {
+				onlinemask = <0xffffffff 0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+                                napi-vc-mask = <0x3>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			//Make sure each node's memory is separated out 
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0xa0000000>; // 2586M at 512M
+			};
+                        fmn {
+                                node_0_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                        };
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  mem=512m@3584m";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/nae-il.dts b/arch/mips/boot/dts/nae-il.dts
deleted file mode 100644
index 2f91298..0000000
--- a/arch/mips/boot/dts/nae-il.dts
+++ /dev/null
@@ -1,150 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Each thread uses vc 1 as freeback VC.
-		     // This is tied with fb-vc field.
-
-		      0    1    1    5    2   9    3    13 
-		      4    17   5    21   6   25   7    29
-                      8    33   9    37   10  41   11   45
-                      12   49   13   53   14  57   15   61
-		      16   65   17   69   18  73   19   77
-                      20   81   21   85   22  89   23   93
-		      24   97   25  101   26 105   27  109
-		      28  113   29  117   30 121   31  125	  
-
-		     // NAE -> NAE mapping 
-		     32	1000 33 1001 34 1002 35 1003
-		     36	1004 37 1005 38 1006 39 1007
-		     40	1008 41 1009 42 1010 43 1011
-		     44	1012 45 1013 46 1014 47 1015
-		     48	1016 49 1017 50 1018 51 1019
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-	>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@0 {
-                device_type = "nae-complex";
-                // In Interlaken mode, 2 complexes are used per interface. If complex 0 is used as
-                // interlaken, complex 1 must not exists in this file. Either complex 0 or 2 can be
-                // configured as interlaken
-                mode = "interlaken";
-		//select daughter board : cortina or loopback
-		db = "cortina";
-
-                loopback_mode = <0>;
-
-                // Maximum number of lanes per interface = 8 (from 2 complexes)
-                num_lanes = <4>;
-		// lanerate 0 = 3.125Gbps , 1 = 6.25Gbps
-		lane_rate = <0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <110>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                parser_sequence_fifo_sizes = <225>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                num_channels = <4>;
-                rx_buffer_sizes = <460 460 460 460>;
-                //num_channels = <1>;
-                //rx_buffer_sizes = <944>;
-
-                // Max available descriptors are 1024  (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <300>;
-                free_desc_sizes = <2048>;
-                ucore_mask = <0xffff>;
-	};
-/*
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-                
-		ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-				   
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-*/
-};
-
-
diff --git a/arch/mips/boot/dts/nae.dts b/arch/mips/boot/dts/nae.dts
deleted file mode 100644
index 4610034..0000000
--- a/arch/mips/boot/dts/nae.dts
+++ /dev/null
@@ -1,344 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Each thread uses vc 1 as freeback VC.
-		     // This is tied with fb-vc field.
-		      0    1    1    5    2   9    3    13 
-		      4    17   5    21   6   25   7    29
-                      8    33   9    37   10  41   11   45
-                      12   49   13   53   14  57   15   61
-		      16   65   17   69   18  73   19   77
-                      20   81   21   85   22  89   23   93
-		      24   97   25  101   26 105   27  109
-		      28  113   29  117   30 121   31  125	  
-/*
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   0  1   4  2   8  3  12
-		      4  16  5  20  6  24  7  28
-		      8  32  9  36 10  40 11  44
-	 	     12  48 13  52 14  56 15  60
-		     16  64 17  68 18  72 19  76
-		     20  80 21  84 22  88 23  92
-		     24  96 25 100 26 104 27 108
-		     28 112 29 116 30 120 31 124
-		     // NAE -> NAE mapping 
-		     32	1000 33 1001 34 1002 35 1003
-		     36	1004 37 1005 38 1006 39 1007
-		     40	1008 41 1009 42 1010 43 1011
-		     44	1012 45 1013 46 1014 47 1015
-		     48	1016 49 1017 50 1018 51 1019
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-*/
-		>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		// For enque mode support , change mode in 
-		// "sysconfig/nae/ucore/default.c" from 
-		// "FWD_DIST_VEC" to "FWD_ENQ_DIST_VEC"  
-		
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@0 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@1 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@2 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@3 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-                
-		ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-				   
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
-
-
-/*
-        // XLP - SGMII Daughter card support
-
-        complex@0 {
-                device_type = "nae-complex";
-                mode = "sgmii";
-
-                loopback_mode = <0 0 0 0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <13 13 13 13>;
-
-                ext_phy_addr = <5 6 7 4>;
-                ext_phy_bus = <1 1 1 1>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = <1 1 1 1>;
-                parser_sequence_fifo_sizes = <62 62 62 62>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <128 128 128 128>;
-
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <52 52 52 52>;
-                free_desc_sizes = <2048 2048 2048 2048>;
-                ucore_mask = <0xffff 0xffff 0xffff 0xffff>;
-        };
-        complex@1 {
-                device_type = "nae-complex";
-                mode = "sgmii";
-
-                loopback_mode = <0 0 0 0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <13 13 13 13>;
-
-                ext_phy_addr = <9 10 11 8>;
-                ext_phy_bus = <1 1 1 1>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = <1 1 1 1>;
-                parser_sequence_fifo_sizes = <62 62 62 62>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <128 128 128 128>;
-
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <52 52 52 52>;
-                free_desc_sizes = <2048 2048 2048 2048>;
-                ucore_mask = <0xffff 0xffff 0xffff 0xffff>;
-        };
-        complex@2 {
-                device_type = "nae-complex";
-                mode = "sgmii";
-
-                loopback_mode = <0 0 0 0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <13 13 13 13>;
-
-                ext_phy_addr = <1 2 3 0>;
-                ext_phy_bus = <1 1 1 1>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = <1 1 1 1>;
-                parser_sequence_fifo_sizes = <62 62 62 62>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <128 128 128 128>;
-
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <52 52 52 52>;
-                free_desc_sizes = <2048 2048 2048 2048>;
-                ucore_mask = <0xffff 0xffff 0xffff 0xffff>;
-        };
-        complex@3 {
-                device_type = "nae-complex";
-                mode = "sgmii";
-
-                loopback_mode = <0 0 0 0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <13 13 13 13>;
-
-                ext_phy_addr = <13 14 15 12>;
-                ext_phy_bus = <1 1 1 1>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = <1 1 1 1>;
-                parser_sequence_fifo_sizes = <62 62 62 62>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <128 128 128 128>;
-
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <52 52 52 52>;
-                free_desc_sizes = <2048 2048 2048 2048>;
-                ucore_mask = <0xffff 0xffff 0xffff 0xffff>;
-        };
-
-*/
-
diff --git a/arch/mips/boot/dts/netos.dts b/arch/mips/boot/dts/netos.dts
deleted file mode 100644
index 3506e7a..0000000
--- a/arch/mips/boot/dts/netos.dts
+++ /dev/null
@@ -1,85 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x1>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
-			};
-			app-param{
-                                onlinemask = <0x1>;
-                        };
-
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	soc {
-
-	};
-};
diff --git a/arch/mips/boot/dts/perf-nae.dts b/arch/mips/boot/dts/perf-nae.dts
deleted file mode 100644
index e2e9ddc..0000000
--- a/arch/mips/boot/dts/perf-nae.dts
+++ /dev/null
@@ -1,213 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-			  0  1    1 5     2 9     3 13 
-			  4  17   5 21    6 25    7 29
-			  8  33   9 37    10 41   11 45
-			  12 49   13 53   14 57   15 61
-			  16 65   17 69   18 73   19 77
-			  20 81   21 85   22 89   23 93
-			  24 97   25 101  26 105  27 109
-			  28 113  29 117  30 121  31 125
-
-		     // NAE -> NAE mapping 
-		     32	1000 33 1001 34 1002 35 1003
-		     36	1004 37 1005 38 1006 39 1007
-		     40	1008 41 1009 42 1010 43 1011
-		     44	1012 45 1013 46 1014 47 1015
-		     48	1016 49 1017 50 1018 51 1019
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-		>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "perf-ucore.c";
-			mask = <0xffff>;
-		};
-	};
-
-	
-
-	freein-fifo-config {
-		/* If shared is true, 
-			1. Ucore is going to use upto max queues(16 for XLP, 8 for storm) for buffer mgmt
-		   	2. Onnchip desc size per queue, same value will be configured for all the queues.
-		   If shared is false, 
-	 		1. Onchip desc size per queue will be configured using num_free_desc specified at the port level.
-		   If spill descs per queue is specified,  
-			1. spill will be enabled for all the queues(except mgmt) using the spill memory specified in the OS config file.
-		*/
-
-		freein-fifo-shared = <1>;
-		freein-fifo-onchip-num-descs = <56>;
-		freein-fifo-spill-num-descs = <1200>;
-	};
-
-
-	// Packet Ordering Engine (POE)
-	poe {	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-	
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-	};
-
-	complex@0 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@1 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@2 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@3 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <160 160>;
-                
-		ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0 >;
-				   
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
diff --git a/arch/mips/boot/dts/perf/nae.dts b/arch/mips/boot/dts/perf/nae.dts
new file mode 100644
index 0000000..1ef92d8
--- /dev/null
+++ b/arch/mips/boot/dts/perf/nae.dts
@@ -0,0 +1,27 @@
+                vfbid-map = <
+                          0  1    1 5     2 9     3 13
+                          4  17   5 21    6 25    7 29
+                          8  33   9 37    10 41   11 45
+                          12 49   13 53   14 57   15 61
+                          16 65   17 69   18 73   19 77
+                          20 81   21 85   22 89   23 93
+                          24 97   25 101  26 105  27 109
+                          28 113  29 117  30 121  31 125
+
+                             // NAE -> NAE mapping
+                          32 1000 33 1001 34 1002 35 1003
+                          36 1004 37 1005 38 1006 39 1007
+                          40 1008 41 1009 42 1010 43 1011
+                          44 1012 45 1013 46 1014 47 1015
+                          48 1016 49 1017 50 1018 51 1019
+
+                        // NULL FBID Should map to cpu0 to detect NAE send message errors
+                          127 0
+                >;
+                ucore {
+                        src@1 {
+                                file = "perf-ucore.c";
+                                mask = <0xffff>;
+                        };
+                };
+
diff --git a/arch/mips/boot/dts/snort-nae.dts b/arch/mips/boot/dts/snort-nae.dts
deleted file mode 100644
index 60804fd..0000000
--- a/arch/mips/boot/dts/snort-nae.dts
+++ /dev/null
@@ -1,219 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Each thread uses vc 1 as freeback VC.
-		     // This is tied with fb-vc field.
-			0 2 1 6 2 10 3 14
-			4 18 5 22 6 26 7 30
-			8 34 9 38 10 42 11 46
-			12 50 13 54 14 58 15 62
-			16 66 17 70 18 74 19 78
-			20 82 21 86 22 90 23 94
-			24 98 25 102 26 106 27 110
-			28 114 29 118 30 122 31 126
-/*
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   0  1   4  2   8  3  12
-		      4  16  5  20  6  24  7  28
-		      8  32  9  36 10  40 11  44
-	 	     12  48 13  52 14  56 15  60
-		     16  64 17  68 18  72 19  76
-		     20  80 21  84 22  88 23  92
-		     24  96 25 100 26 104 27 108
-		     28 112 29 116 30 120 31 124
-*/
-		     // NAE -> NAE mapping 
-		     32	1000 33 1001 34 1002 35 1003
-		     36	1004 37 1005 38 1006 39 1007
-		     40	1008 41 1009 42 1010 43 1011
-		     44	1012 45 1013 46 1014 47 1015
-		     48	1016 49 1017 50 1018 51 1019
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-		>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@0 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@1 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@2 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@3 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-                ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0 >;
-				   
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
diff --git a/arch/mips/boot/dts/srtp-nae.dts b/arch/mips/boot/dts/srtp-nae.dts
deleted file mode 100644
index 63369ac..0000000
--- a/arch/mips/boot/dts/srtp-nae.dts
+++ /dev/null
@@ -1,196 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-			0  1    1 5     2 9     3 13
-			4  17   5 21    6 25    7 29
-			8  33   9 37    10 41   11 45
-			12 49   13 53   14 57   15 61
-			16 65   17 69   18 73   19 77
-			20 81   21 85   22 89   23 93
-			24 97   25 101  26 105  27 109
-			28 113  29 117  30 121  31 125
-
-			// NAE -> NAE mapping
-			32 1000 33 1001 34 1002 35 1003
-			36 1004 37 1005 38 1006 39 1007
-			40 1008 41 1009 42 1010 43 1011
-			44 1012 45 1013 46 1014 47 1015
-			48 1016 49 1017 50 1018 51 1019
-
-			// NULL FBID Should map to cpu0 to detect NAE send message errors
-			127 0
-                >;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "srtp-ucore.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@0 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@1 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@2 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@3 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-		 ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0 >;
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
diff --git a/arch/mips/boot/dts/storm-helinux.dts b/arch/mips/boot/dts/storm-helinux.dts
deleted file mode 100644
index b4b8f46..0000000
--- a/arch/mips/boot/dts/storm-helinux.dts
+++ /dev/null
@@ -1,130 +0,0 @@
-/* XLP3XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX";
-	compatible = "NETL,XLP3XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <1>;
-                                nae-fb-vc = <2>;
-                                napi-vc-mask = <0x6>;
-
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0xE0000000 0x20000000>;  // 512M @ 3.5GB
-			};
-                        fmn {
-                                node_0_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                                node_1_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                                node_2_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                                node_3_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
-                        };
-			pic {
-			};
-		};
-
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x8000000>; // 128M
-			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x60000000 0x60000000>;  // 1.5GB @ 1.5GB
-			};
-			app-param{
-				onlinemask = <0xffff>;
-			};
-
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/storm-linux-nae.dts b/arch/mips/boot/dts/storm-linux-nae.dts
deleted file mode 100644
index d39050a..0000000
--- a/arch/mips/boot/dts/storm-linux-nae.dts
+++ /dev/null
@@ -1,131 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX NAE CFG";
-	compatible = "NETL,XLP3XX";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   1  1   5  2   9  3  13
-		      4  17  5  21  6  25  7  29
-		      8  33  9  37 10  41 11  45
-	 	     12  49 13  53 14  57 15  61
-/*		     
-		     // NAE -> NAE mapping 
-		     32	496 33 497 34 498 35 499
-		     36	500 37 501 38 502 39 503
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-*/
-
-
-		>;
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "storm-linux-default.c";
-			mask = <0xff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-                distribution_vectors {
-                                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                };
-
-	};
-	
-	complex@0 {
-                device_type = "nae-complex";
-                mode = "sgmii";
-
-                loopback_mode = <0 0 0 0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <13 13 13 13>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = <1 1 1 1>;
-                parser_sequence_fifo_sizes = <30 30 30 30>;
-                //parser_sequence_fifo_sizes = <62 62 62 62>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <128 128 128 128>;
-	
-		//ext phy addresses	
-                ext_phy_addr = <5 6 7 4>;
-                //ext_phy_addr = <9 10 11 8>;
-                ext_phy_bus = <0 0 0 0>;
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <52 52 52 52>;
-                free_desc_sizes = <2048 2048 2048 2048>;
-                ucore_mask = <0xff 0xff 0xff 0xff>;
-        };
-        
-	complex@1 {
-                device_type = "nae-complex";
-                mode = "xaui";
-
-                loopback_mode = <0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <52>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = < 1>;
-                parser_sequence_fifo_sizes = <120>;
-                //parser_sequence_fifo_sizes = <62 >;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <944>;
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = < 150 >;
-                free_desc_sizes = < 2048 >;
-                ucore_mask = <0xff>;
-        };
-};
diff --git a/arch/mips/boot/dts/storm-linux-perf-nae.dts b/arch/mips/boot/dts/storm-linux-perf-nae.dts
deleted file mode 100644
index 25256fa..0000000
--- a/arch/mips/boot/dts/storm-linux-perf-nae.dts
+++ /dev/null
@@ -1,142 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX NAE CFG";
-	compatible = "NETL,XLP3XX";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   1  1   5  2   9  3  13
-		      4  17  5  21  6  25  7  29
-		      8  33  9  37 10  41 11  45
-	 	     12  49 13  53 14  57 15  61
-
-		     // NAE -> NAE mapping 
-		     32	496 33 497 34 498 35 499
-		     36	500 37 501 38 502 39 503
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-
-
-		>;
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "perf-ucore.c";
-			mask = <0xff>;
-		};
-	};
-
-	freein-fifo-config {
-		/* If shared is true, 
-			1. Ucore is going to use upto max queues(16 for XLP, 8 for storm) for buffer mgmt
-		   	2. Onnchip desc size per queue, same value will be configured for all the queues.
-		   If shared is false, 
-	 		1. Onchip desc size per queue will be configured using num_free_desc specified at the port level.
-		   If spill descs per queue is specified,  
-			1. spill will be enabled for all the queues(except mgmt) using the spill memory specified in the OS config file.
-		*/
-
-		freein-fifo-shared = <1>;
-		freein-fifo-onchip-num-descs = <56>;
-		freein-fifo-spill-num-descs = <1200>;
-	};
-
-
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-                distribution_vectors {
-                                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                };
-
-	};
-	
-    complex@0 {
-                device_type = "nae-complex";
-                mode = "xaui";
-
-                loopback_mode = <0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <52>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = < 1>;
-                parser_sequence_fifo_sizes = <120>;
-                //parser_sequence_fifo_sizes = <62 >;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <944>;
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = < 150 >;
-                free_desc_sizes = < 2048 >;
-                ucore_mask = <0xff>;
-        };
-
-	complex@1 {
-                device_type = "nae-complex";
-                mode = "xaui";
-
-                loopback_mode = <0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <52>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = < 1>;
-                parser_sequence_fifo_sizes = <120>;
-                //parser_sequence_fifo_sizes = <62 >;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <944>;
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = < 150 >;
-                free_desc_sizes = < 2048 >;
-                ucore_mask = <0xff>;
-        };
-};
diff --git a/arch/mips/boot/dts/storm-linux-perf.dts b/arch/mips/boot/dts/storm-linux-perf.dts
deleted file mode 100644
index dc74415..0000000
--- a/arch/mips/boot/dts/storm-linux-perf.dts
+++ /dev/null
@@ -1,106 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX";
-	compatible = "NETL,XLP3XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0x20000000 0x60000000>;  // 2586M at 512M
-			};
-                        fmn {
-								node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                        };
-			pic {
-			};
-		};
-	};
-
-	fmn-config {
-		/* credit and queue size configuration, 
-		   A single entry message consumes 12 byte, 2 entry 20 byte etc. 
-		   so queue size of 16K can store 16 * 1024 /12 = 1365 single 
-		   entry messages 
-		   Stations which are not specified in the list will be configured
-		   with the default values given below 
-		   Names are cpu, popq, pcie, gdx, regx, rsa, crypto, srio, cmp, poe, nae 
-		*/
-
-		default-credits = <50>;
-		default-queue-size = <16384>;
-		cpu {
-			queue-size = <32768>; /* queue size for all the cpu vcs */
-			nae = <100>;	/* credits from cpu to nae */
-		};
-		poe {
-			cpu = <500>;
-		};
-	};
-
-	extra-mem-config {
-		/* used only if spill enabled */
-		freein-fifo-spill-mem-range = <0x00000000 0x0fe00000 0x00000000 0x00100000>; // 1MB @ 254MB
-		fmn-spill-mem-range = <0x00000000 0x10000000 0x00000000 0x02000000>; //32MB @ 256MB
-	};
-
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  rhash_entries=1048576";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/storm-linux.dts b/arch/mips/boot/dts/storm-linux.dts
deleted file mode 100644
index 8d1ae4e..0000000
--- a/arch/mips/boot/dts/storm-linux.dts
+++ /dev/null
@@ -1,84 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX";
-	compatible = "NETL,XLP3XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-				sae-rx-vc = <0>; /*  */
-				sae-rx-sync-vc  = <3>; /* should be exclusive */
-				ipsec-async-vc  = <0>;
-                                ipsec-sync-vc   = <2>;
-
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0x20000000 0xa0000000>;  // 2586M at 512M
-			};
-                        fmn {
-                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                       };
-			pic {
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  mem=512m@3584m ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/storm-multi-os.dts b/arch/mips/boot/dts/storm-multi-os.dts
deleted file mode 100644
index 7f82b41..0000000
--- a/arch/mips/boot/dts/storm-multi-os.dts
+++ /dev/null
@@ -1,193 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x30000000 0x20000000>; /* 0.75 GB -> 1.25 GB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0x0f>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0f000000>;	// 240M at 16M
-			};
-			pic {
-			};
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x62800000 0x0 0x02000000>;  // 1576MB -> 1608MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "ampload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <1>;
-			};
-
-			cpu {
-				onlinemask = <0xf0>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x5E800000 0x04000000>;  // 1512M -> 1576M (64M)
-			};
-			nae {
-				owner = <0>;
-			};
-		};
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x68800000 0x0 0x02000000>;  // 1672MB -> 1704MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x0f00>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x64800000 0x04000000>;  // 1608M ->1672 M (64M) 
-			};
-			nae {
-				owner = <0>;
-			};
-		};
-	        dom@3 {
-                        device_type = "domain";
-                        os = "netos";
-
-                        heap-size = <0x0 0x2000000>;                   // 32M
-                        shared-mem = <0x0 0x7a800000 0x0 0x02000000>;  // 1960MB -> 1992MB (32MB)
-
-                        #address-cells = <1>;
-                        #size-cells = <1>;
-
-                        app-bootcmd = "ampload";
-                        app-loadaddr = "0x82800000"; // 2088Mb
-
-                        kernel {
-                                /* Kernel Memory allocated from xen domain-heap */
-                                size = <0x02000000>;  // 32M
-
-                                /* Location in Dom0 ramdisk */
-                                location = "/tmp/xen/netos.elf";
-
-                                /* Domain destroy currently doesn't work with hyperexec */
-                                dom_destroy_hack = <0>;
-                        };
-
-                        cpu {
-                                onlinemask = <0xf000>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-                        };
-                        uart {
-                                id = <0>;
-                                sharedcfg = <0x1f000000>;
-                        };
-                        memory {
-                                reg = <0x6a800000 0x10000000>;  // 1704M -> 1960M (256MB)
-                        };
-                        nae {
-                                owner = <0>;
-                        };
-                };
-	
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/storm-nae.dts b/arch/mips/boot/dts/storm-nae.dts
deleted file mode 100644
index 5291cf8..0000000
--- a/arch/mips/boot/dts/storm-nae.dts
+++ /dev/null
@@ -1,129 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX NAE CFG";
-	compatible = "NETL,XLP3XX";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   1  1   5  2   9  3  13
-		      4  17  5  21  6  25  7  29
-		      8  33  9  37 10  41 11  45
-	 	     12  49 13  53 14  57 15  61
-		     // NAE -> NAE mapping 
-		     32	496 33 497 34 498 35 499
-		     36	500 37 501 38 502 39 503
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-
-
-		>;
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "storm-linux-default.c";
-			mask = <0xff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-                distribution_vectors {
-                                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                };
-
-	};
-	
-	complex@0 {
-                device_type = "nae-complex";
-                mode = "sgmii";
-
-                loopback_mode = <0 0 0 0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <13 13 13 13>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = <1 1 1 1>;
-                parser_sequence_fifo_sizes = <30 30 30 30>;
-                //parser_sequence_fifo_sizes = <62 62 62 62>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <128 128 128 128>;
-	
-		//ext phy addresses	
-                ext_phy_addr = <5 6 7 4>;
-                //ext_phy_addr = <9 10 11 8>;
-                ext_phy_bus = <0 0 0 0>;
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <52 52 52 52>;
-                free_desc_sizes = <2048 2048 2048 2048>;
-                ucore_mask = <0xff 0xff 0xff 0xff>;
-        };
-        
-	complex@1 {
-                device_type = "nae-complex";
-                mode = "xaui";
-
-                loopback_mode = <0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <52>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = < 1>;
-                parser_sequence_fifo_sizes = <120>;
-                //parser_sequence_fifo_sizes = <62 >;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <944>;
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = < 150 >;
-                free_desc_sizes = < 2048 >;
-                ucore_mask = <0xff>;
-        };
-};
diff --git a/arch/mips/boot/dts/storm-netos.dts b/arch/mips/boot/dts/storm-netos.dts
deleted file mode 100644
index 3f2652c..0000000
--- a/arch/mips/boot/dts/storm-netos.dts
+++ /dev/null
@@ -1,83 +0,0 @@
-/* XLP3XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX";
-	compatible = "NETL,XLP3XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x1>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
-			};
-
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	soc {
-
-	};
-};
diff --git a/arch/mips/boot/dts/storm-tiny-nae.dts b/arch/mips/boot/dts/storm-tiny-nae.dts
deleted file mode 100644
index 986db3a..0000000
--- a/arch/mips/boot/dts/storm-tiny-nae.dts
+++ /dev/null
@@ -1,114 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX NAE CFG";
-	compatible = "NETL,XLP3XX";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <250>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-                     0    0    1   1   2   2   3   3		
-/*
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   0  1   4  2   8  3  12
-		      4  16  5  20  6  24  7  28
-		      8  32  9  36 10  40 11  44
-	 	     12  48 13  52 14  56 15  60
-		     16  64 17  68 18  72 19  76
-		     20  80 21  84 22  88 23  92
-		     24  96 25 100 26 104 27 108
-		     28 112 29 116 30 120 31 124
-		     // NAE -> NAE mapping 
-		     32	1000 33 1001 34 1002 35 1003
-		     36	1004 37 1005 38 1006 39 1007
-		     40	1008 41 1009 42 1010 43 1011
-		     44	1012 45 1013 46 1014 47 1015
-		     48	1016 49 1017 50 1018 51 1019
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-
-*/
-		>;
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-                distribution_vectors {
-                                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-                };
-
-	};
-	
-	complex@0 {
-                device_type = "nae-complex";
-                mode = "sgmii";
-
-                loopback_mode = <0 0 0 0>;
-
-                // Max ingress fifo size 256 units (size of one unit is 64 byte)
-                iface_fifo_sizes = <13 13 13 13>;
-
-                // Max parser sequence fifo size 1024 packets
-                // (if 1588 Timestamp is not required, then max size increases to 2048)
-                num_channels = <1 1 1 1>;
-                parser_sequence_fifo_sizes = <30 30 30 30>;
-                //parser_sequence_fifo_sizes = <62 62 62 62>;
-
-                // Since rx_buffer is per context, we can have a few different ways
-                //  to populate the operand
-                rx_buffer_sizes = <128 128 128 128>;
-	
-		//ext phy addresses	
-                ext_phy_addr = <5 6 7 4>;
-                //ext_phy_addr = <9 10 11 0>;
-                //ext_phy_addr = <9 10 11 8>;
-                ext_phy_bus = <0 0 0 0>;
-
-                // Max available descriptors are 1024 (across all complexes).
-                // Per port num_free_descriptors must be even number
-                num_free_descs = <52 52 52 52>;
-                free_desc_sizes = <2048 2048 2048 2048>;
-                ucore_mask = <0xff 0xff 0xff 0xff>;
-        };
-
-};
diff --git a/arch/mips/boot/dts/storm-tiny.dts b/arch/mips/boot/dts/storm-tiny.dts
deleted file mode 100644
index 27868b8..0000000
--- a/arch/mips/boot/dts/storm-tiny.dts
+++ /dev/null
@@ -1,50 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP3XX";
-	compatible = "NETL,XLP3XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			heap-size = <0x0 0x4000000>;
-			shared-mem = <0x0 0x80000000 0x0 0x20000000>;
-			#address-cells = <1>;
-			#size-cells = <1>;
-			cpu {
-				onlinemask = <0xf>;
-				nae-rx-vc = <0>;
-				nae-fb-vc = <3>;
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x00100000 0x0FF00000	// 255M at 1M
-					   0x20000000 0x20000000>;  // 512M at 512M
-			};
-			pic {
-			};
-		};
-	};
-
-	chosen {
-		bootargs = "xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	soc {
-		fmn {
-			spill-base-hi   = <0x00000000>;
-			spill-base-low  = <0xE0000000>;
-			spill-size  	= <0x1000000>;
-			tx-vc       	= <524>;
-			credit      	= <50>;
-		};
-	};
-};
diff --git a/arch/mips/boot/dts/tiny.dts b/arch/mips/boot/dts/tiny.dts
deleted file mode 100644
index 75edc2c..0000000
--- a/arch/mips/boot/dts/tiny.dts
+++ /dev/null
@@ -1,50 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			heap-size = <0x0 0x4000000>;
-			shared-mem = <0x0 0x80000000 0x0 0x20000000>;
-			#address-cells = <1>;
-			#size-cells = <1>;
-			cpu {
-				onlinemask = <0xf>;
-				nae-rx-vc = <0>;
-				nae-fb-vc = <3>;
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x00100000 0x0FF00000	// 255M at 1M
-					   0x20000000 0x20000000>;  // 512M at 512M
-			};
-			pic {
-			};
-		};
-	};
-
-	chosen {
-		bootargs = "xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	soc {
-		fmn {
-			spill-base-hi   = <0x00000000>;
-			spill-base-low  = <0xE0000000>;
-			spill-size  	= <0x1000000>;
-			tx-vc       	= <524>;
-			credit      	= <50>;
-		};
-	};
-};
diff --git a/arch/mips/boot/dts/xlp3xx-helinux.dts b/arch/mips/boot/dts/xlp3xx-helinux.dts
new file mode 100644
index 0000000..b4b8f46
--- /dev/null
+++ b/arch/mips/boot/dts/xlp3xx-helinux.dts
@@ -0,0 +1,130 @@
+/* XLP3XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP3XX";
+	compatible = "NETL,XLP3XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <1>;
+                                nae-fb-vc = <2>;
+                                napi-vc-mask = <0x6>;
+
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0xE0000000 0x20000000>;  // 512M @ 3.5GB
+			};
+                        fmn {
+                                node_0_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_1_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_2_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_3_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                        };
+			pic {
+			};
+		};
+
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x8000000>; // 128M
+			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x60000000 0x60000000>;  // 1.5GB @ 1.5GB
+			};
+			app-param{
+				onlinemask = <0xffff>;
+			};
+
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp3xx-linux-perf.dts b/arch/mips/boot/dts/xlp3xx-linux-perf.dts
new file mode 100644
index 0000000..dc74415
--- /dev/null
+++ b/arch/mips/boot/dts/xlp3xx-linux-perf.dts
@@ -0,0 +1,106 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP3XX";
+	compatible = "NETL,XLP3XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0x60000000>;  // 2586M at 512M
+			};
+                        fmn {
+								node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                        };
+			pic {
+			};
+		};
+	};
+
+	fmn-config {
+		/* credit and queue size configuration, 
+		   A single entry message consumes 12 byte, 2 entry 20 byte etc. 
+		   so queue size of 16K can store 16 * 1024 /12 = 1365 single 
+		   entry messages 
+		   Stations which are not specified in the list will be configured
+		   with the default values given below 
+		   Names are cpu, popq, pcie, gdx, regx, rsa, crypto, srio, cmp, poe, nae 
+		*/
+
+		default-credits = <50>;
+		default-queue-size = <16384>;
+		cpu {
+			queue-size = <32768>; /* queue size for all the cpu vcs */
+			nae = <100>;	/* credits from cpu to nae */
+		};
+		poe {
+			cpu = <500>;
+		};
+	};
+
+	extra-mem-config {
+		/* used only if spill enabled */
+		freein-fifo-spill-mem-range = <0x00000000 0x0fe00000 0x00000000 0x00100000>; // 1MB @ 254MB
+		fmn-spill-mem-range = <0x00000000 0x10000000 0x00000000 0x02000000>; //32MB @ 256MB
+	};
+
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  rhash_entries=1048576";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp3xx-linux.dts b/arch/mips/boot/dts/xlp3xx-linux.dts
new file mode 100644
index 0000000..8d1ae4e
--- /dev/null
+++ b/arch/mips/boot/dts/xlp3xx-linux.dts
@@ -0,0 +1,84 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP3XX";
+	compatible = "NETL,XLP3XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+				napi-vc-mask = <0x3>;
+				sae-rx-vc = <0>; /*  */
+				sae-rx-sync-vc  = <3>; /* should be exclusive */
+				ipsec-async-vc  = <0>;
+                                ipsec-sync-vc   = <2>;
+
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0xa0000000>;  // 2586M at 512M
+			};
+                        fmn {
+                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                       };
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  mem=512m@3584m ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp3xx-multi-os.dts b/arch/mips/boot/dts/xlp3xx-multi-os.dts
new file mode 100644
index 0000000..7f82b41
--- /dev/null
+++ b/arch/mips/boot/dts/xlp3xx-multi-os.dts
@@ -0,0 +1,193 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0x30000000 0x20000000>; /* 0.75 GB -> 1.25 GB */
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0x0f>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+				napi-vc-mask = <0x3>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0f000000>;	// 240M at 16M
+			};
+			pic {
+			};
+		};
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>;                   // 32M
+			shared-mem = <0x0 0x62800000 0x0 0x02000000>;  // 1576MB -> 1608MB (32MB)
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "ampload";
+			app-loadaddr = "0x82800000"; // 2088 MB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <1>;
+			};
+
+			cpu {
+				onlinemask = <0xf0>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x5E800000 0x04000000>;  // 1512M -> 1576M (64M)
+			};
+			nae {
+				owner = <0>;
+			};
+		};
+		dom@2 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>;                   // 32M
+			shared-mem = <0x0 0x68800000 0x0 0x02000000>;  // 1672MB -> 1704MB (32MB)
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0x82800000"; // 2088 MB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0x0f00>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x64800000 0x04000000>;  // 1608M ->1672 M (64M) 
+			};
+			nae {
+				owner = <0>;
+			};
+		};
+	        dom@3 {
+                        device_type = "domain";
+                        os = "netos";
+
+                        heap-size = <0x0 0x2000000>;                   // 32M
+                        shared-mem = <0x0 0x7a800000 0x0 0x02000000>;  // 1960MB -> 1992MB (32MB)
+
+                        #address-cells = <1>;
+                        #size-cells = <1>;
+
+                        app-bootcmd = "ampload";
+                        app-loadaddr = "0x82800000"; // 2088Mb
+
+                        kernel {
+                                /* Kernel Memory allocated from xen domain-heap */
+                                size = <0x02000000>;  // 32M
+
+                                /* Location in Dom0 ramdisk */
+                                location = "/tmp/xen/netos.elf";
+
+                                /* Domain destroy currently doesn't work with hyperexec */
+                                dom_destroy_hack = <0>;
+                        };
+
+                        cpu {
+                                onlinemask = <0xf000>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+                        };
+                        uart {
+                                id = <0>;
+                                sharedcfg = <0x1f000000>;
+                        };
+                        memory {
+                                reg = <0x6a800000 0x10000000>;  // 1704M -> 1960M (256MB)
+                        };
+                        nae {
+                                owner = <0>;
+                        };
+                };
+	
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp3xx-netos.dts b/arch/mips/boot/dts/xlp3xx-netos.dts
new file mode 100644
index 0000000..d7de5cf
--- /dev/null
+++ b/arch/mips/boot/dts/xlp3xx-netos.dts
@@ -0,0 +1,85 @@
+/* XLP3XX Device Tree Source 
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP3XX";
+	compatible = "NETL,XLP3XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <1>;
+		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0x50000000 0x20000000>;
+	};
+
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>; // 32M
+			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <2>; /* should be exclusive */
+
+
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
+			};
+			app-param{
+                                onlinemask = <0xffff>;
+                        };
+			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	soc {
+
+	};
+};
diff --git a/arch/mips/boot/dts/xlp3xx-tiny.dts b/arch/mips/boot/dts/xlp3xx-tiny.dts
new file mode 100644
index 0000000..4afdf56
--- /dev/null
+++ b/arch/mips/boot/dts/xlp3xx-tiny.dts
@@ -0,0 +1,141 @@
+/* XLP8XX Device Tree Source 
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP3XX";
+	compatible = "NETL,XLP3XX_A0";
+	#address-cells = <1>;
+	#size-cells = <1>;
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			heap-size = <0x0 0x4000000>;
+			shared-mem = <0x0 0x80000000 0x0 0x20000000>;
+			#address-cells = <1>;
+			#size-cells = <1>;
+			cpu {
+				onlinemask = <0xf>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <3>;
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x00100000 0x0FF00000	// 255M at 1M
+					   0x20000000 0x20000000>;  // 512M at 512M
+			};
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = "xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	soc {
+	    nae@node-0 {
+        	model = "MIPS,XLP8XX NAE CFG";
+	        compatible = "NETL,XLP8XX_A0";
+        	#address-cells = <1>;
+	        #size-cells = <1>;
+        	frequency = <250>;
+
+	        /include/ "ucore.dts"
+
+	        // VFBID MAP: Upto 127 entries
+        	// (each entry is a pair of (vfbid , dest-vc)
+	        // Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
+        	vfbid-config {
+                	vfbid-map = <
+	                     0    0    1   1   2   2   3   3
+        	        >;
+	        };
+	
+        	// Packet Ordering Engine (POE)
+	        poe {
+	
+        	        mode = "bypass";
+
+                	// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
+	                // Format : 512-bit-vector is specified as 16 32-bit words
+        	        // Left most word has the vc range 511-479 right most word has vc range 31 - 0
+                	// Each word has the MSB select higer vc number and LSB select lower vc num
+	                distribution_vectors {
+                                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
+                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+        	        };
+	        };
+
+	        complex@0 {
+        	        device_type = "nae-complex";
+                	mode = "sgmii";
+	
+        	        sgmii {
+                	        loopback = <0 0 0 0>;
+
+                        	// Max ingress fifo size 256 units (size of one unit is 64 byte)
+	                        iface-fifo-size = <13 13 13 13>;
+	
+        	                ext-phy-addr = <4 7 6 5>;
+                	        ext-phy-bus = <0 0 0 0>;
+
+                        	// Max parser sequence fifo size 1024 packets
+	                        // (if 1588 Timestamp is not required, then max size increases to 2048)
+        	                num-channels = <1 1 1 1>;
+                	        parser-sequence-fifo-size = <62 62 62 62>;
+
+                        	// Since rx_buffer is per context, we can have a few different ways
+	                        //  to populate the operand
+        	                rx-buffer-size = <128 128 128 128>;
+
+
+                	        // Max available descriptors are 1024 (across all complexes).
+                        	// Per port num_free_descriptors must be even number
+	                        num-free-descs = <52 52 52 52>;
+        	                free-desc-size = <2048 2048 2048 2048>;
+                	        ucore-mask = <0xff 0xff 0xff 0xff>;
+	                };
+	                xaui {
+        	        	loopback = <0>;
+                	        // Max ingress fifo size 256 units (size of one unit is 64 byte)
+                        	iface-fifo-size = <55>;
+
+	                       	// Max parser sequence fifo size 1024 packets
+        	               	// (if 1588 Timestamp is not required, then max size increases to 2048)
+                	       	parser-sequence-fifo-size = <225>;
+
+                        	// Since rx_buffer is per context, the buffer size given here will be divided by num-channels
+	                       	num-channels = <1>;
+        	               	rx-buffer-size = <944>;
+
+                	       	// Max available descriptors are 1024  (across all complexes).
+                        	// Per port num_free_descriptors must be even number
+	                        num-free-descs = <150>;
+        	                free-desc-size = <2048>;
+                	        // In xlp3xx number of ucores available is 8. so, ucore_mask for xlp3xx is (ucore-mask & 0xFF)
+                        	ucore-mask = <0xff>;
+	                };
+        	};
+	   };
+	};
+};
diff --git a/arch/mips/boot/dts/xlp4xx-helinux.dts b/arch/mips/boot/dts/xlp4xx-helinux.dts
new file mode 100644
index 0000000..e775a5e
--- /dev/null
+++ b/arch/mips/boot/dts/xlp4xx-helinux.dts
@@ -0,0 +1,192 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <1>;
+                                nae-fb-vc = <2>;
+				sae-rx-vc = <1>; /* sharing with nae */
+				sae-rx-sync-vc = <3>; /* should be exclusive */
+                                napi-vc-mask = <0x6>;
+
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0xE0000000 0xC0000000>;  // 3GB @ 3.5GB
+			};
+                        fmn {
+                                node_0_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_1_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_2_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_3_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                        };
+			pic {
+			};
+		};
+
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x8000000>; // 128M
+			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <0>;  /* sharing with nae */
+				/* helinux, as only 1 thread per cpu, it should poll for both nae and sae 
+				   responses. Also there is no other vc as linux is using other 2 vcs */
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x60000000 0x60000000>;  // 1.5GB @ 1.5GB
+			};
+			app-param{
+				onlinemask = <0xffff>;
+			};
+			nae{
+				owner = <1>;
+			};
+
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+
+		dom@2 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x8000000>; // 128M
+			shared-mem = <0x0 0x48000000 0x0 0x10000000>; // 128M @ 1152Mb
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff0000>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0xE0000000 0x60000000>;  // 1.5Gb @ 3584Mb
+			};
+			app-param{
+				onlinemask = <0xffff0000>;
+			};
+			nae{
+				owner = <0>;
+			};
+
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp4xx-linux.dts b/arch/mips/boot/dts/xlp4xx-linux.dts
new file mode 100644
index 0000000..f9d8f32
--- /dev/null
+++ b/arch/mips/boot/dts/xlp4xx-linux.dts
@@ -0,0 +1,84 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+				napi-vc-mask = <0x3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc  = <3>; /* should be exclusive */
+				ipsec-async-vc  = <0>;
+				ipsec-sync-vc   = <2>;
+
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0x60000000>;  // 1536M at 512M
+			};
+                        fmn {
+                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                        };
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp4xx-multi-os.dts b/arch/mips/boot/dts/xlp4xx-multi-os.dts
new file mode 100644
index 0000000..7f82b41
--- /dev/null
+++ b/arch/mips/boot/dts/xlp4xx-multi-os.dts
@@ -0,0 +1,193 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0x30000000 0x20000000>; /* 0.75 GB -> 1.25 GB */
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0x0f>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+				napi-vc-mask = <0x3>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0f000000>;	// 240M at 16M
+			};
+			pic {
+			};
+		};
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>;                   // 32M
+			shared-mem = <0x0 0x62800000 0x0 0x02000000>;  // 1576MB -> 1608MB (32MB)
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "ampload";
+			app-loadaddr = "0x82800000"; // 2088 MB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <1>;
+			};
+
+			cpu {
+				onlinemask = <0xf0>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x5E800000 0x04000000>;  // 1512M -> 1576M (64M)
+			};
+			nae {
+				owner = <0>;
+			};
+		};
+		dom@2 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>;                   // 32M
+			shared-mem = <0x0 0x68800000 0x0 0x02000000>;  // 1672MB -> 1704MB (32MB)
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0x82800000"; // 2088 MB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0x0f00>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x64800000 0x04000000>;  // 1608M ->1672 M (64M) 
+			};
+			nae {
+				owner = <0>;
+			};
+		};
+	        dom@3 {
+                        device_type = "domain";
+                        os = "netos";
+
+                        heap-size = <0x0 0x2000000>;                   // 32M
+                        shared-mem = <0x0 0x7a800000 0x0 0x02000000>;  // 1960MB -> 1992MB (32MB)
+
+                        #address-cells = <1>;
+                        #size-cells = <1>;
+
+                        app-bootcmd = "ampload";
+                        app-loadaddr = "0x82800000"; // 2088Mb
+
+                        kernel {
+                                /* Kernel Memory allocated from xen domain-heap */
+                                size = <0x02000000>;  // 32M
+
+                                /* Location in Dom0 ramdisk */
+                                location = "/tmp/xen/netos.elf";
+
+                                /* Domain destroy currently doesn't work with hyperexec */
+                                dom_destroy_hack = <0>;
+                        };
+
+                        cpu {
+                                onlinemask = <0xf000>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+                        };
+                        uart {
+                                id = <0>;
+                                sharedcfg = <0x1f000000>;
+                        };
+                        memory {
+                                reg = <0x6a800000 0x10000000>;  // 1704M -> 1960M (256MB)
+                        };
+                        nae {
+                                owner = <0>;
+                        };
+                };
+	
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp4xx-netos.dts b/arch/mips/boot/dts/xlp4xx-netos.dts
new file mode 100644
index 0000000..c03c173
--- /dev/null
+++ b/arch/mips/boot/dts/xlp4xx-netos.dts
@@ -0,0 +1,85 @@
+/* XLP8XX Device Tree Source 
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <1>;
+		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0x50000000 0x20000000>;
+	};
+
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>; // 32M
+			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <2>; /* should be exclusive */
+
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
+			};
+			app-param{
+                                onlinemask = <0xffff>;
+                        };
+
+			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	soc {
+
+	};
+};
diff --git a/arch/mips/boot/dts/xlp4xx-tiny.dts b/arch/mips/boot/dts/xlp4xx-tiny.dts
new file mode 100644
index 0000000..4de22a7
--- /dev/null
+++ b/arch/mips/boot/dts/xlp4xx-tiny.dts
@@ -0,0 +1,122 @@
+/* XLP8XX Device Tree Source 
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+	#address-cells = <1>;
+	#size-cells = <1>;
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			heap-size = <0x0 0x4000000>;
+			shared-mem = <0x0 0x80000000 0x0 0x20000000>;
+			#address-cells = <1>;
+			#size-cells = <1>;
+			cpu {
+				onlinemask = <0xf>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <3>;
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x00100000 0x0FF00000	// 255M at 1M
+					   0x20000000 0x20000000>;  // 512M at 512M
+			};
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = "xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	soc {
+            nae@node-0 {
+                model = "MIPS,XLP8XX NAE CFG";
+                compatible = "NETL,XLP8XX_A0";
+                #address-cells = <1>;
+                #size-cells = <1>;
+                frequency = <250>;
+
+                /include/ "ucore.dts"
+
+                // VFBID MAP: Upto 127 entries
+                // (each entry is a pair of (vfbid , dest-vc)
+                // Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
+                vfbid-config {
+                        vfbid-map = <
+                             0    0    1   1   2   2   3   3
+                        >;
+                };
+
+                // Packet Ordering Engine (POE)
+                poe {
+
+                        mode = "bypass";
+
+                        // Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
+                        // Format : 512-bit-vector is specified as 16 32-bit words
+                        // Left most word has the vc range 511-479 right most word has vc range 31 - 0
+                        // Each word has the MSB select higer vc number and LSB select lower vc num
+                        distribution_vectors {
+                                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
+                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                        };
+                };
+                complex@4 {
+                        device_type = "nae-complex";
+                        mode = "sgmii";
+
+                        sgmii {
+                                loopback = <0 0>;
+
+                                mgmt-port = <1 0>;
+
+                                // Max ingress fifo size 256 units (size of one unit is 64 byte)
+                                iface-fifo-size = <13 13>;
+
+                                ext-phy-addr = <16 17>;
+                                ext-phy-bus = <0 0>;
+
+                                // Max parser sequence fifo size 1024 packets
+                                // (if 1588 Timestamp is not required, then max size increases to 2048)
+                                num-channels = <1 1>;
+                                parser-sequence-fifo-size = <62 62>;
+
+                                // Since rx_buffer is per context, we can have a few different ways
+                                //  to populate the operand
+                                rx-buffer-size = <128 128>;
+
+
+                                // Max available descriptors are 1024 (across all complexes).
+                                // Per port num_free_descriptors must be even number
+                                num-free-descs = <52 52>;
+                                free-desc-size = <2048 2048>;
+                                ucore-mask = <0xffff 0xffff>;
+                    };
+                };
+            };
+	};
+};
diff --git a/arch/mips/boot/dts/xlp8xx-helinux.dts b/arch/mips/boot/dts/xlp8xx-helinux.dts
new file mode 100644
index 0000000..e775a5e
--- /dev/null
+++ b/arch/mips/boot/dts/xlp8xx-helinux.dts
@@ -0,0 +1,192 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <1>;
+                                nae-fb-vc = <2>;
+				sae-rx-vc = <1>; /* sharing with nae */
+				sae-rx-sync-vc = <3>; /* should be exclusive */
+                                napi-vc-mask = <0x6>;
+
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0xE0000000 0xC0000000>;  // 3GB @ 3.5GB
+			};
+                        fmn {
+                                node_0_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_1_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_2_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_3_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                        };
+			pic {
+			};
+		};
+
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x8000000>; // 128M
+			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <0>;  /* sharing with nae */
+				/* helinux, as only 1 thread per cpu, it should poll for both nae and sae 
+				   responses. Also there is no other vc as linux is using other 2 vcs */
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x60000000 0x60000000>;  // 1.5GB @ 1.5GB
+			};
+			app-param{
+				onlinemask = <0xffff>;
+			};
+			nae{
+				owner = <1>;
+			};
+
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+
+		dom@2 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x8000000>; // 128M
+			shared-mem = <0x0 0x48000000 0x0 0x10000000>; // 128M @ 1152Mb
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff0000>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0xE0000000 0x60000000>;  // 1.5Gb @ 3584Mb
+			};
+			app-param{
+				onlinemask = <0xffff0000>;
+			};
+			nae{
+				owner = <0>;
+			};
+
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp8xx-linux-perf.dts b/arch/mips/boot/dts/xlp8xx-linux-perf.dts
new file mode 100644
index 0000000..013867c
--- /dev/null
+++ b/arch/mips/boot/dts/xlp8xx-linux-perf.dts
@@ -0,0 +1,105 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0x60000000>;  // 2586M at 512M
+			};
+                        fmn {
+                                node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                        };
+			pic {
+			};
+		};
+	};
+
+	fmn-config {
+		/* credit and queue size configuration, 
+		   A single entry message consumes 12 byte, 2 entry 20 byte etc. 
+		   so queue size of 16K can store 16 * 1024 /12 = 1365 single 
+		   entry messages 
+		   Stations which are not specified in the list will be configured
+		   with the default values given below 
+		   Names are cpu, popq, pcie, gdx, regx, rsa, crypto, srio, cmp, poe, nae 
+		*/
+
+		default-credits = <50>;
+		default-queue-size = <16384>;
+		cpu {
+			queue-size = <32768>; /* queue size for all the cpu vcs */
+			nae = <100>;	/* credits from cpu to nae */
+		};
+		poe {
+			cpu = <500>;
+		};
+	};
+
+	extra-mem-config {
+		/* used only if spill enabled */
+		freein-fifo-spill-mem-range = <0x00000000 0x0fe00000 0x00000000 0x00100000>; // 1MB @ 254MB
+		fmn-spill-mem-range = <0x00000000 0x10000000 0x00000000 0x02000000>; //32MB @ 256MB
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  rhash_entries=1048576";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp8xx-linux.dts b/arch/mips/boot/dts/xlp8xx-linux.dts
new file mode 100644
index 0000000..6834fde
--- /dev/null
+++ b/arch/mips/boot/dts/xlp8xx-linux.dts
@@ -0,0 +1,83 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+				napi-vc-mask = <0x3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc  = <3>; /* should be exclusive */
+				ipsec-async-vc  = <0>;
+				ipsec-sync-vc   = <2>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0xa0000000>;  // 2586M at 512M
+			};
+                        fmn {
+                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                        };
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  mem=512m@3584m ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp8xx-netos.dts b/arch/mips/boot/dts/xlp8xx-netos.dts
new file mode 100644
index 0000000..3f7a426
--- /dev/null
+++ b/arch/mips/boot/dts/xlp8xx-netos.dts
@@ -0,0 +1,85 @@
+/* XLP8XX Device Tree Source 
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <1>;
+		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0x50000000 0x20000000>;
+	};
+
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>; // 32M
+			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <2>; /* should be exclusive */
+
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
+			};
+			app-param{
+                                onlinemask = <0xffffffff>;
+                        };
+
+			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	soc {
+
+	};
+};
diff --git a/arch/mips/boot/dts/xlp8xx-tiny.dts b/arch/mips/boot/dts/xlp8xx-tiny.dts
new file mode 100644
index 0000000..4de22a7
--- /dev/null
+++ b/arch/mips/boot/dts/xlp8xx-tiny.dts
@@ -0,0 +1,122 @@
+/* XLP8XX Device Tree Source 
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+	#address-cells = <1>;
+	#size-cells = <1>;
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			heap-size = <0x0 0x4000000>;
+			shared-mem = <0x0 0x80000000 0x0 0x20000000>;
+			#address-cells = <1>;
+			#size-cells = <1>;
+			cpu {
+				onlinemask = <0xf>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <3>;
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x00100000 0x0FF00000	// 255M at 1M
+					   0x20000000 0x20000000>;  // 512M at 512M
+			};
+			pic {
+			};
+		};
+	};
+
+	chosen {
+		bootargs = "xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	soc {
+            nae@node-0 {
+                model = "MIPS,XLP8XX NAE CFG";
+                compatible = "NETL,XLP8XX_A0";
+                #address-cells = <1>;
+                #size-cells = <1>;
+                frequency = <250>;
+
+                /include/ "ucore.dts"
+
+                // VFBID MAP: Upto 127 entries
+                // (each entry is a pair of (vfbid , dest-vc)
+                // Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
+                vfbid-config {
+                        vfbid-map = <
+                             0    0    1   1   2   2   3   3
+                        >;
+                };
+
+                // Packet Ordering Engine (POE)
+                poe {
+
+                        mode = "bypass";
+
+                        // Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
+                        // Format : 512-bit-vector is specified as 16 32-bit words
+                        // Left most word has the vc range 511-479 right most word has vc range 31 - 0
+                        // Each word has the MSB select higer vc number and LSB select lower vc num
+                        distribution_vectors {
+                                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
+                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                        };
+                };
+                complex@4 {
+                        device_type = "nae-complex";
+                        mode = "sgmii";
+
+                        sgmii {
+                                loopback = <0 0>;
+
+                                mgmt-port = <1 0>;
+
+                                // Max ingress fifo size 256 units (size of one unit is 64 byte)
+                                iface-fifo-size = <13 13>;
+
+                                ext-phy-addr = <16 17>;
+                                ext-phy-bus = <0 0>;
+
+                                // Max parser sequence fifo size 1024 packets
+                                // (if 1588 Timestamp is not required, then max size increases to 2048)
+                                num-channels = <1 1>;
+                                parser-sequence-fifo-size = <62 62>;
+
+                                // Since rx_buffer is per context, we can have a few different ways
+                                //  to populate the operand
+                                rx-buffer-size = <128 128>;
+
+
+                                // Max available descriptors are 1024 (across all complexes).
+                                // Per port num_free_descriptors must be even number
+                                num-free-descs = <52 52>;
+                                free-desc-size = <2048 2048>;
+                                ucore-mask = <0xffff 0xffff>;
+                    };
+                };
+            };
+	};
+};
diff --git a/arch/mips/boot/dts/xlpev-helinux.dts b/arch/mips/boot/dts/xlpev-helinux.dts
new file mode 100644
index 0000000..bd60825
--- /dev/null
+++ b/arch/mips/boot/dts/xlpev-helinux.dts
@@ -0,0 +1,192 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <1>;
+                                nae-fb-vc = <2>;
+				sae-rx-vc = <1>; /* sharing with nae */
+				sae-rx-sync-vc = <3>; /* should be exclusive */
+                                napi-vc-mask = <0x6>;
+
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0xE0000000 0xC0000000>;  // 3GB @ 3.5GB
+			};
+                        fmn {
+                                node_0_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_1_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_2_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                                node_3_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
+                        };
+			pic {
+			};
+		};
+
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x8000000>; // 128M
+			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <0>;  /* sharing with nae */
+				/* helinux, as only 1 thread per cpu, it should poll for both nae and sae 
+				   responses. Also there is no other vc as linux is using other 2 vcs */
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x60000000 0x60000000>;  // 1.5GB @ 1.5GB
+			};
+			app-param{
+				onlinemask = <0xffffffff>;
+			};
+			nae{
+				owner = <1>;
+			};
+
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+
+		dom@2 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x8000000>; // 128M
+			shared-mem = <0x0 0x48000000 0x0 0x10000000>; // 128M @ 1152Mb
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffff0000>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0xE0000000 0x60000000>;  // 1.5Gb @ 3584Mb
+			};
+			app-param{
+				onlinemask = <0xffff0000>;
+			};
+			nae{
+				owner = <0>;
+			};
+
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlpev-linux-nae.dts b/arch/mips/boot/dts/xlpev-linux-nae.dts
deleted file mode 100644
index 44c56b9..0000000
--- a/arch/mips/boot/dts/xlpev-linux-nae.dts
+++ /dev/null
@@ -1,219 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Each thread uses vc 1 as freeback VC.
-		     // This is tied with fb-vc field.
-		      0    1    1    5    2   9    3    13 
-		      4    17   5    21   6   25   7    29
-                      8    33   9    37   10  41   11   45
-                      12   49   13   53   14  57   15   61
-		      16   65   17   69   18  73   19   77
-                      20   81   21   85   22  89   23   93
-		      24   97   25  101   26 105   27  109
-		      28  113   29  117   30 121   31  125	  
-/*
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   0  1   4  2   8  3  12
-		      4  16  5  20  6  24  7  28
-		      8  32  9  36 10  40 11  44
-	 	     12  48 13  52 14  56 15  60
-		     16  64 17  68 18  72 19  76
-		     20  80 21  84 22  88 23  92
-		     24  96 25 100 26 104 27 108
-		     28 112 29 116 30 120 31 124
-		     // NAE -> NAE mapping 
-		     32	1000 33 1001 34 1002 35 1003
-		     36	1004 37 1005 38 1006 39 1007
-		     40	1008 41 1009 42 1010 43 1011
-		     44	1012 45 1013 46 1014 47 1015
-		     48	1016 49 1017 50 1018 51 1019
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-*/
-		>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@0 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@1 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@2 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@3 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-				   
-                ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0 >;
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlpev-linux-perf.dts b/arch/mips/boot/dts/xlpev-linux-perf.dts
new file mode 100644
index 0000000..013867c
--- /dev/null
+++ b/arch/mips/boot/dts/xlpev-linux-perf.dts
@@ -0,0 +1,105 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
+		domain_heap = <0x80000000 0x20000000>;
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000	// 176M at 16M
+					0x20000000 0x60000000>;  // 2586M at 512M
+			};
+                        fmn {
+                                node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                        };
+			pic {
+			};
+		};
+	};
+
+	fmn-config {
+		/* credit and queue size configuration, 
+		   A single entry message consumes 12 byte, 2 entry 20 byte etc. 
+		   so queue size of 16K can store 16 * 1024 /12 = 1365 single 
+		   entry messages 
+		   Stations which are not specified in the list will be configured
+		   with the default values given below 
+		   Names are cpu, popq, pcie, gdx, regx, rsa, crypto, srio, cmp, poe, nae 
+		*/
+
+		default-credits = <50>;
+		default-queue-size = <16384>;
+		cpu {
+			queue-size = <32768>; /* queue size for all the cpu vcs */
+			nae = <100>;	/* credits from cpu to nae */
+		};
+		poe {
+			cpu = <500>;
+		};
+	};
+
+	extra-mem-config {
+		/* used only if spill enabled */
+		freein-fifo-spill-mem-range = <0x00000000 0x0fe00000 0x00000000 0x00100000>; // 1MB @ 254MB
+		fmn-spill-mem-range = <0x00000000 0x10000000 0x00000000 0x02000000>; //32MB @ 256MB
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200  rhash_entries=1048576";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlpev-netos.dts b/arch/mips/boot/dts/xlpev-netos.dts
new file mode 100644
index 0000000..3f7a426
--- /dev/null
+++ b/arch/mips/boot/dts/xlpev-netos.dts
@@ -0,0 +1,85 @@
+/* XLP8XX Device Tree Source 
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <1>;
+		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0x50000000 0x20000000>;
+	};
+
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>; // 32M
+			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf0000000"; // 3.75GB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffffffff>;
+                                nae-rx-vc = <0>;
+                                nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <2>; /* should be exclusive */
+
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <1>; 
+			};
+			uart {
+				id = <0>;
+			};
+			memory {
+				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
+			};
+			app-param{
+                                onlinemask = <0xffffffff>;
+                        };
+
+			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
+                        fmn {
+                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
+                        };
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	soc {
+
+	};
+};
diff --git a/arch/mips/boot/dts/xlpev-tiny-nae.dts b/arch/mips/boot/dts/xlpev-tiny-nae.dts
deleted file mode 100644
index c65a943..0000000
--- a/arch/mips/boot/dts/xlpev-tiny-nae.dts
+++ /dev/null
@@ -1,89 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <250>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-                     0    0    1   1   2   2   3   3		
-		>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-                
-		ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0>;
-				   
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlpev-tiny.dts b/arch/mips/boot/dts/xlpev-tiny.dts
index 75edc2c..4f6f128 100644
--- a/arch/mips/boot/dts/xlpev-tiny.dts
+++ b/arch/mips/boot/dts/xlpev-tiny.dts
@@ -39,12 +39,85 @@
 	};
 
 	soc {
-		fmn {
-			spill-base-hi   = <0x00000000>;
-			spill-base-low  = <0xE0000000>;
-			spill-size  	= <0x1000000>;
-			tx-vc       	= <524>;
-			credit      	= <50>;
-		};
+	    nae@node-0 {
+		model = "MIPS,XLP8XX NAE CFG";
+		compatible = "NETL,XLP8XX_A0";
+		#address-cells = <1>;
+		#size-cells = <1>;
+		frequency = <250>;
+
+		/include/ "ucore.dts"
+
+	        // VFBID MAP: Upto 127 entries
+        	// (each entry is a pair of (vfbid , dest-vc)
+	        // Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
+        	vfbid-config {
+                	vfbid-map = <
+	                     0    0    1   1   2   2   3   3
+        	        >;
+	        };
+
+        	// Packet Ordering Engine (POE)
+	        poe {
+	
+        	        mode = "bypass";
+
+                	// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
+	                // Format : 512-bit-vector is specified as 16 32-bit words
+        	        // Left most word has the vc range 511-479 right most word has vc range 31 - 0
+                	// Each word has the MSB select higer vc number and LSB select lower vc num
+	                distribution_vectors {
+        	                     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
+                                     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                                     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
+                	};
+        	};
+
+	        complex@4 {
+        	        device_type = "nae-complex";
+                	mode = "sgmii";
+
+	                sgmii {
+        	                loopback = <0 0>;
+	
+                	        mgmt-port = <1 0>;
+
+                        	// Max ingress fifo size 256 units (size of one unit is 64 byte)
+	                        iface-fifo-size = <13 13>;
+
+        	                ext-phy-addr = <16 17>;
+                	        ext-phy-bus = <0 0>;
+
+                        	// Max parser sequence fifo size 1024 packets
+	                        // (if 1588 Timestamp is not required, then max size increases to 2048)
+        	                num-channels = <1 1>;
+                	        parser-sequence-fifo-size = <62 62>;
+
+                        	// Since rx_buffer is per context, we can have a few different ways
+	                        //  to populate the operand
+        	                rx-buffer-size = <128 128>;
+
+
+                	        // Max available descriptors are 1024 (across all complexes).
+                        	// Per port num_free_descriptors must be even number
+	                        num-free-descs = <52 52>;
+        	                free-desc-size = <2048 2048>;
+                	        ucore-mask = <0xffff 0xffff>;
+    	            };
+        	};
+	    };
 	};
 };
diff --git a/arch/mips/boot/dts/xlppcie-linux-nae.dts b/arch/mips/boot/dts/xlppcie-linux-nae.dts
deleted file mode 100644
index 44c56b9..0000000
--- a/arch/mips/boot/dts/xlppcie-linux-nae.dts
+++ /dev/null
@@ -1,219 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <500>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-		     // NAE -> CPU mapping 
-		     // Each thread uses vc 1 as freeback VC.
-		     // This is tied with fb-vc field.
-		      0    1    1    5    2   9    3    13 
-		      4    17   5    21   6   25   7    29
-                      8    33   9    37   10  41   11   45
-                      12   49   13   53   14  57   15   61
-		      16   65   17   69   18  73   19   77
-                      20   81   21   85   22  89   23   93
-		      24   97   25  101   26 105   27  109
-		      28  113   29  117   30 121   31  125	  
-/*
-		     // NAE -> CPU mapping 
-		     // Freeback VC = 0
-		      0   0  1   4  2   8  3  12
-		      4  16  5  20  6  24  7  28
-		      8  32  9  36 10  40 11  44
-	 	     12  48 13  52 14  56 15  60
-		     16  64 17  68 18  72 19  76
-		     20  80 21  84 22  88 23  92
-		     24  96 25 100 26 104 27 108
-		     28 112 29 116 30 120 31 124
-		     // NAE -> NAE mapping 
-		     32	1000 33 1001 34 1002 35 1003
-		     36	1004 37 1005 38 1006 39 1007
-		     40	1008 41 1009 42 1010 43 1011
-		     44	1012 45 1013 46 1014 47 1015
-		     48	1016 49 1017 50 1018 51 1019
-
-		     // NULL FBID Should map to cpu0 to detect NAE send message errors 
-		     127 0
-*/
-		>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@0 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@1 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@2 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@3 {
-		device_type = "nae-complex";
-		mode = "xaui";
-		loopback_mode = <0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <55>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		parser_sequence_fifo_sizes = <225>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-//		num_channels = <4>;
-//		rx_buffer_sizes = <240 240 240 240>;
-		num_channels = <1>;
-		rx_buffer_sizes = <944>;
-
-		// Max available descriptors are 1024  (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <150>;
-		free_desc_sizes = <2048>;
-		ucore_mask = <0xffff>;
-	};
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-				   
-                ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0 >;
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlppcie-linux.dts b/arch/mips/boot/dts/xlppcie-linux.dts
deleted file mode 100644
index f9d8f32..0000000
--- a/arch/mips/boot/dts/xlppcie-linux.dts
+++ /dev/null
@@ -1,84 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xffffffff -- ";
-		domain_heap = <0x80000000 0x20000000>;
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc  = <3>; /* should be exclusive */
-				ipsec-async-vc  = <0>;
-				ipsec-sync-vc   = <2>;
-
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0x20000000 0x60000000>;  // 1536M at 512M
-			};
-                        fmn {
-                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                        };
-			pic {
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200  ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/xlppcie-multi-os.dts b/arch/mips/boot/dts/xlppcie-multi-os.dts
deleted file mode 100644
index 7f82b41..0000000
--- a/arch/mips/boot/dts/xlppcie-multi-os.dts
+++ /dev/null
@@ -1,193 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x30000000 0x20000000>; /* 0.75 GB -> 1.25 GB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0x0f>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0f000000>;	// 240M at 16M
-			};
-			pic {
-			};
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x62800000 0x0 0x02000000>;  // 1576MB -> 1608MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "ampload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <1>;
-			};
-
-			cpu {
-				onlinemask = <0xf0>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x5E800000 0x04000000>;  // 1512M -> 1576M (64M)
-			};
-			nae {
-				owner = <0>;
-			};
-		};
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x68800000 0x0 0x02000000>;  // 1672MB -> 1704MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x0f00>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x64800000 0x04000000>;  // 1608M ->1672 M (64M) 
-			};
-			nae {
-				owner = <0>;
-			};
-		};
-	        dom@3 {
-                        device_type = "domain";
-                        os = "netos";
-
-                        heap-size = <0x0 0x2000000>;                   // 32M
-                        shared-mem = <0x0 0x7a800000 0x0 0x02000000>;  // 1960MB -> 1992MB (32MB)
-
-                        #address-cells = <1>;
-                        #size-cells = <1>;
-
-                        app-bootcmd = "ampload";
-                        app-loadaddr = "0x82800000"; // 2088Mb
-
-                        kernel {
-                                /* Kernel Memory allocated from xen domain-heap */
-                                size = <0x02000000>;  // 32M
-
-                                /* Location in Dom0 ramdisk */
-                                location = "/tmp/xen/netos.elf";
-
-                                /* Domain destroy currently doesn't work with hyperexec */
-                                dom_destroy_hack = <0>;
-                        };
-
-                        cpu {
-                                onlinemask = <0xf000>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-                        };
-                        uart {
-                                id = <0>;
-                                sharedcfg = <0x1f000000>;
-                        };
-                        memory {
-                                reg = <0x6a800000 0x10000000>;  // 1704M -> 1960M (256MB)
-                        };
-                        nae {
-                                owner = <0>;
-                        };
-                };
-	
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-
-	};
-};
-
diff --git a/arch/mips/boot/dts/xlppcie-tiny-nae.dts b/arch/mips/boot/dts/xlppcie-tiny-nae.dts
deleted file mode 100644
index c65a943..0000000
--- a/arch/mips/boot/dts/xlppcie-tiny-nae.dts
+++ /dev/null
@@ -1,89 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX NAE CFG";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	frequency = <250>;
-
-	// VFBID MAP: Upto 127 entries
-	// (each entry is a pair of (vfbid , dest-vc)
-	// Legal range: (vfbid (0 - 126), dest-vc (0 - 4095))
-	vfbid-map = <
-                     0    0    1   1   2   2   3   3		
-		>;
-
-        // FLOW Table Generation: CRC16 polynomial
-  	flow_crc_poly = <0xffff>;
-
-	ucore {
-		src@1 {
-			file = "default.c";
-			mask = <0xffff>;
-		};
-	};
-
-	// Packet Ordering Engine (POE)
-	poe {	
-	
-		// Supported modes are 'enque', 'serial', 'bypass'
-		mode = "bypass";
-
-		// Each vector is 512 bit with masb indicating vc 512 and lsb indicating vc 0
-		// Format : 512-bit-vector is specified as 16 32-bit words
-		// Left most word has the vc range 511-479 right most word has vc range 31 - 0
-		// Each word has the MSB select higer vc number and LSB select lower vc num
-		distribution_vectors {
-				     dv0  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0x1>;
-				     dv1  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv2  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv3  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv4  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv5  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv6  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv7  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv8  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv9  = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv10 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv11 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv12 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv13 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv14 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-				     dv15 = <0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0>;
-		};
-
-	};
-
-	complex@4 {
-		device_type = "nae-complex";
-		mode = "sgmii";
-
-		loopback_mode = <0 0>;
-
-		// Max ingress fifo size 256 units (size of one unit is 64 byte)
-		iface_fifo_sizes = <13 13>;
-
-		// Max parser sequence fifo size 1024 packets 
-		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1 1>;
-		parser_sequence_fifo_sizes = <62 62>;
-
-		// Since rx_buffer is per context, we can have a few different ways
-		//  to populate the operand
-		rx_buffer_sizes = <128 128>;
-                
-		ext_phy_addr = <17 16>;
-                ext_phy_bus = <0 0>;
-				   
-
-		// Max available descriptors are 1024 (across all complexes).
-		// Per port num_free_descriptors must be even number
-		num_free_descs = <52 52>;
-		free_desc_sizes = <2048 2048>;
-		ucore_mask = <0xffff 0xffff>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlppcie-tiny.dts b/arch/mips/boot/dts/xlppcie-tiny.dts
deleted file mode 100644
index 75edc2c..0000000
--- a/arch/mips/boot/dts/xlppcie-tiny.dts
+++ /dev/null
@@ -1,50 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-	#address-cells = <1>;
-	#size-cells = <1>;
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			heap-size = <0x0 0x4000000>;
-			shared-mem = <0x0 0x80000000 0x0 0x20000000>;
-			#address-cells = <1>;
-			#size-cells = <1>;
-			cpu {
-				onlinemask = <0xf>;
-				nae-rx-vc = <0>;
-				nae-fb-vc = <3>;
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x00100000 0x0FF00000	// 255M at 1M
-					   0x20000000 0x20000000>;  // 512M at 512M
-			};
-			pic {
-			};
-		};
-	};
-
-	chosen {
-		bootargs = "xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	soc {
-		fmn {
-			spill-base-hi   = <0x00000000>;
-			spill-base-low  = <0xE0000000>;
-			spill-size  	= <0x1000000>;
-			tx-vc       	= <524>;
-			credit      	= <50>;
-		};
-	};
-};
-- 
1.7.1

