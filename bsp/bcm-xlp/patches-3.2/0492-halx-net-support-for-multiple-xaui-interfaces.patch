From 2e5d5de6e70becfacdf9ce2772c39c51d1349914 Mon Sep 17 00:00:00 2001
From: Prasanna Mumbai <prasanna.mumbai@broadcom.com>
Date: Tue, 18 Mar 2014 02:10:56 -0700
Subject: halx net - support for multiple xaui interfaces

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp9xx-linux-guest.dts b/arch/mips/boot/dts/xlp9xx-linux-guest.dts
index 2311695..d9a179c 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-guest.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-guest.dts
@@ -66,12 +66,12 @@
 					sram-off = <0 0 0 0>;
 				};
 				net@1 {
-                                        port-mask = <0 0 0 0>;
-                                        frinlifo-mask = <0 0 0 0>;
+                                        port-mask = <0x3 0 0 0>;
+                                        frinlifo-mask = <0xff 0 0 0>;
                                         frinlifo-shared-mode = <0 0 0 0>;
                                         vfbid-sw-offset = <0 0 0 0>;
                                         vfbid-sw-entries = <0 0 0 0>;
-                                        ucore-mask = <0 0 0 0>;
+                                        ucore-mask = <0x2 0 0 0>;
                                         sram-off = <0 0 0 0>;
                                 };
 			};
diff --git a/arch/mips/boot/dts/xlp9xx-linux.dts b/arch/mips/boot/dts/xlp9xx-linux.dts
index c1a6507..098c14a 100644
--- a/arch/mips/boot/dts/xlp9xx-linux.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux.dts
@@ -145,12 +145,12 @@
 					sram-off = <0 0 0 0>;
 				};
 				net@1 {
-                                        port-mask = <0 0 0 0>;
-                                        frinlifo-mask = <0 0 0 0>;
+                                        port-mask = <0x3 0 0 0>;
+                                        frinlifo-mask = <0xff 0 0 0>;
                                         frinlifo-shared-mode = <0 0 0 0>;
                                         vfbid-sw-offset = <0 0 0 0>;
                                         vfbid-sw-entries = <0 0 0 0>;
-                                        ucore-mask = <0 0 0 0>;
+                                        ucore-mask = <0x2 0 0 0>;
                                         sram-off = <0 0 0 0>;
                                 };
 			};
@@ -179,12 +179,12 @@
 					max-l4rules = <0 0 0 0>;
                                 };
                                 net@1 { 
-                                        port-mask = <0x3 0 0 0>;
-                                        frinlifo-mask = <0xff 0 0 0>;
-                                        frinlifo-shared-mode = <0xff 0 0 0>;
+                                        port-mask = <0x0 0 0 0>;
+                                        frinlifo-mask = <0x0 0 0 0>;
+                                        frinlifo-shared-mode = <0x0 0 0 0>;
                                         vfbid-sw-offset = <0 0 0 0>;
                                         vfbid-sw-entries = <0 0 0 0>;
-                                        ucore-mask = <0xc 0 0 0>;
+                                        ucore-mask = <0x0 0 0 0>;
                                         sram-off = <0 0 0 0>;
 					max-l3rules = <1 0 0 0>;
 					max-l4rules = <2 0 0 0>;
-- 
1.7.1

