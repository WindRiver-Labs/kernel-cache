From db291a05b07c7704f18cc364d3cbd241e988c044 Mon Sep 17 00:00:00 2001
From: Pavani Reddy <pavani@broadcom.com>
Date: Wed, 26 Nov 2014 10:09:55 +0530
Subject: Nae : Add nae_stats for 3.10 kernel

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
index 6c1b938..236d4d7 100644
--- a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
@@ -1679,6 +1679,15 @@ void nlm_xlp_nae_init(void)
 		nae_print(NAE_DBG_ERROR, "[%s]: Unable to create proc entry for nae_stats!\n",
 				__func__);
 	}
+#else
+	entry = proc_create("nae_stats",
+			0, nlm_root_proc,
+			&nae_proc_info_ops);
+	if (!entry) {
+		nae_print(NAE_DBG_ERROR, "[%s]: Unable to create proc entry for nae_stats!\n",
+				__func__);
+	}
+
 #endif
 
 	if (!enable_napi) {
-- 
1.7.1

