From c7df15bd2c8affc2012ece3d63ab14ed164c4637 Mon Sep 17 00:00:00 2001
From: Hareesh R <hareesh@netlogicmicro.com>
Date: Wed, 26 Oct 2011 14:29:45 +0530
Subject: Memory pool support for control and packet desc mem

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/netlogic/lib/seclib/nlmcrypto_ifc.h b/arch/mips/netlogic/lib/seclib/nlmcrypto_ifc.h
index 876bdcc..7c6edef 100644
--- a/arch/mips/netlogic/lib/seclib/nlmcrypto_ifc.h
+++ b/arch/mips/netlogic/lib/seclib/nlmcrypto_ifc.h
@@ -32,6 +32,7 @@
 
 extern void *linuxu_shvaddr;
 extern unsigned long long linuxu_shoff;
+extern unsigned long long linuxu_shsize;
 
 static inline unsigned long long crypto_virt_to_phys(void *vaddr)
 {
@@ -43,6 +44,11 @@ static inline void *crypto_phys_to_virt(unsigned long long paddr)
 	return (void *)((paddr - linuxu_shoff) + linuxu_shvaddr);
 }
 
+static inline int crypto_is_addr_owned(void *vaddr)
+{
+	return ((vaddr >= linuxu_shvaddr) && (vaddr < (linuxu_shvaddr + linuxu_shsize)));
+}
+
 #ifdef CRYPTO_API_INCLUDE /* This is defined by cryptoapi */
 
 /* This portion is not exported to the appplication,
-- 
1.7.1

