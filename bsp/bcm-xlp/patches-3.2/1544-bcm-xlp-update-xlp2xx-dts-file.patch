From ff730a204ce22a0fbd4c95e1cb4891f4b0b4f541 Mon Sep 17 00:00:00 2001
From: Quanyang Wang <quanyang.wang@windriver.com>
Date: Tue, 31 Mar 2015 16:26:51 +0800
Subject: bcm-xlp: update xlp2xx dts file

The modification has two parts. The first one is that merge
arch/mips/boot/dts/xlp-config.dts into xlp2xx-linux-kernel.dts
because we need boot nae to use nfs. The second one is that add
ucore into generic-nae.dtsi because of nae. And the ucore is from
the sdk path output/build/sysconfig/ucore/linux-ucore.c

Signed-off-by: Jack Tan <jack.tan@windriver.com>
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/generic-nae.dtsi b/arch/mips/boot/dts/generic-nae.dtsi
index 839e2e5..e2b37d8 100644
--- a/arch/mips/boot/dts/generic-nae.dtsi
+++ b/arch/mips/boot/dts/generic-nae.dtsi
@@ -9,9 +9,595 @@ nae@node-0 {
 	 */
 	ucore {
 		src@1 {
-			opcodes = <0x0>;
+			opcodes = <
+		0x3c1c0010
+		0x279cf808
+		0x3c020010
+		0x2442f808
+		0x3c030010
+		0x2463f808
+		0xac400000
+		0x0043082b
+		0x1420fffd
+		0x24420004
+		0x3c1d0010
+		0x27bdf9c0
+		0x27a50020
+		0x27a60028
+		0xaca00000
+		0xacc00000
+		0x0c000029
+		0x00002021
+		0x1000ffff
+		0x00000000
+		0x3c020000
+		0x8c420958
+		0x27bdffe0
+		0x2403ffff
+		0xafbf001c
+		0xafb10018
+		0x10430009
+		0xafb00014
+		0x3c100000
+		0x26100958
+		0x2411ffff
+		0x0040f809
+		0x2610fffc
+		0x8e020000
+		0x1451fffc
+		0x00000000
+		0x8fbf001c
+		0x8fb10018
+		0x8fb00014
+		0x03e00008
+		0x27bd0020
+		0x27bdffb8
+		0x3c030001
+		0xafa00030
+		0x34638000
+		0xafa0002c
+		0xafa00028
+		0xafa00024
+		0xafa00020
+		0xafa0001c
+		0xafa00018
+		0xafa00014
+		0xafa00010
+		0xafa0000c
+		0xafa00008
+		0x8c67000c
+		0xafb30044
+		0x30e50002
+		0x8c660000
+		0xafb20040
+		0x8c620018
+		0xafb1003c
+		0xafb00038
+		0x8c640008
+		0x10a00046
+		0x30e90001
+		0x3c04000f
+		0x30e70008
+		0x30c6000c
+		0x2405000c
+		0x240b0100
+		0x3484fe4c
+		0x3c0a0178
+		0x3c090170
+		0x34088004
+		0x10c50034
+		0x8d0c0000
+		0x8c9f0000
+		0x001f9c02
+		0xafb30008
+		0x8c920004
+		0x00128c02
+		0xafb1002c
+		0x908c0015
+		0x319900ff
+		0x0322001a
+		0x004001f4
+		0x0000c010
+		0xafb80000
+		0x8fb80008
+		0x8fb9002c
+		0x8fae0000
+		0x25cd0006
+		0x000d8080
+		0x00708021
+		0x8e0f0004
+		0x8c680010
+		0x8c710004
+		0x8e0e0004
+		0x31ff00ff
+		0x00089a00
+		0x000e6a02
+		0x8e0e0004
+		0x8c6f0000
+		0x03f39021
+		0x00126080
+		0x31e80002
+		0x01916021
+		0x11000007
+		0x31ad00ff
+		0x000e7402
+		0x31c800ff
+		0x2b3005dd
+		0x0110680a
+		0x3b0f0800
+		0x010f680b
+		0x318c0fff
+		0x000cca00
+		0x37380001
+		0x34088030
+		0xad180000
+		0x10e00009
+		0x000d8b80
+		0x34088000
+		0xad090000
+		0x34088004
+		0x14c5ffce
+		0x8d0c0000
+		0x34088034
+		0x0800004d
+		0xad0b0000
+		0x022a6825
+		0x34088000
+		0x0800004a
+		0xad0d0000
+		0x152000db
+		0x3c0a000f
+		0x30eb0004
+		0x11600177
+		0x24633ffc
+		0x3c04dead
+		0x08000094
+		0x3484beef
+		0xafa00004
+		0x8fae0004
+		0x2dc50064
+		0x14a0017d
+		0x00000000
+		0x8c730000
+		0x1664fff9
+		0x3c08dead
+		0x3c03000f
+		0x3c100001
+		0x3465fe4c
+		0x350abeff
+		0x3609c000
+		0x3c120178
+		0x3c110170
+		0x30e70008
+		0x30c6000c
+		0x240c000c
+		0x240f0100
+		0x24a3ffb4
+		0x254bfff0
+		0x2524c000
+		0x264e0008
+		0x262d0008
+		0x34088004
+		0x10cc00b7
+		0x8d180000
+		0x8cbf0000
+		0x001fcc02
+		0xafb90008
+		0x8ca80004
+		0x00088c02
+		0xafb1002c
+		0x8cb00008
+		0x321300ff
+		0xafb30018
+		0x8c720000
+		0xafb20010
+		0x8c7f0004
+		0xafbf000c
+		0x8c790008
+		0xafb90020
+		0x8fa80018
+		0xaca8ffc0
+		0x90710001
+		0x90700002
+		0x00119200
+		0x00109c00
+		0x907f0000
+		0x90790003
+		0x030a4021
+		0x0253c021
+		0x90730005
+		0x90720006
+		0x031f8021
+		0x00198e00
+		0x0013fa00
+		0x90790004
+		0x0012c400
+		0x90730007
+		0x02118021
+		0x03f88821
+		0x0239f821
+		0x90790009
+		0x9071000a
+		0x00139600
+		0x03f2c021
+		0x00199a00
+		0x907f0008
+		0x00119400
+		0x9071000b
+		0x0272c821
+		0x033f9021
+		0x00119e00
+		0x0253f821
+		0x0308c021
+		0x03e84021
+		0x0008cf02
+		0x00088900
+		0x03319825
+		0x021f8023
+		0x02138026
+		0x0010fe82
+		0x00109180
+		0x03108823
+		0x01184021
+		0x03f2c025
+		0x0311f826
+		0x001fce02
+		0x001f9a00
+		0x02088021
+		0x03339025
+		0x011f4023
+		0x02484026
+		0x00088c02
+		0x0008c400
+		0x02089823
+		0x0238c825
+		0x0333c826
+		0x03f0f821
+		0x00199342
+		0x001984c0
+		0x02508825
+		0x03f9c023
+		0x011f9821
+		0x0238c026
+		0x0333c821
+		0x9071000f
+		0x02788023
+		0x00184702
+		0x9073000e
+		0x0018f900
+		0x011f9025
+		0x02508026
+		0x0013fc00
+		0x9072000c
+		0x9073000d
+		0x00114600
+		0x0319c021
+		0x011f8821
+		0x0232f821
+		0x00134200
+		0x00189482
+		0x00189b80
+		0x03e88821
+		0x02534025
+		0x0218f826
+		0x03e8f823
+		0x0239c821
+		0x001f82c0
+		0x001f8d42
+		0x02309025
+		0x03f99826
+		0x02729823
+		0x0013c9c2
+		0x00134640
+		0x03288825
+		0x02788026
+		0x02118023
+		0x00109402
+		0x0010c400
+		0x0258c825
+		0x021f4026
+		0x01194023
+		0x0008ff02
+		0x00088900
+		0x0113c026
+		0x03f19025
+		0x0312c823
+		0x00199c82
+		0x0019fb80
+		0x027f8825
+		0x0330c026
+		0x03118023
+		0x02089826
+		0x00109202
+		0x0272c823
+		0x333f0fff
+		0xafbf0014
+		0x8fa80014
+		0xaca8ffb8
+		0xac6b0000
+		0x8fb80014
+		0x00188880
+		0x02298021
+		0x8e120000
+		0x0242001b
+		0x004001f4
+		0x00009810
+		0xafb30000
+		0x8fb20008
+		0x8fb3002c
+		0x8fb90000
+		0x273f0006
+		0x001f4080
+		0x00884021
+		0x8d180004
+		0x8c910010
+		0x331900ff
+		0x00118200
+		0x8c9f0004
+		0x03308821
+		0x8d100004
+		0x0011c080
+		0x0010ca02
+		0x8d100004
+		0x8c910000
+		0x031fc021
+		0x323f0002
+		0x13e00007
+		0x333900ff
+		0x00108c02
+		0x323000ff
+		0x2a7305dd
+		0x0213c80a
+		0x3a520800
+		0x0212c80b
+		0x331f0fff
+		0x001f4200
+		0x35180001
+		0x34088030
+		0xad180000
+		0x10e000bf
+		0x00198380
+		0x34088000
+		0xad0d0000
+		0x34088004
+		0x14ccff4b
+		0x8d180000
+		0x34088034
+		0x080000aa
+		0xad0f0000
+		0x3544fe4c
+		0x3c129e37
+		0x30e70008
+		0x30c6000c
+		0x240b000c
+		0x240e0100
+		0x240a0006
+		0x2485ffb4
+		0x264979b9
+		0x3c0d0178
+		0x3c0c0170
+		0x34088004
+		0x10cb0077
+		0x8d0f0000
+		0x8c910000
+		0x00114402
+		0xafa80008
+		0x8c990000
+		0x0019c202
+		0x3310000f
+		0xafb00030
+		0x8c8f0004
+		0x000ffc02
+		0xafbf002c
+		0x8c930008
+		0x327200ff
+		0xafb20018
+		0x8fb10030
+		0x00114080
+		0x01044021
+		0x8d19000c
+		0x0019c302
+		0x3310000f
+		0xafb00028
+		0x8d0f000c
+		0x31ff003f
+		0xafbf0024
+		0x8fb30018
+		0x126a0064
+		0x00000000
+		0x8cbf0000
+		0xafbf0010
+		0x8cb20004
+		0xafb2000c
+		0x8ca80008
+		0xafa80020
+		0x8fb80010
+		0x8fb3000c
+		0x8fa80020
+		0x03098021
+		0x0269f821
+		0x02088823
+		0x023fc823
+		0x00087b42
+		0x032fc826
+		0x03e89023
+		0x0259c023
+		0x00199a00
+		0x02789826
+		0x01198023
+		0x02137823
+		0x00138b42
+		0x022f8826
+		0x0333f823
+		0x03f14023
+		0x00119302
+		0x02489026
+		0x0271c023
+		0x0312c823
+		0x00128400
+		0x0219c826
+		0x02327823
+		0x01f99823
+		0x0019f942
+		0x03f39826
+		0x02594023
+		0x0113c023
+		0x001388c2
+		0x02389026
+		0x03338023
+		0x0212f823
+		0x00127a80
+		0x01ff8826
+		0x02724023
+		0x0111c023
+		0x0011cbc2
+		0x03388026
+		0xafb00014
+		0x8faf0014
+		0x01e2001b
+		0x004001f4
+		0x0000f810
+		0xafbf0000
+		0x8fb10008
+		0x8fb2002c
+		0x8fb90000
+		0x273f0006
+		0x001f4080
+		0x00684021
+		0x8d0f0004
+		0x8c780010
+		0x8c7f0004
+		0x00189a00
+		0x8d180004
+		0x31f000ff
+		0x0213c821
+		0x00188202
+		0x321800ff
+		0x8d100004
+		0x8c730000
+		0x00197880
+		0x32790002
+		0x13200007
+		0x01ff7821
+		0x00108402
+		0x321300ff
+		0x2a5205dd
+		0x0272c00a
+		0x3a310800
+		0x0271c00b
+		0x31ff0fff
+		0x001f4200
+		0x350f0001
+		0x34088030
+		0xad0f0000
+		0x10e00009
+		0x0018cb80
+		0x34088000
+		0xad0c0000
+		0x34088004
+		0x14cbff8b
+		0x8d0f0000
+		0x34088034
+		0x08000171
+		0xad0e0000
+		0x032dc025
+		0x34088000
+		0x0800016e
+		0xad180000
+		0x8fb30024
+		0x32720010
+		0x1240ff9a
+		0x00000000
+		0x8fb80028
+		0x8fb90030
+		0x8fbf002c
+		0x03388021
+		0x00107880
+		0x15ffff93
+		0x00000000
+		0x8d130004
+		0x00139402
+		0xafb2001c
+		0x8fb1001c
+		0x0222001b
+		0x004001f4
+		0x00004010
+		0x080001c0
+		0xafa80000
+		0x30e20020
+		0x10400019
+		0x30ef0040
+		0x00043900
+		0x30e600ff
+		0x34c30002
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x08000209
+		0xad020000
+		0x8faa0004
+		0x25490001
+		0xafa90004
+		0x8fad0004
+		0x2dac0064
+		0x1180fe7e
+		0x00000000
+		0x08000210
+		0x00000000
+		0x020ec825
+		0x34088000
+		0x080000a7
+		0xad190000
+		0x11e0000c
+		0x30ee0010
+		0x00042900
+		0x30ab00ff
+		0x35630006
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x08000223
+		0xad020000
+		0x11c0000c
+		0x30e90080
+		0x00046900
+		0x31ac00ff
+		0x35830004
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x08000230
+		0xad020000
+		0x1120000a
+		0x3c0a0020
+		0x25430001
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x0800023b
+		0xad020000
+		0x00001021
+		0x8fb30044
+		0x8fb20040
+		0x8fb1003c
+		0x8fb00038
+		0x03e00008
+		0x27bd0048
+>;
 			mask = <0xffff>;	/* Default mask, can be changed at runtime */
-			num-opcodes = <0x0>;
+			num-opcodes = <0x249>;
 		};
 	};
 
@@ -537,9 +1123,595 @@ nae@node-1 {
 	 */
 	ucore {
 		src@1 {
-			opcodes = <0x0>;
+			opcodes = <
+		0x3c1c0010
+		0x279cf808
+		0x3c020010
+		0x2442f808
+		0x3c030010
+		0x2463f808
+		0xac400000
+		0x0043082b
+		0x1420fffd
+		0x24420004
+		0x3c1d0010
+		0x27bdf9c0
+		0x27a50020
+		0x27a60028
+		0xaca00000
+		0xacc00000
+		0x0c000029
+		0x00002021
+		0x1000ffff
+		0x00000000
+		0x3c020000
+		0x8c420958
+		0x27bdffe0
+		0x2403ffff
+		0xafbf001c
+		0xafb10018
+		0x10430009
+		0xafb00014
+		0x3c100000
+		0x26100958
+		0x2411ffff
+		0x0040f809
+		0x2610fffc
+		0x8e020000
+		0x1451fffc
+		0x00000000
+		0x8fbf001c
+		0x8fb10018
+		0x8fb00014
+		0x03e00008
+		0x27bd0020
+		0x27bdffb8
+		0x3c030001
+		0xafa00030
+		0x34638000
+		0xafa0002c
+		0xafa00028
+		0xafa00024
+		0xafa00020
+		0xafa0001c
+		0xafa00018
+		0xafa00014
+		0xafa00010
+		0xafa0000c
+		0xafa00008
+		0x8c67000c
+		0xafb30044
+		0x30e50002
+		0x8c660000
+		0xafb20040
+		0x8c620018
+		0xafb1003c
+		0xafb00038
+		0x8c640008
+		0x10a00046
+		0x30e90001
+		0x3c04000f
+		0x30e70008
+		0x30c6000c
+		0x2405000c
+		0x240b0100
+		0x3484fe4c
+		0x3c0a0178
+		0x3c090170
+		0x34088004
+		0x10c50034
+		0x8d0c0000
+		0x8c9f0000
+		0x001f9c02
+		0xafb30008
+		0x8c920004
+		0x00128c02
+		0xafb1002c
+		0x908c0015
+		0x319900ff
+		0x0322001a
+		0x004001f4
+		0x0000c010
+		0xafb80000
+		0x8fb80008
+		0x8fb9002c
+		0x8fae0000
+		0x25cd0006
+		0x000d8080
+		0x00708021
+		0x8e0f0004
+		0x8c680010
+		0x8c710004
+		0x8e0e0004
+		0x31ff00ff
+		0x00089a00
+		0x000e6a02
+		0x8e0e0004
+		0x8c6f0000
+		0x03f39021
+		0x00126080
+		0x31e80002
+		0x01916021
+		0x11000007
+		0x31ad00ff
+		0x000e7402
+		0x31c800ff
+		0x2b3005dd
+		0x0110680a
+		0x3b0f0800
+		0x010f680b
+		0x318c0fff
+		0x000cca00
+		0x37380001
+		0x34088030
+		0xad180000
+		0x10e00009
+		0x000d8b80
+		0x34088000
+		0xad090000
+		0x34088004
+		0x14c5ffce
+		0x8d0c0000
+		0x34088034
+		0x0800004d
+		0xad0b0000
+		0x022a6825
+		0x34088000
+		0x0800004a
+		0xad0d0000
+		0x152000db
+		0x3c0a000f
+		0x30eb0004
+		0x11600177
+		0x24633ffc
+		0x3c04dead
+		0x08000094
+		0x3484beef
+		0xafa00004
+		0x8fae0004
+		0x2dc50064
+		0x14a0017d
+		0x00000000
+		0x8c730000
+		0x1664fff9
+		0x3c08dead
+		0x3c03000f
+		0x3c100001
+		0x3465fe4c
+		0x350abeff
+		0x3609c000
+		0x3c120178
+		0x3c110170
+		0x30e70008
+		0x30c6000c
+		0x240c000c
+		0x240f0100
+		0x24a3ffb4
+		0x254bfff0
+		0x2524c000
+		0x264e0008
+		0x262d0008
+		0x34088004
+		0x10cc00b7
+		0x8d180000
+		0x8cbf0000
+		0x001fcc02
+		0xafb90008
+		0x8ca80004
+		0x00088c02
+		0xafb1002c
+		0x8cb00008
+		0x321300ff
+		0xafb30018
+		0x8c720000
+		0xafb20010
+		0x8c7f0004
+		0xafbf000c
+		0x8c790008
+		0xafb90020
+		0x8fa80018
+		0xaca8ffc0
+		0x90710001
+		0x90700002
+		0x00119200
+		0x00109c00
+		0x907f0000
+		0x90790003
+		0x030a4021
+		0x0253c021
+		0x90730005
+		0x90720006
+		0x031f8021
+		0x00198e00
+		0x0013fa00
+		0x90790004
+		0x0012c400
+		0x90730007
+		0x02118021
+		0x03f88821
+		0x0239f821
+		0x90790009
+		0x9071000a
+		0x00139600
+		0x03f2c021
+		0x00199a00
+		0x907f0008
+		0x00119400
+		0x9071000b
+		0x0272c821
+		0x033f9021
+		0x00119e00
+		0x0253f821
+		0x0308c021
+		0x03e84021
+		0x0008cf02
+		0x00088900
+		0x03319825
+		0x021f8023
+		0x02138026
+		0x0010fe82
+		0x00109180
+		0x03108823
+		0x01184021
+		0x03f2c025
+		0x0311f826
+		0x001fce02
+		0x001f9a00
+		0x02088021
+		0x03339025
+		0x011f4023
+		0x02484026
+		0x00088c02
+		0x0008c400
+		0x02089823
+		0x0238c825
+		0x0333c826
+		0x03f0f821
+		0x00199342
+		0x001984c0
+		0x02508825
+		0x03f9c023
+		0x011f9821
+		0x0238c026
+		0x0333c821
+		0x9071000f
+		0x02788023
+		0x00184702
+		0x9073000e
+		0x0018f900
+		0x011f9025
+		0x02508026
+		0x0013fc00
+		0x9072000c
+		0x9073000d
+		0x00114600
+		0x0319c021
+		0x011f8821
+		0x0232f821
+		0x00134200
+		0x00189482
+		0x00189b80
+		0x03e88821
+		0x02534025
+		0x0218f826
+		0x03e8f823
+		0x0239c821
+		0x001f82c0
+		0x001f8d42
+		0x02309025
+		0x03f99826
+		0x02729823
+		0x0013c9c2
+		0x00134640
+		0x03288825
+		0x02788026
+		0x02118023
+		0x00109402
+		0x0010c400
+		0x0258c825
+		0x021f4026
+		0x01194023
+		0x0008ff02
+		0x00088900
+		0x0113c026
+		0x03f19025
+		0x0312c823
+		0x00199c82
+		0x0019fb80
+		0x027f8825
+		0x0330c026
+		0x03118023
+		0x02089826
+		0x00109202
+		0x0272c823
+		0x333f0fff
+		0xafbf0014
+		0x8fa80014
+		0xaca8ffb8
+		0xac6b0000
+		0x8fb80014
+		0x00188880
+		0x02298021
+		0x8e120000
+		0x0242001b
+		0x004001f4
+		0x00009810
+		0xafb30000
+		0x8fb20008
+		0x8fb3002c
+		0x8fb90000
+		0x273f0006
+		0x001f4080
+		0x00884021
+		0x8d180004
+		0x8c910010
+		0x331900ff
+		0x00118200
+		0x8c9f0004
+		0x03308821
+		0x8d100004
+		0x0011c080
+		0x0010ca02
+		0x8d100004
+		0x8c910000
+		0x031fc021
+		0x323f0002
+		0x13e00007
+		0x333900ff
+		0x00108c02
+		0x323000ff
+		0x2a7305dd
+		0x0213c80a
+		0x3a520800
+		0x0212c80b
+		0x331f0fff
+		0x001f4200
+		0x35180001
+		0x34088030
+		0xad180000
+		0x10e000bf
+		0x00198380
+		0x34088000
+		0xad0d0000
+		0x34088004
+		0x14ccff4b
+		0x8d180000
+		0x34088034
+		0x080000aa
+		0xad0f0000
+		0x3544fe4c
+		0x3c129e37
+		0x30e70008
+		0x30c6000c
+		0x240b000c
+		0x240e0100
+		0x240a0006
+		0x2485ffb4
+		0x264979b9
+		0x3c0d0178
+		0x3c0c0170
+		0x34088004
+		0x10cb0077
+		0x8d0f0000
+		0x8c910000
+		0x00114402
+		0xafa80008
+		0x8c990000
+		0x0019c202
+		0x3310000f
+		0xafb00030
+		0x8c8f0004
+		0x000ffc02
+		0xafbf002c
+		0x8c930008
+		0x327200ff
+		0xafb20018
+		0x8fb10030
+		0x00114080
+		0x01044021
+		0x8d19000c
+		0x0019c302
+		0x3310000f
+		0xafb00028
+		0x8d0f000c
+		0x31ff003f
+		0xafbf0024
+		0x8fb30018
+		0x126a0064
+		0x00000000
+		0x8cbf0000
+		0xafbf0010
+		0x8cb20004
+		0xafb2000c
+		0x8ca80008
+		0xafa80020
+		0x8fb80010
+		0x8fb3000c
+		0x8fa80020
+		0x03098021
+		0x0269f821
+		0x02088823
+		0x023fc823
+		0x00087b42
+		0x032fc826
+		0x03e89023
+		0x0259c023
+		0x00199a00
+		0x02789826
+		0x01198023
+		0x02137823
+		0x00138b42
+		0x022f8826
+		0x0333f823
+		0x03f14023
+		0x00119302
+		0x02489026
+		0x0271c023
+		0x0312c823
+		0x00128400
+		0x0219c826
+		0x02327823
+		0x01f99823
+		0x0019f942
+		0x03f39826
+		0x02594023
+		0x0113c023
+		0x001388c2
+		0x02389026
+		0x03338023
+		0x0212f823
+		0x00127a80
+		0x01ff8826
+		0x02724023
+		0x0111c023
+		0x0011cbc2
+		0x03388026
+		0xafb00014
+		0x8faf0014
+		0x01e2001b
+		0x004001f4
+		0x0000f810
+		0xafbf0000
+		0x8fb10008
+		0x8fb2002c
+		0x8fb90000
+		0x273f0006
+		0x001f4080
+		0x00684021
+		0x8d0f0004
+		0x8c780010
+		0x8c7f0004
+		0x00189a00
+		0x8d180004
+		0x31f000ff
+		0x0213c821
+		0x00188202
+		0x321800ff
+		0x8d100004
+		0x8c730000
+		0x00197880
+		0x32790002
+		0x13200007
+		0x01ff7821
+		0x00108402
+		0x321300ff
+		0x2a5205dd
+		0x0272c00a
+		0x3a310800
+		0x0271c00b
+		0x31ff0fff
+		0x001f4200
+		0x350f0001
+		0x34088030
+		0xad0f0000
+		0x10e00009
+		0x0018cb80
+		0x34088000
+		0xad0c0000
+		0x34088004
+		0x14cbff8b
+		0x8d0f0000
+		0x34088034
+		0x08000171
+		0xad0e0000
+		0x032dc025
+		0x34088000
+		0x0800016e
+		0xad180000
+		0x8fb30024
+		0x32720010
+		0x1240ff9a
+		0x00000000
+		0x8fb80028
+		0x8fb90030
+		0x8fbf002c
+		0x03388021
+		0x00107880
+		0x15ffff93
+		0x00000000
+		0x8d130004
+		0x00139402
+		0xafb2001c
+		0x8fb1001c
+		0x0222001b
+		0x004001f4
+		0x00004010
+		0x080001c0
+		0xafa80000
+		0x30e20020
+		0x10400019
+		0x30ef0040
+		0x00043900
+		0x30e600ff
+		0x34c30002
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x08000209
+		0xad020000
+		0x8faa0004
+		0x25490001
+		0xafa90004
+		0x8fad0004
+		0x2dac0064
+		0x1180fe7e
+		0x00000000
+		0x08000210
+		0x00000000
+		0x020ec825
+		0x34088000
+		0x080000a7
+		0xad190000
+		0x11e0000c
+		0x30ee0010
+		0x00042900
+		0x30ab00ff
+		0x35630006
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x08000223
+		0xad020000
+		0x11c0000c
+		0x30e90080
+		0x00046900
+		0x31ac00ff
+		0x35830004
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x08000230
+		0xad020000
+		0x1120000a
+		0x3c0a0020
+		0x25430001
+		0x3c020170
+		0x34088004
+		0x8d040000
+		0x34088030
+		0xad030000
+		0x34088000
+		0x0800023b
+		0xad020000
+		0x00001021
+		0x8fb30044
+		0x8fb20040
+		0x8fb1003c
+		0x8fb00038
+		0x03e00008
+		0x27bd0048
+>;
 			mask = <0xffff>;	/* Default mask, can be changed at runtime */
-			num-opcodes = <0x0>;
+			num-opcodes = <0x249>;
 		};
 	};
 
diff --git a/arch/mips/boot/dts/xlp2xx-linux-kernel.dts b/arch/mips/boot/dts/xlp2xx-linux-kernel.dts
index 5baa5d9..4d6b083 100644
--- a/arch/mips/boot/dts/xlp2xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp2xx-linux-kernel.dts
@@ -280,7 +280,7 @@
 			gpio-controller;
 
 			#interrupt-cells = <1>;
-			interrupt-parent = <&pic>;
+			interrupt-parent = <&gpio>;
 			interrupts = <39>;
 			interrupt-controller;
 		};
@@ -290,13 +290,15 @@
 		        reg = <1 0x01200000 0x100000>;
 			reg-io-width = <4>;
 
-		        interrupts = <39>;
-		        interrupt-parent = <&gpio>;
+		        interrupts = <40>;
+		        interrupt-parent = <&pic>;
 
 		        phy-mode = "mii";
 			smsc,save-mac-address;
 			smsc,irq-push-pull;
 		};
+		/include/ "generic-fmn.dtsi"
+		/include/ "generic-nae.dtsi"
 	};
 
 	chosen {
@@ -305,4 +307,214 @@
 		netlogic,reserve-mem = <256>;
 		netlogic,spill-mem = <32>;
 	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				/* onlinemask (if 0 then dynamically set, else takes specified value) */
+				onlinemask = <0x0>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <1>;
+				napi-vc-mask = <0xb>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc  = <3>; /* should be exclusive */
+				ipsec-async-vc  = <3>;
+				ipsec-sync-vc   = <2>;
+			};
+
+			nae {
+				freein-fifo-mask = <0x3ffff 0x3ffff 0 0>; /* Node-0 Node-1 Node-2 Node-3 */
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <32 32 32 32>;
+				vfbtbl-hw-offset = <32 32 32 32>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+			};
+
+			fmn {
+                                node_0_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+                                node_1_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+                                node_2_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+                                node_3_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+			};
+
+			owner-config {
+				nae = <0x1>;
+				sae = <0x1>;
+				rsa = <0x1>;
+				fmn = <0x1>;
+			};
+		};
+
+		dom@1 {
+			device_type = "domain";
+			os = "uspace";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffff>;
+				nae-rx-vc = <2>;
+				nae-fb-vc = <2>;
+				dtre-rx-vc = <2>;
+				sae-rx-sync-vc = <2>;  /* sharing with nae */
+				sae-rx-vc = <2>; /* sharing with nae */
+				/* helinux, as only 1 thread per cpu, it should poll for both nae and sae
+				   responses. Also there is no other vc as linux is using other 2 vcs */
+			};
+
+			app-param {
+				onlinemask = <0xffffffff>;
+				enable-nae-hw-parser = <0>;
+				enable-nae-jumbo = <0>;
+				enable-nae-p2p = <0>;
+				enable-poe = <0>;
+				enable-microstruct = <0>;
+				enable-popq-mode = <0>; /* If set to 1, popq mode is enabled else disabled */
+				launch-mode = "smp";	/* smp or amp */
+				timer-service-vc = <2>;
+			};
+
+			nae {
+				freein-fifo-mask = <0xffff 0 0 0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <0 0 0 0>;
+				vfbtbl-hw-offset = <32 32 32 32>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+				/* replenish info syntax */
+				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
+				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
+				/* < node fifomask descsize headroom ndescs > */
+				freein-fifo-replenish-desc-info = <0 0xffff 2048 0 64>;
+			};
+
+			owner-config {
+				nae = <0x0>;   /* currently for node */
+				sae = <0x1>;
+				rsa = <0x1>;
+				fmn = <0x1>;
+				dtr = <0x1>;
+			};
+
+			kbp {
+				/* Distribute total of 4096 buffer id across cpus.
+				 * Required only for cpus sending requests.
+				 * Note : KBP compare/search instructions must use even-numbered buffers.
+				 * i.e. (buffer_id & 0x1 == 0) is True
+				 */
+				buffers-cpuid-offset-quantity = <  0    0   64
+								   1   64   64
+								   2  128   64
+								   3  192   64
+								   4  256   64
+								   5  320   64
+								   6  384   64
+								   7  448   64
+								   8  512   64
+								   9  576   64
+								  10  640   64
+								  11  704   64
+								  12  768   64
+								  13  832   64
+								  14  896   64
+								  15  960   64
+								  16 1024   64
+								  17 1088   64
+								  18 1152   64
+								  19 1216   64
+								  20 1280   64
+								  21 1344   64
+								  22 1408   64
+								  23 1472   64
+								  24 1536   64
+								  25 1600   64
+								  26 1664   64
+								  27 1728   64
+								  28 1792   64
+								  29 1856   64
+								  30 1920   64
+								  31 1984   64>;
+				/* starting address for KBP Driver Data.
+				 * Two 32-bit unsigned integers forms one 64-bit memory address.
+				 * KBP driver requires 2 MBytes of dedicated memory space to store data.
+				 */
+				memory-offsethigh-offsetlow = <0x00000001 0x00000000>;
+			};
+		};
+
+		dom@2 {
+			device_type = "domain";
+			os = "uspace";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffff0000>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <1>;
+				/* Setting this to '1' makes NAE driver to skip buf alloction and initial
+				   sending of packet buffers*/
+				nae-buf-alloc-by-app = <1>;
+			};
+
+			app-param {
+				onlinemask = <0xffff0000>;
+			};
+
+			nae {
+				freein-fifo-mask = <0xffff 0 0 0>;
+				sh-domains = <0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <0 0 0 0>;
+				vfbtbl-hw-offset = <32 32 32 32>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+				/* replenish info syntax */
+				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
+				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
+				/* < node fifomask descsize headroom ndescs > */
+				freein-fifo-replenish-desc-info = <1 0xffff 2048 0 64>;
+			};
+
+			owner-config {
+				nae = <0x0>;
+				sae = <0x0>;
+				rsa = <0x0>;
+			};
+		};
+	};
+
+	kernel-params {
+	};
+
+	frequency-config {
+		/*
+		 * All device frequency parameters are set 0 and get initialized to the default values when the
+		 * 'fdtconf' kernel module is loaded at runtime.
+		 * If a value other than 0 is specified, the value is not modified by the module.
+		 */
+		nae = <0>;	/* Default - 500 Mhz (400 Mhz for XLP2XX) */
+		sae = <0>;	/* Default - 500 Mhz */
+		rsa = <0>;	/* Default - 500 Mhz */
+		dtre = <0>;	/* Default - 500 Mhz */
+		cde = <0>;	/* Default - 250 Mhz */
+	};
+
 };
-- 
1.7.1

