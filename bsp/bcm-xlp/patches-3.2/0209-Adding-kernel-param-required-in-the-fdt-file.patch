From 3d480023991868cefdcfe7040b10737e6d273814 Mon Sep 17 00:00:00 2001
From: Krishnamurthy D V <kmurthy@netlogicmicro.com>
Date: Wed, 29 Sep 2010 17:29:38 +0530
Subject: Adding "kernel" param required in the fdt file.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlr.dts b/arch/mips/boot/dts/xlr.dts
index 4b72df7..b6385fa 100644
--- a/arch/mips/boot/dts/xlr.dts
+++ b/arch/mips/boot/dts/xlr.dts
@@ -21,6 +21,17 @@
 			app-bootcmd = "ampload";
 			app-loadaddr = "0x2000000";
 
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
 			cpu {
 				onlinemask = <0xff>;
 			};
-- 
1.7.1

