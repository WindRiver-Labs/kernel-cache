From 63c563af99cd28de37c331e339423678853edf82 Mon Sep 17 00:00:00 2001
From: Hareesh R <hareeshr@broadcom.com>
Date: Wed, 2 May 2012 12:03:40 +0530
Subject: hybrid_nae: Changes for checking domain status (up/down)

Check domain up status in hybrid-nae
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
index 2a90979..d631749 100644
--- a/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
@@ -32,6 +32,7 @@
 				onlinemask = <0xffffffff 0xffffffff>;
 				nae-rx-vc = <0>;
 				nae-fb-vc = <1>;
+				napi-vc-mask = <0x3>;
 			};
 			uart {
 				id = <0>;
@@ -57,10 +58,10 @@
 				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
 			};
 			fmn {
-                                node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_1_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_2_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_3_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;                       
+                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;                       
 			};
 
 
diff --git a/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts b/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
index 2a3ee2e..178d991 100644
--- a/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
+++ b/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
@@ -30,6 +30,7 @@
 				onlinemask = <0xf>;
 				nae-rx-vc = <0>;
 				nae-fb-vc = <1>;
+				napi-vc-mask = <0x3>;
 			};
 			uart {
 				id = <0>;
@@ -55,10 +56,10 @@
 				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
 			};
 			fmn {
-				node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_1_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_2_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_3_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+				node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+				node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+				node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+				node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
 			};
 
 
-- 
1.7.1

