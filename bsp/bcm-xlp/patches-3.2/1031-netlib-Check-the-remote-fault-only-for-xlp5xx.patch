From 986fd55bcdab989f348af025bd510feff2fdb155 Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Wed, 12 Nov 2014 00:16:16 +0530
Subject: netlib: Check the remote fault only for xlp5xx

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
index 6a746af..b09a8f8 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
@@ -4438,6 +4438,8 @@ int __netsoc_init_nae(nae_t *nae)
 		
 		__netsoc_set_frequency(nae, nae->frequency);
 
+		if(is_nlm_xlp5xx())
+			__netsoc_check_for_remote_fault(nae); //checking for remote fault after NAE PCS initialization
 	}
 	return NETSOC_API_SUCCESS;
 }
-- 
1.7.1

