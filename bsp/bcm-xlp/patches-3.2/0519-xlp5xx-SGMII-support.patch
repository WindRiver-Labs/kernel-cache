From 2d506b55d6aa55caabdfc31b4298ac193068fc5b Mon Sep 17 00:00:00 2001
From: Alok Agrawat <alok@broadcom.com>
Date: Tue, 25 Feb 2014 01:50:28 -0800
Subject: xlp5xx: SGMII support.

 Changed the manangment port phy address
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp5xx-tiny.dts b/arch/mips/boot/dts/xlp5xx-tiny.dts
index 1da0cf6..622b54d 100644
--- a/arch/mips/boot/dts/xlp5xx-tiny.dts
+++ b/arch/mips/boot/dts/xlp5xx-tiny.dts
@@ -72,7 +72,7 @@
 				complex@0 {
 					mode = "xgmac"; 
 					cpld = "yes";
-				      	xgmac {                          /* valid when mode = xaui, rxaui or xfi */
+					xgmac {                          /* valid when mode = xaui, rxaui or xfi */
 
 						loopback = <0>;             /* loopback = 0 or 1 */
 						num-channels = <1>;         /* num-channels = 1 to 8 */
@@ -108,20 +108,19 @@
 
 					};
 				};
+                                       complex@2 {
+                                        mode = "sgmii";
+                                        sgmii {
+                                                loopback = <0>;                   /* loopback = 0 or 1 */
+                                                mgmt-port = <1>;                  /* num-channels = 1 to 8 */
+                                                ext-phy-addr = <16>;               /* phy address for each port */
+                                                ext-phy-bus = <0>;                /* phy bus numbers */
+                                                num-channels = <1>;               /* num-channels = 1 to 8 */
+                                                num-free-descs = <52>;            /* Number of free descriptors, per port, if free in lifo is not in shared mode*/
+                                                free-desc-size = <2048>;          /* descriptor size */
+                                                };
+                                        };
 
-
-				complex@2 {
-					mode = "sgmii"; 
-					sgmii {
-						loopback = <0>;                   /* loopback = 0 or 1 */
-						mgmt-port = <1>;                  /* num-channels = 1 to 8 */
-						ext-phy-addr = <0>;               /* phy address for each port */
-						ext-phy-bus = <0>;                /* phy bus numbers */
-						num-channels = <1>;               /* num-channels = 1 to 8 */
-						num-free-descs = <52>;            /* Number of free descriptors, per port, if free in lifo is not in shared mode*/
-						free-desc-size = <2048>;          /* descriptor size */
-					};
-				};
 			};	
 
 
-- 
1.7.1

