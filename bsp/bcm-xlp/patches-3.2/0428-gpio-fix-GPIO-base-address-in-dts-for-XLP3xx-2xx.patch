From 1966c823200802e11b4926020361c764cb995b94 Mon Sep 17 00:00:00 2001
From: Kamlakant Patel <kamlakant.patel@broadcom.com>
Date: Thu, 31 Oct 2013 10:59:34 +0530
Subject: gpio: fix GPIO base address in dts for XLP3xx/2xx

-Added GPIO node for XLP8XX and XLP9XX.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts
index 7131e7a..8bcd895 100644
--- a/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts
@@ -202,9 +202,10 @@
 			};
 
 		};
+
 		gpio: xlp_gpio@34000 {
 			compatible = "netlogic,xlp-gpio";
-			reg = <0 0x34000 0x1000>;
+			reg = <0 0x34100 0x1000>;
 			#gpio-cells = <2>;
 			gpio-controller;
 
@@ -213,6 +214,7 @@
 			interrupts = <39>;
 			interrupt-controller;
 		};
+
 		ethernet@2,0 {
 		        compatible = "smsc,lan9115";
 		        reg = <1 0x01200000 0x100000>;
diff --git a/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts
index c8b9c7d..76a72ed 100644
--- a/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts
@@ -207,7 +207,7 @@
 
 		gpio: xlp_gpio@34000 {
 			compatible = "netlogic,xlp-gpio";
-			reg = <0 0x34000 0x1000>;
+			reg = <0 0x34100 0x1000>;
 			#gpio-cells = <2>;
 			gpio-controller;
 
@@ -216,6 +216,7 @@
 			interrupts = <39>;
 			interrupt-controller;
 		};
+
 		ethernet@2,0 {
 		        compatible = "smsc,lan9115";
 		        reg = <1 0x01200000 0x100000>;
diff --git a/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
index 0eaff39..d52f2ff 100644
--- a/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
@@ -148,6 +148,18 @@
 			};
 		};
 
+		gpio: xlp_gpio@34000 {
+			compatible = "netlogic,xlp-gpio";
+			reg = <0 0x34100 0x1000>;
+			#gpio-cells = <2>;
+			gpio-controller;
+
+			#interrupt-cells = <1>;
+			interrupt-parent = <&pic>;
+			interrupts = <39>;
+			interrupt-controller;
+		};
+
 		spi: xlp_spi@13a000 {
 			compatible = "netlogic,xlp-spi";
 			#address-cells = <1>;
diff --git a/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts
index dc05462..60bcd01 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts
@@ -168,6 +168,18 @@
 				read-only;
 			};
 		};
+
+		gpio: xlp_gpio@114000 {
+			compatible = "netlogic,xlp-gpio";
+			reg = <0 0x114100 0x1000>;
+			#gpio-cells = <2>;
+			gpio-controller;
+
+			#interrupt-cells = <1>;
+			interrupt-parent = <&pic>;
+			interrupts = <39>;
+			interrupt-controller;
+		};
 	};
 
 	chosen {
-- 
1.7.1

