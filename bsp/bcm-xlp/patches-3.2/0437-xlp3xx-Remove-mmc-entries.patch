From a03db0501d6facad93df8dce992a9e562cb4f611 Mon Sep 17 00:00:00 2001
From: P. Sadik <psadik@broadcom.com>
Date: Tue, 12 Nov 2013 14:47:39 +0530
Subject: xlp3xx: Remove mmc entries.

The mmc is detected automatically by Linux Kernel. The mmc parameter
in dts is not parsed.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp3xx-linux-dpi.dts b/arch/mips/boot/dts/xlp3xx-linux-dpi.dts
index e14dce6..9a4fcf3 100644
--- a/arch/mips/boot/dts/xlp3xx-linux-dpi.dts
+++ b/arch/mips/boot/dts/xlp3xx-linux-dpi.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x01000000 0 0x0B000000
                         0 0x20000000 0 0xa0000000
                         0 0xe0000000 0 0x20000000>;
         };
@@ -41,7 +41,7 @@
 				sae-rx-vc = <0>; /*  */
 				sae-rx-sync-vc  = <3>; /* should be exclusive */
 				ipsec-async-vc  = <3>;
-				ipsec-sync-vc   = <2>; /* should be exclusive either  
+				ipsec-sync-vc   = <2>; /* should be exclusive either
 							  ipsec-sync-vc  or soc/srio@node-0  */
 
 			};
@@ -50,11 +50,8 @@
 				owner = <1>;
 				sharedcfg = <0x1f000000>;
 			};
-                        mmc {
-                                slots = <2>;
-                        };
                         fmn {
-				/* make the node mask to 0xffffffff for SRIO */  
+				/* make the node mask to 0xffffffff for SRIO */
                                 node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
                                 node_1_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
                                 node_2_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
diff --git a/arch/mips/boot/dts/xlp3xx-linux.dts b/arch/mips/boot/dts/xlp3xx-linux.dts
index 60aaa0a..b768a85 100644
--- a/arch/mips/boot/dts/xlp3xx-linux.dts
+++ b/arch/mips/boot/dts/xlp3xx-linux.dts
@@ -50,9 +50,6 @@
 				owner = <1>;
 				sharedcfg = <0x1f000000>;
 			};
-                        mmc {
-                                slots = <2>;
-                        };
                         fmn {
 				/* make the node mask to 0xffffffff for SRIO */
                                 node_0_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
-- 
1.7.1

