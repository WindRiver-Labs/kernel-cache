From af258087fe0730f43db02faab99ee04eec7b0a72 Mon Sep 17 00:00:00 2001
From: Ganesan Ramalingam <ganesanr@broadcom.com>
Date: Thu, 13 Feb 2014 20:27:10 +0530
Subject: XLP5xx: Enable I2C and NAND compatibility

I2C and NAND drivers are same for XLP5xx, so enable the compatibility.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts
index 914fa2d..93b20bb 100644
--- a/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts
@@ -50,18 +50,25 @@
 		};
 
 		i2c0: i2c@113100 {
-			/*compatible = "netlogic,xlp9xx-i2c";*/
+			compatible = "netlogic,xlp9xx-i2c";
 			#address-cells = <1>;
 			#size-cells = <0>;
 			reg = <0 0x113100 0x100>;
 			clock-frequency = <133000000>;
 		};
 		i2c1: i2c@113300 {
-			/*compatible = "netlogic,xlp9xx-i2c";*/
+			compatible = "netlogic,xlp9xx-i2c";
 			#address-cells = <1>;
 			#size-cells = <0>;
 			reg = <0 0x113300 0x100>;
 			clock-frequency = <133000000>;
+		};
+		i2c2: i2c@113500 {
+			compatible = "netlogic,xlp9xx-i2c";
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <0 0x113500 0x100>;
+			clock-frequency = <133000000>;
 
 			rtc@68 {
 				compatible = "dallas,ds1374";
@@ -77,17 +84,9 @@
                                 compatible = "xlpge_eeprom";
                                 reg = <0x57>;
                         };
-
-		};
-		i2c2: i2c@113500 {
-			/*compatible = "netlogic,xlp9xx-i2c";*/
-			#address-cells = <1>;
-			#size-cells = <0>;
-			reg = <0 0x113500 0x100>;
-			clock-frequency = <133000000>;
 		};
 		i2c3: i2c@113700 {
-			/*compatible = "netlogic,xlp9xx-i2c";*/
+			compatible = "netlogic,xlp9xx-i2c";
 			#address-cells = <1>;
 			#size-cells = <0>;
 			reg = <0 0x113700 0x100>;
@@ -154,7 +153,7 @@
 		};
 
 		nand_flash@0,0 {
-			/*compatible = "brcm,xlp9xx-nand";*/
+			compatible = "brcm,xlp9xx-nand";
 			#address-cells = <1>;
 			#size-cells = <1>;
 			reg = <0 0x139000 0x1000>;
-- 
1.7.1

