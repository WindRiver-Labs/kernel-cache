From 03213d94cb57ca6ea5f1fc17e3eab5b9c5611790 Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthia@netlogicmicro.com>
Date: Wed, 8 Feb 2012 12:05:49 +0530
Subject: Fixed ifconfig error during interface reopen

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/drivers/net/ethernet/broadcom/nae/xlp_nae.c b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
index 15f9ae3..3548017 100755
--- a/drivers/net/ethernet/broadcom/nae/xlp_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
@@ -711,7 +711,7 @@ static int mac_fill_rxfr(struct net_device *dev)
 				get_page(pg);
 			j++;
 			nr_buffs--;
-			atomic_inc(&priv->frin_to_be_sent);
+			atomic_dec(&priv->frin_to_be_sent);
 
 			atomic_inc(&priv->total_frin_sent);
 		}
-- 
1.7.1

