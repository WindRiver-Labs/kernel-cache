From b3d62391f337ce4715f868368924be06b5d78242 Mon Sep 17 00:00:00 2001
From: VIRENDRA PATHAK <vpathak@lc-blr-162.ban.broadcom.com>
Date: Fri, 18 Jan 2013 14:59:14 +0530
Subject: Compilation : Fixed warnings

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/libfdt/fdt_sw.c b/libfdt/fdt_sw.c
index 698329e..a890c75 100644
--- a/libfdt/fdt_sw.c
+++ b/libfdt/fdt_sw.c
@@ -78,8 +78,11 @@ static void *_fdt_grab_space(void *fdt, int len)
 	spaceleft = fdt_totalsize(fdt) - fdt_off_dt_struct(fdt)
 		- fdt_size_dt_strings(fdt);
 
-	if ((offset + len < offset) || (offset + len > spaceleft))
+	/* if ((offset + len < offset) || (offset + len > spaceleft))	*/
+	/* offset+len < offset : condition is always false	*/
+	if ((offset + len > spaceleft)) {
 		return NULL;
+	}
 
 	fdt_set_size_dt_struct(fdt, offset + len);
 	return fdt_offset_ptr_w(fdt, offset, len);
-- 
1.7.1

