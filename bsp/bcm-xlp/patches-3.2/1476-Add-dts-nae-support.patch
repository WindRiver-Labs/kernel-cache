From 0d1e064c974a1b9b9b64cad0ec855a2f9b376577 Mon Sep 17 00:00:00 2001
From: Quanyang Wang <quanyang.wang@windriver.com>
Date: Thu, 12 Feb 2015 23:37:34 +0800
Subject: Add dts nae support

The modification in xlp9xx-linux-kernel.dts is about merge the contents in
"dts/xlp9xx-config.dts" into the xlp9xx-linux-kernel.dts, because BSP need put
kmod source into kernel but not as a module, so the configuration about fmn and nae
should also be put into xlp9xx-linux-kernel.dts.

The modification in generic-soc-net-ver1.dtsi is about ucore.Now the ucore are copied
from WR6-bcm-xlp2's xlp9xx-linux.dts.And it has been proved to work well.The SDK 3.2
has new default-ver1.hex, and if to be proved to work well, will replace the old ucore.

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/generic-soc-net-ver1.dtsi b/arch/mips/boot/dts/generic-soc-net-ver1.dtsi
index 32bda50..7830433 100644
--- a/arch/mips/boot/dts/generic-soc-net-ver1.dtsi
+++ b/arch/mips/boot/dts/generic-soc-net-ver1.dtsi
@@ -20,9 +20,125 @@ net@node-0 {
 		/* Default Template for ucore code. Values are filled at runtime */
 		ucore {
 			src@1 {
-				num-opcodes = <0>;
+				num-opcodes = <114>;
 				mask = <0xffff>;
-				opcodes = <0>;
+				opcodes = <
+						0x3c1c0010
+						0x279cf808
+						0x3c020010
+						0x2442f808
+						0x3c030010
+						0x2463f808
+						0xac400000
+						0x0043082b
+						0x1420fffd
+						0x24420004
+						0x3c1d0010
+						0x27bdf9c0
+						0x27a50020
+						0x27a60028
+						0xaca00000
+						0xacc00000
+						0x0c000029
+						0x00002021
+						0x1000ffff
+						0x00000000
+						0x3c020000
+						0x8c4201fc
+						0x27bdffe0
+						0x2403ffff
+						0xafbf001c
+						0xafb10018
+						0x10430009
+						0xafb00014
+						0x3c100000
+						0x261001fc
+						0x2411ffff
+						0x0040f809
+						0x2610fffc
+						0x8e020000
+						0x1451fffc
+						0x00000000
+						0x8fbf001c
+						0x8fb10018
+						0x8fb00014
+						0x03e00008
+						0x27bd0020
+						0x3c070001
+						0x34e28000
+						0x8c460018
+						0x244b001c
+						0x00061880
+						0x006b1821
+						0x8c650018
+						0x246d001c
+						0x00052080
+						0x01a46821
+						0x3c0a000f
+						0x3c090040
+						0x8c440018
+						0x00003821
+						0x8c640018
+						0x256bffe4
+						0x8da40018
+						0x24050100
+						0x8c440010
+						0x3c060170
+						0x8c4c0004
+						0x354afe60
+						0x8c620004
+						0x25290004
+						0x08000055
+						0x8da20004
+						0x8da80000
+						0x31040001
+						0x1480001a
+						0x00000000
+						0x8d6e001c
+						0x34088034
+						0xad050000
+						0x31c400ff
+						0x00041080
+						0x004cc821
+						0x33380fff
+						0x00187a00
+						0x35ee0001
+						0x34088030
+						0xad0e0000
+						0x00e61025
+						0x34088000
+						0xad020000
+						0x34088004
+						0x8d180000
+						0x330f001f
+						0x25eefff8
+						0x2dc80002
+						0x1500ffec
+						0x00000000
+						0x8c620000
+						0x30590001
+						0x1320ffe4
+						0x00000000
+						0x8c6f0000
+						0x31e80010
+						0x1100000c
+						0x00000000
+						0x00e61025
+						0x34088034
+						0xad050000
+						0x8d480000
+						0x00087402
+						0x31c40007
+						0x0004cdc0
+						0x0329c025
+						0x34088030
+						0x08000053
+						0xad180000
+						0x24c20002
+						0x08000065
+						0x24070002
+
+				>;
 			};
 		};
 
@@ -274,9 +390,125 @@ net@node-0 {
 		/* Default Template for ucore code. Values are filled at runtime */
 		ucore {
 			src@1 {
-				num-opcodes = <0>;
+				num-opcodes = <114>;
 				mask = <0xffff>;
-				opcodes = <0>;
+			/*	opcodes = <0>;*/
+				opcodes = <
+						0x3c1c0010
+						0x279cf808
+						0x3c020010
+						0x2442f808
+						0x3c030010
+						0x2463f808
+						0xac400000
+						0x0043082b
+						0x1420fffd
+						0x24420004
+						0x3c1d0010
+						0x27bdf9c0
+						0x27a50020
+						0x27a60028
+						0xaca00000
+						0xacc00000
+						0x0c000029
+						0x00002021
+						0x1000ffff
+						0x00000000
+						0x3c020000
+						0x8c4201fc
+						0x27bdffe0
+						0x2403ffff
+						0xafbf001c
+						0xafb10018
+						0x10430009
+						0xafb00014
+						0x3c100000
+						0x261001fc
+						0x2411ffff
+						0x0040f809
+						0x2610fffc
+						0x8e020000
+						0x1451fffc
+						0x00000000
+						0x8fbf001c
+						0x8fb10018
+						0x8fb00014
+						0x03e00008
+						0x27bd0020
+						0x3c070001
+						0x34e28000
+						0x8c460018
+						0x244b001c
+						0x00061880
+						0x006b1821
+						0x8c650018
+						0x246d001c
+						0x00052080
+						0x01a46821
+						0x3c0a000f
+						0x3c090040
+						0x8c440018
+						0x00003821
+						0x8c640018
+						0x256bffe4
+						0x8da40018
+						0x24050100
+						0x8c440010
+						0x3c060170
+						0x8c4c0004
+						0x354afe60
+						0x8c620004
+						0x25290004
+						0x08000055
+						0x8da20004
+						0x8da80000
+						0x31040001
+						0x1480001a
+						0x00000000
+						0x8d6e001c
+						0x34088034
+						0xad050000
+						0x31c400ff
+						0x00041080
+						0x004cc821
+						0x33380fff
+						0x00187a00
+						0x35ee0001
+						0x34088030
+						0xad0e0000
+						0x00e61025
+						0x34088000
+						0xad020000
+						0x34088004
+						0x8d180000
+						0x330f001f
+						0x25eefff8
+						0x2dc80002
+						0x1500ffec
+						0x00000000
+						0x8c620000
+						0x30590001
+						0x1320ffe4
+						0x00000000
+						0x8c6f0000
+						0x31e80010
+						0x1100000c
+						0x00000000
+						0x00e61025
+						0x34088034
+						0xad050000
+						0x8d480000
+						0x00087402
+						0x31c40007
+						0x0004cdc0
+						0x0329c025
+						0x34088030
+						0x08000053
+						0xad180000
+						0x24c20002
+						0x08000065
+						0x24070002
+				>;
 			};
 		};
 
@@ -539,9 +771,125 @@ net@node-1 {
 		/* Default Template for ucore code. Values are filled at runtime */
 		ucore {
 			src@1 {
-				num-opcodes = <0>;
+				num-opcodes = <114>;
 				mask = <0xffff>;
-				opcodes = <0>;
+				opcodes = <
+						0x3c1c0010
+						0x279cf808
+						0x3c020010
+						0x2442f808
+						0x3c030010
+						0x2463f808
+						0xac400000
+						0x0043082b
+						0x1420fffd
+						0x24420004
+						0x3c1d0010
+						0x27bdf9c0
+						0x27a50020
+						0x27a60028
+						0xaca00000
+						0xacc00000
+						0x0c000029
+						0x00002021
+						0x1000ffff
+						0x00000000
+						0x3c020000
+						0x8c4201fc
+						0x27bdffe0
+						0x2403ffff
+						0xafbf001c
+						0xafb10018
+						0x10430009
+						0xafb00014
+						0x3c100000
+						0x261001fc
+						0x2411ffff
+						0x0040f809
+						0x2610fffc
+						0x8e020000
+						0x1451fffc
+						0x00000000
+						0x8fbf001c
+						0x8fb10018
+						0x8fb00014
+						0x03e00008
+						0x27bd0020
+						0x3c070001
+						0x34e28000
+						0x8c460018
+						0x244b001c
+						0x00061880
+						0x006b1821
+						0x8c650018
+						0x246d001c
+						0x00052080
+						0x01a46821
+						0x3c0a000f
+						0x3c090040
+						0x8c440018
+						0x00003821
+						0x8c640018
+						0x256bffe4
+						0x8da40018
+						0x24050100
+						0x8c440010
+						0x3c060170
+						0x8c4c0004
+						0x354afe60
+						0x8c620004
+						0x25290004
+						0x08000055
+						0x8da20004
+						0x8da80000
+						0x31040001
+						0x1480001a
+						0x00000000
+						0x8d6e001c
+						0x34088034
+						0xad050000
+						0x31c400ff
+						0x00041080
+						0x004cc821
+						0x33380fff
+						0x00187a00
+						0x35ee0001
+						0x34088030
+						0xad0e0000
+						0x00e61025
+						0x34088000
+						0xad020000
+						0x34088004
+						0x8d180000
+						0x330f001f
+						0x25eefff8
+						0x2dc80002
+						0x1500ffec
+						0x00000000
+						0x8c620000
+						0x30590001
+						0x1320ffe4
+						0x00000000
+						0x8c6f0000
+						0x31e80010
+						0x1100000c
+						0x00000000
+						0x00e61025
+						0x34088034
+						0xad050000
+						0x8d480000
+						0x00087402
+						0x31c40007
+						0x0004cdc0
+						0x0329c025
+						0x34088030
+						0x08000053
+						0xad180000
+						0x24c20002
+						0x08000065
+						0x24070002
+
+				>;
 			};
 		};
 
@@ -783,9 +1131,125 @@ net@node-1 {
 		/* Default Template for  ucore code. Values are filled at runtime */
 		ucore {
 			src@1 {
-				num-opcodes = <0>;
+				num-opcodes = <114>;
 				mask = <0xffff>;
-				opcodes = <0>;
+				opcodes = <
+						0x3c1c0010
+						0x279cf808
+						0x3c020010
+						0x2442f808
+						0x3c030010
+						0x2463f808
+						0xac400000
+						0x0043082b
+						0x1420fffd
+						0x24420004
+						0x3c1d0010
+						0x27bdf9c0
+						0x27a50020
+						0x27a60028
+						0xaca00000
+						0xacc00000
+						0x0c000029
+						0x00002021
+						0x1000ffff
+						0x00000000
+						0x3c020000
+						0x8c4201fc
+						0x27bdffe0
+						0x2403ffff
+						0xafbf001c
+						0xafb10018
+						0x10430009
+						0xafb00014
+						0x3c100000
+						0x261001fc
+						0x2411ffff
+						0x0040f809
+						0x2610fffc
+						0x8e020000
+						0x1451fffc
+						0x00000000
+						0x8fbf001c
+						0x8fb10018
+						0x8fb00014
+						0x03e00008
+						0x27bd0020
+						0x3c070001
+						0x34e28000
+						0x8c460018
+						0x244b001c
+						0x00061880
+						0x006b1821
+						0x8c650018
+						0x246d001c
+						0x00052080
+						0x01a46821
+						0x3c0a000f
+						0x3c090040
+						0x8c440018
+						0x00003821
+						0x8c640018
+						0x256bffe4
+						0x8da40018
+						0x24050100
+						0x8c440010
+						0x3c060170
+						0x8c4c0004
+						0x354afe60
+						0x8c620004
+						0x25290004
+						0x08000055
+						0x8da20004
+						0x8da80000
+						0x31040001
+						0x1480001a
+						0x00000000
+						0x8d6e001c
+						0x34088034
+						0xad050000
+						0x31c400ff
+						0x00041080
+						0x004cc821
+						0x33380fff
+						0x00187a00
+						0x35ee0001
+						0x34088030
+						0xad0e0000
+						0x00e61025
+						0x34088000
+						0xad020000
+						0x34088004
+						0x8d180000
+						0x330f001f
+						0x25eefff8
+						0x2dc80002
+						0x1500ffec
+						0x00000000
+						0x8c620000
+						0x30590001
+						0x1320ffe4
+						0x00000000
+						0x8c6f0000
+						0x31e80010
+						0x1100000c
+						0x00000000
+						0x00e61025
+						0x34088034
+						0xad050000
+						0x8d480000
+						0x00087402
+						0x31c40007
+						0x0004cdc0
+						0x0329c025
+						0x34088030
+						0x08000053
+						0xad180000
+						0x24c20002
+						0x08000065
+						0x24070002
+
+				>;
 			};
 		};
 
diff --git a/arch/mips/boot/dts/xlp9xx-linux-kernel.dts b/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
index 2593b21..19907a6 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
@@ -298,13 +298,299 @@
 			interrupts = <39>;
 			interrupt-controller;
 		};
+		/include/ "generic-soc-fmn-ver1.dtsi"
+		/include/ "generic-soc-net-ver1.dtsi"
 	};
 
 	chosen {
-		bootargs = "console=ttyS0,115200 rhash_entries=1048576";
+	/*	bootargs = "console=ttyS0,115200 rhash_entries=1048576"; */
+		bootargs = "console=ttyS0,115200 rhash_entries=1048576 root=/dev/nfs rw nfsroot=128.224.178.20:/export/pxeboot/vlm-boards/22674/rootfs,nfsvers=3 ip=dhcp";
 		netlogic,cpumask = <0xffffffff 0xffffffff>;
 		netlogic,reserve-mem = <256>;
 		netlogic,frfifo-mem = <256>;
 		netlogic,spill-mem = <32>; /* max spill size : 512 MB*/
 	};
+
+	hypervisor {
+		guest_use_dtre = <0>;
+	};
+
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+			#nodes = <1>;
+			#cpumask-cells=<2>;
+
+			cpu {
+				/* onlinemask (if 0 then dynamically set else takes specified value) */
+				onlinemask = <0x0>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <1>;
+				napi-vc-mask = <0xb>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc  = <2>; /* should be exclusive */
+				ipsec-async-vc  = <3>;
+				ipsec-sync-vc   = <2>;
+			};
+
+			nae-0 {
+				freein-fifo-mask = <0xffff 0xffff 0 0>; /* Node-0  Node-1 Node-2 Node-3 */
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <80 80 80 80>;
+				vfbtbl-hw-offset = <80 80 80 80>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+			};
+
+	    		nae-1 {
+				freein-fifo-mask = <0xffff 0xffff 0 0>; /* Node-0  Node-1 Node-2 Node-3 */
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <80 80 80 80>;
+				vfbtbl-hw-offset = <80 80 80 80>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+			};
+
+			dtre {
+				dtre_init_only = <0>;
+			};
+
+			owner-config {
+				nae = <0x1>;   /* currently for node0 and node1 */
+				sae = <0x1>;   /* for node0 */
+				rsa = <0x1>;
+				fmn = <0x1>;
+			};
+
+			resource-allocation {
+				net@0 {
+					port-mask = <0x4 0 0 0>;
+					frinlifo-mask = <0xffff 0 0 0>;
+					frinlifo-shared-mode = <0 0 0 0>;
+					vfbid-sw-offset = <0 0 0 0>;
+					vfbid-sw-entries = <0 0 0 0>;
+					ucore-mask = <0xffff 0 0 0>;
+					sram-off = <0 0 0 0>;
+				};
+
+				net@1 {
+					port-mask = <0x4 0 0 0>;
+					frinlifo-mask = <0xffff 0 0 0>;
+					frinlifo-shared-mode = <0 0 0 0>;
+					vfbid-sw-offset = <0 0 0 0>;
+					vfbid-sw-entries = <0 0 0 0>;
+					ucore-mask = <0xffff 0 0 0>;
+					sram-off = <0 0 0 0>;
+				};
+			};
+
+			fmn {
+				node_0_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+				node_1_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+				node_2_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+				node_3_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+				node_4_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+				node_5_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+				node_6_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+				node_7_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb
+						0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
+			};
+		};
+
+		dom@1 {
+			device_type = "domain";
+			os = "uspace";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffff>;
+				nae-rx-vc = <2>;
+				nae-fb-vc = <2>;
+				dtre-rx-vc = <2>;
+				lzs-vc = <2>;
+				sae-rx-sync-vc = <2>;  /* sharing with nae */
+				sae-rx-vc = <2>; /* sharing with nae */
+				/* helinux, as only 1 thread per cpu, it should poll for both nae and sae
+				   responses. Also there is no other vc as linux is using other 2 vcs */
+			};
+
+			nae-0 {
+				freein-fifo-mask = <0xffff 0 0 0>;
+				sh-domains = <0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <80 80 80 80>;
+				vfbtbl-hw-offset = <80 80 80 80>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+				/* replenish info syntax */
+				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
+				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
+				/* < node fifomask descsize headroom ndescs > */
+				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
+			};
+
+			nae-1 {
+				freein-fifo-mask = <0xffff 0 0 0>;
+				sh-domains = <0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <80 80 80 80>;
+				vfbtbl-hw-offset = <80 80 80 80>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+				/* replenish info syntax */
+				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
+				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
+				/* < node fifomask descsize headroom ndescs > */
+				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
+			};
+
+			device-manager {
+				port-mask = <0x3f>;
+				lifo-mask = <0x0 0xffffffff>;
+			};
+
+			resource-allocation {
+				net@0 {
+					port-mask = <0x3 0 0 0>;
+					frinlifo-mask = <0xff 0 0 0>;
+					frinlifo-shared-mode = <0 0 0 0>;
+					vfbid-sw-offset = <0 0 0 0>;
+					vfbid-sw-entries = <0 0 0 0>;
+					ucore-mask = <0xffff 0 0 0>;
+					sram-off = <0 0 0 0>;
+				};
+
+				net@1 {
+					port-mask = <0x3 0 0 0>;
+					frinlifo-mask = <0xff 0 0 0>;
+					frinlifo-shared-mode = <0 0 0 0>;
+					vfbid-sw-offset = <0 0 0 0>;
+					vfbid-sw-entries = <0 0 0 0>;
+					ucore-mask = <0xffff 0 0 0>;
+					sram-off = <0 0 0 0>;
+				};
+			};
+
+			app-param {
+				onlinemask = <0xffff>;
+				enable-nae-hw-parser = <0>;
+				enable-nae-jumbo = <0>;
+				enable-nae-p2p = <0>;
+				enable-poe = <0>;
+				enable-microstruct = <0>;
+				enable-popq-mode = <0>; /* If set to 1, popq mode is enabled else disabled */
+				launch-mode = "smp";	/* smp or amp */
+				timer-service-vc = <2>;
+			};
+
+			owner-config {
+				nae = <0x0>;
+				sae = <0x0>;
+				rsa = <0x0>;
+				fmn = <0x0>;
+			};
+		};
+
+		dom@2 {
+			device_type = "domain";
+			os = "uspace";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xffffffff 0x00000000>;
+				nae-rx-vc = <2>;
+				nae-fb-vc = <2>;
+			};
+
+			nae-0 {
+				freein-fifo-mask = <0xffff 0 0 0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <80 80 80 80>;
+				vfbtbl-hw-offset = <80 80 80 80>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+				/* replenish info syntax */
+				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
+				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
+				/* < node fifomask descsize headroom ndescs > */
+				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
+			};
+
+			nae-1 {
+				freein-fifo-mask = <0xffff 0 0 0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <80 80 80 80>;
+				vfbtbl-hw-offset = <80 80 80 80>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+				/* replenish info syntax */
+				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
+				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
+				/* < node fifomask descsize headroom ndescs > */
+				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
+			};
+
+			owner-config {
+				nae = <0x0>;	/* currently for node 0 */
+				sae = <0x0>;
+				rsa = <0x0>;
+				fmn = <0x0>;
+			};
+			app-param {
+				onlinemask = <>;
+			};
+		};
+	};
+
+	kernel-params {
+	};
+
+/*	soc {
+		/include/ "generic-soc-fmn-ver1.dtsi"
+		/include/ "generic-soc-net-ver1.dtsi"
+	};*/
+
+	frequency-config {
+		/*
+		 * All device frequency parameters are set 0 and get initialized to the default values when the
+		 * 'fdtconf' kernel module is loaded at runtime.
+		 * If a value other than 0 is specified, the value is not modified by the module.
+		 */
+		nae = <0>;	/* Default - 500 Mhz (400 Mhz for XLP2XX) */
+		sae = <0>;	/* Default - 500 Mhz */
+		rsa = <0>;	/* Default - 500 Mhz */
+		dtre = <0>;	/* Default - 500 Mhz */
+		cde = <0>;	/* Default - 250 Mhz */
+	};
+
 };
-- 
1.7.1

