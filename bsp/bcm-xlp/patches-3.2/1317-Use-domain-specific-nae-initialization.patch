From 9c094fa614666fae089f1fe97dc281aadba8ec9b Mon Sep 17 00:00:00 2001
From: Venu Vadapalli <vvadapalli@netlogicmicro.com>
Date: Tue, 7 Dec 2010 21:11:28 -0800
Subject: Use domain specific nae initialization

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/drivers/net/ethernet/broadcom/nae/init_nae.c b/drivers/net/ethernet/broadcom/nae/init_nae.c
index bdf30e0..16635ef 100644
--- a/drivers/net/ethernet/broadcom/nae/init_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/init_nae.c
@@ -38,9 +38,11 @@ static void config_fmn(void)
 
 int initialize_nae(uint32_t cm0, uint32_t cm1, uint32_t cm2, uint32_t cm3)
 {
+	int dom_id = 0;
+
 	config_fmn();
 
-	nlm_hal_init_nae(fdt);
+	nlm_hal_init_nae(fdt, dom_id);
 
 	printk("Overriding HAL POE configuration based on current active cpumask\n");
 	nlm_hal_init_poe_distvec(0, cm0, cm1, cm2, cm3, (1 << nae_cfg.rx_vc));
-- 
1.7.1

