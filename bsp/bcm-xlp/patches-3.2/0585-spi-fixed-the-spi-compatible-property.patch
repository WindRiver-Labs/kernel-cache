From fedbf48e6edfd44e9143697b7b6ee3c3e0fc1b59 Mon Sep 17 00:00:00 2001
From: Tanmay Jagdale <tanmayj@broadcom.com>
Date: Wed, 15 Oct 2014 14:58:25 +0530
Subject: spi: fixed the spi compatible property

 - Fixed the spi compatibility property for xlp9xx and xlp5xx.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp5xx-linux-kernel.dts b/arch/mips/boot/dts/xlp5xx-linux-kernel.dts
index b44eef3..02099c7 100644
--- a/arch/mips/boot/dts/xlp5xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp5xx-linux-kernel.dts
@@ -101,7 +101,7 @@
 			interrupt-parent = <&pic>;
 
 			spi_nor@1 {
-				compatible = "micron,n25q128";
+				compatible = "micron,n25q128a13";
 				#address-cells = <1>;
 				#size-cells = <1>;
 
diff --git a/arch/mips/boot/dts/xlp5xx-pcie-linux-kernel.dts b/arch/mips/boot/dts/xlp5xx-pcie-linux-kernel.dts
index c639261..b78c1ab 100644
--- a/arch/mips/boot/dts/xlp5xx-pcie-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp5xx-pcie-linux-kernel.dts
@@ -107,7 +107,7 @@
 			interrupt-parent = <&pic>;
 
 			spi_nor@1 {
-				compatible = "micron,n25q128";
+				compatible = "micron,n25q128a13";
 				#address-cells = <1>;
 				#size-cells = <1>;
 
diff --git a/arch/mips/boot/dts/xlp9xx-linux-kernel.dts b/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
index d2e4e5a..8518d01 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
@@ -107,7 +107,7 @@
 			interrupt-parent = <&pic>;
 
 			spi_nor@1 {
-				compatible = "micron,n25q128";
+				compatible = "micron,n25q128a13";
 				#address-cells = <1>;
 				#size-cells = <1>;
 
-- 
1.7.1

