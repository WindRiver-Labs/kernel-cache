From 42b682b8cf6f4660ac40fd7014c1fa2ed1db07a6 Mon Sep 17 00:00:00 2001
From: sivag <sivag@broadcom.com>
Date: Fri, 11 Oct 2013 20:15:51 +0530
Subject: DPI: updated dpi dts file to allow management port bringup

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp9xx-linux-dpi.dts b/arch/mips/boot/dts/xlp9xx-linux-dpi.dts
index 37eb310..8b72989 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-dpi.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-dpi.dts
@@ -11,7 +11,7 @@
 
         memory {
                 device_type = "memory";
-                reg =  <0 0x00100000 0 0x0FF00000       // 255M at 1M
+                reg =  <0 0x00000000 0 0x0FF00000       // 255M at 1M
                         0 0x20000000 0 0xa0000000>;     // 2560M at 512M
         };
 
@@ -45,10 +45,10 @@
 			#cpumask-cells=<3>;
 
 			cpu {
-				onlinemask = <0x1 0x0 0x0>; /* <0xffffffff 0xffffffff 0xffff> */
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0xb>;
+				onlinemask = <0x1>; /* */
+                                nae-rx-vc = <3>;
+                                nae-fb-vc = <3>;
+				napi-vc-mask = <0x8>;
 				sae-rx-vc = <0>; /* sharing with nae */
 				sae-rx-sync-vc  = <2>; /* should be exclusive */
 				ipsec-async-vc  = <3>;
@@ -61,14 +61,14 @@
 				sharedcfg = <0x1f000000>;
 			};
       fmn {
-				node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_1_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_2_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_3_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_4_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_5_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_6_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_7_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000>;
+				node_0_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
+				node_1_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
+				node_2_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
+				node_3_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
+				node_4_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
+				node_5_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
+				node_6_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
+				node_7_vc_mask = <0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888 0x88888888>;
       };
 			pic {
 			};
@@ -123,7 +123,7 @@
 			device_type = "domain";
 
 			cpu {   
-                                onlinemask = <0xffff 0x0 0x0>; 
+                                onlinemask = <0xffff>; 
                                 nae-rx-vc = <2>;
 			};
 
@@ -225,5 +225,14 @@
 		};
 
 	};
+
+        frequency-config {
+                nae = <500>;
+                sae = <767>;
+                rsa = <767>;
+                dtre = <250>;
+                cde = <250>;
+        };
+
 };
 
-- 
1.7.1

