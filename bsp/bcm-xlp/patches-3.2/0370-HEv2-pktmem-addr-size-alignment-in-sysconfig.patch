From b19349e522041a975d3262ba5814f1d62af1bfc0 Mon Sep 17 00:00:00 2001
From: Sreenidhi B R <sreenira@broadcom.com>
Date: Fri, 21 Jun 2013 15:29:34 +0530
Subject: HEv2: pktmem - addr,size alignment in sysconfig.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp8xx-helinux.dts b/arch/mips/boot/dts/xlp8xx-helinux.dts
index b7c59a0..1814d89 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux.dts
@@ -18,10 +18,12 @@
 	/* memory range for HEv2 pkt mem. Only one contig memory per node supported */
 	pktmem {
 		device_type = "pktmem";
-		reg = <0 0x08000000 0 0x40000000 /* node0 */
-	               1 0x0 1 0x0               /* node1 */
-		       2 0x0 2 0x0               /* node2 */
-		       3 0x0 3 0x0>;             /* node3 */
+
+		/* format: node number, 64-bit addr, 64-bit size */
+		reg = <0 0 0x80000000 0 0x08000000
+	               1 0x0 0x0 0x0 0x0
+		       2 0x0 0x0 0x0 0x0
+		       3 0x0 0x0 0x0 0x0>;
 	};
 
 	hypervisor {
diff --git a/arch/mips/boot/dts/xlp8xx-linux.dts b/arch/mips/boot/dts/xlp8xx-linux.dts
index 6c2fcd5..d0f06e7 100644
--- a/arch/mips/boot/dts/xlp8xx-linux.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux.dts
@@ -19,10 +19,12 @@
 	/* memory range for HEv2 pkt mem. Only one contig memory per node supported */
 	pktmem {
 		device_type = "pktmem";
-		reg = <0 0x08000000 0 0x40000000 /* node0 */
-	               1 0x0 1 0x0               /* node1 */
-		       2 0x0 2 0x0               /* node2 */
-		       3 0x0 3 0x0>;             /* node3 */
+
+		/* format: node number, 64-bit addr, 64-bit size */
+		reg = <0 0x0 0x80000000 0x0 0x08000000
+	               1 0x0 0x0 0x0 0x0
+		       2 0x0 0x0 0x0 0x0
+		       3 0x0 0x0 0x0 0x0>;
 	};
 
 	hypervisor {
-- 
1.7.1

