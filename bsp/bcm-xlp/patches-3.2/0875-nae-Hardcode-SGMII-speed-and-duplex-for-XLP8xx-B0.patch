From 8f199af906956e84179cf288a1ae42d07f29d719 Mon Sep 17 00:00:00 2001
From: ajesh <ajesh@broadcom.com>
Date: Tue, 17 Dec 2013 16:16:37 +0530
Subject: nae: Hardcode SGMII speed and duplex for XLP8xx B0.

The xlp8xx B0 doesn't detect the phy id when nae is run at 500 MHz.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
index 53aa881..bb22edd 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
@@ -2087,7 +2087,13 @@ static void __netsoc_config_sgmii(net_port_t *netport)
 
         // Read PHY status from extended status
         __netsoc_get_phy_status(netport, &speed, &duplex);
+		
+		if(is_nlm_xlp8xx_b0())
+		{
+			speed = SPEED_1000M;
+			duplex = 1;
 
+		}
 #else
         speed = SPEED_1000M;
         duplex = 1;
-- 
1.7.1

