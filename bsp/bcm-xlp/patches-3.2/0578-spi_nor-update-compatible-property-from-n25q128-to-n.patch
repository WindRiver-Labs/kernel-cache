From e1797f2ca9b19bdfccad7acd74e0265b990b2cca Mon Sep 17 00:00:00 2001
From: Kamlakant Patel <kamlakant.patel@broadcom.com>
Date: Sat, 6 Sep 2014 01:43:59 +0530
Subject: spi_nor: update compatible property from n25q128 to n25q128a13

modify to match with updated m25p80.c generic driver for XLP9xx/5xx.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts
index b44eef3..02099c7 100644
--- a/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp5xx-linux-tmpl.dts
@@ -101,7 +101,7 @@
 			interrupt-parent = <&pic>;
 
 			spi_nor@1 {
-				compatible = "micron,n25q128";
+				compatible = "micron,n25q128a13";
 				#address-cells = <1>;
 				#size-cells = <1>;
 
diff --git a/arch/mips/boot/dts/xlp5xx-pcie-linux-tmpl.dts b/arch/mips/boot/dts/xlp5xx-pcie-linux-tmpl.dts
index 56193f6..05d77d3 100644
--- a/arch/mips/boot/dts/xlp5xx-pcie-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp5xx-pcie-linux-tmpl.dts
@@ -107,7 +107,7 @@
 			interrupt-parent = <&pic>;
 
 			spi_nor@1 {
-				compatible = "micron,n25q128";
+				compatible = "micron,n25q128a13";
 				#address-cells = <1>;
 				#size-cells = <1>;
 
diff --git a/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts
index d2e4e5a..8518d01 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-tmpl.dts
@@ -107,7 +107,7 @@
 			interrupt-parent = <&pic>;
 
 			spi_nor@1 {
-				compatible = "micron,n25q128";
+				compatible = "micron,n25q128a13";
 				#address-cells = <1>;
 				#size-cells = <1>;
 
-- 
1.7.1

