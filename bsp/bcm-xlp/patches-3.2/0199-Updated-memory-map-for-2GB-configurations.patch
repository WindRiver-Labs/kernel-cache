From 4348b33eea30d2d216d7dcd4e45e6e51790ec065 Mon Sep 17 00:00:00 2001
From: Venu Vadapalli <vvadapalli@netlogicmicro.com>
Date: Fri, 24 Sep 2010 14:45:06 -0700
Subject: Updated memory map for 2GB configurations

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/multi-os.dts b/arch/mips/boot/dts/multi-os.dts
index 9eb6010..5086177 100644
--- a/arch/mips/boot/dts/multi-os.dts
+++ b/arch/mips/boot/dts/multi-os.dts
@@ -14,7 +14,7 @@
 		hypervisor-name = "Xen";
 		cpu_possible_map = <0xff>;
 		is_dom0_hvm = <1>;
-		bootargs = "ncores=1 dom0_loadaddr=0x78000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
+		bootargs = "ncores=2 dom0_loadaddr=0x78000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
 		domain_heap = <0x50000000 0x20000000>;
 	};
 	doms {
diff --git a/arch/mips/boot/dts/netos.dts b/arch/mips/boot/dts/netos.dts
index 851925d..3e64338 100644
--- a/arch/mips/boot/dts/netos.dts
+++ b/arch/mips/boot/dts/netos.dts
@@ -14,8 +14,8 @@
 		hypervisor-name = "Xen";
 		cpu_possible_map = <0xff>;
 		is_dom0_hvm = <0>;
-		bootargs = "dom0_loadaddr=0xe0800000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x80000000 0x20000000>;
+		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0x50000000 0x20000000>;
 	};
 
 	doms {
@@ -32,7 +32,7 @@
 			#size-cells = <1>;
 
 			app-bootcmd = "smpload";
-			app-loadaddr = "0x60000000";
+			app-loadaddr = "0x74000000";
 
 			kernel {
 				/* Kernel Memory allocated from xen domain-heap */
-- 
1.7.1

