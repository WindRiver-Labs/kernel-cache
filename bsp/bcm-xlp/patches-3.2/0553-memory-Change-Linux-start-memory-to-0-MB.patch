From 6379da41054d7569ddcf584c0dad5d2e1514a78a Mon Sep 17 00:00:00 2001
From: Sreekanth Molagavalli <sreekanth.molagavalli@broadcom.com>
Date: Wed, 9 Jul 2014 17:16:24 +0530
Subject: memory: Change Linux start memory to 0 MB.

Linux is loaded at 1MB from sdk 3.0. Hence the first memory
range in the DTB should be starting at least at the 1MB mark.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp2xx-dpi-nae-mc.dts b/arch/mips/boot/dts/xlp2xx-dpi-nae-mc.dts
index f3401d5..fd79831 100644
--- a/arch/mips/boot/dts/xlp2xx-dpi-nae-mc.dts
+++ b/arch/mips/boot/dts/xlp2xx-dpi-nae-mc.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x40000000>;
         };
 
diff --git a/arch/mips/boot/dts/xlp2xx-helinux-snort.dts b/arch/mips/boot/dts/xlp2xx-helinux-snort.dts
index 9b3a247..72404dc 100644
--- a/arch/mips/boot/dts/xlp2xx-helinux-snort.dts
+++ b/arch/mips/boot/dts/xlp2xx-helinux-snort.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0x0 0x80000000 0x0 0xE2F80000>;
         };
 
diff --git a/arch/mips/boot/dts/xlp2xx-helinux.dts b/arch/mips/boot/dts/xlp2xx-helinux.dts
index e479921..d859f88 100644
--- a/arch/mips/boot/dts/xlp2xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp2xx-helinux.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0xe0000000 0 0x20000000>;
         };
 
diff --git a/arch/mips/boot/dts/xlp2xx-linux-dpi.dts b/arch/mips/boot/dts/xlp2xx-linux-dpi.dts
index 447acbb..b22204b 100644
--- a/arch/mips/boot/dts/xlp2xx-linux-dpi.dts
+++ b/arch/mips/boot/dts/xlp2xx-linux-dpi.dts
@@ -12,7 +12,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0xa0000000
                         0 0xe0000000 0 0x20000000>;
         };
diff --git a/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcienet.dts b/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcienet.dts
index 4715764..ead9dac 100644
--- a/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcienet.dts
+++ b/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcienet.dts
@@ -12,7 +12,7 @@
 		/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   //16MB 176MB
+                reg =  <0 0x00000000 0 0x0B000000   //16MB 176MB
                         0 0x20000000 0 0x26000000>; //512M 608M
         };
 
diff --git a/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcieperf.dts b/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcieperf.dts
index 99d49ee..41b68a1 100644
--- a/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcieperf.dts
+++ b/arch/mips/boot/dts/xlp2xx-pcie-helinux-pcieperf.dts
@@ -12,7 +12,7 @@
 		/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x26000000>;
         };
 	       /* memory range for HEv2 pkt mem. Only one contig memory per node supported */
diff --git a/arch/mips/boot/dts/xlp2xx-xmc-linux.dts b/arch/mips/boot/dts/xlp2xx-xmc-linux.dts
index 0ee7b9b..c7e03cd 100644
--- a/arch/mips/boot/dts/xlp2xx-xmc-linux.dts
+++ b/arch/mips/boot/dts/xlp2xx-xmc-linux.dts
@@ -12,7 +12,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000
+                reg =  <0 0x00000000 0 0x0B000000
                         0 0x20000000 0 0x68a00000>;
         };
 
diff --git a/arch/mips/boot/dts/xlp3xx-dpi-nae-mc.dts b/arch/mips/boot/dts/xlp3xx-dpi-nae-mc.dts
index 800ddfb..80c2f9b 100644
--- a/arch/mips/boot/dts/xlp3xx-dpi-nae-mc.dts
+++ b/arch/mips/boot/dts/xlp3xx-dpi-nae-mc.dts
@@ -12,7 +12,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x40000000>;
         };
 	hypervisor {
diff --git a/arch/mips/boot/dts/xlp3xx-helinux.dts b/arch/mips/boot/dts/xlp3xx-helinux.dts
index 7a642d3..1cc65ca 100644
--- a/arch/mips/boot/dts/xlp3xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp3xx-helinux.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0xe0000000 0 0x20000000>;
         };
 
diff --git a/arch/mips/boot/dts/xlp3xx-linux-dpi.dts b/arch/mips/boot/dts/xlp3xx-linux-dpi.dts
index 9a4fcf3..4a28ef7 100644
--- a/arch/mips/boot/dts/xlp3xx-linux-dpi.dts
+++ b/arch/mips/boot/dts/xlp3xx-linux-dpi.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000
+                reg =  <0 0x00000000 0 0x0B000000
                         0 0x20000000 0 0xa0000000
                         0 0xe0000000 0 0x20000000>;
         };
diff --git a/arch/mips/boot/dts/xlp4xx-helinux-pcienet.dts b/arch/mips/boot/dts/xlp4xx-helinux-pcienet.dts
index 43382ae..d7204bf 100644
--- a/arch/mips/boot/dts/xlp4xx-helinux-pcienet.dts
+++ b/arch/mips/boot/dts/xlp4xx-helinux-pcienet.dts
@@ -12,7 +12,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   /*16M to 176M */
+                reg =  <0 0x00000000 0 0x0B000000   /*16M to 176M */
                         0 0x20000000 0 0x26000000>; /*512M to 1120M */
         };
 
diff --git a/arch/mips/boot/dts/xlp4xx-helinux-pcieperf.dts b/arch/mips/boot/dts/xlp4xx-helinux-pcieperf.dts
index 8c63340..8004e56 100644
--- a/arch/mips/boot/dts/xlp4xx-helinux-pcieperf.dts
+++ b/arch/mips/boot/dts/xlp4xx-helinux-pcieperf.dts
@@ -12,7 +12,7 @@
 		/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x26000000>;
         };
 	       /* memory range for HEv2 pkt mem. Only one contig memory per node supported */
diff --git a/arch/mips/boot/dts/xlp4xx-helinux.dts b/arch/mips/boot/dts/xlp4xx-helinux.dts
index b81b4c9..6b76f32 100644
--- a/arch/mips/boot/dts/xlp4xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp4xx-helinux.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
 			0 0x20000000 0 0x20000000>;  // 512M at 512M
         };
 
diff --git a/arch/mips/boot/dts/xlp5xx-helinux-snort.dts b/arch/mips/boot/dts/xlp5xx-helinux-snort.dts
index b7e46bc..b0fd817 100644
--- a/arch/mips/boot/dts/xlp5xx-helinux-snort.dts
+++ b/arch/mips/boot/dts/xlp5xx-helinux-snort.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000
+                reg =  <0 0x00000000 0 0x0B000000
                         0x0 0x40000000        0x1 0xc0000000>;  /*   4096M - 4096+6144M */
  
                        // 0x0 0xe0000000 0x1 0xc5f00000>; // 7263M@3584M
diff --git a/arch/mips/boot/dts/xlp5xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/xlp5xx-hybrid-nae-helinux.dts
index 13fd161..420e57d 100644
--- a/arch/mips/boot/dts/xlp5xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/xlp5xx-hybrid-nae-helinux.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x40000000>;
         };
         /* memory range for HEv2 pkt mem. Only one contig memory per node supported */
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts b/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
index 30f24bb..d5245dc 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
@@ -12,7 +12,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   /*16M to 176M */
+                reg =  <0 0x00000000 0 0x0B000000   /*16M to 176M */
                         0 0x20000000 0 0x26000000>; /*512M to 1120M */
         };
 
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-pcieperf.dts b/arch/mips/boot/dts/xlp8xx-helinux-pcieperf.dts
index 6960a6a..7b26b64 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-pcieperf.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-pcieperf.dts
@@ -12,7 +12,7 @@
 		/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x26000000>;
         };
 	       /* memory range for HEv2 pkt mem. Only one contig memory per node supported */
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-snort.dts b/arch/mips/boot/dts/xlp8xx-helinux-snort.dts
index 06ec562..b20fbbd 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-snort.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-snort.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0x1 0x00000000 0x1 0xC5F00000>; // 7263M@3584M
         };
 
diff --git a/arch/mips/boot/dts/xlp8xx-helinux.dts b/arch/mips/boot/dts/xlp8xx-helinux.dts
index ddcd8c4..c7b1e43 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0xE0000000 0 0xC0000000>;
         };
 
diff --git a/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts
index bf22fe8..eef856a 100644
--- a/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x40000000>;
         };
         /* memory range for HEv2 pkt mem. Only one contig memory per node supported */
diff --git a/arch/mips/boot/dts/xlp9xx-dpi-nae-mc.dts b/arch/mips/boot/dts/xlp9xx-dpi-nae-mc.dts
index 55d31e7..9ef8237 100755
--- a/arch/mips/boot/dts/xlp9xx-dpi-nae-mc.dts
+++ b/arch/mips/boot/dts/xlp9xx-dpi-nae-mc.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0 0x20000000 0 0x40000000>;
         };
         /* memory range for HEv2 pkt mem. Only one contig memory per node supported */
diff --git a/arch/mips/boot/dts/xlp9xx-helinux-snort.dts b/arch/mips/boot/dts/xlp9xx-helinux-snort.dts
index 84e4b94..c7fe6a6 100644
--- a/arch/mips/boot/dts/xlp9xx-helinux-snort.dts
+++ b/arch/mips/boot/dts/xlp9xx-helinux-snort.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000   
                         0x0 0xe0000000 0x1 0xc5f00000>; // 7263M@3584M
         };
 
diff --git a/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts
index 78132e9..f5b65a5 100644
--- a/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts
@@ -11,7 +11,7 @@
 	/*memory range for linux. This will not appear in dom0*/
         memory {
                 device_type = "memory";
-                reg =  <0 0x01000000 0 0x0B000000   
+                reg =  <0 0x00000000 0 0x0B000000
                         0 0x20000000 0 0x40000000>;
         };
         /* memory range for HEv2 pkt mem. Only one contig memory per node supported */
-- 
1.7.1

