From 53b3d9b2eb916a329ff17eca24212a666e65647f Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthi.annadurai@broadcom.com>
Date: Thu, 8 Aug 2013 06:06:28 -0700
Subject: netlib: Added API to check parser status

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h b/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h
index 0e2a71e..dee7afa 100644
--- a/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h
+++ b/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h
@@ -471,6 +471,16 @@ static inline int netsoc_clear_loopback(net_port_t *netport)
         return 0;
 }
 
+static inline int is_netsoc_parser_enabled(nae_t *nae)
+{
+	uint32_t val;
+        val = netsoc_read_nae_reg(nae->nae_base, RX_CONFIG);
+        if (val & (1 << 12))
+		return 1;
+	else 
+		return 0;
+}
+
 
 extern int init_netsoc(void *fdt, uint32_t dom_id);
 extern void brcm_netsoc_lib_init(struct netsoc_lib_param *libparam);
-- 
1.7.1

