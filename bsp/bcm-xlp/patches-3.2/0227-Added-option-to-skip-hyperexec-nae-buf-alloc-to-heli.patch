From 4c273d2517e718e8bf1918353b4a9671e155d451 Mon Sep 17 00:00:00 2001
From: Siva Pochiraju <sivap@netlogicmicro.com>
Date: Mon, 31 Jan 2011 18:08:11 -0800
Subject: Added option to skip hyperexec nae-buf alloc to helinux.dts

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/helinux.dts b/arch/mips/boot/dts/helinux.dts
index e9fbb89..adc5589 100644
--- a/arch/mips/boot/dts/helinux.dts
+++ b/arch/mips/boot/dts/helinux.dts
@@ -30,6 +30,7 @@
 				onlinemask = <0xffffffff>;
                                 nae-rx-vc = <1>;
                                 nae-fb-vc = <2>;
+
 			};
 			uart {
 				id = <0>;
@@ -78,6 +79,9 @@
 				onlinemask = <0xf>;
                                 nae-rx-vc = <0>;
                                 nae-fb-vc = <3>;
+                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
+                                   sending of packet buffers*/
+                                nae-buf-alloc-by-app = <0>; 
 			};
 			uart {
 				id = <0>;
-- 
1.7.1

