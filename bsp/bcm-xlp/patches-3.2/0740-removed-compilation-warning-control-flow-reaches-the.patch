From caf4b5532ae80c258aff35779ca81c36fe8d102f Mon Sep 17 00:00:00 2001
From: ctseng <ctseng@broadcom.com>
Date: Tue, 25 Jun 2013 17:52:27 -0700
Subject: removed compilation warning (control flow reaches the end of non-void function without return).

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h b/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h
index b76aca1..09c2870 100644
--- a/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h
+++ b/arch/mips/netlogic/lib/netlib/include/netsoc_libiface.h
@@ -137,16 +137,20 @@ static inline void *netsoc_api_phystovirt(uint64_t addr)
 
 static inline void *netsoc_api_malloc(uint32_t size)
 {
+	void *ret = 0;
+
 	if (netsoc_lib_malloc != NULL) {
-		return netsoc_lib_malloc(size);
+		ret = netsoc_lib_malloc(size);
 	}
 	else {
 #if defined(NLM_HAL_LINUX_USER)
-		return malloc(size);
+		ret = malloc(size);
 #elif defined(NLM_HAL_LINUX_KERNEL)
-		return kmalloc(size, GFP_KERNEL);
+		ret = kmalloc(size, GFP_KERNEL);
 #endif
 	}
+	
+	return ret;
 }
 
 static inline void netsoc_api_free(void *buf)
-- 
1.7.1

