From 7224728444207c6956f4df690adb85d3c75541f0 Mon Sep 17 00:00:00 2001
From: Kamlakant Patel <kamlakant.patel@broadcom.com>
Date: Tue, 26 Nov 2013 20:17:14 +0530
Subject: spi-mmc: remove spi_mmc node causing kernel crash

Removing spi_mmc from dts for now to avoid the kernel crash.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
index 5732b10..79e7992 100644
--- a/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
@@ -169,14 +169,6 @@
 			interrupts = <34>;
 			interrupt-parent = <&pic>;
 
-			spi_mmc@0 {
-				compatible = "mmc-spi-slot";
-				reg = <0>;      /* Chip Select */
-
-				voltage-ranges = <3300 3300>;
-				spi-max-frequency = <50000000>;
-			};
-
 			spi_nor@1 {
 				compatible = "spansion,s25sl12801";
 				#address-cells = <1>;
@@ -225,14 +217,6 @@
 					reg = <0x1c00000 0x0>;
 				};
 			};
-
-			spi_mmc@3 {
-				compatible = "mmc-spi-slot";
-				reg = <3>;      /* Chip Select */
-
-				voltage-ranges = <3300 3300>;
-				spi-max-frequency = <50000000>;
-			};
 		};
 	};
 
-- 
1.7.1

