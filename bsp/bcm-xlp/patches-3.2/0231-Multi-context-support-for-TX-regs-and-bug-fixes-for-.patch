From 900707451533963906731821dddf94a15e64f324 Mon Sep 17 00:00:00 2001
From: Siva Pochiraju <sivap@netlogicmicro.com>
Date: Wed, 2 Mar 2011 14:30:33 -0800
Subject: Multi context support for TX regs and bug fixes for multi context

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/nae.dts b/arch/mips/boot/dts/nae.dts
index 564e572..b27507e 100644
--- a/arch/mips/boot/dts/nae.dts
+++ b/arch/mips/boot/dts/nae.dts
@@ -84,12 +84,12 @@
 
 		// Max parser sequence fifo size 1024 packets 
 		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
 		parser_sequence_fifo_sizes = <225>;
 
 		// Since rx_buffer is per context, we can have a few different ways
 		//  to populate the operand
-		rx_buffer_sizes = <944>;
+		num_channels = <8>;
+		rx_buffer_sizes = <118 118 118 118 118 118 118 118>;
 
 		// Max available descriptors are 1024  (across all complexes).
 		// Per port num_free_descriptors must be even number
@@ -107,12 +107,12 @@
 
 		// Max parser sequence fifo size 1024 packets 
 		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
 		parser_sequence_fifo_sizes = <225>;
 
 		// Since rx_buffer is per context, we can have a few different ways
 		//  to populate the operand
-		rx_buffer_sizes = <944>;
+		num_channels = <8>;
+		rx_buffer_sizes = <118 118 118 118 118 118 118 118>;
 
 		// Max available descriptors are 1024  (across all complexes).
 		// Per port num_free_descriptors must be even number
@@ -130,12 +130,12 @@
 
 		// Max parser sequence fifo size 1024 packets 
 		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
 		parser_sequence_fifo_sizes = <225>;
 
 		// Since rx_buffer is per context, we can have a few different ways
 		//  to populate the operand
-		rx_buffer_sizes = <944>;
+		num_channels = <8>;
+		rx_buffer_sizes = <118 118 118 118 118 118 118 118>;
 
 		// Max available descriptors are 1024  (across all complexes).
 		// Per port num_free_descriptors must be even number
@@ -153,12 +153,12 @@
 
 		// Max parser sequence fifo size 1024 packets 
 		// (if 1588 Timestamp is not required, then max size increases to 2048)
-		num_channels = <1>;
 		parser_sequence_fifo_sizes = <225>;
 
 		// Since rx_buffer is per context, we can have a few different ways
 		//  to populate the operand
-		rx_buffer_sizes = <944>;
+		num_channels = <8>;
+		rx_buffer_sizes = <118 118 118 118 118 118 118 118>;
 
 		// Max available descriptors are 1024  (across all complexes).
 		// Per port num_free_descriptors must be even number
-- 
1.7.1

