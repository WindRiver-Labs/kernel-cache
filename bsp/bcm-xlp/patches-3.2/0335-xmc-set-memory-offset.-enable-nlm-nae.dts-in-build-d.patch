From 626b08605029b4d8d1b8fb88ad50e8426dab875a Mon Sep 17 00:00:00 2001
From: Alok Agrawat <alok@broadcom.com>
Date: Thu, 18 Oct 2012 05:17:17 -0700
Subject: xmc: set memory offset. enable nlm-nae.dts in build-dtb.sh

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp3xx-xmc-linux.dts b/arch/mips/boot/dts/xlp3xx-xmc-linux.dts
index fe27d51..a7867d0 100644
--- a/arch/mips/boot/dts/xlp3xx-xmc-linux.dts
+++ b/arch/mips/boot/dts/xlp3xx-xmc-linux.dts
@@ -34,7 +34,7 @@
 				sae-rx-vc = <0>; /*  */
 				sae-rx-sync-vc  = <3>; /* should be exclusive */
 				ipsec-async-vc  = <3>;
-				ipsec-sync-vc   = <2>; /* should be exclusive either  
+				ipsec-sync-vc   = <2>; /* should be exclusive either
 							  ipsec-sync-vc  or soc/srio@node-0  */
 
 			};
@@ -45,10 +45,10 @@
 			};
 			memory {
 				reg = <0x01000000 0x0B000000	// 176M at 16M
-					0x20000000 0x20000000>;  // 2586M at 512M
+					0x20000000 0x28a00000>;  // 650M at 512M
 			};
                         fmn {
-				/* make the node mask to 0xffffffff for SRIO */  
+				/* make the node mask to 0xffffffff for SRIO */
                                 node_0_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
                                 node_1_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
                                 node_2_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
@@ -77,7 +77,7 @@
 	};
 
 	chosen {
-		bootargs = " console=ttyS0,115200 mem=512m@3584m rhash_entries=1048576";
+		bootargs = " console=ttyS0,115200 ";
 	};
 
 	/* These binaries are downloaded at the resp physical memory locations
-- 
1.7.1

