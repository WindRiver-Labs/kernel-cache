From e9121ce718ad188fa4f227f999350d3fe1e2968a Mon Sep 17 00:00:00 2001
From: Prasanna Mumbai <prasanna.mumbai@broadcom.com>
Date: Wed, 26 Mar 2014 01:00:06 -0700
Subject: halx net app: Performance improvement in root and guest modes

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp9xx-linux-guest.dts b/arch/mips/boot/dts/xlp9xx-linux-guest.dts
index d9a179c..8e70f98 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-guest.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-guest.dts
@@ -76,13 +76,13 @@
                                 };
 			};
 			app-param{
-                                onlinemask = <0x1>;
+                                onlinemask = <0xffff>;
 			};
 		};
 	};
 
 	chosen {
-		netlogic,cpumask = <0x1>;
+		netlogic,cpumask = <0xffff>;
 		bootargs = " console=ttyS0,115200  rhash_entries=1048576";
 		linux,initrd-start=<0x0>;
 		linux,initrd-end=<0x0>;
diff --git a/arch/mips/boot/dts/xlp9xx-linux.dts b/arch/mips/boot/dts/xlp9xx-linux.dts
index 098c14a..39b6a27 100644
--- a/arch/mips/boot/dts/xlp9xx-linux.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux.dts
@@ -45,7 +45,7 @@
 			#cpumask-cells=<3>;
 
 			cpu {
-				onlinemask = <0x1>; /* */
+				onlinemask = <0xffff>; /* */
                                 nae-rx-vc = <0>;
                                 nae-fb-vc = <1>;
 				napi-vc-mask = <0xb>;
@@ -130,7 +130,7 @@
 			device_type = "domain";
 
 			cpu {   
-                                onlinemask = <0x01>; 
+                                onlinemask = <0xf>; 
                                 nae-rx-vc = <2>;
 			};
 
-- 
1.7.1

