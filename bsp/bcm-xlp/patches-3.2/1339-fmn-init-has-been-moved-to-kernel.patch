From 5f185eace19b56bf9b5fcb2bc3ee73d8c7cac265 Mon Sep 17 00:00:00 2001
From: Hareesh R <hareesh@netlogicmicro.com>
Date: Tue, 22 Nov 2011 10:05:48 +0530
Subject: fmn init has been moved to kernel

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/drivers/net/ethernet/broadcom/nae/init_nae.c b/drivers/net/ethernet/broadcom/nae/init_nae.c
index 302251f..731a143 100644
--- a/drivers/net/ethernet/broadcom/nae/init_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/init_nae.c
@@ -28,14 +28,12 @@ static void config_fmn(void)
 
 	nlm_xlp_msgring_int_handler(XLP_IRQ_MSGRING, NULL);
 
-	/* Configure credits to non-n0c0 cores */
-	nlm_hal_fmn_init(0x10000000, 0x02000000, 50);
-
 	msgrng_access_disable(mflags);
 
 	sched_bindto_restore_affinity(&cpumask);
 }
 
+
 int initialize_nae(uint32_t cm0, uint32_t cm1, uint32_t cm2, uint32_t cm3)
 {
 	int dom_id = 0;
-- 
1.7.1

