From cce3fe81f09cb1b1e19da769df8ec8f85c6c0ed0 Mon Sep 17 00:00:00 2001
From: Hareesh R <hareeshr@broadcom.com>
Date: Thu, 15 Mar 2012 23:50:54 +0530
Subject: NAE owner field to fix the amp loading issue

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp3xx-helinux.dts b/arch/mips/boot/dts/xlp3xx-helinux.dts
index b4b8f46..74a3b70 100644
--- a/arch/mips/boot/dts/xlp3xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp3xx-helinux.dts
@@ -93,7 +93,9 @@
 			app-param{
 				onlinemask = <0xffff>;
 			};
-
+			nae{
+				owner = <1>;
+			};
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
                                 node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
diff --git a/arch/mips/boot/dts/xlp3xx-netos.dts b/arch/mips/boot/dts/xlp3xx-netos.dts
index d7de5cf..5c57145 100644
--- a/arch/mips/boot/dts/xlp3xx-netos.dts
+++ b/arch/mips/boot/dts/xlp3xx-netos.dts
@@ -65,6 +65,9 @@
 			app-param{
                                 onlinemask = <0xffff>;
                         };
+			nae{
+				owner = <1>;
+			};
 			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
diff --git a/arch/mips/boot/dts/xlp4xx-netos.dts b/arch/mips/boot/dts/xlp4xx-netos.dts
index 2988a48..9260682 100644
--- a/arch/mips/boot/dts/xlp4xx-netos.dts
+++ b/arch/mips/boot/dts/xlp4xx-netos.dts
@@ -64,7 +64,9 @@
 			app-param{
                                 onlinemask = <0xffff>;
                         };
-
+			nae{
+				owner = <1>;
+			};
 			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
diff --git a/arch/mips/boot/dts/xlp8xx-netos.dts b/arch/mips/boot/dts/xlp8xx-netos.dts
index 6aa1099..8d7c531 100644
--- a/arch/mips/boot/dts/xlp8xx-netos.dts
+++ b/arch/mips/boot/dts/xlp8xx-netos.dts
@@ -64,7 +64,9 @@
 			app-param{
                                 onlinemask = <0xffffffff>;
                         };
-
+			nae{
+				owner = <1>;
+			};
 			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-- 
1.7.1

