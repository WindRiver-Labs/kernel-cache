From 2feefd6c460a86e16004f12c04caf4d5a897417b Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Fri, 30 Sep 2011 16:07:18 -0700
Subject: [PATCH 421/762] Fix compile error: SPIN_LOCK_UNLOCKED deprecated.

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/xlp/xlp_gpio.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/netlogic/xlp/xlp_gpio.c b/arch/mips/netlogic/xlp/xlp_gpio.c
index e37b66b..b8bba19 100644
--- a/arch/mips/netlogic/xlp/xlp_gpio.c
+++ b/arch/mips/netlogic/xlp/xlp_gpio.c
@@ -37,7 +37,7 @@
 #define XLP_GPIO_MAX		41
 #define XLP_GPIO1_BASE		32
 
-spinlock_t xlp_gpio_lock  = SPIN_LOCK_UNLOCKED;
+DEFINE_SPINLOCK(xlp_gpio_lock);
 
 __inline__ int32_t gpio_reg_read(int node, int regidx)
 {
-- 
1.7.0.4

