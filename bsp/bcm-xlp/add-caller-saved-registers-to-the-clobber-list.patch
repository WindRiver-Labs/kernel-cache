From 9f46a70a49547ffe5f774fcead32f6d82bb64532 Mon Sep 17 00:00:00 2001
From: Prasad Boddupalli <pboddupalli@netlogicmicro.com>
Date: Sat, 3 Jul 2010 13:04:04 -0700
Subject: [PATCH 093/761] add caller-saved registers to the clobber list

Based on Broadcom SDK 2.3.

Signed-off-by: Prasad Boddupalli <pboddupalli@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/include/asm/xen/hypercall.h |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/arch/mips/include/asm/xen/hypercall.h b/arch/mips/include/asm/xen/hypercall.h
index ff1df8f..bf87006 100644
--- a/arch/mips/include/asm/xen/hypercall.h
+++ b/arch/mips/include/asm/xen/hypercall.h
@@ -166,7 +166,8 @@ extern struct { unsigned long _entry; } hypercall_page[];
 #define __HYPERCALL_5ARG(a1,a2,a3,a4,a5)				\
 	__HYPERCALL_4ARG(a1,a2,a3,a4)	__arg5 = (unsigned long)(a5);
 
-#define __HYPERCALL_CLOBBER5	"memory", "$31"
+#define __HYPERCALL_CLOBBER5	"memory", "$31", "$3", \
+"$9", "$10", "$11", "$12", "$13", "$14", "$15", "$24", "$25"
 #define __HYPERCALL_CLOBBER4	__HYPERCALL_CLOBBER5, __HYPERCALL_ARG5REG
 #define __HYPERCALL_CLOBBER3	__HYPERCALL_CLOBBER4, __HYPERCALL_ARG4REG
 #define __HYPERCALL_CLOBBER2	__HYPERCALL_CLOBBER3, __HYPERCALL_ARG3REG
-- 
1.7.10.4

