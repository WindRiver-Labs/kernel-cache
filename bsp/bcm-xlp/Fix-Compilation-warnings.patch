From c7e605d5623b9e5142c9f34c15c81e189e606497 Mon Sep 17 00:00:00 2001
From: "P. Sadik" <psadik@broadcom.com>
Date: Wed, 21 Nov 2012 17:27:34 +0530
Subject: [PATCH 629/761] Fix: Compilation warnings

Based on Broadcom SDK 2.3.

Signed-off-by: P. Sadik <psadik@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/include/asm/netlogic/gpio.h |    2 --
 drivers/usb/host/ehci.h               |    3 +--
 drivers/usb/host/pci-quirks.c         |    5 +----
 3 files changed, 2 insertions(+), 8 deletions(-)

diff --git a/arch/mips/include/asm/netlogic/gpio.h b/arch/mips/include/asm/netlogic/gpio.h
index d6b7202..b027ddf 100644
--- a/arch/mips/include/asm/netlogic/gpio.h
+++ b/arch/mips/include/asm/netlogic/gpio.h
@@ -35,7 +35,5 @@ THE POSSIBILITY OF SUCH DAMAGE.
 #define gpio_get_value __gpio_get_value
 #define gpio_set_value __gpio_set_value
 #define gpio_cansleep __gpio_cansleep
-//#define gpio_to_irq(gpio) NULL
-extern int gpio_to_irq(unsigned gpio);
 #endif
 #endif
diff --git a/drivers/usb/host/ehci.h b/drivers/usb/host/ehci.h
index 0d7a5b1..bb55232 100644
--- a/drivers/usb/host/ehci.h
+++ b/drivers/usb/host/ehci.h
@@ -644,8 +644,7 @@ ehci_port_speed(struct ehci_hcd *ehci, unsigned int portsc)
  * In NLM_XLP, USB controller apparently changes endianness : it has the same
  * endianness as the CPU. That explains the following, I hope.
  */
-#if defined(CONFIG_ARM) && defined(CONFIG_ARCH_IXP4XX) ||\
-(defined(CONFIG_NLM_XLP) && defined(CONFIG_USB_EHCI_BIG_ENDIAN_MMIO))
+#if defined(CONFIG_ARM) && defined(CONFIG_ARCH_IXP4XX)
 #define readl_be(addr)		__raw_readl((__force unsigned *)addr)
 #define writel_be(val, addr)	__raw_writel(val, (__force unsigned *)addr)
 #endif
diff --git a/drivers/usb/host/pci-quirks.c b/drivers/usb/host/pci-quirks.c
index 39e9659..1cd0896 100644
--- a/drivers/usb/host/pci-quirks.c
+++ b/drivers/usb/host/pci-quirks.c
@@ -982,7 +982,4 @@ static void __devinit quirk_usb_early_handoff(struct pci_dev *pdev)
 		quirk_usb_handoff_xhci(pdev);
 	pci_disable_device(pdev);
 }
-#ifndef CONFIG_CPU_XLP		/* Commented out. Hangs in netl code */
-DECLARE_PCI_FIXUP_CLASS_FINAL(PCI_ANY_ID, PCI_ANY_ID,
-			PCI_CLASS_SERIAL_USB, 8, quirk_usb_early_handoff);
-#endif
+DECLARE_PCI_FIXUP_FINAL(PCI_ANY_ID, PCI_ANY_ID, quirk_usb_early_handoff);
-- 
1.7.10.4

