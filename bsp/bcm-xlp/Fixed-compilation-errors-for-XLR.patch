From 76ea33fbdcd531eef8714c06f90ee425951400c7 Mon Sep 17 00:00:00 2001
From: Krishnamurthy D V <kmurthy@netlogicmicro.com>
Date: Mon, 21 Jun 2010 12:54:04 +0530
Subject: [PATCH 097/761] Fixed compilation errors for XLR

Based on Broadcom SDK 2.3.

Signed-off-by: Krishnamurthy D V <kmurthy@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/common/smp.c |    3 +++
 arch/mips/netlogic/xlr/irq.c    |    2 ++
 2 files changed, 5 insertions(+)

diff --git a/arch/mips/netlogic/common/smp.c b/arch/mips/netlogic/common/smp.c
index 563ebf3..d5f9ba5 100644
--- a/arch/mips/netlogic/common/smp.c
+++ b/arch/mips/netlogic/common/smp.c
@@ -36,7 +36,10 @@ THE POSSIBILITY OF SUCH DAMAGE.
 #include <asm/netlogic/mips-exts.h>
 #include <asm/netlogic/pic.h>
 #include <asm/netlogic/msgring.h>
+
+#if defined(CONFIG_NLM_XLP)
 #include <asm/netlogic/hal/nlm_hal_pic.h>
+#endif
 
 //#define IPI_PRINTK_DEBUG
 
diff --git a/arch/mips/netlogic/xlr/irq.c b/arch/mips/netlogic/xlr/irq.c
index 0603208..dbf7d01 100644
--- a/arch/mips/netlogic/xlr/irq.c
+++ b/arch/mips/netlogic/xlr/irq.c
@@ -47,7 +47,9 @@ THE POSSIBILITY OF SUCH DAMAGE.
 #include <asm/netlogic/debug.h>
 #include <asm/thread_info.h>
 #include <linux/irq.h>
+#ifdef CONFIG_NLM_XLP
 #include <asm/netlogic/hal/nlm_hal_pic.h>
+#endif
 /*
  * These are the routines that handle all the low level interrupt stuff. 
  * Actions handled here are: initialization of the interrupt map, requesting of
-- 
1.7.10.4

