From d9e447c20d9be1055e16426aac87e418f3ea2a2c Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Thu, 29 Sep 2011 15:55:47 -0700
Subject: [PATCH 382/762] Resolve merge conflict: merge

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/mtd/devices/m25p80.c |   12 +++---------
 1 files changed, 3 insertions(+), 9 deletions(-)

diff --git a/drivers/mtd/devices/m25p80.c b/drivers/mtd/devices/m25p80.c
index 827c447..0960098 100644
--- a/drivers/mtd/devices/m25p80.c
+++ b/drivers/mtd/devices/m25p80.c
@@ -1,11 +1,3 @@
-/***********************************************************************
- * Copyright 2003-2010 Netlogic Microsystems Inc. ("Netlogic").
- * This is a derived work from software originally provided by the external
- * entity identified below. The licensing terms and warranties specified in
- * the header of the original work apply to this derived work.
- *
- * *****************************#NETL_1#********************************/
-
 /*
  * MTD SPI driver for ST M25Pxx (and similar) serial flash chips
  *
@@ -108,7 +100,6 @@ static inline struct m25p *mtd_to_m25p(struct mtd_info *mtd)
 	return container_of(mtd, struct m25p, mtd);
 }
 
-
 /****************************************************************************/
 
 /*
@@ -795,6 +786,7 @@ static struct mtd_partition xlp_spi_parti[] = {
                 .size = MTDPART_SIZ_FULL,
         }
 };
+#ifdef M25P_TEST
 static void m25p_test(struct m25p * flash)
 {
 	int i, j, xfer_len;
@@ -850,6 +842,8 @@ static void m25p_test(struct m25p * flash)
 		}
 	}
 }
+#endif //#ifdef M25P_TEST
+
 #endif
 
 /*
-- 
1.7.0.4

