From d20ad966e884966fc0cfcd7eb23d9e3cfbe5ff73 Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Thu, 29 Sep 2011 14:22:08 -0700
Subject: [PATCH 349/762] Resolve merge conflict: merge

update TASK_SIZE comment, deprecate CONFIG_PERFCTR

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/include/asm/processor.h |   23 +++++++++++++++--------
 1 files changed, 15 insertions(+), 8 deletions(-)

diff --git a/arch/mips/include/asm/processor.h b/arch/mips/include/asm/processor.h
index cf640c6..11baf63 100644
--- a/arch/mips/include/asm/processor.h
+++ b/arch/mips/include/asm/processor.h
@@ -1,3 +1,11 @@
+/***********************************************************************
+Copyright 2003-2010 Netlogic Microsystems Inc. (¡°Netlogic¡±).
+This is a derived work from software originally provided by the external
+entity identified below. The licensing terms and warranties specified in
+the header of the original work apply to this derived work.
+
+*****************************#NETL_1#********************************/
+
 /*
  * This file is subject to the terms and conditions of the GNU General Public
  * License.  See the file "COPYING" in the main directory of this archive
@@ -47,10 +55,11 @@ extern unsigned int vced_count, vcei_count;
 /*
  * User space process size: 2GB. This is hardcoded into a few places,
  * so don't change it unless you know what you are doing.
- *
- * XLP_MERGE_TODO: changed TASK_SIZE from 0x7fff8000UL to 0x7fff8000UL
- * to fix page alignment of initial stack (vm_start) for 64KB pages
  */
+/*
+ * XLP_MERGE_TODO: changed TASK_SIZE from 0x7fff8000UL to 0x7fff0000UL
+ * to fix page alignment of initial stack (vm_start) for 64KB pages
+ * */
 #define TASK_SIZE	0x7fff0000UL
 
 #ifdef __KERNEL__
@@ -68,8 +77,9 @@ extern unsigned int vced_count, vcei_count;
  * is limited to 1TB by the R4000 architecture; R10000 and better can
  * support 16TB; the architectural reserve for future expansion is
  * 8192EB ...
- *
- * XLP_MERGE_TODO: changed TASK_SIZE32 from 0x7fff8000UL to 0x7fff8000UL
+ */
+/*
+ * XLP_MERGE_TODO: changed TASK_SIZE32 from 0x7fff8000UL to 0x7fff0000UL
  * to fix page alignment of initial stack (vm_start) for 64KB pages
  */
 #define TASK_SIZE32	0x7fff0000UL
@@ -234,9 +244,6 @@ struct thread_struct {
 	unsigned long error_code;
 	unsigned long irix_trampoline;  /* Wheee... */
 	unsigned long irix_oldctx;
-#ifdef CONFIG_PERFCTR_VIRTUAL
-	struct vperfctr *perfctr;
-#endif
 #ifdef CONFIG_CPU_CAVIUM_OCTEON
     struct octeon_cop2_state cp2 __attribute__ ((__aligned__(128)));
     struct octeon_cvmseg_state cvmseg __attribute__ ((__aligned__(128)));
-- 
1.7.0.4

