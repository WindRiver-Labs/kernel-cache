From 752cae3d8570b9fb9ac97dd1aa1c7008004d67ba Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Thu, 29 Sep 2011 15:12:10 -0700
Subject: [PATCH 363/762] Resolve merge conflict: pick linux-3.0-stable

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/kernel/time.c |   23 -----------------------
 1 files changed, 0 insertions(+), 23 deletions(-)

diff --git a/arch/mips/kernel/time.c b/arch/mips/kernel/time.c
index fc97a84..99d73b7 100644
--- a/arch/mips/kernel/time.c
+++ b/arch/mips/kernel/time.c
@@ -70,29 +70,6 @@ EXPORT_SYMBOL(perf_irq);
  */
 
 unsigned int mips_hpt_frequency;
-EXPORT_SYMBOL(mips_hpt_frequency);
-
-void __init clocksource_set_clock(struct clocksource *cs, unsigned int clock)
-{
-	u64 temp;
-	u32 shift;
- 	int shift_val;
-#ifdef CONFIG_NLM_COMMON
- 	shift_val=30;
- #else
- 	shift_val=32;
-#endif
-
-	/* Find a shift value */
-	for (shift = shift_val; shift > 0; shift--) {
-		temp = (u64) NSEC_PER_SEC << shift;
-		do_div(temp, clock);
-		if ((temp >> 32) == 0)
-			break;
-	}
-	cs->shift = shift;
-	cs->mult = (u32) temp;
-}
 
 /*
  * This function exists in order to cause an error due to a duplicate
-- 
1.7.0.4

