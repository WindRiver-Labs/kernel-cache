From ba462ee1cc9f7541198e6cb7f69ab41c594164d6 Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Thu, 29 Sep 2011 15:52:13 -0700
Subject: [PATCH 378/762] Resolve merge conflict: merge

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/char/Kconfig  |    2 +-
 drivers/char/Makefile |   22 ++++++++++++++--------
 2 files changed, 15 insertions(+), 9 deletions(-)

diff --git a/drivers/char/Kconfig b/drivers/char/Kconfig
index 95e8fbc..ee90207 100644
--- a/drivers/char/Kconfig
+++ b/drivers/char/Kconfig
@@ -650,7 +650,6 @@ config NLM_XLP_DMA
 
 	    If you want this as a module, choose M here. The driver
 	    will be called nlm_xlp_dma.ko
-endmenu
 
 config RMICDE
 	tristate "RMI Compression/Decompression Engine"
@@ -659,3 +658,4 @@ config RMICDE
 	help
 	  The CDE allows deflate/inflate through hardware
 
+endmenu
diff --git a/drivers/char/Makefile b/drivers/char/Makefile
index cfe9cca..75d25d7 100644
--- a/drivers/char/Makefile
+++ b/drivers/char/Makefile
@@ -56,14 +56,20 @@ obj-$(CONFIG_MWAVE)		+= mwave/
 obj-$(CONFIG_AGP)		+= agp/
 obj-$(CONFIG_PCMCIA)		+= pcmcia/
 obj-$(CONFIG_IPMI_HANDLER)	+= ipmi/
-obj-$(CONFIG_NLM_XLR) 	+= nlm_common_tb.o
-obj-$(CONFIG_XEN)	+= nlm_vuart.o
-obj-$(CONFIG_XEN)	+= nlm_sharedmem.o
-obj-$(CONFIG_NLMCOMMON_PCIX_GEN_DRIVER) += nlm_pcix_gen_dev.o
-obj-$(CONFIG_NLMCOMMON_PCIX_GEN_DRIVER) += nlm_pcix_gen_host.o
-obj-$(CONFIG_NLMCOMMON_CONSOLE_OVER_PCI) += xlr_pcix_console_dev.o
-obj-$(CONFIG_NLMCOMMON_CONSOLE_OVER_PCI) += xlr_pcix_console_host.o
-obj-$(CONFIG_NLM_XLP_DMA)           += nlm_xlp_dma.o
+
+obj-$(CONFIG_NLMCOMMON_UART)	+= nlm_common_uart.o
+obj-$(CONFIG_NLM_COMMON)	+= nlm_common_msgring_debugger.o
+obj-$(CONFIG_NLM_XLR)		+= nlm_xlr_msgring.o
+obj-$(CONFIG_NLMCOMMON_RMIOS_DEBUGGER)	+= nlm_common_rmios_debugger.o
+obj-$(CONFIG_RMICDE)		+= nlm_xlr_cde.o
+obj-$(CONFIG_NLM_XLR)		+= nlm_common_tb.o
+obj-$(CONFIG_XEN)		+= nlm_vuart.o
+obj-$(CONFIG_XEN)		+= nlm_sharedmem.o
+obj-$(CONFIG_NLMCOMMON_PCIX_GEN_DRIVER)	+= nlm_pcix_gen_dev.o
+obj-$(CONFIG_NLMCOMMON_PCIX_GEN_DRIVER)	+= nlm_pcix_gen_host.o
+obj-$(CONFIG_NLMCOMMON_CONSOLE_OVER_PCI)	+= xlr_pcix_console_dev.o
+obj-$(CONFIG_NLMCOMMON_CONSOLE_OVER_PCI)	+= xlr_pcix_console_host.o
+obj-$(CONFIG_NLM_XLP_DMA)	+= nlm_xlp_dma.o
 
 obj-$(CONFIG_HANGCHECK_TIMER)	+= hangcheck-timer.o
 obj-$(CONFIG_TCG_TPM)		+= tpm/
-- 
1.7.0.4

