From 39ef201efd32d05839f38aba86f99407e3e8c733 Mon Sep 17 00:00:00 2001
From: VIRENDRA PATHAK <vpathak@lc-blr-151.ban.broadcom.com>
Date: Sun, 10 Feb 2013 11:22:08 +0530
Subject: [PATCH 684/761] nae : Changed FREE_FIFO_THRESHOLDS_CFG to
 RX_FREE_LIFO_THRESH

Based on Broadcom SDK 2.3.

Signed-off-by: VIRENDRA PATHAK <vpathak@lc-blr-151.ban.broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/include/asm/netlogic/hal/nlm_hal_xlp_dev.h |    2 +-
 arch/mips/netlogic/common/nlm_hal_nae.c              |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/mips/include/asm/netlogic/hal/nlm_hal_xlp_dev.h b/arch/mips/include/asm/netlogic/hal/nlm_hal_xlp_dev.h
index e5ee9a0..391bce2 100644
--- a/arch/mips/include/asm/netlogic/hal/nlm_hal_xlp_dev.h
+++ b/arch/mips/include/asm/netlogic/hal/nlm_hal_xlp_dev.h
@@ -505,7 +505,7 @@ enum net_cfg_regs {
  FREE_SPILL0_MEM_CFG                = 0x2c,
  FREE_SPILL1_MEM_CFG                = 0x2d,
  FREE_FIFO_THRESHOLD_CFG    	    = 0x2e,
- FREE_FIFO_THRESHOLDS_CFG           = 0x87,
+ RX_FREE_LIFO_THRESH                = 0x87,
  FLOW_CRC16_POLY_CFG                = 0x2f,
  DMA_TX_CREDIT_TH                   = 0x29,
  STG1_STG2CRDT_CMD                  = 0x30,
diff --git a/arch/mips/netlogic/common/nlm_hal_nae.c b/arch/mips/netlogic/common/nlm_hal_nae.c
index 747444b..cc06735 100644
--- a/arch/mips/netlogic/common/nlm_hal_nae.c
+++ b/arch/mips/netlogic/common/nlm_hal_nae.c
@@ -3114,10 +3114,10 @@ int nlm_hal_set_sgmii_framesize(int node, int block, int index, uint32_t size)
 void nlm_hal_set_parser_seq_threshold(int node, uint32_t thr)
 {
 	uint32_t val;
-	val = nlm_hal_read_nae_reg(node, FREE_FIFO_THRESHOLDS_CFG);
+	val = nlm_hal_read_nae_reg(node, RX_FREE_LIFO_THRESH);
 	val = val & (~0xff);
 	val = val | (thr & 0xff);
-	nlm_hal_write_nae_reg(node, FREE_FIFO_THRESHOLDS_CFG, val);
+	nlm_hal_write_nae_reg(node, RX_FREE_LIFO_THRESH, val);
 	NAE_DEBUG("%s , node %d thr %d\n", __FUNCTION__, node, thr);
 }
 
-- 
1.7.10.4

