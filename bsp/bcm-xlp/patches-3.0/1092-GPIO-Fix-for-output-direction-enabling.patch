From 450101acb30f12088abb35c0e2a0a72268c9d213 Mon Sep 17 00:00:00 2001
From: Ganesan Ramalingam <ganesanr@broadcom.com>
Date: Tue, 21 Jan 2014 20:45:02 +0530
Subject: [PATCH 092/163] GPIO: Fix for output direction enabling

xlp_gpio_dir_output function getting zero as the value in state
variable always, writing the same to reg will not enable the output,
so writing one to output enable reg in xlp_gpio_dir_output function.

Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 drivers/gpio/gpio-xlp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpio/gpio-xlp.c b/drivers/gpio/gpio-xlp.c
index 967b8a4..6a8b40d 100644
--- a/drivers/gpio/gpio-xlp.c
+++ b/drivers/gpio/gpio-xlp.c
@@ -232,7 +232,7 @@ static int xlp_gpio_dir_output(struct gpio_chip *gc, unsigned gpio, int state)
 	struct xlp_gpio_priv *priv = platform_get_drvdata(pdev);
 
 	BUG_ON(gpio >= gc->ngpio);
-	xlp_gpio_set_reg(priv, priv->gpio_output_enbl, gpio, state);
+	xlp_gpio_set_reg(priv, priv->gpio_output_enbl, gpio, 1);
 	return 0;
 }
 
-- 
1.7.9.5

