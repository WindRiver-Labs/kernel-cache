From fc281198f08f25cc79a99bddebec181526fb8b8a Mon Sep 17 00:00:00 2001
From: Jack Tan <jack.tan@windriver.com>
Date: Tue, 18 Mar 2014 11:56:31 +0800
Subject: [PATCH] bcm-xlp: fixed compiling error

Exporting needed symbols whem configing the 'cmem' and 'nmiprof' to
modules

Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/kernel/smp.c         |    1 +
 arch/mips/netlogic/xlp/setup.c |    1 +
 2 files changed, 2 insertions(+)

diff --git a/arch/mips/kernel/smp.c b/arch/mips/kernel/smp.c
index 6e7862a..4525c44 100644
--- a/arch/mips/kernel/smp.c
+++ b/arch/mips/kernel/smp.c
@@ -327,6 +327,7 @@ void flush_tlb_range(struct vm_area_struct *vma, unsigned long start, unsigned l
 	local_flush_tlb_range(vma, start, end);
 	preempt_enable();
 }
+EXPORT_SYMBOL(flush_tlb_range);
 
 static void flush_tlb_kernel_range_ipi(void *info)
 {
diff --git a/arch/mips/netlogic/xlp/setup.c b/arch/mips/netlogic/xlp/setup.c
index c4e1e6b..f28c0d1 100644
--- a/arch/mips/netlogic/xlp/setup.c
+++ b/arch/mips/netlogic/xlp/setup.c
@@ -60,6 +60,7 @@ unsigned int nlm_threads_per_core;
 unsigned int xlp_cores_per_node;
 int is_nlm_guest_os = 0;
 EXPORT_SYMBOL(is_nlm_guest_os);
+EXPORT_SYMBOL(nlm_io_base);
 
 DEFINE_PER_CPU(unsigned long [NR_ADDR_SEGMENTS], pgd_bases);
 static int enable_pgwalker = 0;
-- 
1.7.9.5

