From 90f4dec2b65780a80e99587459470a959c87aa04 Mon Sep 17 00:00:00 2001
From: Jack Tan <jack.tan@windriver.com>
Date: Thu, 13 Feb 2014 16:31:39 +0800
Subject: [PATCH 22/58] bcm-xlp2: compile error fixup

Based on SDK 3.0 (2013-10-29)

Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/include/asm/netlogic/xlp-hal/pic.h |    2 ++
 arch/mips/netlogic/xlp/setup.c               |    2 ++
 2 files changed, 4 insertions(+)

diff --git a/arch/mips/include/asm/netlogic/xlp-hal/pic.h b/arch/mips/include/asm/netlogic/xlp-hal/pic.h
index dd10d89..1843b64 100644
--- a/arch/mips/include/asm/netlogic/xlp-hal/pic.h
+++ b/arch/mips/include/asm/netlogic/xlp-hal/pic.h
@@ -35,6 +35,8 @@
 #ifndef _NLM_HAL_PIC_H
 #define _NLM_HAL_PIC_H
 
+#include <asm/netlogic/xlp-hal/xlp.h>
+
 /* PIC Specific registers */
 #define PIC_CTRL                0x00
 
diff --git a/arch/mips/netlogic/xlp/setup.c b/arch/mips/netlogic/xlp/setup.c
index c6aaa33..316b509 100644
--- a/arch/mips/netlogic/xlp/setup.c
+++ b/arch/mips/netlogic/xlp/setup.c
@@ -70,6 +70,8 @@ static int __init enable_pgwalker_cmdline(char *str)
 }
 __setup("enable_pgwalker", enable_pgwalker_cmdline);
 
+extern void (*cpu_wait)(void);
+
 static void nlm_linux_exit(void)
 {
 	uint64_t sysbase = nlm_get_node(0)->sysbase;
-- 
1.7.9.5

