From cbb646574ad7b67ad6e468fa5d31b1204323608f Mon Sep 17 00:00:00 2001
From: Jack Tan <jack.tan@windriver.com>
Date: Wed, 12 Feb 2014 16:40:36 +0800
Subject: [PATCH 07/58] bcm-xlp2: use the dedicated function of IO

These functions is defined in arch/mips/netlogic/common/io.c

Based on SDK 3.0 (2013-10-29)

Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/include/asm/io.h |    6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/arch/mips/include/asm/io.h b/arch/mips/include/asm/io.h
index b84e1fb..8831fd9 100644
--- a/arch/mips/include/asm/io.h
+++ b/arch/mips/include/asm/io.h
@@ -546,6 +546,11 @@ BUILDSTRING(q, u64)
 #define mmiowb() asm volatile ("sync" ::: "memory")
 #endif
 
+#if defined(CONFIG_CPU_XLP) || defined(CONFIG_CPU_XLR)
+extern void memcpy_fromio(void *dst, const volatile void __iomem *src, long count);
+extern void memcpy_toio(volatile void __iomem *dst, const void *src, long count);
+extern void memset_io(volatile void __iomem *addr, int c, long count);
+#else
 static inline void memset_io(volatile void __iomem *addr, unsigned char val, int count)
 {
 	memset((void __force *) addr, val, count);
@@ -558,6 +563,7 @@ static inline void memcpy_toio(volatile void __iomem *dst, const void *src, int
 {
 	memcpy((void __force *) dst, src, count);
 }
+#endif
 
 /*
  * The caches on some architectures aren't dma-coherent and have need to
-- 
1.7.9.5

