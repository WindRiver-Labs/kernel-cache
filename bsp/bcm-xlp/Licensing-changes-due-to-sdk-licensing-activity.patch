From 76a91b0abff20172e94037e6458a6de4530882df Mon Sep 17 00:00:00 2001
From: Sreenidhi BR <sreenira@broadcom.com>
Date: Wed, 5 Dec 2012 13:35:20 +0530
Subject: [PATCH 638/761] Licensing: changes due to sdk licensing activity

- Makefile changes required due to dependent changes in HAL
- exported few symbols which are required by hal module

Based on Broadcom SDK 2.3.

Signed-off-by: Sreenidhi BR <sreenira@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/boot/fdt.c          |    6 ++++++
 arch/mips/netlogic/boot/fdt_ro.c       |    7 +++++++
 arch/mips/netlogic/boot/fdt_strerror.c |    6 ++++++
 3 files changed, 19 insertions(+)

diff --git a/arch/mips/netlogic/boot/fdt.c b/arch/mips/netlogic/boot/fdt.c
index 3d7dc7c..3dbcf63 100644
--- a/arch/mips/netlogic/boot/fdt.c
+++ b/arch/mips/netlogic/boot/fdt.c
@@ -200,3 +200,9 @@ int fdt_move(const void *fdt, void *buf, int bufsize)
 	memcpy(buf, fdt, fdt_totalsize(fdt));
 	return 0;
 }
+
+#ifdef NLM_HAL_LINUX_KERNEL
+#include <linux/types.h>
+#include <linux/module.h>
+EXPORT_SYMBOL(fdt_check_header);
+#endif
diff --git a/arch/mips/netlogic/boot/fdt_ro.c b/arch/mips/netlogic/boot/fdt_ro.c
index 22e6929..d52ef6f 100644
--- a/arch/mips/netlogic/boot/fdt_ro.c
+++ b/arch/mips/netlogic/boot/fdt_ro.c
@@ -467,3 +467,10 @@ int fdt_node_offset_by_compatible(const void *fdt, int startoffset,
 
 	return offset; /* error from fdt_next_node() */
 }
+
+#ifdef NLM_HAL_LINUX_KERNEL
+#include <linux/types.h>
+#include <linux/module.h>
+EXPORT_SYMBOL(fdt_path_offset);
+EXPORT_SYMBOL(fdt_getprop);
+#endif
diff --git a/arch/mips/netlogic/boot/fdt_strerror.c b/arch/mips/netlogic/boot/fdt_strerror.c
index e6c3cee..6f10e8a 100644
--- a/arch/mips/netlogic/boot/fdt_strerror.c
+++ b/arch/mips/netlogic/boot/fdt_strerror.c
@@ -94,3 +94,9 @@ const char *fdt_strerror(int errval)
 
 	return "<unknown error>";
 }
+
+#ifdef NLM_HAL_LINUX_KERNEL
+#include <linux/types.h>
+#include <linux/module.h>
+EXPORT_SYMBOL(fdt_strerror);
+#endif
-- 
1.7.10.4

