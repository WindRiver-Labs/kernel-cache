From 513725c5482dda52fb4d604d3de0d47463799b72 Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Thu, 29 Sep 2011 16:18:41 -0700
Subject: [PATCH 400/762] Resolve merge conflict: pick linux-3.0-stable

deprecate CONFIG_PERFCTR

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 kernel/exit.c  |   15 ---------------
 kernel/timer.c |   12 ------------
 2 files changed, 0 insertions(+), 27 deletions(-)

diff --git a/kernel/exit.c b/kernel/exit.c
index 3e19d3d..e765d98 100644
--- a/kernel/exit.c
+++ b/kernel/exit.c
@@ -1,11 +1,3 @@
-/***********************************************************************
-Copyright 2003-2010 Netlogic Microsystems Inc. (“Netlogic”).
-This is a derived work from software originally provided by the external
-entity identified below. The licensing terms and warranties specified in
-the header of the original work apply to this derived work.
-
-*****************************#NETL_1#********************************/
-
 /*
  *  linux/kernel/exit.c
  *
@@ -62,10 +54,6 @@ the header of the original work apply to this derived work.
 #include <linux/writeback.h>
 #include <linux/shm.h>
 
-#ifdef CONFIG_PERFCTR
-#include <linux/perfctr.h>
-#endif
-
 #include <asm/uaccess.h>
 #include <asm/unistd.h>
 #include <asm/pgtable.h>
@@ -214,9 +202,6 @@ repeat:
 
 	msa_update_parent(p->parent, p);
 
-#ifdef CONFIG_PERFCTR
-    perfctr_release_task(p);
-#endif
 	write_unlock_irq(&tasklist_lock);
 	release_thread(p);
 	call_rcu(&p->rcu, delayed_put_task_struct);
diff --git a/kernel/timer.c b/kernel/timer.c
index 8679934..53e4c66 100644
--- a/kernel/timer.c
+++ b/kernel/timer.c
@@ -1,10 +1,3 @@
-/***********************************************************************
-Copyright 2003-2010 Netlogic Microsystems Inc. (“Netlogic”).
-This is a derived work from software originally provided by the external
-entity identified below. The licensing terms and warranties specified in
-the header of the original work apply to this derived work.
-
-*****************************#NETL_1#********************************/
 /*
  *  linux/kernel/timer.c
  *
@@ -49,11 +42,6 @@ the header of the original work apply to this derived work.
 #include <linux/slab.h>
 #include <trace/timer.h>
 
-#ifdef CONFIG_PERFCTR
-#include <linux/perfctr.h>
-#include <linux/syscalls.h>
-#endif
-
 #include <asm/uaccess.h>
 #include <asm/unistd.h>
 #include <asm/div64.h>
-- 
1.7.0.4

