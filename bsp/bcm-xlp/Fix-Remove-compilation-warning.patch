From 2d766cc82b7314929c2f8e6b9243d59432514606 Mon Sep 17 00:00:00 2001
From: "P. Sadik" <psadik@broadcom.com>
Date: Tue, 27 Nov 2012 17:53:56 +0530
Subject: [PATCH 635/761] Fix: Remove compilation warning.

Based on Broadcom SDK 2.3.

Signed-off-by: P. Sadik <psadik@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/netlogic/xlp/setup.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/arch/mips/netlogic/xlp/setup.c b/arch/mips/netlogic/xlp/setup.c
index a130f6b..1baaebe 100644
--- a/arch/mips/netlogic/xlp/setup.c
+++ b/arch/mips/netlogic/xlp/setup.c
@@ -1190,20 +1190,19 @@ static int __init initrd_setup(char *str)
 		goto fail;
 	}
 	initrd_end = initrd_start + initrd_size;
-	printk("Found initrd of %lx@%lx\n", initrd_size, initrd_start);
-	return 1;
+	return 0;
 	fail:
 	printk("Bad initrd argument.  Disabling initrd\n");
 	initrd_start = 0;
 	initrd_end = 0;
-	return 1;
+	return -1;
 }
 #endif
 
 /*
  * Init routine which accepts the variables from u-boot
  */
-void parse_cmdline(void)
+void  __init parse_cmdline(void)
 {
 	char *ptr;
 	/* Need to find out early whether we've got an initrd.  So scan
-- 
1.7.10.4

