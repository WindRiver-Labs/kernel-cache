From fc3cabf85875a0fe899335fd69b90e66219aa918 Mon Sep 17 00:00:00 2001
From: Ashok Kumar <ashoks@broadcom.com>
Date: Wed, 20 Mar 2013 11:35:51 +0530
Subject: [PATCH 553/565] tick: xlp: enable skew_tick by default

Make skew_tick enabled by default as our nae_app depends on it.
Based on Broadcom SDK 2.3.

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/boot/dts/master-mn4xlp8xx-linux.dts | 2 +-
 arch/mips/boot/dts/master-mnxlp8xx-linux.dts  | 2 +-
 arch/mips/boot/dts/xlp2xx-linux.dts           | 2 +-
 arch/mips/boot/dts/xlp8xx-helinux-nat.dts     | 2 +-
 arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts | 2 +-
 arch/mips/boot/dts/xlp8xx-helinux.dts         | 2 +-
 arch/mips/boot/dts/xlp_evp.dts                | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/arch/mips/boot/dts/master-mn4xlp8xx-linux.dts b/arch/mips/boot/dts/master-mn4xlp8xx-linux.dts
index ae03080..55649d6 100644
--- a/arch/mips/boot/dts/master-mn4xlp8xx-linux.dts
+++ b/arch/mips/boot/dts/master-mn4xlp8xx-linux.dts
@@ -75,7 +75,7 @@
 	};
 
 	chosen {
-		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth2:off console=ttyS0,115200";
+		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth2:off console=ttyS0,115200 skew_tick=1";
 	};
 
 	/* These binaries are downloaded at the resp physical memory locations
diff --git a/arch/mips/boot/dts/master-mnxlp8xx-linux.dts b/arch/mips/boot/dts/master-mnxlp8xx-linux.dts
index 70e83c6..09253ab 100644
--- a/arch/mips/boot/dts/master-mnxlp8xx-linux.dts
+++ b/arch/mips/boot/dts/master-mnxlp8xx-linux.dts
@@ -75,7 +75,7 @@
 	};
 
 	chosen {
-		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth2:off console=ttyS0,115200";
+		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth2:off console=ttyS0,115200 skew_tick=1";
 	};
 
 	/* These binaries are downloaded at the resp physical memory locations
diff --git a/arch/mips/boot/dts/xlp2xx-linux.dts b/arch/mips/boot/dts/xlp2xx-linux.dts
index aef1a23..799721b 100755
--- a/arch/mips/boot/dts/xlp2xx-linux.dts
+++ b/arch/mips/boot/dts/xlp2xx-linux.dts
@@ -75,7 +75,7 @@
 		bootargs = " console=ttyS0,115200  rhash_entries=1048576";
 		bootargs = "ramdisk=204800 rd_start=0xffffffff88000000 rd_size=0x01000000 root=/dev/ram rw console=ttyS0,115200";
 */
-		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/nfsroot/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth0:off console=ttyS0,115200";
+		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/nfsroot/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth0:off console=ttyS0,115200 skew_tick=1";
 	};
 
 	firmware-download {
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-nat.dts b/arch/mips/boot/dts/xlp8xx-helinux-nat.dts
index b785ed1..4cde5ee 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-nat.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-nat.dts
@@ -120,7 +120,7 @@
 	};
 
 	chosen {
-		bootargs = " console=ttyS0,115200 ";
+		bootargs = " console=ttyS0,115200 skew_tick=1";
 	};
 
 	firmware-download {
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts b/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
index 3cf7953..81866b1 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
@@ -98,7 +98,7 @@
 	};
 
 	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 autoboot_pciedrv";
+		bootargs = "xlp_noi2c console=ttyS0,115200 autoboot_pciedrv skew_tick=1";
 	};
 
 	soc {
diff --git a/arch/mips/boot/dts/xlp8xx-helinux.dts b/arch/mips/boot/dts/xlp8xx-helinux.dts
index 51762ca..4ebccc4 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux.dts
@@ -180,7 +180,7 @@
 	};
 
 	chosen {
-		bootargs = " console=ttyS0,115200  ";
+		bootargs = " console=ttyS0,115200  skew_tick=1";
 	};
 
 	firmware-download {
diff --git a/arch/mips/boot/dts/xlp_evp.dts b/arch/mips/boot/dts/xlp_evp.dts
index de3c0e3..1c60189 100644
--- a/arch/mips/boot/dts/xlp_evp.dts
+++ b/arch/mips/boot/dts/xlp_evp.dts
@@ -81,7 +81,7 @@
 /*
 		bootargs = "ramdisk=204800 rd_start=0xffffffff88000000 rd_size=0x01000000 root=/dev/ram rw console=ttyS0,115200 mem=2048m@8192m";
 */
-		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth2:off console=ttyS0,115200";
+		bootargs = "root=/dev/nfs rw nfsroot=192.168.0.1:/rootfs,nfsvers=3 ip=192.168.0.2:192.168.0.1:192.168.0.1:255.255.254.0:xlp:eth2:off console=ttyS0,115200 skew_tick=1";
 	};
 
 	firmware-download {
-- 
1.8.4.93.g57e4c17

