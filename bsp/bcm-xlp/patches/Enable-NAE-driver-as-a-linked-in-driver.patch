From f5de047ff5b97913f30e0975928c700a0f9ce2ad Mon Sep 17 00:00:00 2001
From: Venu Vadapalli <vvadapalli@netlogicmicro.com>
Date: Fri, 22 Oct 2010 17:57:17 -0700
Subject: [PATCH 163/565] Enable NAE driver as a linked-in driver

Enable NAE driver as a linked-in driver.

Based on Broadcom SDK 2.3.

Signed-off-by: Venu Vadapalli <vvadapalli@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/Makefile | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/drivers/net/Makefile b/drivers/net/Makefile
index ef3d090..27a9e8b 100644
--- a/drivers/net/Makefile
+++ b/drivers/net/Makefile
@@ -2,6 +2,17 @@
 # Makefile for the Linux network device drivers.
 #
 
+
+obj-$(CONFIG_NLMCOMMON_SPI4) += nlm_spi4/
+obj-$(CONFIG_NLM_XLP) += xlp_nae/
+#obj-$(CONFIG_NLMCOMMON_MAC) += xlr_mac.o xlr_user_mac.o xlr_rmik.o
+obj-$(CONFIG_NLMCOMMON_MAC) += xlr_mac.o xlr_user_mac.o
+CFLAGS_nlm_common_rmik.o = -I$(srctree)/arch/mips/include/asm/netlogic
+obj-$(CONFIG_NLMCOMMON_IP_OVER_PCI) += xlr_ip_over_pci_dev.o
+obj-$(CONFIG_NLMCOMMON_IP_OVER_PCI) += xlr_ip_over_pci_host.o
+obj-$(CONFIG_NLMCOMMON_BOOT_OVER_PCI) += xlr_pcix_boot.o
+#obj-$(CONFIG_NLM_VNET) += nlm_vnet.o
+CFLAGS_nlm_vnet.o = -I$(srctree)/arch/mips/include/asm/netlogic
 #
 # Networking Core Drivers
 #
@@ -16,7 +27,11 @@ obj-$(CONFIG_MDIO) += mdio.o
 obj-$(CONFIG_NET) += Space.o loopback.o
 obj-$(CONFIG_NETCONSOLE) += netconsole.o
 obj-$(CONFIG_PHYLIB) += phy/
+ifdef CONFIG_NLM_COMMON
+obj-$(CONFIG_RIONET) += nlm_rionet.o
+else
 obj-$(CONFIG_RIONET) += rionet.o
+endif
 obj-$(CONFIG_NET_TEAM) += team/
 obj-$(CONFIG_TUN) += tun.o
 obj-$(CONFIG_VETH) += veth.o
-- 
1.8.4.93.g57e4c17

