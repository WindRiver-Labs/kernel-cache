From 322a236ba33c41464684f059537d18067d3c80cb Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Thu, 5 Jan 2012 18:42:11 -0800
Subject: [PATCH 321/565] xlpmmc.c: Fix compile error

xlpmmc.c: Fix compile error

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/mmc/host/xlpmmc.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/mmc/host/xlpmmc.c b/drivers/mmc/host/xlpmmc.c
index 529bd47..642fd4d 100644
--- a/drivers/mmc/host/xlpmmc.c
+++ b/drivers/mmc/host/xlpmmc.c
@@ -806,11 +806,11 @@ static int __devinit xlpmmc_probe(struct platform_device *pdev)
         gpio_regwrite(0, XLP_GPIO_INT_POLAR0, gpio_regread(0, XLP_GPIO_INT_POLAR0) | 0x20000000);
         gpio_regwrite(0, XLP_GPIO_INT_TYPE0, gpio_regread(0, XLP_GPIO_INT_TYPE0) | 0x20000000);
         
-        ret = request_irq(xlp_irt_to_irq(XLP_GPIO_INT0_IRT), xlpmmc_det_irq,
+        ret = request_irq(xlp_pic_irt_to_irq(XLP_GPIO_INT0_IRT), xlpmmc_det_irq,
                 IRQF_SHARED, "mmc-gpio", host);
         if (ret) {
                 dev_warn(&pdev->dev, "request MMC detect irq failed\n");
-                free_irq(xlp_irt_to_irq(XLP_GPIO_INT0_IRT), host);
+                free_irq(xlp_pic_irt_to_irq(XLP_GPIO_INT0_IRT), host);
         }
                                                                    
         if (gpio_is_valid(GPIO_MMC_DETECT)) {
@@ -863,7 +863,7 @@ out6:
         if (gpio_is_valid(GPIO_MMC_DETECT)) {
                 gpio_free(GPIO_MMC_DETECT);
         }
-	free_irq(xlp_irt_to_irq(XLP_GPIO_INT0_IRT), host);
+	free_irq(xlp_pic_irt_to_irq(XLP_GPIO_INT0_IRT), host);
 	free_irq(host->irq, host);
 out3:
 	iounmap((void *)host->base);
@@ -888,7 +888,7 @@ static int __devexit xlpmmc_remove(struct platform_device *pdev)
                         gpio_free(GPIO_MMC_DETECT);
                 }
 		
-		free_irq(xlp_irt_to_irq(XLP_GPIO_INT0_IRT), host);
+		free_irq(xlp_pic_irt_to_irq(XLP_GPIO_INT0_IRT), host);
 		free_irq(host->irq, host);
 		iounmap((void *)host->base);
 		release_resource(host->ioarea);
-- 
1.8.4.93.g57e4c17

