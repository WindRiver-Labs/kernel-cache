From c97983070b5eaf1af54abda77651c5b24a76c1b7 Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthi.annadurai@broadcom.com>
Date: Thu, 19 Jul 2012 13:03:19 +0530
Subject: [PATCH 357/565] bcm-xlp: XLP base port: Add gcc option

XLP base port: Add option -Wno-error=unused-but-set-variable
if the compiler supports it. GCC461 supports this option and GCC445 does not.

Based on Broadcom SDK 2.3.

Signed-off-by: Jayanthi A <jayanthi.annadurai@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/Makefile | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/mips/Makefile b/arch/mips/Makefile
index fab7604..acc103d 100644
--- a/arch/mips/Makefile
+++ b/arch/mips/Makefile
@@ -292,6 +292,9 @@ vmlinux.32: vmlinux
 
 #obj-$(CONFIG_KPROBES)		+= kprobes.o
 
+# gcc461 supports the below option, gcc445 does not
+cflags-$(CONFIG_CPU_XLP)    += $(call cc-option,-Wno-error=unused-but-set-variable)
+
 #
 # The 64-bit ELF tools are pretty broken so at this time we generate 64-bit
 # ELF files from 32-bit files by conversion.
-- 
1.8.4.93.g57e4c17

