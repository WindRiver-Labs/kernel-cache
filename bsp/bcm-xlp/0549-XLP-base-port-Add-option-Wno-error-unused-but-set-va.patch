From cb8184e5c3625d9c0b930cd0487f541b2671936c Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthi.annadurai@broadcom.com>
Date: Thu, 19 Jul 2012 13:03:19 +0530
Subject: [PATCH 549/762] XLP base port: Add option -Wno-error=unused-but-set-variable if the compiler supports it

- gcc461 supports this option and gcc445 does not

Based on Broadcom SDK 2.3.

Signed-off-by: Jayanthi A <jayanthi.annadurai@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/Makefile |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/mips/Makefile b/arch/mips/Makefile
index 5f43626..7579cd1 100644
--- a/arch/mips/Makefile
+++ b/arch/mips/Makefile
@@ -293,6 +293,9 @@ vmlinux.32: vmlinux
 
 #obj-$(CONFIG_KPROBES)		+= kprobes.o
 
+# gcc461 supports the below option, gcc445 does not
+cflags-$(CONFIG_CPU_XLP)    += $(call cc-option,-Wno-error=unused-but-set-variable)
+
 #
 # The 64-bit ELF tools are pretty broken so at this time we generate 64-bit
 # ELF files from 32-bit files by conversion.
-- 
1.7.0.4

