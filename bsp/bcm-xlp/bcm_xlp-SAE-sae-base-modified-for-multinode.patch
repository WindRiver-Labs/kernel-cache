From 2f1c6396d4e06e191fb7d16eac91f47087b2dcce Mon Sep 17 00:00:00 2001
From: reshmic <reshmic@broadcom.com>
Date: Thu, 29 Mar 2012 14:48:12 +0530
Subject: [PATCH 728/761] bcm_xlp: SAE: sae base modified for multinode

Based on Broadcom SDK 2.3.

Signed-off-by: reshmic <reshmic@broadcom.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/crypto/sae/nlmcrypto.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/drivers/crypto/sae/nlmcrypto.h b/drivers/crypto/sae/nlmcrypto.h
index 57e50ad..2c395b8 100644
--- a/drivers/crypto/sae/nlmcrypto.h
+++ b/drivers/crypto/sae/nlmcrypto.h
@@ -750,8 +750,10 @@ static inline int crypto_get_lbc64(unsigned long long x)
 
 #define SAE_ERROR(etype, msg0, msg1) (etype == 1 ? CRYPTO_ERROR(msg1) : RSA_ERROR(msg0))
 
+#define NLM_MAX_NODES           4
+
 extern unsigned long xlp_rsa_base;
-extern unsigned long xlp_sae_base;
+extern unsigned long xlp_sae_base[NLM_MAX_NODES];
 int nlm_crypto_lib_init(void);
 int nlm_crypto_lib_finish(void);
 nlm_crypto_ctx_t *nlm_crypto_open_sync_session(int sync_mode, int cpu, void *arg);
-- 
1.7.10.4

