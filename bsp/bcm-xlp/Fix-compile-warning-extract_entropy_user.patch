From fed68220ee2f9b106104dace3e903860b77aec9d Mon Sep 17 00:00:00 2001
From: Zi Shen Lim <zlim@netlogicmicro.com>
Date: Fri, 30 Sep 2011 19:48:25 -0700
Subject: [PATCH 425/761] Fix compile warning: extract_entropy_user

Based on Broadcom SDK 2.3.

Signed-off-by: Zi Shen Lim <zlim@netlogicmicro.com>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/char/random.c |    2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/char/random.c b/drivers/char/random.c
index 967c8d1..44b5948 100644
--- a/drivers/char/random.c
+++ b/drivers/char/random.c
@@ -1061,6 +1061,7 @@ static ssize_t extract_entropy(struct entropy_store *r, void *buf,
 	return ret;
 }
 
+#if !(defined(CONFIG_NLM_COMMON) && defined(CONFIG_HW_RANDOM))
 static ssize_t extract_entropy_user(struct entropy_store *r, void __user *buf,
 				    size_t nbytes)
 {
@@ -1098,6 +1099,7 @@ static ssize_t extract_entropy_user(struct entropy_store *r, void __user *buf,
 
 	return ret;
 }
+#endif
 
 /*
  * This function is the exported kernel interface.  It returns some
-- 
1.7.10.4

