From b39226e06ecd7f2af77ce794e93ff76b5a8b8db8 Mon Sep 17 00:00:00 2001
From: Dmitri Epshtein <dima@marvell.com>
Date: Wed, 26 Jun 2013 17:34:24 -0400
Subject: [PATCH 0741/1825] PPv2: Cleanup code from NETA and Legacy driver

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 830f01102e226f64d5cd85685819cd01b9930dd0

Change-Id: I1f8da97375f96ab90f719eabc9c3ea80fd8b7e89
Reviewed-on: http://vgitil04.il.marvell.com:8080/2364
Reviewed-by: Star_Automation <star@marvell.com>
Reviewed-by: Uri Eliyahu <uriel@marvell.com>
Reviewed-by: Igor Patrik <igorp@marvell.com>
Tested-by: Igor Patrik <igorp@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/Makefile                    |   33 -----
 arch/arm/mach-avantalp/config/mvRules.mk           |   52 ++------
 arch/arm/mach-avantalp/core.c                      |   38 ++----
 arch/arm/mach-avantalp/mv_hal_if/mvSysNeta.c       |  150 --------------------
 arch/arm/mach-avantalp/mv_hal_if/mvSysNetaApi.h    |   71 ---------
 arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Kconfig |   11 --
 6 files changed, 22 insertions(+), 333 deletions(-)
 delete mode 100644 arch/arm/mach-avantalp/mv_hal_if/mvSysNeta.c
 delete mode 100644 arch/arm/mach-avantalp/mv_hal_if/mvSysNetaApi.h

diff --git a/arch/arm/mach-avantalp/Makefile b/arch/arm/mach-avantalp/Makefile
index 1751fe0..08fc480 100644
--- a/arch/arm/mach-avantalp/Makefile
+++ b/arch/arm/mach-avantalp/Makefile
@@ -68,25 +68,6 @@ avantalp-$(CONFIG_MV_INCLUDE_USB) 	+= $(HAL_USB_DIR)/mvUsb.o $(HAL_USB_DIR)/mvUs
 					   $(HAL_IF_DIR)/mvSysUsb.o
 avantalp-$(CONFIG_MV_INCLUDE_ETH_PHY)	+= $(HAL_ETHPHY_DIR)/mvEthPhy.o $(HAL_IF_DIR)/mvSysEthPhy.o
 
-# Legacy Giga driver
-ifeq ($(CONFIG_MV_ETH_LEGACY),y)
-avantalp-$(CONFIG_MV_ETH_LEGACY)	+= $(HAL_ETH_GBE_DIR)/mvEth.o $(HAL_ETH_GBE_DIR)/mvEthDebug.o \
-					   $(HAL_ETH_GBE_DIR)/mvEthAddrDec.o $(HAL_IF_DIR)/mvSysEth.o
-endif
-
-# NETA Giga driver
-ifeq ($(CONFIG_MV_ETH_NETA),y)
-avantalp-$(CONFIG_MV_ETH_NETA)	        += $(HAL_ETH_GBE_DIR)/mvNeta.o $(HAL_ETH_GBE_DIR)/mvNetaDebug.o \
-					   $(HAL_ETH_GBE_DIR)/mvNetaAddrDec.o $(HAL_IF_DIR)/mvSysNeta.o
-avantalp-$(CONFIG_MV_ETH_PNC)    	+= $(HAL_ETH_PNC_DIR)/mvTcam.o  $(HAL_ETH_PNC_DIR)/mvPncAging.o \
-					   $(HAL_ETH_PNC_DIR)/mvPnc.o $(HAL_ETH_PNC_DIR)/mvPncLb.o
-avantalp-$(CONFIG_MV_ETH_PNC_L3_FLOW)   += $(HAL_ETH_PNC_DIR)/mvPncRxq.o
-avantalp-$(CONFIG_MV_ETH_PNC_WOL)       += $(HAL_ETH_PNC_DIR)/mvPncWol.o
-avantalp-$(CONFIG_MV_ETH_BM) 	        += $(HAL_ETH_BM_DIR)/mvBm.o
-avantalp-$(CONFIG_MV_ETH_PMT)	        += $(HAL_ETH_PMT_DIR)/mvPmt.o
-avantalp-$(CONFIG_MV_ETH_HWF)           += $(HAL_ETH_GBE_DIR)/mvHwf.o
-endif
-
 ifeq ($(CONFIG_MV_ETH_PP2),y)
 avantalp-$(CONFIG_MV_ETH_PP2)		+= $(HAL_ETH_GMAC_DIR)/mvEthGmacApi.o
 avantalp-$(CONFIG_MV_ETH_PP2)		+= $(HAL_ETH_GBE_DIR)/mvPp2Gbe.o $(HAL_ETH_GBE_DIR)/mvPp2GbeDebug.o \
@@ -126,20 +107,6 @@ obj-$(CONFIG_MV_INCLUDE_SWITCH) 	+= $(QD_OBJS)
 
 # drivers part
 
-ifeq ($(CONFIG_MV_ETH_NETA),y)
-obj-$(CONFIG_MV_ETH_PNC)                += $(LSP_PNC_DIR)/pnc_sysfs.o
-obj-$(CONFIG_MV_ETH_PNC_L3_FLOW)        += $(LSP_PNC_DIR)/rxq_map_sysfs.o
-obj-$(CONFIG_MV_ETH_BM)                 += $(LSP_BM_DIR)/bm_sysfs.o  $(LSP_BM_DIR)/mv_eth_bm.o
-obj-$(CONFIG_MV_ETH_PNC_WOL)            += $(LSP_PNC_DIR)/wol_sysfs.o
-obj-$(CONFIG_MV_ETH_PMT)		+= $(LSP_PMT_DIR)/pmt_sysfs.o
-obj-$(CONFIG_MV_ETH_HWF)        	+= $(LSP_HWF_DIR)/hwf_sysfs.o
-ifndef CONFIG_MV_ETH_BM_CPU
-obj-$(CONFIG_MV_ETH_HWF)		+=  $(LSP_HWF_DIR)/hwf_bm.o
-endif
-obj-$(CONFIG_MV_ETH_L2FW)               += $(LSP_L2FW_DIR)/l2fw_sysfs.o $(LSP_L2FW_DIR)/mv_eth_l2fw.o
-obj-$(CONFIG_MV_ETH_L2SEC)              += $(LSP_L2FW_DIR)/mv_eth_l2sec.o
-endif
-
 ################################################################################
 ifeq ($(CONFIG_MV_ETH_PP2),y)
 obj-$(CONFIG_MV_ETH_PP2)		+= $(LSP_NET_DEV_DIR)/mv_netdev.o \
diff --git a/arch/arm/mach-avantalp/config/mvRules.mk b/arch/arm/mach-avantalp/config/mvRules.mk
index b04e1e3..db43461 100644
--- a/arch/arm/mach-avantalp/config/mvRules.mk
+++ b/arch/arm/mach-avantalp/config/mvRules.mk
@@ -42,7 +42,6 @@ HAL_TWSI_DIR      = $(HAL_DIR)/twsi
 HAL_TWSI_ARCH_DIR = $(SOC_TWSI_DIR)/Arch$(CPU_ARCH)
 HAL_UART_DIR      = $(HAL_DIR)/uart
 
-ifeq ($(CONFIG_MV_ETH_PP2),y)
 HAL_ETH_DIR	  = $(HAL_DIR)/pp2
 HAL_ETH_GMAC_DIR  = $(HAL_DIR)/pp2/gmac
 HAL_ETH_GBE_DIR   = $(HAL_DIR)/pp2/gbe
@@ -52,40 +51,14 @@ HAL_ETH_CLS_DIR   = $(HAL_DIR)/pp2/cls
 HAL_ETH_PME_DIR   = $(HAL_DIR)/pp2/pme
 HAL_ETH_PLCR_DIR  = $(HAL_DIR)/pp2/plcr
 HAL_ETH_COMMON    = $(HAL_DIR)/pp2/common
-LSP_NETWORK_DIR   = $(PLAT_DRIVERS)/mv_pp2
-LSP_NET_DEV_DIR   = $(LSP_NETWORK_DIR)/net_dev
-LSP_BM_DIR        = $(LSP_NETWORK_DIR)/bm
-LSP_PRS_DIR       = $(LSP_NETWORK_DIR)/prs
-LSP_CLS_DIR       = $(LSP_NETWORK_DIR)/cls
-LSP_PME_DIR       = $(LSP_NETWORK_DIR)/pme
-LSP_PLCR_DIR      = $(LSP_NETWORK_DIR)/plcr
-endif
-
-ifeq ($(CONFIG_MV_ETH_NETA),y)
-HAL_ETH_DIR       = $(HAL_DIR)/neta 
-HAL_ETH_GBE_DIR   = $(HAL_DIR)/neta/gbe
-HAL_ETH_NFP_DIR   = $(HAL_DIR)/neta/nfp
-HAL_ETH_PNC_DIR   = $(HAL_DIR)/neta/pnc
-HAL_ETH_BM_DIR    = $(HAL_DIR)/neta/bm
-HAL_ETH_PMT_DIR   = $(HAL_DIR)/neta/pmt
-LSP_NETWORK_DIR   = $(PLAT_DRIVERS)/mv_neta
-LSP_NET_DEV_DIR   = $(LSP_NETWORK_DIR)/net_dev
-LSP_NFP_MGR_DIR   = $(LSP_NETWORK_DIR)/nfp_mgr
-LSP_PNC_DIR       = $(LSP_NETWORK_DIR)/pnc
-LSP_BM_DIR        = $(LSP_NETWORK_DIR)/bm
-LSP_PMT_DIR       = $(LSP_NETWORK_DIR)/pmt
-LSP_HWF_DIR       = $(LSP_NETWORK_DIR)/hwf
-LSP_L2FW_DIR      = $(LSP_NETWORK_DIR)/l2fw
-endif
-
-ifeq ($(CONFIG_MV_ETH_LEGACY),y)
-HAL_ETH_DIR       = $(HAL_DIR)/eth
-HAL_ETH_GBE_DIR   = $(HAL_DIR)/eth/gbe
-HAL_ETH_NFP_DIR	  = $(HAL_DIR)/eth/nfp
-LSP_NETWORK_DIR   = $(PLAT_DRIVERS)/mv_network
-LSP_NET_DEV_DIR   = $(LSP_NETWORK_DIR)/mv_etherent
-LSP_NFP_MGR_DIR   = $(LSP_NETWORK_DIR)/nfp_mgr
-endif
+LSP_PP2_DIR       = $(PLAT_DRIVERS)/mv_pp2
+LSP_NET_DEV_DIR   = $(LSP_PP2_DIR)/net_dev
+LSP_BM_DIR        = $(LSP_PP2_DIR)/bm
+LSP_PRS_DIR       = $(LSP_PP2_DIR)/prs
+LSP_CLS_DIR       = $(LSP_PP2_DIR)/cls
+LSP_PME_DIR       = $(LSP_PP2_DIR)/pme
+LSP_PLCR_DIR      = $(LSP_PP2_DIR)/plcr
+LSP_MUX_DIR       = $(LSP_PP2_DIR)/mux
 
 HAL_CPU_DIR       = $(HAL_DIR)/cpu
 HAL_SDMMC_DIR	  = $(HAL_DIR)/sdmmc
@@ -149,8 +122,8 @@ OSSERV_PATH     = -I$(PLAT_PATH_I)/$(OSSERV_DIR)
 LSP_PATH        = -I$(LSP_PATH_I)
 CONFIG_PATH     = -I$(LSP_PATH_I)/$(CONFIG_DIR)
 HAL_IF_PATH	= -I$(LSP_PATH_I)/$(HAL_IF)
-DRIVERS_LSP_PATH = -I$(PLAT_PATH_I)/$(PLAT_DRIVERS) -I$(PLAT_PATH_I)/$(LSP_NETWORK_DIR) -I$(PLAT_PATH_I)/$(LSP_SWITCH_DIR) \
-		 -I$(PLAT_PATH_I)/$(LSP_TRACE_DIR)
+DRIVERS_LSP_PATH = -I$(PLAT_PATH_I)/$(PLAT_DRIVERS) -I$(PLAT_PATH_I)/$(LSP_PP2_DIR) -I$(PLAT_PATH_I)/$(LSP_SWITCH_DIR) \
+		 -I$(PLAT_PATH_I)/$(LSP_TRACE_DIR) -I$(PLAT_PATH_I)/$(LSP_PP2_DIR)
 
 EXTRA_INCLUDE  	= $(OSSERV_PATH) $(COMMON_PATH) $(HAL_PATH)  $(ALP_FAM_PATH) \
                   $(LSP_PATH) $(CONFIG_PATH) $(DRIVERS_LSP_PATH) $(HAL_IF_PATH)
@@ -161,11 +134,6 @@ EXTRA_INCLUDE  	= $(OSSERV_PATH) $(COMMON_PATH) $(HAL_PATH)  $(ALP_FAM_PATH) \
 MV_DEFINE = -DMV_LINUX -DMV_CPU_$(ENDIAN) -DMV_$(CPU_ARCH) 
 
 
-ifeq ($(CONFIG_MV_GATEWAY),y)
-EXTRA_INCLUDE	+= $(QD_PATH)
-EXTRA_CFLAGS    += -DLINUX  
-endif
-
 ifeq ($(CONFIG_MV_INCLUDE_SWITCH),y)
 EXTRA_INCLUDE   += $(QD_PATH)
 EXTRA_CFLAGS    += -DLINUX
diff --git a/arch/arm/mach-avantalp/core.c b/arch/arm/mach-avantalp/core.c
index 7cb2072..da0d634 100644
--- a/arch/arm/mach-avantalp/core.c
+++ b/arch/arm/mach-avantalp/core.c
@@ -61,9 +61,7 @@
 #include <plat/mv_xor.h>
 #endif
 
-#if defined(CONFIG_MV_ETH_NETA)
-#include <linux/mv_neta.h>
-#elif defined (CONFIG_MV_ETH_PP2)
+#if defined(CONFIG_MV_ETH_PP2)
 #include <linux/mv_pp2.h>
 #endif
 
@@ -504,21 +502,8 @@ void __init alp_sdio_init(void)
 
 /*******************************************************************************
  * GBE
- */
-#ifdef CONFIG_MV_ETHERNET
-#if defined(CONFIG_MV_ETH_LEGACY)
-static struct platform_device mv88fx_eth = {
-	.name		= "mv88fx_eth",
-	.id		= 0,
-	.num_resources	= 0,
-};
-#elif defined(CONFIG_MV_ETH_NETA)
-static struct platform_device mv88fx_neta = {
-	.name		= "mv88fx_neta",
-	.id		= 0,
-	.num_resources	= 0,
-};
-#elif defined(CONFIG_MV_ETH_PP2)
+ *******************************************************************************/
+#if defined(CONFIG_MV_ETH_PP2)
 static void mv_pp2_giga_pdev_register(struct platform_device *pdev)
 {
 	struct mv_pp2_pdata *plat_data = (struct mv_pp2_pdata*)pdev->dev.platform_data;
@@ -655,9 +640,6 @@ static struct platform_device mv_pp2_ge3_plat = {
 		.platform_data	= &mv_pp2_ge3_pdata,
 	},
 };
-#else
-#error "Ethernet Mode is not defined (should be Legacy or NETA or PPv2)"
-#endif /* Ethernet mode: Legacy or NETA or PPv2 */
 
 static void __init eth_init(void)
 {
@@ -668,8 +650,7 @@ static void __init eth_init(void)
 	mv_pp2_giga_pdev_register(&mv_pp2_ge3_plat);
 #endif
 }
-
-#endif /* CONFIG_MV_ETHERNET */
+#endif /* CONFIG_MV_ETH_PP2 */
 
 #ifdef CONFIG_MV_INCLUDE_SWITCH
 char *mv_switch_str;
@@ -776,13 +757,17 @@ static void __init switch_init(void)
 
 static void alp_eth_init(void)
 {
-#ifdef CONFIG_MV_ETHERNET
+#ifdef CONFIG_MV_INCLUDE_ETH_PHY
 	mvSysEthPhyInit();
+#endif /* CONFIG_MV_INCLUDE_ETH_PHY */
+
+#ifdef CONFIG_MV_ETH_PP2
 	eth_init();
+#endif /* CONFIG_MV_ETH_PP2 */
+
 #ifdef CONFIG_MV_INCLUDE_SWITCH
 	switch_init();
-#endif
-#endif
+#endif /* CONFIG_MV_INCLUDE_SWITCH */
 }
 
 /*******************************************************************************
@@ -1262,6 +1247,7 @@ void dma_io_sync(void)
 
 	spin_unlock_irqrestore(&alp_io_sync_barrier_lock, flags);
 }
+EXPORT_SYMBOL(dma_io_sync);
 
 static void alp_iocc_wa_setup_punit_win(ulong phys0, ulong phys1, MV_TARGET target)
 {
diff --git a/arch/arm/mach-avantalp/mv_hal_if/mvSysNeta.c b/arch/arm/mach-avantalp/mv_hal_if/mvSysNeta.c
deleted file mode 100644
index d5f1c39..0000000
--- a/arch/arm/mach-avantalp/mv_hal_if/mvSysNeta.c
+++ /dev/null
@@ -1,150 +0,0 @@
-/*******************************************************************************
-Copyright (C) Marvell International Ltd. and its affiliates
-
-This software file (the "File") is owned and distributed by Marvell
-International Ltd. and/or its affiliates ("Marvell") under the following
-alternative licensing terms.  Once you have made an election to distribute the
-File under one of the following license alternatives, please (i) delete this
-introductory statement regarding license alternatives, (ii) delete the two
-license alternatives that you have not elected to use and (iii) preserve the
-Marvell copyright notice above.
-
-********************************************************************************
-Marvell Commercial License Option
-
-If you received this File from Marvell and you have entered into a commercial
-license agreement (a "Commercial License") with Marvell, the File is licensed
-to you under the terms of the applicable Commercial License.
-
-********************************************************************************
-Marvell GPL License Option
-
-If you received this File from Marvell, you may opt to use, redistribute and/or
-modify this File in accordance with the terms and conditions of the General
-Public License Version 2, June 1991 (the "GPL License"), a copy of which is
-available along with the File in the license.txt file or by writing to the Free
-Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 or
-on the worldwide web at http://www.gnu.org/licenses/gpl.txt.
-
-THE FILE IS DISTRIBUTED AS-IS, WITHOUT WARRANTY OF ANY KIND, AND THE IMPLIED
-WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE ARE EXPRESSLY
-DISCLAIMED.  The GPL License provides additional details about this warranty
-disclaimer.
-********************************************************************************
-Marvell BSD License Option
-
-If you received this File from Marvell, you may opt to use, redistribute and/or
-modify this File under the following licensing terms.
-Redistribution and use in source and binary forms, with or without modification,
-are permitted provided that the following conditions are met:
-
-    *   Redistributions of source code must retain the above copyright notice,
-	this list of conditions and the following disclaimer.
-
-    *   Redistributions in binary form must reproduce the above copyright
-	notice, this list of conditions and the following disclaimer in the
-	documentation and/or other materials provided with the distribution.
-
-    *   Neither the name of Marvell nor the names of its contributors may be
-	used to endorse or promote products derived from this software without
-	specific prior written permission.
-
-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
-WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
-DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
-ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
-(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
-LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
-ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
-SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-
-*******************************************************************************/
-
-#include "mvCommon.h"
-#include "mvOs.h"
-#include "ctrlEnv/mvCtrlEnvLib.h"
-#include "boardEnv/mvBoardEnvLib.h"
-#include "cpu/mvCpu.h"
-#include "neta/gbe/mvNeta.h"
-
-
-/*******************************************************************************
-* mvSysNetaInit - Initialize the Eth subsystem
-*
-* DESCRIPTION:
-*
-* INPUT:
-*       None
-* OUTPUT:
-*		None
-* RETURN:
-*       None
-*
-*******************************************************************************/
-void 	mvSysNetaInit(MV_U32 portMask, MV_U32 cpuMask)
-{
-	MV_NETA_HAL_DATA halData;
-	MV_U32 port;
-	MV_UNIT_WIN_INFO addrWinMap[MAX_TARGETS + 1];
-	MV_STATUS status;
-	int i;
-
-	memset(&halData, 0, sizeof(halData));
-	status = mvCtrlAddrWinMapBuild(addrWinMap, MAX_TARGETS + 1);
-	if (status != MV_OK)
-		return;
-
-	for (i = 0; i < MAX_TARGETS; i++) {
-		if (addrWinMap[i].enable == MV_FALSE)
-			continue;
-
-#ifdef CONFIG_MV_SUPPORT_L2_DEPOSIT
-		/* Setting DRAM windows attribute to :
-		   0x3 - Shared transaction + L2 write allocate (L2 Deposit) */
-		if (MV_TARGET_IS_DRAM(i)) {
-			addrWinMap[i].attrib &= ~(0x30);
-			addrWinMap[i].attrib |= 0x30;
-		}
-#endif
-		mvOsPrintf("%d - Base 0x%08x , Size = 0x%08llx.\n", i,
-						addrWinMap[i].addrWin.baseLow, addrWinMap[i].addrWin.size);
-	}
-
-	halData.portMask = portMask;
-	halData.cpuMask  = cpuMask;
-	halData.maxPort = mvCtrlEthMaxPortGet();
-	halData.pClk = mvCpuPclkGet();
-	halData.tClk = mvBoardTclkGet();
-	halData.maxCPUs = mvCtrlEthMaxCPUsGet();
-	halData.iocc = arch_is_coherent();
-	halData.ctrlModel = mvCtrlModelGet();
-	halData.ctrlRev = mvCtrlRevGet();
-#ifdef CONFIG_MV_ETH_BM
-	halData.bmPhysBase = PNC_BM_PHYS_BASE;
-	halData.bmVirtBase = (MV_U8 *)ioremap(PNC_BM_PHYS_BASE, PNC_BM_SIZE);
-#endif /* CONFIG_MV_ETH_BM */
-
-#ifdef CONFIG_MV_ETH_PNC
-	halData.pncPhysBase = PNC_BM_PHYS_BASE;
-	halData.pncVirtBase = (MV_U8 *)ioremap(PNC_BM_PHYS_BASE, PNC_BM_SIZE);
-#endif /* CONFIG_MV_ETH_PNC */
-
-	for (port = 0; port < halData.maxPort; port++) {
-		if (!(MV_BIT_CHECK(portMask, port)))
-			continue;
-
-		if (mvCtrlPwrClckGet(ETH_GIG_UNIT_ID, port) == MV_FALSE)
-			continue;
-
-		mvNetaPortPowerUp(port, mvBoardIsPortInSgmii(port), !mvBoardIsPortInGmii(port));
-		status = mvNetaWinInit(port, addrWinMap);
-		if (status != MV_OK)
-			continue;
-	}
-	mvNetaHalInit(&halData);
-
-	return;
-}
-
diff --git a/arch/arm/mach-avantalp/mv_hal_if/mvSysNetaApi.h b/arch/arm/mach-avantalp/mv_hal_if/mvSysNetaApi.h
deleted file mode 100644
index be0aaa0..0000000
--- a/arch/arm/mach-avantalp/mv_hal_if/mvSysNetaApi.h
+++ /dev/null
@@ -1,71 +0,0 @@
-/*******************************************************************************
-Copyright (C) Marvell International Ltd. and its affiliates
-
-This software file (the "File") is owned and distributed by Marvell
-International Ltd. and/or its affiliates ("Marvell") under the following
-alternative licensing terms.  Once you have made an election to distribute the
-File under one of the following license alternatives, please (i) delete this
-introductory statement regarding license alternatives, (ii) delete the two
-license alternatives that you have not elected to use and (iii) preserve the
-Marvell copyright notice above.
-
-********************************************************************************
-Marvell Commercial License Option
-
-If you received this File from Marvell and you have entered into a commercial
-license agreement (a "Commercial License") with Marvell, the File is licensed
-to you under the terms of the applicable Commercial License.
-
-********************************************************************************
-Marvell GPL License Option
-
-If you received this File from Marvell, you may opt to use, redistribute and/or
-modify this File in accordance with the terms and conditions of the General
-Public License Version 2, June 1991 (the "GPL License"), a copy of which is
-available along with the File in the license.txt file or by writing to the Free
-Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 or
-on the worldwide web at http://www.gnu.org/licenses/gpl.txt.
-
-THE FILE IS DISTRIBUTED AS-IS, WITHOUT WARRANTY OF ANY KIND, AND THE IMPLIED
-WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE ARE EXPRESSLY
-DISCLAIMED.  The GPL License provides additional details about this warranty
-disclaimer.
-********************************************************************************
-Marvell BSD License Option
-
-If you received this File from Marvell, you may opt to use, redistribute and/or
-modify this File under the following licensing terms.
-Redistribution and use in source and binary forms, with or without modification,
-are permitted provided that the following conditions are met:
-
-    *   Redistributions of source code must retain the above copyright notice,
-	    this list of conditions and the following disclaimer.
-
-    *   Redistributions in binary form must reproduce the above copyright
-	notice, this list of conditions and the following disclaimer in the
-	documentation and/or other materials provided with the distribution.
-
-    *   Neither the name of Marvell nor the names of its contributors may be
-	used to endorse or promote products derived from this software without
-	specific prior written permission.
-
-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
-WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
-DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
-ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
-(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
-LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
-ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
-SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-
-*******************************************************************************/
-
-#ifndef __MV_SYS_NETA_API_H__
-#define __MV_SYS_NETA_API_H__
-
-
-void mvSysNetaInit(MV_U32 portMask, MV_U32 cpuMask);
-
-#endif /* __MV_SYS_NETA_API_H__ */
diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Kconfig b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Kconfig
index 1bad5e9..3a92148 100755
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Kconfig
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Kconfig
@@ -516,17 +516,6 @@ config  MV_ETH_STAT_DIST
         Marvell network interface driver collect a lot of statistics.
         Used for Debug mode. Decrease performance. Can be displayed using mv_eth_tool.
 
-config  MV_LINUX_COUNTERS_DISABLE
-	bool "Disable collection of SNMP statistics and Netfilter Contract statistics"
-	default n
-	---help---
-	Disable collection of SNMP statistics and Netfilter Contract statistics to improve performance.
-
-config  MV_ETH_TOOL
-	bool "Support ethtool controls"
-	default y
-	---help---
-	Support kernel's SIOCETHTOOL for ethtool utility
 endmenu
 
 menu "Advanced Features"
-- 
1.7.5.4

