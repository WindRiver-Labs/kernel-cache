From 59216bd76eac2274e8e81220a1ab168244cfed2c Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Wed, 22 Jan 2014 13:12:52 +0200
Subject: [PATCH 1299/1825] a38x: mmc: enable SDHCI controller support

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit bece75087a9d6d5654fe4f5113a1f1f830313217

	- use extended sdhci_pxa_platdata structure
	- use separate memory resources for SDHCI driver registers and windows
	  configuration registers
	- update A385/A380 defconfigs

Change-Id: I1af51bbc2bcc78a1c0d419c6e3fc2ccf6906363e
Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/5243
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h      |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h
index a769729..7604ddd 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h
+++ b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h
@@ -127,7 +127,8 @@ extern "C" {
 #define MV_COMM_UNIT_REGS_OFFSET                (0xB0000)
 #define MV_BM_REGS_OFFSET                       (0xC8000)
 #define MV_NFC_REGS_OFFSET                      (0xD0000)
-#define MV_SDMMC_REGS_OFFSET                    (0xD4000)
+#define MV_SDMMC_REGS_OFFSET			(0xD8000)
+#define MV_SDMMC_WINDOWS_REGS_OFFSET		(0xDC000)
 
 #define SATA3_NUM_OF_PORTS			2
 #define SATA3_MAX_PORTS_PER_UNIT		2
-- 
1.7.5.4

