From 19ae932dc8ada6187f82f617248ac86bf54cff3f Mon Sep 17 00:00:00 2001
From: Dmitri Epshtein <dima@marvell.com>
Date: Tue, 13 May 2014 12:22:22 -0400
Subject: [PATCH 1655/1825] fix: pp2: Fix L2FW compilation error

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 6ba66bb0d84475cf97af84d2553bf8ce323211ea

Change-Id: Ice11039fb3b32449154274d744f7fbe2c16b2612
Signed-off-by: Dmitri Epshtein <dima@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/7968
Reviewed-by: Uri Eliyahu <uriel@marvell.com>
Tested-by: Yehuda Yitschak <yehuday@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_drivers_lsp/mv_pp2/l2fw/mv_eth_l2fw.c       |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/l2fw/mv_eth_l2fw.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/l2fw/mv_eth_l2fw.c
index 2d810de..01d2cf7 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/l2fw/mv_eth_l2fw.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/l2fw/mv_eth_l2fw.c
@@ -1206,9 +1206,7 @@ static const struct net_device_ops mv_l2fw_netdev_ops = {
 	.ndo_open = mv_eth_open,
 	.ndo_stop = mv_l2fw_stop,
 	.ndo_start_xmit = mv_l2fw_xmit,
-#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 34)
-	.ndo_change_rx_flags = mv_eth_change_rx_flags,
-#endif
+	.ndo_set_rx_mode = mv_eth_rx_set_rx_mode,
 	.ndo_set_mac_address = mv_eth_set_mac_addr,
 	.ndo_change_mtu = mv_eth_change_mtu,
 };
-- 
1.7.5.4

