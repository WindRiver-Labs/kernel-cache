From 1ed4a8962a5c1681871f22a4da327ef487fbd131 Mon Sep 17 00:00:00 2001
From: Omri Itach <omrii@marvell.com>
Date: Mon, 29 Jul 2013 18:23:45 +0300
Subject: [PATCH 0905/1825] alp: ppv2: update default speed of connection
 between MAC0 to Switch to 2G

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 27a4fc2615f979eaf9b8c1f002d676a0535fb2e1

	- Updated default speed for all boards to be 2G (eth complex configuration)
	- Updated MAC0 speed config for RD boards (which isn't scanned, as DB boards)

Change-Id: I003046e9cb8a74d7b058aea167e985a1b43e8d55
Signed-off-by: Omri Itach <omrii@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/2874
Reviewed-by: Nadav Haklai <nadavh@marvell.com>
Tested-by: Nadav Haklai <nadavh@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/boardEnv/mvBoardEnvSpec.c     |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
index b16530a..e6020d1 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
@@ -188,6 +188,7 @@ MV_BOARD_MPP_TYPE_INFO db88f6660InfoBoardModTypeInfo[] = {
 				     MV_ETHCOMP_SW_P1_2_GE_PHY_P1 |
 				     MV_ETHCOMP_SW_P2_2_GE_PHY_P2 |
 				     MV_ETHCOMP_SW_P3_2_GE_PHY_P3 |
+				     MV_ETHCOMP_P2P_MAC0_2_SW_SPEED_2G |
 				     MV_ETHCOMP_GE_MAC0_2_SW_P6 |
 				     MV_ETHCOMP_GE_MAC1_2_RGMII1,
 		.ethPortsMode = 0x0
@@ -303,6 +304,7 @@ MV_BOARD_MPP_TYPE_INFO db88f6650InfoBoardModTypeInfo[] = {
 				     MV_ETHCOMP_SW_P1_2_GE_PHY_P1 |
 				     MV_ETHCOMP_SW_P2_2_GE_PHY_P2 |
 				     MV_ETHCOMP_SW_P3_2_GE_PHY_P3 |
+				     MV_ETHCOMP_P2P_MAC0_2_SW_SPEED_2G |
 				     MV_ETHCOMP_GE_MAC0_2_SW_P6 |
 				     MV_ETHCOMP_GE_MAC1_2_RGMII1,
 		.ethPortsMode = 0x0
@@ -402,7 +404,7 @@ MV_BOARD_TWSI_INFO rd88f6650InfoBoardTwsiDev[] = {
 };
 MV_BOARD_MAC_INFO rd88f6650InfoBoardMacInfo[] = {
 	/* {{MV_BOARD_MAC_SPEED boardMacSpeed, MV_8 boardEthSmiAddr}} */
-	{ BOARD_MAC_SPEED_1000M, -1},
+	{ BOARD_MAC_SPEED_2000M, -1},
 	{ BOARD_MAC_SPEED_AUTO, 0x1},
 	{ BOARD_MAC_SPEED_1000M, -1}
 };
@@ -413,6 +415,7 @@ MV_BOARD_MPP_TYPE_INFO rd88f6650InfoBoardModTypeInfo[] = {
 				     MV_ETHCOMP_SW_P1_2_GE_PHY_P1 |
 				     MV_ETHCOMP_SW_P2_2_GE_PHY_P2 |
 				     MV_ETHCOMP_SW_P3_2_GE_PHY_P3 |
+				     MV_ETHCOMP_P2P_MAC0_2_SW_SPEED_2G |
 				     MV_ETHCOMP_GE_MAC1_2_SW_P4   |
 				     MV_ETHCOMP_GE_MAC0_2_SW_P6,
 		.ethPortsMode = 0x0
@@ -499,7 +502,7 @@ MV_BOARD_INFO rd88f6650_board_info = {
 
 MV_BOARD_MAC_INFO rd88f6660InfoBoardMacInfo[] = {
 	/* {{MV_BOARD_MAC_SPEED boardMacSpeed, MV_8 boardEthSmiAddr}} */
-	{ BOARD_MAC_SPEED_1000M, -1},
+	{ BOARD_MAC_SPEED_2000M, -1},
 	{ BOARD_MAC_SPEED_AUTO, 0x1},
 	{ BOARD_MAC_SPEED_1000M, -1}
 };
@@ -510,6 +513,7 @@ MV_BOARD_MPP_TYPE_INFO rd88f6660InfoBoardModTypeInfo[] = {
 				     MV_ETHCOMP_SW_P1_2_GE_PHY_P1 |
 				     MV_ETHCOMP_SW_P2_2_GE_PHY_P2 |
 				     MV_ETHCOMP_SW_P3_2_GE_PHY_P3 |
+				     MV_ETHCOMP_P2P_MAC0_2_SW_SPEED_2G |
 				     MV_ETHCOMP_GE_MAC1_2_SW_P4   |
 				     MV_ETHCOMP_GE_MAC0_2_SW_P6,
 		.ethPortsMode = 0x0
-- 
1.7.5.4

