From 7712f3deaa480cb1c2a685c111a5583f1ca6c4b0 Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Wed, 20 Mar 2013 15:38:44 +0200
Subject: [PATCH 0502/1825] ALP: Remove unused code: AXP debug code

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 9b8ed86bad44643682fd170de1787aabaaa41095

Change-Id: I1b6703acecdad02fb35a0b8234e8ad6665fa1252
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/1344
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/proc_aurora_dbg.c |   88 ------------------------------
 1 files changed, 0 insertions(+), 88 deletions(-)
 delete mode 100644 arch/arm/mach-avantalp/proc_aurora_dbg.c

diff --git a/arch/arm/mach-avantalp/proc_aurora_dbg.c b/arch/arm/mach-avantalp/proc_aurora_dbg.c
deleted file mode 100644
index ed59c0a..0000000
--- a/arch/arm/mach-avantalp/proc_aurora_dbg.c
+++ /dev/null
@@ -1,88 +0,0 @@
-#include <linux/types.h>
-#include <linux/kernel.h>
-#include <linux/init.h>
-#include <linux/list.h>
-#include <linux/device.h>
-#include <linux/slab.h>
-#include <linux/string.h>
-#include <linux/sysdev.h>
-#include <linux/proc_fs.h>
-#include <linux/version.h> 
- 
-#include <asm/io.h>
-#include <asm/irq.h>
-#include <asm/setup.h>
-#include <asm/mach-types.h>
-
-static struct proc_dir_entry *aurora_dbg;
-
-unsigned int aurora_core_index(void)
-{
-        unsigned int value;
-
-        __asm__ __volatile__("mrc p15, 0, %0, c0, c0, 5   @ read CPU ID reg\n"
-                : "=r" (value) :: "memory");
-        return (value & 0xF);
-}
-
-/********************************************************************/
-int aurora_dbg_read (char *buffer, char **buffer_location, off_t offset,
-                            int buffer_length, int *zero, void *ptr) {
-
-	char *p = buffer;
-  	unsigned int val, len;
-
-#ifdef CONFIG_SMP
-	p += sprintf(p,"CPU %d:\n", aurora_core_index());
-#endif
-	__asm volatile ("mrc  p15, 1, %0, c15, c1, 1" : "=r" (val));
-	p += sprintf(p, "c1, 1 %x \n", val);
-	__asm volatile ("mrc  p15, 1, %0, c15, c1, 2" : "=r" (val));
-	p += sprintf(p, "c1, 2 %x \n", val);
-	__asm volatile ("mrc  p15, 1, %0, c15, c2, 0" : "=r" (val));
-	p += sprintf(p, "c2, 0 %x \n", val);
-	__asm volatile ("mrc  p15, 1, %0, c15, c2, 1" : "=r" (val));
-	p += sprintf(p, "c2, 1 %x \n", val);
-	__asm volatile ("mrc  p15, 1, %0, c15, c1, 0" : "=r" (val));
-	p += sprintf(p, "c1, 0 %x \n", val);
-
-#ifdef CONFIG_PERF_EVENTS
-	__asm volatile ("mrc  p15, 0, %0, c9, c12, 0" : "=r" (val));
-	p += sprintf(p, "pmon ctrl %x \n", val);
-	__asm volatile ("mrc  p15, 0, %0, c9, c12, 1" : "=r" (val));
-	p += sprintf(p, "pmon cntrs en %x \n", val);
-	__asm volatile ("mrc  p15, 0, %0, c9, c12, 3" : "=r" (val));
-	p += sprintf(p, "pmon cntrs oflow %x \n", val);
-	__asm volatile ("mrc  p15, 0, %0, c9, c12, 5" : "=r" (val));
-	p += sprintf(p, "pmon cntr sel %x \n", val);
-	__asm volatile ("mrc  p15, 0, %0, c9, c13, 0" : "=r" (val));
-	p += sprintf(p, "pmon cycle cnt %x \n", val);
-	__asm volatile ("mrc  p15, 0, %0, c9, c13, 1" : "=r" (val));
-	p += sprintf(p, "pmon evt sel %x \n", val);
-	__asm volatile ("mrc  p15, 0, %0, c9, c13, 2" : "=r" (val));
-	p += sprintf(p, "pmon cntr val %x \n", val);
-	__asm volatile ("mrc  p15, 0, %0, c9, c14, 1" : "=r" (val));
-	p += sprintf(p, "pmon int en %x \n", val);
-#endif
-
-	len = (p - buffer);
-  	return len;
-}
-
-/********************************************************************/
-int __init start_aurora_dbg(void)
-{
-        aurora_dbg = create_proc_entry ("aurora_dbg" , 0666 , NULL);
-  	aurora_dbg->read_proc = aurora_dbg_read;
-  	aurora_dbg->write_proc = NULL;
-  	aurora_dbg->nlink = 1;
-	return 0;
-}
-void __exit stop_aurora_dbg(void)
-{
-        remove_proc_entry("aurora_dbg",  NULL);
-        return;
-}
-module_init(start_aurora_dbg);
-module_exit(stop_aurora_dbg);
-
-- 
1.7.5.4

