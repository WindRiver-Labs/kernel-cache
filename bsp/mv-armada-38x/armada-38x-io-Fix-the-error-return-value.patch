From 2ad84cfff5689cc8a744c23bd8ee2f2cf8c2a1f8 Mon Sep 17 00:00:00 2001
From: Zhong Hongbo <hongbo.zhong@windriver.com>
Date: Mon, 13 Oct 2014 15:53:53 +0800
Subject: [PATCH 1820/1825] armada-38x: io : Fix the error return value

commit b406647e8e38 [a38x: add initial mach-armada38x directory contents] from
https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
introduces the following compile warning:

arch/arm/mm/iomap.c: In function 'ioport_map':
arch/arm/mm/iomap.c:18:2: warning: return makes pointer from integer without a cast [enabled by default]
  return __io(port);

Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-armada38x/include/mach/io.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-armada38x/include/mach/io.h b/arch/arm/mach-armada38x/include/mach/io.h
index d93e83c..a8db713 100644
--- a/arch/arm/mach-armada38x/include/mach/io.h
+++ b/arch/arm/mach-armada38x/include/mach/io.h
@@ -12,7 +12,7 @@
 #define IO_SPACE_LIMIT		0xffffffff
 #define IO_SPACE_REMAP		PEX0_IO_PHYS_BASE
 
-#define __io(a)			((a) + PEX0_IO_VIRT_BASE)
+#define __io(a)			((void __iomem *)((a) + PEX0_IO_VIRT_BASE))
 #define __mem_pci(a)		((unsigned long)(a))
 #define __mem_isa(a)		(a)
 
-- 
1.7.5.4

