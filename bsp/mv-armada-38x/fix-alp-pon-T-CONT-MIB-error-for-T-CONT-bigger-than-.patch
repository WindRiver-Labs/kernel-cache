From e22a94435c6863cc14978c559a503800992634da Mon Sep 17 00:00:00 2001
From: Victor Gu <xigu@marvell.com>
Date: Wed, 7 May 2014 11:04:43 +0800
Subject: [PATCH 1614/1825] fix: alp: pon: T-CONT MIB error for T-CONT bigger
 than 7.

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 946fed29eab938f1a20c1399654f83f89262076d

    adjust the index for T-CONT bigger than 7 when read register.
Signed-off-by: Victor Gu <xigu@marvell.com>

Change-Id: I4bf0d2497593a725cef7f2ee784a7648ba9b5c1d
Reviewed-on: http://vgitil04.il.marvell.com:8080/7850
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Yehuda Yitschak <yehuday@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/plat-armada/mv_hal/pon/mvPonOnuMac.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/plat-armada/mv_hal/pon/mvPonOnuMac.c b/arch/arm/plat-armada/mv_hal/pon/mvPonOnuMac.c
index eab45f1..87dce3c 100755
--- a/arch/arm/plat-armada/mv_hal/pon/mvPonOnuMac.c
+++ b/arch/arm/plat-armada/mv_hal/pon/mvPonOnuMac.c
@@ -2904,7 +2904,7 @@ MV_STATUS mvOnuGponMacTxEthBytesTcontiCounterGet(MV_U32 tcontNum, MV_U32 *counte
 	if (tcontNum < 8)
 		status = asicOntGlbRegRead(mvAsicReg_GPON_TX_STAT_TCONT_i_ETH_BYTES, counter, tcontNum);
 	else
-		status = asicOntGlbRegRead(mvAsicReg_GPON_TX_STAT_TCONT_i_8_15_ETH_BYTES, counter, tcontNum);
+		status = asicOntGlbRegRead(mvAsicReg_GPON_TX_STAT_TCONT_i_8_15_ETH_BYTES, counter, tcontNum - 8);
 
 	return status;
 }
-- 
1.7.5.4

