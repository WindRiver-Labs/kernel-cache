From d6c35c0cf3f6f32ebaf2282879374a0979e1c31d Mon Sep 17 00:00:00 2001
From: Omri Itach <omrii@marvell.com>
Date: Thu, 28 Nov 2013 14:08:30 +0200
Subject: [PATCH 1174/1825] fix: alp: eth_complex: fix mvBoardIsEthConnected
 to indicate correct status

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 576e00b2e1fcdaf97d4fe71757587ea2fea6f384

	- Added MAC0_2_COMPHY[1/2/3], and MAC1_2_PON_ETH_SERDES indication
	- Updated board configuration prints accordingly

Change-Id: Ic15ba36b94cf3c0627eebee2152cf82788ba00f9
Signed-off-by: Omri Itach <omrii@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4533
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/boardEnv/mvBoardEnvLib.c      |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
index 9affb4d..d625d7a 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
@@ -1829,7 +1829,9 @@ MV_VOID mvBoardConfigurationPrint(MV_VOID)
 		mvOsOutput("\tRGMII0 Module on MAC0\n");
 	if (ethConfig & MV_ETHCOMP_GE_MAC1_2_RGMII1)
 		mvOsOutput("\tRGMII1 on MAC1\n");
-	if (ethConfig & MV_ETHCOMP_SW_P4_2_RGMII0)
+	if (ethConfig & MV_ETHCOMP_SW_P4_2_RGMII0_EXT_PHY)
+		mvOsOutput("\tExternal PHY-RGMII0 Module on Switch port #4, 1G speed\n");
+	else if (ethConfig & MV_ETHCOMP_SW_P4_2_RGMII0)
 		mvOsOutput("\tRGMII0 Module on Switch port #4, 1G speed\n");
 
 	/* Internal GE Quad Phy */
@@ -1851,6 +1853,11 @@ MV_VOID mvBoardConfigurationPrint(MV_VOID)
 			mvOsOutput("\tGE-PHY-3 Module on Switch port #3\n");
 	}
 
+	if (ethConfig & MV_ETHCOMP_GE_MAC1_2_PON_ETH_SERDES)
+		mvOsOutput("       PON ETH SERDES on MAC1\n");
+	if (ethConfig & MV_ETHCOMP_P2P_MAC_2_PON_ETH_SERDES)
+		mvOsOutput("       ETH SERDES on P2P MAC\n");
+
 	/* TDM / Slic configuration */
 	slicDevice = mvBoardSlicUnitTypeGet();
 	if (slicDevice < MV_BOARD_SLIC_MAX_OPTION) /* 4 supported configurations */
-- 
1.7.5.4

