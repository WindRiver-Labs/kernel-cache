From 73fb1e49c5ca310b0fff18cfb2e99c863a8b2205 Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Wed, 22 May 2013 21:59:59 +0300
Subject: [PATCH 0675/1825] ALP: ETH-PHY: Init HAL data with SoC model and
 family

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 0f467a49d799037e24cf909683592cd1d6c44b06

Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Change-Id: I76157defb333492642919de7e1d2b475cf96e3b3
Reviewed-on: http://vgitil04.il.marvell.com:8080/1945
Reviewed-by: Star_Automation <star@marvell.com>
Reviewed-by: Omri Itach <omrii@marvell.com>
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/mv_hal_if/mvSysEthPhy.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-avantalp/mv_hal_if/mvSysEthPhy.c b/arch/arm/mach-avantalp/mv_hal_if/mvSysEthPhy.c
index 5dfd76e..8d41a81 100644
--- a/arch/arm/mach-avantalp/mv_hal_if/mvSysEthPhy.c
+++ b/arch/arm/mach-avantalp/mv_hal_if/mvSysEthPhy.c
@@ -100,6 +100,9 @@ MV_STATUS mvSysEthPhyInit(void)
 		halData.boardSpecInit = MV_FALSE;
 	}
 
-	halData.ethPhySmiReg = ETH_SMI_REG(MV_ETH_SMI_PORT); 
+	halData.ethPhySmiReg	= ETH_SMI_REG(MV_ETH_SMI_PORT);
+	halData.ctrlModel	= mvCtrlModelGet();
+	halData.ctrlFamily	= mvCtrlDevFamilyIdGet(halData.ctrlModel);
+
 	return mvEthPhyHalInit(&halData);
 }
-- 
1.7.5.4

