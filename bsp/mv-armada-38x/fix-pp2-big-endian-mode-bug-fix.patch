From d7f97e390cd60eaa49da1177245e3632f1fb3f65 Mon Sep 17 00:00:00 2001
From: Uri Eliyahu <uriel@marvell.com>
Date: Mon, 20 Jan 2014 15:20:28 +0200
Subject: [PATCH 1288/1825] fix: pp2: big endian mode bug fix

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 48744c862642be1f70b786a5ff5554ba57780014

	- remove buffer pointer swap, not necessary in BE mode

Change-Id: I88766a8c709e54b79d5281b97ba3ef82994e85ea
Signed-off-by: Uri Eliyahu <uriel@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/5210
Reviewed-by: Dmitri Epshtein <dima@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_drivers_lsp/mv_pp2/net_dev/mv_netdev.c      |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_netdev.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_netdev.c
index 16071cd..f9cdd1b 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_netdev.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_netdev.c
@@ -2481,6 +2481,7 @@ static void mv_eth_rxq_drop_pkts(struct eth_port *pp, int rxq)
 	mvPPv2RxqDescSwap(rx_desc);
 #endif /* MV_CPU_BE */
 
+
 		mv_eth_pool_refill(ppool, bm, rx_desc->bufPhysAddr, rx_desc->bufCookie);
 		mvOsCacheLineInv(NULL, rx_desc);
 	}
@@ -2653,9 +2654,7 @@ static int mv_eth_pool_free(int pool, int num)
 		if (va == 0)
 			break;
 
-		va = (MV_U32 *)MV_32BIT_LE((MV_U32)va);
-
-	/*	pr_info("%4d: phys_addr=0x%x, virt_addr=%p\n", i, pa, va);*/
+		/*pr_info("%4d: phys_addr=0x%x, virt_addr=%p\n", i, pa, va);*/
 
 		if (!MV_ETH_BM_POOL_IS_HWF(ppool->type)) {
 			mv_eth_skb_free((struct sk_buff *)va);
-- 
1.7.5.4

