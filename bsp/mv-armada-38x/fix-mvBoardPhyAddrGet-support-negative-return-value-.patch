From 84d07badf6581070e552dfd1a407b21e5e9ba728 Mon Sep 17 00:00:00 2001
From: Omri Itach <omrii@marvell.com>
Date: Wed, 24 Jul 2013 12:55:56 +0300
Subject: [PATCH 0891/1825] fix: mvBoardPhyAddrGet support negative return
 value for switch smi address

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 5d9b1efa91adef083b19c84c0901e99ab8eb326d

	Replaced boardEthSmiAddr to MV_32, to support negative return value for mvBoardPhyAddrGet
	(The returned smi Address when using switch is -1)
	Before this fix, -1 was returned using MV_8, which caused returning false value (255)

Change-Id: I9b04daa2dc1d66cefe5b434b668c2c0b2c741c07
Signed-off-by: Omri Itach <omrii@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/2822
Reviewed-by: Kosta Zertsekel <konszert@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/boardEnv/mvBoardEnvLib.h      |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h
index 1079749..0f5dc2d 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h
@@ -230,7 +230,7 @@ typedef enum _boardMacSpeed {
 
 typedef struct _boardMacInfo {
 	MV_BOARD_MAC_SPEED boardMacSpeed;
-	MV_8 boardEthSmiAddr;
+	MV_32 boardEthSmiAddr;
 } MV_BOARD_MAC_INFO;
 
 typedef struct _boardMppInfo {
-- 
1.7.5.4

