From 48277fc1d4afaf6d7cf47e4016efc39d348f606b Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Thu, 17 Oct 2013 12:04:27 +0200
Subject: [PATCH 1089/1825] a38x: Add routine mvBoardIsPortRgmii

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit bf95f37a7b72cb4a15a870c83d55f1467bb8d984

	return true for ETH interface 0, 1

Change-Id: I85597929d0bda3402c2340524980b0d0a5bb2c5e
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/3725
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../armada_38x_family/boardEnv/mvBoardEnvLib.c     |   26 ++++++++++++++++++-
 .../armada_38x_family/boardEnv/mvBoardEnvLib.h     |    1 +
 2 files changed, 25 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.c b/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.c
index 30f6710..1366a62 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.c
+++ b/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.c
@@ -280,7 +280,7 @@ MV_BOOL mvBoardIsPortInSgmii(MV_U32 ethPortNum)
 * mvBoardIsPortInGmii
 *
 * DESCRIPTION:
-*       This routine returns MV_TRUE for port number works in SGMII or MV_FALSE
+*	This routine returns MV_TRUE for port number works in GMII or MV_FALSE
 *	For all other options.
 *
 * INPUT:
@@ -290,12 +290,34 @@ MV_BOOL mvBoardIsPortInSgmii(MV_U32 ethPortNum)
 *       None.
 *
 * RETURN:
-*       MV_TRUE - port in SGMII.
+*       MV_TRUE - port in GMII.
 *       MV_FALSE - other.
 *
 *******************************************************************************/
 MV_BOOL mvBoardIsPortInGmii(MV_U32 ethPortNum)
 {
+	return MV_FALSE;
+}
+/*******************************************************************************
+* mvBoardIsPortInRgmii
+*
+* DESCRIPTION:
+*       This routine returns MV_TRUE for port number works in RGMII or MV_FALSE
+*	For all other options.
+*
+* INPUT:
+*       ethPortNum - Ethernet port number.
+*
+* OUTPUT:
+*       None.
+*
+* RETURN:
+*       MV_TRUE - port in RGMII.
+*       MV_FALSE - other.
+*
+*******************************************************************************/
+MV_BOOL mvBoardIsPortInRgmii(MV_U32 ethPortNum)
+{
 	if (ethPortNum < 2)
 		return MV_TRUE;
 	return MV_FALSE;
diff --git a/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.h b/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.h
index b99ae4b..79217ee 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.h
+++ b/arch/arm/mach-armada38x/armada_38x_family/boardEnv/mvBoardEnvLib.h
@@ -409,6 +409,7 @@ MV_STATUS mvBoardNameGet(char *pNameBuff, MV_U32 size);
 MV_BOARD_SPEC_INIT *mvBoardSpecInitGet(MV_VOID);
 MV_BOOL mvBoardIsPortInSgmii(MV_U32 ethPortNum);
 MV_BOOL mvBoardIsPortInGmii(MV_U32 ethPortNum);
+MV_BOOL mvBoardIsPortInRgmii(MV_U32 ethPortNum);
 MV_BOOL mvBoardIsPortLoopback(MV_U32 ethPortNum);
 MV_32 mvBoardPhyAddrGet(MV_U32 ethPortNum);
 MV_VOID mvBoardPhyAddrSet(MV_U32 ethPortNum, MV_U32 smiAddr);
-- 
1.7.5.4

