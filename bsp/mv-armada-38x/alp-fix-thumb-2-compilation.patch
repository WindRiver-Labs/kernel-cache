From 5881c48aaa8a2acb8d82b18eb7f3a5395effb129 Mon Sep 17 00:00:00 2001
From: Eran Ben-Avi <benavi@marvell.com>
Date: Mon, 24 Jun 2013 13:54:34 +0300
Subject: [PATCH 0729/1825] alp: fix thumb-2 compilation

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit add59c7770dae505c44f1b441cd07ca193ebab76

Change-Id: If1c3dfa7bd5f017ee3a42ea81ff98d78e4260375
Signed-off-by: Eran Ben-Avi <benavi@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/2334
Reviewed-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/kernel/module.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/kernel/module.c b/arch/arm/kernel/module.c
index 3f37f3a..98afd48 100644
--- a/arch/arm/kernel/module.c
+++ b/arch/arm/kernel/module.c
@@ -249,11 +249,11 @@ apply_relocate(Elf32_Shdr *sechdrs, const char *strtab, unsigned int symindex,
 				write_instr16((u16)((upper & 0xfbf0) |
 					    ((offset & 0xf000) >> 12) |
 					    ((offset & 0x0800) >> 1)),
-					doc);
+					loc);
 			write_instr16((u16)((lower & 0x8f00) |
 						  ((offset & 0x0700) << 4) |
 						  (offset & 0x00ff)),
-					doc + 2);
+					loc + 2);
 			break;
 #endif
 
-- 
1.7.5.4

