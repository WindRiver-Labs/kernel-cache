From 31824025a02760242a2563cd51f07859849d796e Mon Sep 17 00:00:00 2001
From: Biyao Zhai <biyao.zhai@windriver.com>
Date: Wed, 11 Mar 2015 16:51:52 +0800
Subject: [PATCH] arm/armada: fix the bug of read 32bit register

Now we can't read the revision Id as the verdor use bit 8-11 of the data
to identify the product revision id. Mv-armada38x boards have Z and A
revision. Accroding to the revision id,it has different configration.

Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 .../armada_38x_family/ctrlEnv/mvCtrlEnvLib.c       |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c
index fdcbce5..a548d15 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c
+++ b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c
@@ -1049,7 +1049,7 @@ MV_U16 mvCtrlModelGet(MV_VOID)
 *******************************************************************************/
 MV_U8 mvCtrlRevGet(MV_VOID)
 {
-	MV_U8 value;
+	MV_U32 value;
 
 	value = MV_REG_READ(DEV_VERSION_ID_REG);
 	return  ((value & (REVISON_ID_MASK) ) >> REVISON_ID_OFFS);
-- 
1.7.5.4

