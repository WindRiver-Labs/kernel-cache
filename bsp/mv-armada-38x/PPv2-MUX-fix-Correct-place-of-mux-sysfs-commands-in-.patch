From 24718b0c9fa05ad4971e18e64e5e60e745d5461c Mon Sep 17 00:00:00 2001
From: Dmitri Epshtein <dima@marvell.com>
Date: Tue, 25 Jun 2013 17:53:46 -0400
Subject: [PATCH 0735/1825] PPv2 MUX: fix: Correct place of mux sysfs commands
 in device tree.

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 621b18aa313d93d5ae1c3c2934d10e15ca0c00c4

        old place: /sys/devices/platform/ppv2/mux
        new place: /sys/devices/platform/pp2/mux

Change-Id: Ia11de6acbcbda6958eeb0f921e5bf1b3bd10991c
Reviewed-on: http://vgitil04.il.marvell.com:8080/2354
Reviewed-by: Star_Automation <star@marvell.com>
Reviewed-by: Uri Eliyahu <uriel@marvell.com>
Reviewed-by: Igor Patrik <igorp@marvell.com>
Tested-by: Igor Patrik <igorp@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_drivers_lsp/mv_pp2/net_dev/mv_mux_sysfs.c   |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_mux_sysfs.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_mux_sysfs.c
index eabefd4..ce0e9a2 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_mux_sysfs.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_mux_sysfs.c
@@ -220,14 +220,14 @@ int __devinit mv_mux_sysfs_init(void)
 	int err;
 	struct device *pd;
 
-	pd = bus_find_device_by_name(&platform_bus_type, NULL, "ppv2");
+	pd = bus_find_device_by_name(&platform_bus_type, NULL, "pp2");
 	if (!pd) {
-		platform_device_register_simple("ppv2", -1, NULL, 0);
-		pd = bus_find_device_by_name(&platform_bus_type, NULL, "ppv2");
+		platform_device_register_simple("pp2", -1, NULL, 0);
+		pd = bus_find_device_by_name(&platform_bus_type, NULL, "pp2");
 	}
 
 	if (!pd) {
-		printk(KERN_ERR"%s: cannot find neta device\n", __func__);
+		printk(KERN_ERR"%s: cannot find pp2 device\n", __func__);
 		pd = &platform_bus;
 	}
 
-- 
1.7.5.4

