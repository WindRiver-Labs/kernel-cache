From b9f23e2af6586693ca376f76ac1fda9d1b5d00c5 Mon Sep 17 00:00:00 2001
From: Hanna Hawa <hannah@marvell.com>
Date: Tue, 31 Dec 2013 18:21:37 +0200
Subject: [PATCH 1252/1825] fix: alp: mvBoardIsEthConnected add missing
 configurations

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit f0b257327e97668a3d78a68657aca742e675fc7f

	Added the below configurations:
	- MV_ETHCOMP_GE_MAC0_2_COMPHY_1
	- MV_ETHCOMP_GE_MAC0_2_COMPHY_3
	- MV_ETHCOMP_GE_MAC1_2_PON_ETH_SERDES
	Fix issue #154

Change-Id: I975d6e365a89520538a7f295921761de0107cc39
Signed-off-by: Hanna Hawa <hannah@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4971
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Omri Itach <omrii@marvell.com>
Tested-by: Omri Itach <omrii@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/boardEnv/mvBoardEnvLib.c      |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
index d625d7a..452adaf 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
@@ -3029,12 +3029,15 @@ MV_BOOL mvBoardIsEthConnected(MV_U32 ethNum)
 	 * If set as active in Ethernet complex board configuration */
 	if (ethNum == 0 && ((c & MV_ETHCOMP_GE_MAC0_2_GE_PHY_P0) ||
 			(c & MV_ETHCOMP_GE_MAC0_2_RGMII0) ||
+			(c & MV_ETHCOMP_GE_MAC0_2_COMPHY_1) ||
 			(c & MV_ETHCOMP_GE_MAC0_2_COMPHY_2) ||
+			(c & MV_ETHCOMP_GE_MAC0_2_COMPHY_3) ||
 			(c & MV_ETHCOMP_GE_MAC0_2_SW_P6)))
 			isConnected = MV_TRUE;
 
 	if (ethNum == 1 && ((c & MV_ETHCOMP_GE_MAC1_2_GE_PHY_P3) ||
 			(c & MV_ETHCOMP_GE_MAC1_2_RGMII1) ||
+			(c & MV_ETHCOMP_GE_MAC1_2_PON_ETH_SERDES) ||
 			(c & MV_ETHCOMP_GE_MAC1_2_SW_P4)))
 			isConnected = MV_TRUE;
 
-- 
1.7.5.4

