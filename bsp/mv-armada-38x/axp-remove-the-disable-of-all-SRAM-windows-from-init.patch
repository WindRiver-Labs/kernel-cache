From 19fb06ad6dae90bcbaad9e5d5b15f6ac9c575590 Mon Sep 17 00:00:00 2001
From: Neta Zur <neta@marvell.com>
Date: Thu, 4 Jul 2013 15:15:11 +0300
Subject: [PATCH 0782/1825] axp: remove the disable of all SRAM windows from
 init process

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit cb27444a8d8c298c57ca8cbf0af21dacde5fa78b

	Remove calling to the mvCpuIfSramWinDisable function from the
	mvCpuIfInitForCpu function.
	This change is needed to allow using of the SRAM memory by other applications.
	Calling to the mvCpuIfSramWin Disable caused to destroyed of the SRAM memory.

Change-Id: I9bea5c647687e27622decdb354c717895cb3687d
Signed-off-by: Neta Zur <neta@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/2427
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Tawfik Bayouk <tawfik@marvell.com>
Reviewed-by: Nadav Haklai <nadavh@marvell.com>
Tested-by: Nadav Haklai <nadavh@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../armada_xp_family/ctrlEnv/sys/mvCpuIf.c         |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-armadaxp/armada_xp_family/ctrlEnv/sys/mvCpuIf.c b/arch/arm/mach-armadaxp/armada_xp_family/ctrlEnv/sys/mvCpuIf.c
index dbd355b..13fe2a8 100755
--- a/arch/arm/mach-armadaxp/armada_xp_family/ctrlEnv/sys/mvCpuIf.c
+++ b/arch/arm/mach-armadaxp/armada_xp_family/ctrlEnv/sys/mvCpuIf.c
@@ -189,9 +189,6 @@ MV_STATUS mvCpuIfInitForCpu(MV_U32 cpu, MV_CPU_DEC_WIN *cpuAddrWinMap)
 	for (i = 0; i < MAX_AHB_TO_MBUS_WINS-2; i++)
 		mvAhbToMbusWinEnable(i, MV_FALSE);
 
-	/* Disable all SRAM windows  */
-	mvCpuIfSramWinDisable();
-
 	/* First disable all CPU target windows  */
 	for (target = 0; cpuAddrWinMap[target].enable != TBL_TERM; target++) {
 		if ((MV_TARGET_IS_DRAM(target)) || (target == INTER_REGS))
-- 
1.7.5.4

