From a856eaf8c24811395ab349da8c9a288254a78b95 Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Wed, 20 Mar 2013 20:31:31 +0200
Subject: [PATCH 0514/1825] ALP: Fix clock event by calling setup

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 64fc02eb460466c754cc6cebe90ca0c10a04a36f

Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Change-Id: I21da23d632b60e888d0bda9903d6954c7d8c8ff8
Reviewed-on: http://vgitil04.il.marvell.com:8080/1362
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/time.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-avantalp/time.c b/arch/arm/mach-avantalp/time.c
index b2b611f..20c9647 100644
--- a/arch/arm/mach-avantalp/time.c
+++ b/arch/arm/mach-avantalp/time.c
@@ -264,6 +264,7 @@ static void __init alp_timer_init(void)
 	ticks_per_jiffy = (rate + HZ/2) / HZ;
 
 	alp_setup_clocksource(0, rate);
+	alp_setup_clockevent(IRQ_GLOB_TIMER1, rate);
 	alp_twd_init();
 }
 
-- 
1.7.5.4

