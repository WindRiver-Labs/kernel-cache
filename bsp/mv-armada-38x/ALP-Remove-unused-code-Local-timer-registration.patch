From 2f62ab2ff92ea06f8400cac8f1f53974e81807c6 Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Wed, 20 Mar 2013 15:59:07 +0200
Subject: [PATCH 0527/1825] ALP: Remove unused code: Local timer registration

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 28e9897dcb283a514d894fdacb8dc6610976cb01

Change-Id: I483b59db22c7bcf2a97c594d5386d341cc073d96
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/1349
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/Makefile     |    1 -
 arch/arm/mach-avantalp/localtimer.c |   29 -----------------------------
 2 files changed, 0 insertions(+), 30 deletions(-)
 delete mode 100644 arch/arm/mach-avantalp/localtimer.c

diff --git a/arch/arm/mach-avantalp/Makefile b/arch/arm/mach-avantalp/Makefile
index 762b4d2..0669b06 100644
--- a/arch/arm/mach-avantalp/Makefile
+++ b/arch/arm/mach-avantalp/Makefile
@@ -190,7 +190,6 @@ avantalp-$(CONFIG_MV_AMP_ENABLE)	+= $(SOC_ENV_DIR)/mvUnitMap.o
 avantalp-$(CONFIG_MV_AMP_ENABLE)	+= $(SOC_ENV_DIR)/mvSemaphore.o
 avantalp-$(CONFIG_PROC_FS)		+= dump_cp15_regs.o
 obj-$(CONFIG_FB_DOVE_CLCD)		+= clcd.o
-obj-$(CONFIG_LOCAL_TIMERS) += localtimer.o
 
 
 ifdef CONFIG_MV_ETH_NFP
diff --git a/arch/arm/mach-avantalp/localtimer.c b/arch/arm/mach-avantalp/localtimer.c
deleted file mode 100644
index d72786a..0000000
--- a/arch/arm/mach-avantalp/localtimer.c
+++ /dev/null
@@ -1,29 +0,0 @@
-/*
- *  linux/arch/arm/plat-versatile/localtimer.c
- *
- *  Copyright (C) 2002 ARM Ltd.
- *  All Rights Reserved
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
- */
-#include <linux/init.h>
-#include <linux/smp.h>
-#include <linux/clockchips.h>
-
-#include <asm/smp_twd.h>
-#include <asm/localtimer.h>
-#include <mach/irqs.h>
-
-int __cpuinit twd_timer_setup(struct clock_event_device *clk);
-
-/*
- * Setup the local clock events for a CPU.
- */
-int __cpuinit local_timer_setup(struct clock_event_device *evt)
-{
-	evt->irq = IRQ_LOCALTIMER;
-	twd_timer_setup(evt);
-	return 0;
-}
-- 
1.7.5.4

