From 66af8340e513bbba03908e26aa17a0fff7174d42 Mon Sep 17 00:00:00 2001
From: Yoni Farhadian <yonif@marvell.com>
Date: Thu, 23 May 2013 09:16:33 +0300
Subject: [PATCH 0677/1825] PPv2: Fix mvBoard isLB and speedGet

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit d0c2a2816215563847a0f7d03a8fad01fa996a64

Change-Id: I7f380ca566e87c9bb3fee19341ed3dbbcbe45ba2
Signed-off-by: Yoni Farhadian <yonif@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/1948
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/boardEnv/mvBoardEnvLib.c      |    4 ----
 .../avanta_lp_family/boardEnv/mvBoardEnvSpec.c     |    4 ++--
 2 files changed, 2 insertions(+), 6 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
index 9e5c501..20ccbff 100755
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
@@ -408,11 +408,7 @@ MV_BOARD_MAC_SPEED mvBoardMacSpeedGet(MV_U32 ethPortNum)
 *******************************************************************************/
 MV_BOOL mvBoardIsPortLoopback(MV_U32 ethPortNum)
 {
-#if defined(CONFIG_MACH_AVANTA_LP_FPGA)
 	return (ethPortNum == 2);
-#endif
-
-	return MV_FALSE;
 }
 
 /*******************************************************************************
diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
index 5e41e5e..24465e9 100755
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
@@ -177,7 +177,7 @@ MV_BOARD_MAC_INFO db88f6660InfoBoardMacInfo[] = {
 	/* {{MV_BOARD_MAC_SPEED boardMacSpeed, MV_8 boardEthSmiAddr}} */
 	{ BOARD_MAC_SPEED_1000M, -1									},
 	{ BOARD_MAC_SPEED_AUTO, 0x1									},
-	{ N_A,			N_A									}
+	{ BOARD_MAC_SPEED_1000M, -1									}
 };
 MV_BOARD_MPP_TYPE_INFO db88f6660InfoBoardModTypeInfo[] = {
 	{
@@ -284,7 +284,7 @@ MV_BOARD_MAC_INFO db88f6650InfoBoardMacInfo[] = {
 	/* {{MV_BOARD_MAC_SPEED boardMacSpeed, MV_8 boardEthSmiAddr}} */
 	{ BOARD_MAC_SPEED_AUTO, 0x0 },
 	{ BOARD_MAC_SPEED_AUTO, 0x3 },
-	{ N_A,			N_A },
+	{ BOARD_MAC_SPEED_1000M, -1 },
 };
 
 MV_BOARD_MPP_TYPE_INFO db88f6650InfoBoardModTypeInfo[] = {
-- 
1.7.5.4

