From 4b45e1ea3b18db4b5f93bcf4fe403ac57a4d7ab0 Mon Sep 17 00:00:00 2001
From: Yehuda Yitschak <yehuday@marvell.com>
Date: Thu, 15 Nov 2012 10:20:37 +0200
Subject: [PATCH 0343/1825] GPIO Suspend: Modified register write order in
 resume Signed-off-by: Yehuda Yitschak
 <yehuday@marvell.com>

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 56671357c78045096872bf62cf1be0bc5b98e14c

Change-Id: I2307650a4d0482d0b895221a97f5b9684d36eacf
Signed-off-by: Yehuda Yitschak <yehuday@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../plat-armada/mv_drivers_lsp/mv_gpio/mv_gpio.c   |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_gpio/mv_gpio.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_gpio/mv_gpio.c
index ea8b51c..7f96800 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_gpio/mv_gpio.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_gpio/mv_gpio.c
@@ -203,12 +203,12 @@ static int mv_gpio_resume(struct platform_device *dev)
 	for(i = 0; i < MV_GPP_MAX_REG_SET; i++)
 	{
 		MV_REG_WRITE(GPP_DATA_OUT_REG(i), regs[i].data_out);
-		MV_REG_WRITE(GPP_DATA_OUT_EN_REG(i), regs[i].data_out_enable);
 		MV_REG_WRITE(GPP_BLINK_EN_REG(i), regs[i].blink_enable);
 		MV_REG_WRITE(GPP_DATA_IN_POL_REG(i), regs[i].data_in_polarity);
 		MV_REG_WRITE(GPP_INT_MASK_REG(i), regs[i].interrupt_mask);
 		MV_REG_WRITE(GPP_INT_LVL_REG(i), regs[i].interrupt_level_mask);
 		MV_REG_WRITE(GPP_BLINK_SEL_REG(i), regs[i].blink_cntr_select);
+		MV_REG_WRITE(GPP_DATA_OUT_EN_REG(i), regs[i].data_out_enable);
 	}
 
 	return 0;
-- 
1.7.5.4

