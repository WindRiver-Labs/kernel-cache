From 4282b24c711b8b04d1d292afdba8530736afee89 Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Wed, 24 Oct 2012 11:14:24 +0200
Subject: [PATCH 0305/1825] REVERT: Vanir compilation error fixes for
 Linux-3.2

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit e56eed25fc7b7e3ba385f20f6b6afc5e8ba2e404

Change-Id: Iba39d7e83d4628805d920932549202287218e1f9
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/scsi/vanir/linux/linux_main.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/drivers/scsi/vanir/linux/linux_main.c b/drivers/scsi/vanir/linux/linux_main.c
index 4f90e42..84a729a 100644
--- a/drivers/scsi/vanir/linux/linux_main.c
+++ b/drivers/scsi/vanir/linux/linux_main.c
@@ -77,19 +77,19 @@ static int mv_probe(struct pci_dev *dev, const struct pci_device_id *id)
 	if (ret)
 		goto err_req_region;
 
-	if ( !pci_set_dma_mask(dev, DMA_BIT_MASK(64)) ) {
-		ret = pci_set_consistent_dma_mask(dev, DMA_BIT_MASK(64));
+	if ( !pci_set_dma_mask(dev, DMA_64BIT_MASK) ) {
+		ret = pci_set_consistent_dma_mask(dev, DMA_64BIT_MASK);
 		if (ret) {
 			ret = pci_set_consistent_dma_mask(dev,
-							  DMA_BIT_MASK(32));
+							  DMA_32BIT_MASK);
 			if (ret)
 				goto err_dma_mask;
 		}
 	} else {
-		ret = pci_set_dma_mask(dev, DMA_BIT_MASK(32));
+		ret = pci_set_dma_mask(dev, DMA_32BIT_MASK);
 		if (ret)
 			goto err_dma_mask;
-		ret = pci_set_consistent_dma_mask(dev, DMA_BIT_MASK(32));
+		ret = pci_set_consistent_dma_mask(dev, DMA_32BIT_MASK);
 		if (ret)
 			goto err_dma_mask;
 	}
-- 
1.7.5.4

