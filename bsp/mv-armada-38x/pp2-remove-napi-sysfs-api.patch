From d2061f55eb3e8f98a45dd54f279d9f8165026861 Mon Sep 17 00:00:00 2001
From: Uri Eliyahu <uriel@marvell.com>
Date: Thu, 5 Dec 2013 13:02:35 +0200
Subject: [PATCH 1191/1825] pp2: remove napi sysfs api

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 864b67390442f176301a5167dbe92ee6f3790219

	- remove napi sysfs from compilation
	- napi sysfs file is still exist under net_dev dir

Change-Id: I361d35174938fa063471e337872b84289e879281
Signed-off-by: Uri Eliyahu <uriel@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4607
Reviewed-by: Dmitri Epshtein <dima@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../arm/plat-armada/mv_drivers_lsp/mv_pp2/Makefile |    2 +-
 .../mv_drivers_lsp/mv_pp2/net_dev/mv_eth_sysfs.c   |    3 ---
 2 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Makefile b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Makefile
index 25bcf51..894b133 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Makefile
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/Makefile
@@ -35,7 +35,7 @@ mv_pp2-objs +=  $(PP2_COMMON_DIR)/mvPp2Common.o
 
 mv_pp2-objs += net_dev/mv_netdev.o net_dev/mv_ethernet.o net_dev/mv_eth_sysfs.o net_dev/mv_eth_tool.o
 mv_pp2-objs += net_dev/mv_eth_rx_sysfs.o net_dev/mv_eth_tx_sysfs.o net_dev/mv_eth_tx_sched_sysfs.o
-mv_pp2-objs += net_dev/mv_eth_napi_sysfs.o net_dev/mv_eth_pme_sysfs.o net_dev/mv_eth_pon_sysfs.o
+mv_pp2-objs += net_dev/mv_eth_pme_sysfs.o net_dev/mv_eth_pon_sysfs.o
 mv_pp2-objs += net_dev/mv_eth_bm_sysfs.o net_dev/mv_eth_qos_sysfs.o net_dev/mv_eth_dbg_sysfs.o
 
 ifeq ($(CONFIG_MV_ETH_HWF),y)
diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_sysfs.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_sysfs.c
index 310d3a1..b082dca 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_sysfs.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_sysfs.c
@@ -44,7 +44,6 @@ static ssize_t mv_eth_help(char *buf)
 	int off = 0;
 
 	off += sprintf(buf+off, "cd                 bm          - move to BM sysfs directory\n");
-	off += sprintf(buf+off, "cd                 napi        - move to NAPI groups API sysfs directory\n");
 	off += sprintf(buf+off, "cd                 rx          - move to RX sysfs directory\n");
 	off += sprintf(buf+off, "cd                 tx          - move to TX sysfs directory\n");
 	off += sprintf(buf+off, "cd                 tx_sched    - move to TX Scheduler sysfs directory\n");
@@ -307,7 +306,6 @@ int mv_pp2_gbe_sysfs_init(struct kobject *pp2_kobj)
 	}
 
 	mv_pp2_bm_sysfs_init(gbe_kobj);
-	mv_pp2_napi_sysfs_init(gbe_kobj);
 	mv_pp2_rx_sysfs_init(gbe_kobj);
 	mv_pp2_tx_sysfs_init(gbe_kobj);
 	mv_pp2_tx_sched_sysfs_init(gbe_kobj);
@@ -328,7 +326,6 @@ int mv_pp2_gbe_sysfs_exit(struct kobject *pp2_kobj)
 	mv_pp2_tx_sched_sysfs_exit(gbe_kobj);
 	mv_pp2_tx_sysfs_exit(gbe_kobj);
 	mv_pp2_rx_sysfs_exit(gbe_kobj);
-	mv_pp2_napi_sysfs_exit(gbe_kobj);
 	mv_pp2_bm_sysfs_exit(gbe_kobj);
 #ifdef CONFIG_MV_ETH_HWF
 	mv_pp2_gbe_hwf_sysfs_exit(gbe_kobj);
-- 
1.7.5.4

