From 7177c5985c99c59fa34cf286946a371ce59c6afb Mon Sep 17 00:00:00 2001
From: Dmitri Epshtein <dima@marvell.com>
Date: Mon, 21 Oct 2013 16:33:32 -0400
Subject: [PATCH 1042/1825] pp2: update debug function to show rxDma registers

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 3859f822578fe17a9165d334c77102371624d22d

	Remove unused debug functions

Change-Id: Ibe4b16761b68aed1be0f4437d8a5293b08700467
Signed-off-by: Dmitri Epshtein <dima@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/3803
Reviewed-by: Uri Eliyahu <uriel@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../arm/plat-armada/mv_hal/pp2/gbe/mvPp2GbeDebug.c |   83 ++------------------
 1 files changed, 7 insertions(+), 76 deletions(-)

diff --git a/arch/arm/plat-armada/mv_hal/pp2/gbe/mvPp2GbeDebug.c b/arch/arm/plat-armada/mv_hal/pp2/gbe/mvPp2GbeDebug.c
index 3ff0840..46ebf9e 100644
--- a/arch/arm/plat-armada/mv_hal/pp2/gbe/mvPp2GbeDebug.c
+++ b/arch/arm/plat-armada/mv_hal/pp2/gbe/mvPp2GbeDebug.c
@@ -79,16 +79,16 @@ MV_VOID mvPp2RxDmaRegsPrint(void)
 
 	mvOsPrintf("\n[RX DMA regs]\n");
 
+	mvOsPrintf("\nRXQs [0..%d] registers\n", MV_ETH_RXQ_TOTAL_NUM);
+	for (i = 0; i < MV_ETH_RXQ_TOTAL_NUM; i++) {
+		mvPp2PrintReg2(MV_PP2_RXQ_SNOOP_REG(i),  "MV_PP2_RXQ_SNOOP_REG", i);
+		mvPp2PrintReg2(MV_PP2_RXQ_CONFIG_REG(i), "MV_PP2_RXQ_CONFIG_REG", i);
+	}
+	mvOsPrintf("\nBM pools [0..%d] registers\n", MV_BM_POOLS);
 	for (i = 0; i < MV_BM_POOLS; i++)
 		mvPp2PrintReg2(MV_PP2_POOL_BUF_SIZE_REG(i), "MV_PP2_POOL_BUF_SIZE_REG", i);
 
-	mvOsPrintf("\n");
-
-	for (i = 0; i < MV_ETH_RXQ_TOTAL_NUM; i++)
-		mvPp2PrintReg2(MV_PP2_RXQ_CONFIG_REG(i), "MV_PP2_RXQ_CONFIG_REG", i);
-
-	mvOsPrintf("\n");
-
+	mvOsPrintf("\nIngress ports [0..%d] registers\n", MV_PP2_MAX_PORTS);
 	for (i = 0; i < MV_PP2_MAX_PORTS; i++) {
 		mvPp2PrintReg2(MV_PP2_PORT_HWF_CONFIG_REG(i), "MV_PP2_PORT_HWF_CONFIG_REG", i);
 		mvPp2PrintReg2(MV_PP2_RX_CTRL_REG(i), "MV_PP2_RX_CTRL_REG", i);
@@ -96,75 +96,6 @@ MV_VOID mvPp2RxDmaRegsPrint(void)
 	mvOsPrintf("\n");
 }
 
-
-
-MV_VOID mvPp2DescMgrRegsRxPrint(void)
-{
-	MV_U32 val, val1;
-	int i;
-
-	mvOsPrintf("--- %s ---\n\n", __func__);
-
-	for (i = 0; i < MV_ETH_RXQ_TOTAL_NUM; i++) {
-		mvOsPrintf("RXQ %d:\n", i);
-		mvPp2WrReg(MV_PP2_RXQ_NUM_REG, i);
-		val1 = mvPp2RdReg(MV_PP2_RXQ_DESC_ADDR_REG);
-		val = mvPp2RdReg(MV_PP2_RXQ_DESC_SIZE_REG);
-		mvOsPrintf("   addr reg: 0x%x,   size reg: 0x%x\n", val1, val);
-		mvOsPrintf("   * address: %d,  size: %d,  L2 deposit: %d\n", val1,
-				val & MV_PP2_RXQ_DESC_SIZE_MASK,
-				(val & MV_PP2_RXQ_L2_DEPOSIT_MASK) >> MV_PP2_RXQ_L2_DEPOSIT_OFFSET);
-
-		val = mvPp2RdReg(MV_PP2_RXQ_STATUS_REG(i));
-		mvOsPrintf("   status reg: 0x%x\n", val);
-		mvOsPrintf("   * occupied: %d,  non-occupied: %d\n",
-				(val & MV_PP2_RXQ_OCCUPIED_MASK) >> MV_PP2_RXQ_OCCUPIED_OFFSET,
-				(val & MV_PP2_RXQ_NON_OCCUPIED_MASK) >> MV_PP2_RXQ_NON_OCCUPIED_OFFSET);
-
-		val = mvPp2RdReg(MV_PP2_RXQ_THRESH_REG);
-		mvOsPrintf("   rx thresh reg: 0x%x\n", val);
-		mvOsPrintf("   * occupied thrsh: %d,  non-occupied thrsh: %d\n",
-				(val & MV_PP2_OCCUPIED_THRESH_MASK) >> MV_PP2_OCCUPIED_THRESH_OFFSET,
-				(val & MV_PP2_NON_OCCUPIED_THRESH_MASK) >> MV_PP2_NON_OCCUPIED_THRESH_OFFSET);
-	}
-	mvOsPrintf("\n");
-}
-
-MV_VOID mvPp2DescMgrRegsTxPrint(void)
-{
-	MV_U32 val, val1, val2;
-	int i;
-
-	mvOsPrintf("--- %s ---\n\n", __func__);
-
-	for (i = 0; i < MV_PP2_TXQ_TOTAL_NUM; i++) {
-		mvOsPrintf("TXQ %d:\n", i);
-		mvPp2WrReg(MV_PP2_TXQ_NUM_REG, i);
-		val1 = mvPp2RdReg(MV_PP2_TXQ_DESC_ADDR_REG);
-		val = mvPp2RdReg(MV_PP2_TXQ_DESC_SIZE_REG);
-		val2 = mvPp2RdReg(MV_PP2_TXQ_DESC_HWF_SIZE_REG);
-		mvOsPrintf("   addr reg: 0x%x,   size reg: 0x%x,  hwf size reg: 0x%x\n", val1, val, val2);
-		mvOsPrintf("   * address: %d,  size: %d,   hwf size: %d\n", val1, val, val2);
-
-		val = mvPp2RdReg(MV_PP2_TXQ_SENT_REG(i));
-		mvOsPrintf("   status reg: 0x%x\n", val);
-		mvOsPrintf("   * transmitted count: %d\n",
-				(val & MV_PP2_TRANSMITTED_COUNT_MASK) >> MV_PP2_TRANSMITTED_COUNT_OFFSET);
-
-		val = mvPp2RdReg(MV_PP2_TXQ_THRESH_REG);
-		mvOsPrintf("   tx thresh reg: 0x%x\n", val);
-		mvOsPrintf("   * transmitted thrsh: %d\n",
-				(val & MV_PP2_TRANSMITTED_THRESH_MASK) >> MV_PP2_TRANSMITTED_THRESH_OFFSET);
-
-		val = mvPp2RdReg(MV_PP2_TXQ_PENDING_REG);
-		mvOsPrintf("   desc status reg: 0x%x\n", val);
-		mvOsPrintf("   * pending: %d,  hwf pending: %d\n",
-				(val & MV_PP2_TXQ_PENDING_MASK) >> MV_PP2_TXQ_PENDING_OFFSET,
-				(val & MV_PP2_TXQ_HWF_PENDING_MASK) >> MV_PP2_TXQ_HWF_PENDING_OFFSET);
-	}
-	mvOsPrintf("\n");
-}
-
 static void mvPp2QueueShow(MV_PP2_QUEUE_CTRL *pQueueCtrl, int mode, int isTxq)
 {
 	mvOsPrintf("pFirst=%p (0x%x), numOfDescr=%d\n",
-- 
1.7.5.4

