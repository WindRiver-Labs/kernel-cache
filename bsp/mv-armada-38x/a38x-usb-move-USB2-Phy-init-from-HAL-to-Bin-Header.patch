From 7d62dcf50716658c7f13a63c32796aa488a88823 Mon Sep 17 00:00:00 2001
From: Neta Zur <neta@marvell.com>
Date: Wed, 8 Jan 2014 10:55:11 +0200
Subject: [PATCH 1276/1825] a38x: usb: move USB2 Phy init from HAL to Bin
 Header

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit fa31dd262cb92f6546f81eef4c80de1f6f73a001

Change-Id: Ic942aa146a124c667d65e5b89476cefe6d833192
Signed-off-by: Neta Zur <neta@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/5048
Reviewed-by: Nadav Haklai <nadavh@marvell.com>
Tested-by: Nadav Haklai <nadavh@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/plat-armada/mv_hal/usb/mvUsb.c |   17 +----------------
 1 files changed, 1 insertions(+), 16 deletions(-)

diff --git a/arch/arm/plat-armada/mv_hal/usb/mvUsb.c b/arch/arm/plat-armada/mv_hal/usb/mvUsb.c
index ecc7bdc..90e3e0b 100755
--- a/arch/arm/plat-armada/mv_hal/usb/mvUsb.c
+++ b/arch/arm/plat-armada/mv_hal/usb/mvUsb.c
@@ -183,19 +183,6 @@ int mvUsbBackVoltageUpdate(int dev, MV_U8 gppNo)
 }
 #endif /* MV_USB_VOLTAGE_FIX */
 
-/* USB Phy init specific for 28nm (88F68XX) */
-MV_STATUS mvUsbPhy28nmInit(int dev)
-{
-	/* Temporary init sequence until final init sequence is stable */
-	MV_REG_WRITE(0x18440, 0x62);
-	MV_REG_WRITE(0xC0000, 0x40605205);
-	MV_REG_WRITE(0xC0004, 0x409);
-	MV_REG_WRITE(0xC000C, 0x1be7f6f);
-
-	mvOsPrintf("USB2 UTMI PHY initialized succesfully\n");
-
-	return MV_OK;
-}
 /* USB Phy init specific for 40nm LP (88F6660) */
 MV_STATUS mvUsbPhy40nmLpInit(int dev)
 {
@@ -837,9 +824,7 @@ MV_STATUS mvUsbUtmiPhyInit(int dev, MV_USB_HAL_DATA *usbHalData)
 		/* status = mvUsbPhy40nmLpInit(dev); */
 
 	} else if (usbHalData->ctrlFamily == MV_88F68XX) {
-
-		status = mvUsbPhy28nmInit(dev);
-
+		/* The USB Phy init of MV_88F68XX is done by the Bin Header */
 	} else
 		mvUsbPhyInit(dev);
 
-- 
1.7.5.4

