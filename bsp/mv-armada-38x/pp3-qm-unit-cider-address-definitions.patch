From 4d272623af2840f83cb2d15056ffa7556ce5ad0f Mon Sep 17 00:00:00 2001
From: Dovrat <dovrat@marvell.com>
Date: Sun, 27 Apr 2014 10:00:49 +0300
Subject: [PATCH 1593/1825] pp3: qm: unit cider address definitions

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit f05be3bf935d60c02e597b82f1fffe7bbb8223e5

Change-Id: I38b5d7ed36e40df94f94d81da0f338fb1a1469ea
Signed-off-by: Dovrat <dovrat@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/7706
Reviewed-by: Yelena Krivosheev <yelena@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Dmitri Epshtein <dima@marvell.com>
Tested-by: Dmitri Epshtein <dima@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.c |   29 ++++++----------------
 drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.h |   13 ++++-----
 2 files changed, 14 insertions(+), 28 deletions(-)

diff --git a/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.c b/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.c
index 73fd65b..2a2a304 100644
--- a/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.c
+++ b/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.c
@@ -77,29 +77,16 @@ int qm_reg_address_alias_init(void)
 	int rc = -QM_ALIAS_ERROR;
 	u32 siliconBase;
 
-	/*u32 bid, i;*/
-/*	u32      siliconBase    = SILICON_BASE; */
-	u32      qm_unit_offset =      QM_UNIT_OFFSET;
-	u32      ql_unit_offset =      QL_UNIT_OFFSET;
-	u32     pfe_unit_offset =     PFE_UNIT_OFFSET;
-	u32     dqf_unit_offset =     DQF_UNIT_OFFSET;
-	u32     dma_unit_offset =     DMA_UNIT_OFFSET;
-	u32   sched_unit_offset =   SCHED_UNIT_OFFSET;
-	u32    drop_unit_offset =    DROP_UNIT_OFFSET;
-	u32 reorder_unit_offset = REORDER_UNIT_OFFSET;
-	u32     gpm_unit_offset =     GPM_UNIT_OFFSET;
-
 	siliconBase = mv_hw_silicon_base_addr_get();
 
-	qm.base         = siliconBase +  qm_unit_offset;    /*0x00400000*/
-	qm.ql.base      = qm.base +      ql_unit_offset;	/*0x00400000*/
-	qm.pfe.base     = qm.base +     pfe_unit_offset;	/*0x00410000*/
-	qm.dqf.base     = qm.base +     dqf_unit_offset;	/*0x00420000*/
-	qm.dma.base     = qm.base +     dma_unit_offset;	/*0x00430000*/
-	qm.sched.base   = qm.base +   sched_unit_offset;	/*0x00440000*/
-	qm.drop.base    = qm.base +    drop_unit_offset;	/*0x00480000*/
-	qm.reorder.base = qm.base + reorder_unit_offset;	/*0x00500000*/
-	qm.gpm.base     = qm.base +     gpm_unit_offset;	/*0x00600000*/
+	qm.ql.base      = siliconBase + QL_UNIT_OFFSET;	/*0x00400000*/
+	qm.pfe.base     = siliconBase + PFE_UNIT_OFFSET;	/*0x00410000*/
+	qm.dqf.base     = siliconBase + DQF_UNIT_OFFSET;	/*0x00420000*/
+	qm.dma.base     = siliconBase + DMA_UNIT_OFFSET;	/*0x00430000*/
+	qm.sched.base   = siliconBase + SCHED_UNIT_OFFSET;	/*0x00440000*/
+	qm.drop.base    = siliconBase + DROP_UNIT_OFFSET;	/*0x00480000*/
+	qm.reorder.base = siliconBase + REORDER_UNIT_OFFSET;	/*0x00500000*/
+	qm.gpm.base     = siliconBase + GPM_UNIT_OFFSET;	/*0x00600000*/
 
 	/* QL registers addresses */
 	qm.ql.qptr                 = qm.ql.base + 0x00000000;
diff --git a/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.h b/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.h
index 5595631..1cc0b7d 100644
--- a/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.h
+++ b/drivers/net/ethernet/marvell/pp3/qm/mv_qm_regs.h
@@ -67,13 +67,12 @@ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 #include "qm/mv_qm.h"
 
-#define      QM_UNIT_OFFSET 0x00400000
-#define      QL_UNIT_OFFSET 0x00000000
-#define     PFE_UNIT_OFFSET 0x00010000
-#define     DQF_UNIT_OFFSET 0x00020000
-#define     DMA_UNIT_OFFSET 0x00030000
-#define   SCHED_UNIT_OFFSET 0x00040000
-#define    DROP_UNIT_OFFSET 0x00080000
+#define      QL_UNIT_OFFSET 0x00400000
+#define     PFE_UNIT_OFFSET 0x00410000
+#define     DQF_UNIT_OFFSET 0x00420000
+#define     DMA_UNIT_OFFSET 0x00430000
+#define   SCHED_UNIT_OFFSET 0x00440000
+#define    DROP_UNIT_OFFSET 0x00480000
 #define REORDER_UNIT_OFFSET 0x00100000
 #define     GPM_UNIT_OFFSET 0x00200000
 
-- 
1.7.5.4

