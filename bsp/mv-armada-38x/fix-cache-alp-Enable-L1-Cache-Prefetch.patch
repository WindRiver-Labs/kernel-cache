From ffc482438d68f934887b9e0b96491bcc7b6b994e Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Sun, 24 Nov 2013 15:05:36 +0200
Subject: [PATCH 1157/1825] fix: cache: alp: Enable L1 Cache Prefetch

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 18602889109b93ae6bd4291980ab8eeb748d22cc

	This patch fixes the JIRA bug SYSTEMSW-101:

	L1 cache prefetch is not enabled by default for UP
	http://jirail.marvell.com:8080/browse/SYSTEMSW-101

Change-Id: Ia02ba6fa83e9e414e9519bbd6c9609a4c4b6b626
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4429
Reviewed-by: Igor Patrik <igorp@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mm/proc-v7.S |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mm/proc-v7.S b/arch/arm/mm/proc-v7.S
index 0a09c8b..4bd3ba9 100644
--- a/arch/arm/mm/proc-v7.S
+++ b/arch/arm/mm/proc-v7.S
@@ -180,7 +180,7 @@ __v7_ca15mp_setup:
 #elif defined (CONFIG_AURORA_IO_CACHE_COHERENCY)
 	mrc	p15, 0, r0, c1, c0, 1
 	mov	r0, #(1 << 6)
-	mov	r10, #(1 << 0)
+	orr	r10, r10, #(1 << 0)
 	orr	r0, r0, r10
 	mcr	p15, 0, r0, c1, c0, 1
 #endif
-- 
1.7.5.4

