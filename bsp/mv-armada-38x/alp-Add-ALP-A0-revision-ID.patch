From b8851d345c7b7409aeb56003a108059741f2df8a Mon Sep 17 00:00:00 2001
From: Hanna Hawa <hannah@marvell.com>
Date: Wed, 5 Feb 2014 19:16:33 +0200
Subject: [PATCH 1333/1825] alp: Add ALP-A0 revision ID

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 4a6438d516a6d2f7a44c9723c6df86ed0e48ab49

	- Add ALP-A0 revision ID to revisions list
	- Fix name of revision names array

Change-Id: If5a04eb3e6e9d414f01c2d96ace167d694b0c8bb
Signed-off-by: Hanna Hawa <hannah@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/5464
Reviewed-by: Omri Itach <omrii@marvell.com>
Reviewed-by: Shadi Ammouri <shadi@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c        |    4 +++-
 arch/arm/plat-armada/common/mvDeviceId.h           |    7 +++++--
 2 files changed, 8 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c
index 57d2d73..34552f0 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c
@@ -1448,6 +1448,7 @@ MV_U32 mvCtrlRevGet(MV_VOID)
 	case MV_88F66X0_Z1_ID:
 	case MV_88F66X0_Z2_ID:
 	case MV_88F66X0_Z3_ID:
+	case MV_88F66XX_A0_ID:
 			return value;
 	default:
 			mvOsPrintf("%s: Error: Failed to read Revision ID\n", __func__);
@@ -1495,7 +1496,7 @@ MV_VOID mvCtrlNameGet(char *pNameBuff)
 MV_VOID mvCtrlRevNameGet(char *pNameBuff)
 {
 	MV_U32 revId;
-	char *revArray[] = MV_88FX66X0_ID_ARRAY;
+	char *revArray[] = MV_88F66X0_ID_ARRAY;
 
 	revId = mvCtrlRevGet();
 
@@ -1503,6 +1504,7 @@ MV_VOID mvCtrlRevNameGet(char *pNameBuff)
 	case MV_88F66X0_Z1_ID:
 	case MV_88F66X0_Z2_ID:
 	case MV_88F66X0_Z3_ID:
+	case MV_88F66XX_A0_ID:
 			mvOsSPrintf(pNameBuff, " Rev %s", revArray[revId]);
 			return;
 	default:
diff --git a/arch/arm/plat-armada/common/mvDeviceId.h b/arch/arm/plat-armada/common/mvDeviceId.h
index e816a80..29accaa 100644
--- a/arch/arm/plat-armada/common/mvDeviceId.h
+++ b/arch/arm/plat-armada/common/mvDeviceId.h
@@ -360,11 +360,14 @@ extern "C" {
 #define MV_88F66X0_Z2_NAME      "Z2"
 #define MV_88F66X0_Z3_ID	0x2
 #define MV_88F66X0_Z3_NAME      "Z3"
+#define MV_88F66XX_A0_ID	0x3
+#define MV_88F66XX_A0_NAME	"A0"
 
-#define MV_88FX66X0_ID_ARRAY { \
+#define MV_88F66X0_ID_ARRAY { \
 	MV_88F66X0_Z1_NAME,\
 	MV_88F66X0_Z2_NAME,\
-	MV_88F66X0_Z3_NAME \
+	MV_88F66X0_Z3_NAME,\
+	MV_88F66XX_A0_NAME \
 };
 
 /* Armada 375 Family */
-- 
1.7.5.4

