From 42f66ecb5f5423a7dfff9f927260f0182f6c1395 Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Mon, 3 Sep 2012 19:04:09 +0300
Subject: [PATCH 0250/1825] Fix DRAM windows for mainline drivers

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 3db03fab5f8743a7baded3a19c8c95d08fb69d9d

Change-Id: I1b176309b10e16ec5b9fccd3443b22f1b570c032
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-armadaxp/core.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-armadaxp/core.c b/arch/arm/mach-armadaxp/core.c
index 6ea8122..feacf05 100644
--- a/arch/arm/mach-armadaxp/core.c
+++ b/arch/arm/mach-armadaxp/core.c
@@ -461,12 +461,9 @@ void __init armadaxp_setup_cpu_mbus(void)
 		 */
 		if (size & 1) {
 			struct mbus_dram_window *w;
-
-#ifdef CONFIG_ARM_LPAE
 			if (base & 0xf)
 				/* BaseExtension is used (> 4GB).*/
 				continue;
-#endif
 			w = &armadaxp_mbus_dram_info.cs[cs++];
 			w->cs_index = i;
 			w->mbus_attr = 0xf & ~(1 << i);
-- 
1.7.5.4

