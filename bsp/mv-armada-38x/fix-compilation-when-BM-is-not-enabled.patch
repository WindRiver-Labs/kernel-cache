From bf53998172276f18369e0c6323def1e3bcb52bfa Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Tue, 21 Aug 2012 17:35:44 +0300
Subject: [PATCH 0200/1825] fix compilation when BM is not enabled

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit fb82b8e701a3b14b9999cd4cb995535848a55ff6

Change-Id: Ifa52b5064e4c3d77096ccaea82e2e591cb42b712
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c     |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
index 533dffb..ab322f3 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
@@ -4424,7 +4424,7 @@ int mv_eth_resume_internals(struct eth_port *pp, int mtu)
 			}
 #else
 			/* Fill RXQ with buffers from RX pool */
-			mvNetaRxqBufSizeSet(pp->port, rxq, RX_BUF_SIZE(pkt_size));
+			mvNetaRxqBufSizeSet(pp->port, rxq, RX_BUF_SIZE(pp->pool_long->pkt_size));
 			mvNetaRxqBmDisable(pp->port, rxq);
 #endif /* CONFIG_MV_ETH_BM_CPU */
 			if (mvNetaRxqFreeDescNumGet(pp->port, rxq) == 0)
-- 
1.7.5.4

