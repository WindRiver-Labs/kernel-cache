From d42435eba5b7c44cdba9b9d6583aa456b1fcd8e7 Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Tue, 21 Aug 2012 17:34:56 +0300
Subject: [PATCH 0149/1825] DSMP: fixing MSI interrupt in 3.0.6

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 98ddf37d3c7e0f9bfa1c7e4db6e7cffe0aee20f0

Change-Id: I74299c54406837c99310f790f23aaa998fe21f60
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/plat-armada/msi.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/plat-armada/msi.c b/arch/arm/plat-armada/msi.c
index b74b5d1..241c6bd 100644
--- a/arch/arm/plat-armada/msi.c
+++ b/arch/arm/plat-armada/msi.c
@@ -64,6 +64,7 @@ again:
 		goto again;
 
 	dynamic_irq_init(irq);
+	irq_clear_status_flags(irq, IRQ_NOREQUEST);
 	
 	return irq;
 }
-- 
1.7.5.4

