From b810292118239be353b644976cef107e124cea78 Mon Sep 17 00:00:00 2001
From: Dovrat <dovrat@marvell.com>
Date: Mon, 21 Apr 2014 19:56:58 +0300
Subject: [PATCH 1562/1825] pp3: qm: error printouts

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit e915c6b93eb249a63ea8aee6595731bcfa2834bb

Change-Id: I9778a222677753066928e90d5a40b60ab0e38cdb
Signed-off-by: Dovrat <dovrat@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/7147
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Eliezer Ben Zeev <eliezerb@marvell.com>
Reviewed-by: Dmitri Epshtein <dima@marvell.com>
Tested-by: Dmitri Epshtein <dima@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/net/ethernet/marvell/pp3/qm/mv_qm_sysfs.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

diff --git a/drivers/net/ethernet/marvell/pp3/qm/mv_qm_sysfs.c b/drivers/net/ethernet/marvell/pp3/qm/mv_qm_sysfs.c
index 08fa7df..7ec52ed5 100644
--- a/drivers/net/ethernet/marvell/pp3/qm/mv_qm_sysfs.c
+++ b/drivers/net/ethernet/marvell/pp3/qm/mv_qm_sysfs.c
@@ -106,7 +106,6 @@ static ssize_t mv_qm_show(struct device *dev,
 	if (!capable(CAP_NET_ADMIN))
 		return -EPERM;
 
-	pr_info("mv_qm_show is called\n");
 	if (!strcmp(name, "help")) {
 		off = mv_qm_help(buf);
 	} else if (!strcmp(name, "debug")) {
@@ -141,6 +140,8 @@ static ssize_t mv_qm_config(struct device *dev,
 		rc = qm_open();
 		if (rc != OK)
 			PR_ERR_CODE(rc)
+		else
+			pr_info("QM open completed successfuly\n");
 	} else if (!strcmp(name, "close")) {
 		PR_INFO_CALLED
 		rc = qm_close();
@@ -152,11 +153,15 @@ static ssize_t mv_qm_config(struct device *dev,
 		rc = qm_default_set();
 		if (rc != OK)
 			PR_ERR_CODE(rc)
+		else
+			pr_info("QM set default values completed successfuly\n");
 	} else if (!strcmp(name, "dma_gpm_pools_def_enable")) {
 		PR_INFO_CALLED
 		rc = qm_dma_gpm_pools_def_enable();
 		if (rc != OK)
 			PR_ERR_CODE(rc)
+		else
+			pr_info("QM dma_gpm_pools_def_enable completed successfuly\n");
 	} else if (!strcmp(name, "dma_dram_pools_def_enable")) {
 		PR_INFO_CALLED
 		rc = qm_dma_dram_pools_def_enable();
-- 
1.7.5.4

