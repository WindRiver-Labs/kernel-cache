From 9743c6cff2ea4e6b215b58a3b70a841accb6ef74 Mon Sep 17 00:00:00 2001
From: Yehuda Yitschak <yehuday@marvell.com>
Date: Sun, 16 Mar 2014 15:13:59 +0200
Subject: [PATCH 1471/1825] usb: alp: removed UTMI PHY init for ALP-A0

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 79819ee0e881ba9711f7ecadb7b8e26570ad43c1

	in ALP-A0 UTMI PHY init is done in binary header

Change-Id: I5354cf6751f034317a32b44148a3db8962c6a575
Signed-off-by: Yehuda Yitschak <yehuday@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/6460
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/plat-armada/mv_hal/usb/mvUsb.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/plat-armada/mv_hal/usb/mvUsb.c b/arch/arm/plat-armada/mv_hal/usb/mvUsb.c
index 90e3e0b..f2fcdec 100755
--- a/arch/arm/plat-armada/mv_hal/usb/mvUsb.c
+++ b/arch/arm/plat-armada/mv_hal/usb/mvUsb.c
@@ -816,8 +816,8 @@ MV_STATUS mvUsbUtmiPhyInit(int dev, MV_USB_HAL_DATA *usbHalData)
 			status = MV_NOT_READY;
 
 	} else if (usbHalData->ctrlFamily == MV_88F66X0) {
-
-		status = mvUsbPhy40nmLpInit(dev);
+		if (usbHalData->ctrlRev <= MV_88F66X0_Z3_ID)
+			status = mvUsbPhy40nmLpInit(dev);
 
 	} else if (usbHalData->ctrlFamily == MV_88F67X0) {
 		/* The below init flow is incorrect for MVF67X0 and disabled until updated */
-- 
1.7.5.4

