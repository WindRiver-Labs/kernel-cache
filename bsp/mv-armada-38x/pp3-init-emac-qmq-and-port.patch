From 05e0c9e85e9814c51ddfd325ed237ef89417296c Mon Sep 17 00:00:00 2001
From: Uri Eliyahu <uriel@marvell.com>
Date: Tue, 29 Apr 2014 17:36:33 +0300
Subject: [PATCH 1603/1825] pp3: init emac qmq and port

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 3a7e1feb435473bc4d430573075af09f04722750

Change-Id: If66200b0fcd948d1b18e4dcaf2cdd84af12f1e1d
Signed-off-by: Uri Eliyahu <uriel@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/7763
Reviewed-by: Yelena Krivosheev <yelena@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Dmitri Epshtein <dima@marvell.com>
Tested-by: Dmitri Epshtein <dima@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/net/ethernet/marvell/pp3/emac/mv_emac.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/drivers/net/ethernet/marvell/pp3/emac/mv_emac.c b/drivers/net/ethernet/marvell/pp3/emac/mv_emac.c
index 8b02304..b9d35a4 100644
--- a/drivers/net/ethernet/marvell/pp3/emac/mv_emac.c
+++ b/drivers/net/ethernet/marvell/pp3/emac/mv_emac.c
@@ -115,10 +115,9 @@ void mv_pp3_emac_unit_base(int port, u32 base)
 void mv_pp3_emac_init(int port)
 {
 	int qm_port, qmq;
-	/* attach to QM */
-	/* TODO config the correct values of qm_q and qm_port */
-	/* TODO: hard code from dan DDD*/
-	/* mv_pp3_cfg_emac_qm_params_get(int emac, &qm_port, &qmq);*/
+
+	qmq = 0 + port;
+	qm_port = 3 + port;
 	mv_pp3_emac_qm_mapping(port, qm_port, qmq);
 	mv_pp3_emac_fw_data(port);
 
-- 
1.7.5.4

