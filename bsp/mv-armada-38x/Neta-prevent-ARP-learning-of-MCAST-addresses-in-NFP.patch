From 08533d80c9ce55d6732da4ed79b477a83f3e3e71 Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Tue, 21 Aug 2012 17:33:51 +0300
Subject: [PATCH 0078/1825] Neta: prevent ARP learning of MCAST addresses in
 NFP

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 4d8e94126c8424e93697acc838f9872e3b687256

Change-Id: Ie6ca4cdf69974d120fe3e02a9e13f02362a5c7d5
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c     |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
index e1a88c4..27717f2 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
@@ -1873,7 +1873,7 @@ int mv_eth_tx_tso(struct sk_buff *skb, struct net_device *dev,
 
 		/* Move to next segment */
 		frag_size = skb_frag_ptr->size;
-		frag_ptr = page_address(skb_frag_ptr->page) + skb_frag_ptr->page_offset;
+		frag_ptr = page_address(skb_frag_ptr->page.p) + skb_frag_ptr->page_offset;
 		frag++;
 	}
 	totalDescNum = 0;
@@ -1935,7 +1935,7 @@ int mv_eth_tx_tso(struct sk_buff *skb, struct net_device *dev,
 
 				/* Move to next segment */
 				frag_size = skb_frag_ptr->size;
-				frag_ptr = page_address(skb_frag_ptr->page) + skb_frag_ptr->page_offset;
+				frag_ptr = page_address(skb_frag_ptr->page.p) + skb_frag_ptr->page_offset;
 				frag++;
 			}
 		}		/* of while data_left > 0 */
-- 
1.7.5.4

