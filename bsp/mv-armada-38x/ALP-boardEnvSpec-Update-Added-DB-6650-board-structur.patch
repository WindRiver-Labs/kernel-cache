From 13f82d717895fa1b8a58662bcf3eb6dad620a78b Mon Sep 17 00:00:00 2001
From: Omri Itach <omrii@marvell.com>
Date: Wed, 17 Apr 2013 11:21:22 +0300
Subject: [PATCH 0588/1825] ALP : boardEnvSpec Update: Added DB-6650 board
 structure

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 28240b300e5dd85313b3740e59e72b2c5ab61826

- removed .pBoardSerdesConfigValue
- minor cleanup

Change-Id: Iea9689547686d4b1a73da5d9a6f86e285fffa4c6
Reviewed-on: http://vgitil04.il.marvell.com:8080/1593
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/boardEnv/mvBoardEnvLib.c      |   66 +-----
 .../avanta_lp_family/boardEnv/mvBoardEnvLib.h      |    2 -
 .../avanta_lp_family/boardEnv/mvBoardEnvSpec.c     |  261 ++++++++++++++------
 .../avanta_lp_family/boardEnv/mvBoardEnvSpec.h     |   30 ++-
 .../avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c        |    4 +-
 5 files changed, 209 insertions(+), 154 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
index 2ec12f1..ea72d36 100755
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.c
@@ -873,7 +873,7 @@ MV_VOID mvBoardMppIdUpdate(MV_VOID)
 		mvBoardMppTypeSet(5, GE0_UNIT_PON_TX_FAULT);
 		mvBoardMppTypeSet(6, GE0_UNIT);
 		mvBoardMppTypeSet(7, GE0_UNIT_LED_MATRIX);      /* omriii :when to use GE0_UNIT_UA1_PTP */
-	}else if ( (ethComplexOptions & MV_ETHCOMP_GE_MAC1_2_SW_P4) == MV_TRUE) {
+	}else if ( (ethComplexOptions & MV_ETHCOMP_SW_P4_2_RGMII0) == MV_TRUE) {
 		mvBoardMppTypeSet(5, SWITCH_P4_PON_TX_FAULT);
 		mvBoardMppTypeSet(6, SWITCH_P4);
 		mvBoardMppTypeSet(7, SWITCH_P4_LED_MATRIX); /* omriii : when to use SWITCH_P4_UA1_PTP */
@@ -2625,70 +2625,6 @@ MV_32 mvBoardSwitchPortMap(MV_U32 switchIdx, MV_U32 switchPortNum)
 }
 
 /*******************************************************************************
-* mvBoardIsSerdesConfigurationEnabled
-*
-* DESCRIPTION:
-*       Check if Serdes configuration is enabled on this board.
-*
-* INPUT:
-*       None.
-*
-* OUTPUT:
-*       None.
-*
-* RETURN:
-*       MV_STATUS - MV_OK, MV_ERROR.
-*
-*******************************************************************************/
-MV_BOOL mvBoardIsSerdesConfigurationEnabled(void)
-{
-	if (board->pBoardSerdesConfigValue)
-		return board->pBoardSerdesConfigValue->enableSerdesConfiguration;
-	else
-		return MV_FALSE;
-}
-
-/*******************************************************************************
-* mvBoardSerdesConfigurationEnableSet
-*
-* DESCRIPTION:
-*	Check if Serdes configuration is enabled on this board.
-*
-* INPUT:
-*       None.
-*
-* OUTPUT:
-*       None.
-*
-* RETURN:
-*       MV_STATUS - MV_OK, MV_ERROR.
-*
-*******************************************************************************/
-MV_STATUS mvBoardSerdesConfigurationEnableSet(MV_BOOL enableSerdesConfiguration)
-{
-	return MV_ERROR;
-}
-
-/*******************************************************************************
-* mvBoardSerdesCfgGet
-*
-* DESCRIPTION:
-*
-* INPUT:
-*
-* OUTPUT:
-*       None.
-*
-* RETURN:
-*       SERDES configuration structure or NULL on error
-*
-*******************************************************************************/
-MV_SERDES_CFG *mvBoardSerdesCfgGet(void)
-{
-	return NULL;
-}
-
-/*******************************************************************************
 * mvBoardPexInfoGet - Get board PEX Info
 *
 * DESCRIPTION:
diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h
index 5b40a9a..b320789 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvLib.h
@@ -293,8 +293,6 @@ typedef struct _boardInfo {
 	MV_BOARD_MPP_TYPE_INFO *pBoardModTypeValue;
 	MV_U8 numBoardMppConfigValue;
 	MV_BOARD_MPP_INFO *pBoardMppConfigValue;
-	MV_U8 numBoardSerdesConfigValue;
-	MV_SERDES_CFG *pBoardSerdesConfigValue;
 	MV_U32 intsGppMaskLow;
 	MV_U32 intsGppMaskMid;
 	MV_U32 intsGppMaskHigh;
diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
index 7ad6c3c..44ed315 100755
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.c
@@ -161,57 +161,6 @@ MV_BOARD_IO_EXPANDER_TYPE_INFO db88f6650InfoBoardIOExpanderInfo[] = {
 };
 
 /*******************************************************************************
- * AvantaLP FPGA board
- */
-MV_BOARD_INFO avanta_lp_fpga_board_info = {
-	.boardName			= "CortexA9-FPGA",
-	.numBoardMppTypeValue		= 0,
-	.pBoardModTypeValue		= NULL,
-	.pBoardMppConfigValue		= NULL,
-	.numBoardSerdesConfigValue	= 0,
-	.pBoardSerdesConfigValue	= NULL,
-	.intsGppMaskLow			= 0,
-	.intsGppMaskMid			= 0,
-	.intsGppMaskHigh		= 0,
-	.numBoardDeviceIf		= 0,
-	.pDevCsInfo			= NULL,
-	.numBoardTwsiDev		= 0,
-	.pBoardTwsiDev			= NULL,
-	.numBoardMacInfo		= 0,
-	.pBoardMacInfo			= NULL,
-	.numBoardGppInfo		= 0,
-	.pBoardGppInfo			= NULL,
-	.activeLedsNumber		= 0,
-	.pLedGppPin			= NULL,
-	.ledsPolarity			= 0,
-
-	/* PMU Power */
-	.pmuPwrUpPolarity		= 0,
-	.pmuPwrUpDelay			= 0,
-
-	/* GPP values */
-	.gppOutEnValLow			= 0,
-	.gppOutEnValMid			= 0,
-	.gppOutEnValHigh		= 0,
-	.gppOutValLow			= 0,
-	.gppOutValMid			= 0,
-	.gppOutValHigh			= 0,
-	.gppPolarityValLow		= 0,
-	.gppPolarityValMid		= 0,
-	.gppPolarityValHigh		= 0,
-
-	/* TDM */
-	.numBoardTdmInfo		= {},
-	.pBoardTdmInt2CsInfo		= {},
-	.boardTdmInfoIndex		= -1,
-
-	/* NAND init params */
-	.nandFlashReadParams		= 0,
-	.nandFlashWriteParams		= 0,
-	.nandFlashControl		= 0,
-};
-
-/*******************************************************************************
  * AvantaLP DB-88F6660 board */
 /*******************************************************************************/
 
@@ -239,6 +188,13 @@ MV_BOARD_MPP_TYPE_INFO db88f6660InfoBoardModTypeInfo[] = {
 	}
 };
 
+MV_DEV_CS_INFO db88f6660InfoBoardDeCsInfo[] = {
+	/*{deviceCS, params, devType, devWidth, busWidth }*/
+#if defined(MV_INCLUDE_SPI)
+	{ SPI_CS0, N_A, BOARD_DEV_SPI_FLASH, 8, 8 } /* SPI DEV */
+#endif
+};
+
 MV_BOARD_MPP_INFO db88f6660InfoBoardMppConfigValue[] = {
 	{ {
 		  DB_88F6660_MPP0_7,
@@ -270,13 +226,11 @@ MV_BOARD_INFO db88f6660_board_info = {
 	.numBoardMppTypeValue		= ARRSZ(db88f6660InfoBoardModTypeInfo),
 	.pBoardModTypeValue		= db88f6660InfoBoardModTypeInfo,
 	.pBoardMppConfigValue		= db88f6660InfoBoardMppConfigValue,
-	.numBoardSerdesConfigValue	= 0,
-	.pBoardSerdesConfigValue	= 0,
 	.intsGppMaskLow			= 0,
 	.intsGppMaskMid			= 0,
 	.intsGppMaskHigh		= 0,
-	.numBoardDeviceIf		= 0,
-	.pDevCsInfo			= 0,
+	.numBoardDeviceIf		= ARRSZ(db88f6660InfoBoardDeCsInfo),
+	.pDevCsInfo			= db88f6660InfoBoardDeCsInfo,
 	.numBoardIoExpanderInfo		= ARRSZ(db88f6660InfoBoardIOExpanderInfo),
 	.pBoardIoExpanderInfo		= db88f6660InfoBoardIOExpanderInfo,
 	.numBoardTwsiDev		= ARRSZ(db88f6660InfoBoardTwsiDev),
@@ -326,19 +280,188 @@ MV_BOARD_INFO db88f6660_board_info = {
 	.configAutoDetect		= MV_TRUE
 };
 
-MV_BOARD_INFO rd88f6650_board_info = {
+/*******************************************************************************
+ * AvantaLP DB-88F6650 board */
+/*******************************************************************************/
+
+MV_BOARD_TWSI_INFO db88f6650InfoBoardTwsiDev[] = {
+	/* {{MV_BOARD_DEV_CLASS devClass, MV_U8 devClassId,  MV_U8 twsiDevAddr, MV_U8 twsiDevAddrType}} */
+	{ BOARD_DEV_TWSI_SATR,		0,	0x4C,	   ADDR7_BIT	},
+	{ BOARD_DEV_TWSI_SATR,		1,	0x4D,	   ADDR7_BIT	},
+	{ BOARD_DEV_TWSI_EEPROM,	0,	0x54,	   ADDR7_BIT	},
+	{ BOARD_DEV_TWSI_IO_EXPANDER,	0,	0x21,	   ADDR7_BIT	},
+	{ BOARD_DEV_TWSI_IO_EXPANDER,	2,	0x24,	   ADDR7_BIT	},
+};
+MV_BOARD_MAC_INFO db88f6650InfoBoardMacInfo[] = {
+	/* {{MV_BOARD_MAC_SPEED boardMacSpeed, MV_8 boardEthSmiAddr}} */
+	{ BOARD_MAC_SPEED_AUTO, 0x4									},
+	{ BOARD_MAC_SPEED_AUTO, 0x1									},
+	{ N_A,			N_A									}
+};
+MV_BOARD_MPP_TYPE_INFO db88f6650InfoBoardModTypeInfo[] = {
+	{
+		.boardMppSlic = MV_BOARD_AUTO,
+		.ethSataComplexOpt = (MV_ETHCOMP_GE_MAC1_2_RGMII1 | MV_ETHCOMP_GE_MAC0_2_GE_PHY_P0),
+		.ethPortsMode = 0x0
+	}
+};
+
+MV_DEV_CS_INFO db88f6650InfoBoardDeCsInfo[] = {
+	/*{deviceCS, params, devType, devWidth, busWidth }*/
+#if defined(MV_INCLUDE_SPI)
+	{ SPI_CS0, N_A, BOARD_DEV_SPI_FLASH, 8, 8 } /* SPI DEV */
+#endif
+};
 
+MV_BOARD_MPP_INFO db88f6650InfoBoardMppConfigValue[] = {
+	{ {
+		  DB_88F6650_MPP0_7,
+		  DB_88F6650_MPP8_15,
+		  DB_88F6650_MPP16_23,
+		  DB_88F6650_MPP24_31,
+		  DB_88F6650_MPP32_39,
+		  DB_88F6650_MPP40_47,
+		  DB_88F6650_MPP48_55,
+		  DB_88F6650_MPP56_63,
+		  DB_88F6650_MPP64_67,
+	 } }
+};
+
+MV_BOARD_SWITCH_INFO db88f6650InfoBoardSwitchValue[] = {
+	{
+	 .switchIrq = 29,	/* set to -1 for timer operation */
+	 .switchPort = {0, 1, 2, 3, 4, -1, -1},
+	 .cpuPort = 6,
+	 .connectedPort = {6, -1},
+	 .internalQuadPhyAddr = 0,
+	 .connectedPortMask= ( BIT0| BIT1| BIT2| BIT3| BIT4| BIT6),
+	 .forceLinkMask = 0x0
+	 }
 };
 
 MV_BOARD_INFO db88f6650_board_info = {
+	.boardName			= "DB-88F6650",
+	.numBoardMppTypeValue		= ARRSZ(db88f6650InfoBoardModTypeInfo),
+	.pBoardModTypeValue		= db88f6650InfoBoardModTypeInfo,
+	.pBoardMppConfigValue		= db88f6650InfoBoardMppConfigValue,
+	.intsGppMaskLow			= 0,
+	.intsGppMaskMid			= 0,
+	.intsGppMaskHigh		= 0,
+	.numBoardDeviceIf		= ARRSZ(db88f6650InfoBoardDeCsInfo),
+	.pDevCsInfo			= db88f6650InfoBoardDeCsInfo,
+	.numBoardIoExpanderInfo		= ARRSZ(db88f6650InfoBoardIOExpanderInfo),
+	.pBoardIoExpanderInfo		= db88f6650InfoBoardIOExpanderInfo,
+	.numBoardTwsiDev		= ARRSZ(db88f6650InfoBoardTwsiDev),
+	.pBoardTwsiDev			= db88f6650InfoBoardTwsiDev,
+	.numBoardMacInfo		= ARRSZ(db88f6650InfoBoardMacInfo),
+	.pBoardMacInfo			= db88f6650InfoBoardMacInfo,
+	.numBoardGppInfo		= 0,
+	.pBoardGppInfo			= 0,
+	.activeLedsNumber		= 0,
+	.pLedGppPin			= NULL,
+	.ledsPolarity			= 0,
+
+	/* PMU Power */
+	.pmuPwrUpPolarity		= 0,
+	.pmuPwrUpDelay			= 80000,
+
+	/* GPP values */
+	.gppOutEnValLow			= DB_88F6650_GPP_OUT_ENA_LOW,
+	.gppOutEnValMid			= DB_88F6650_GPP_OUT_ENA_MID,
+	.gppOutEnValHigh		= DB_88F6650_GPP_OUT_ENA_HIGH,
+	.gppOutValLow			= DB_88F6650_GPP_OUT_VAL_LOW,
+	.gppOutValMid			= DB_88F6650_GPP_OUT_VAL_MID,
+	.gppOutValHigh			= DB_88F6650_GPP_OUT_VAL_HIGH,
+	.gppPolarityValLow		= DB_88F6650_GPP_POL_LOW,
+	.gppPolarityValMid		= DB_88F6650_GPP_POL_MID,
+	.gppPolarityValHigh		= DB_88F6650_GPP_POL_HIGH,
+
+	/* External Switch Configuration */
+	.pSwitchInfo = db88f6650InfoBoardSwitchValue,
+	.switchInfoNum = ARRSZ(db88f6650InfoBoardSwitchValue),
 
+	/* TDM */
+	.numBoardTdmInfo		= {},
+	.pBoardTdmInt2CsInfo		= {},
+	.boardTdmInfoIndex		= -1,
+
+	.pBoardSpecInit			= NULL,
+
+	/* NAND init params */
+	.nandFlashReadParams		= 0,
+	.nandFlashWriteParams		= 0,
+	.nandFlashControl		= 0,
+	/* NOR init params */
+	.norFlashReadParams		= 0,
+	.norFlashWriteParams		= 0,
+	/* Enable modules auto-detection. */
+	.configAutoDetect		= MV_TRUE
 };
 
+/*******************************************************************************
+ * AvantaLP RD-88F6650 board */
+/*******************************************************************************/
+MV_BOARD_INFO rd88f6650_board_info = {
+
+};
+
+/*******************************************************************************
+ * AvantaLP RD-88F6660 board */
+/*******************************************************************************/
 MV_BOARD_INFO rd88f6660_board_info = {
 
 };
 
 /*******************************************************************************
+ * AvantaLP FPGA board
+*******************************************************************************/
+MV_BOARD_INFO avanta_lp_fpga_board_info = {
+	.boardName			= "CortexA9-FPGA",
+	.numBoardMppTypeValue		= 0,
+	.pBoardModTypeValue		= NULL,
+	.pBoardMppConfigValue		= NULL,
+	.intsGppMaskLow			= 0,
+	.intsGppMaskMid			= 0,
+	.intsGppMaskHigh		= 0,
+	.numBoardDeviceIf		= 0,
+	.pDevCsInfo			= NULL,
+	.numBoardTwsiDev		= 0,
+	.pBoardTwsiDev			= NULL,
+	.numBoardMacInfo		= 0,
+	.pBoardMacInfo			= NULL,
+	.numBoardGppInfo		= 0,
+	.pBoardGppInfo			= NULL,
+	.activeLedsNumber		= 0,
+	.pLedGppPin			= NULL,
+	.ledsPolarity			= 0,
+
+	/* PMU Power */
+	.pmuPwrUpPolarity		= 0,
+	.pmuPwrUpDelay			= 0,
+
+	/* GPP values */
+	.gppOutEnValLow			= 0,
+	.gppOutEnValMid			= 0,
+	.gppOutEnValHigh		= 0,
+	.gppOutValLow			= 0,
+	.gppOutValMid			= 0,
+	.gppOutValHigh			= 0,
+	.gppPolarityValLow		= 0,
+	.gppPolarityValMid		= 0,
+	.gppPolarityValHigh		= 0,
+
+	/* TDM */
+	.numBoardTdmInfo		= {},
+	.pBoardTdmInt2CsInfo		= {},
+	.boardTdmInfoIndex		= -1,
+
+	/* NAND init params */
+	.nandFlashReadParams		= 0,
+	.nandFlashWriteParams		= 0,
+	.nandFlashControl		= 0,
+};
+
+/*******************************************************************************
 * AvanataLP customer board
 *******************************************************************************/
 
@@ -392,36 +515,11 @@ MV_BOARD_MPP_INFO avanta_lp_customerInfoBoardMppConfigValue[] = {
 	 } }
 };
 
-MV_SERDES_CFG avanta_lp_customerInfoBoardSerdesConfigValue[] = {
-	{       /* default */
-		MV_TRUE,
-		0x00223001,
-		0x11111111,
-		PEX_BUS_MODE_X1,
-		PEX_BUS_DISABLED,
-		PEX_BUS_MODE_X4,
-		PEX_BUS_MODE_X4,
-		0x00000030
-	},
-	{       /* Switch module */
-		MV_TRUE,
-		0x33320201,
-		0x11111111,
-		PEX_BUS_MODE_X1,
-		PEX_BUS_DISABLED,
-		PEX_BUS_MODE_X4,
-		PEX_BUS_MODE_X4,
-		0x00000030
-	},
-};
-
 MV_BOARD_INFO avanta_lp_customer_board_info = {
 	.boardName				= "AvantaLP-CUSTOMER",
 	.numBoardMppTypeValue			= ARRSZ(avanta_lp_customerInfoBoardModTypeInfo),
 	.pBoardModTypeValue			= avanta_lp_customerInfoBoardModTypeInfo,
 	.pBoardMppConfigValue			= avanta_lp_customerInfoBoardMppConfigValue,
-	.numBoardSerdesConfigValue		= ARRSZ(avanta_lp_customerInfoBoardSerdesConfigValue),
-	.pBoardSerdesConfigValue		= avanta_lp_customerInfoBoardSerdesConfigValue,
 	.intsGppMaskLow				= 0,
 	.intsGppMaskMid				= 0,
 	.intsGppMaskHigh			= 0,
@@ -475,4 +573,5 @@ MV_BOARD_INFO *boardInfoTbl[] = {
 	&rd88f6660_board_info,
 	&db88f6660_board_info,
 	&avanta_lp_fpga_board_info,
+	&avanta_lp_customer_board_info,
 };
diff --git a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.h b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.h
index 7224ddb..b338f59 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.h
+++ b/arch/arm/mach-avantalp/avanta_lp_family/boardEnv/mvBoardEnvSpec.h
@@ -109,8 +109,9 @@
    58-64			LED_MATRIX				(4)
  */
 
-/* default MPP Types */
-
+/*******************************************************************************
+* Avanata LP DB-6660 board
+*******************************************************************************/
 #define DB_88F6660_MPP0_7               0x11111111
 #define DB_88F6660_MPP8_15              0x22111111
 #define DB_88F6660_MPP16_23             0x33030022
@@ -132,7 +133,30 @@
 #define DB_88F6660_GPP_POL_HIGH         0x0
 
 /*******************************************************************************
-* AvanataLP customer board
+* Avanata LP DB-6650 board
+*******************************************************************************/
+#define DB_88F6650_MPP0_7               0x11111111
+#define DB_88F6650_MPP8_15              0x22111111
+#define DB_88F6650_MPP16_23             0x33030022
+#define DB_88F6650_MPP24_31             0x22222222
+#define DB_88F6650_MPP32_39             0x22222440
+#define DB_88F6650_MPP40_47             0x44122220
+#define DB_88F6650_MPP48_55             0x44444444
+#define DB_88F6650_MPP56_63             0x44444444
+#define DB_88F6650_MPP64_67             0x204
+
+#define DB_88F6650_GPP_OUT_ENA_LOW      0x0
+#define DB_88F6650_GPP_OUT_ENA_MID      0x0
+#define DB_88F6650_GPP_OUT_ENA_HIGH     0x0
+#define DB_88F6650_GPP_OUT_VAL_LOW      0x0
+#define DB_88F6650_GPP_OUT_VAL_MID      0x0
+#define DB_88F6650_GPP_OUT_VAL_HIGH     0x0
+#define DB_88F6650_GPP_POL_LOW          0x0
+#define DB_88F6650_GPP_POL_MID          0x0
+#define DB_88F6650_GPP_POL_HIGH         0x0
+
+/*******************************************************************************
+* Avanata LP customer board
 *******************************************************************************/
 #define AVANTA_LP_CUSTOMER_MPP0_7               0x00000000
 #define AVANTA_LP_CUSTOMER_MPP8_15              0x00000000
diff --git a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c
index 9a25485..44f1c8e 100755
--- a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvLib.c
@@ -1001,12 +1001,10 @@ MV_U16 mvCtrlModelGet(MV_VOID)
 	switch (ctrlId) {
 	case 0x6660:
 		return MV_6660_DEV_ID;
-		break;
 	case 0x6650:
 		return MV_6650_DEV_ID;
-		break;
 	default:
-		return (MV_U16)MV_ERROR;
+		return MV_6650_DEV_ID;
 	}
 }
 
-- 
1.7.5.4

