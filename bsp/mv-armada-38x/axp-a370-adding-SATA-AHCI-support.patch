From 6c62b310863dd7c7c7776e501e09058b1a7d2b74 Mon Sep 17 00:00:00 2001
From: Lior Amsalem <alior@marvell.com>
Date: Tue, 27 Nov 2012 14:44:29 +0200
Subject: [PATCH 0326/1825] axp/a370: adding SATA AHCI support

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit a72508f3e08e28bcdce225f2c57753ae9128e466

Change-Id: I776ace9fde3e7f9ab2bdd27ce5c196bdab89f24d

Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/configs/armada_370_nas_defconfig  |    1 +
 arch/arm/configs/armada_370_v7up_defconfig |    1 +
 arch/arm/configs/armada_xp_defconfig       |    1 +
 arch/arm/configs/armada_xp_nas_defconfig   |    4 +---
 4 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/arch/arm/configs/armada_370_nas_defconfig b/arch/arm/configs/armada_370_nas_defconfig
index 9c49859..50e675d 100644
--- a/arch/arm/configs/armada_370_nas_defconfig
+++ b/arch/arm/configs/armada_370_nas_defconfig
@@ -84,6 +84,7 @@ CONFIG_BLK_DEV_SR=m
 CONFIG_CHR_DEV_SG=m
 CONFIG_SCSI_MV_THOR=m
 CONFIG_ATA=y
+CONFIG_SATA_AHCI=y
 CONFIG_SATA_MV=y
 CONFIG_MD=y
 CONFIG_BLK_DEV_MD=y
diff --git a/arch/arm/configs/armada_370_v7up_defconfig b/arch/arm/configs/armada_370_v7up_defconfig
index a64b8b3..682592b 100644
--- a/arch/arm/configs/armada_370_v7up_defconfig
+++ b/arch/arm/configs/armada_370_v7up_defconfig
@@ -111,6 +111,7 @@ CONFIG_BLK_DEV_SD=y
 CONFIG_BLK_DEV_SR=m
 CONFIG_CHR_DEV_SG=m
 CONFIG_ATA=y
+CONFIG_SATA_AHCI=y
 CONFIG_SATA_MV=y
 CONFIG_MD=y
 CONFIG_BLK_DEV_MD=y
diff --git a/arch/arm/configs/armada_xp_defconfig b/arch/arm/configs/armada_xp_defconfig
index db88347..512717b 100644
--- a/arch/arm/configs/armada_xp_defconfig
+++ b/arch/arm/configs/armada_xp_defconfig
@@ -122,6 +122,7 @@ CONFIG_BLK_DEV_SD=y
 CONFIG_BLK_DEV_SR=m
 CONFIG_CHR_DEV_SG=m
 CONFIG_ATA=y
+CONFIG_SATA_AHCI=y
 CONFIG_SATA_MV=y
 CONFIG_MD=y
 CONFIG_BLK_DEV_MD=y
diff --git a/arch/arm/configs/armada_xp_nas_defconfig b/arch/arm/configs/armada_xp_nas_defconfig
index 9543fe8..bcb2204 100644
--- a/arch/arm/configs/armada_xp_nas_defconfig
+++ b/arch/arm/configs/armada_xp_nas_defconfig
@@ -39,12 +39,10 @@ CONFIG_MV_ETH_NAPI_GROUPS=4
 CONFIG_MV_CESA_TOOL=y
 CONFIG_MV_CESA_CHANNELS=2
 CONFIG_MV_CESA_CHAIN_MODE=y
-CONFIG_CPU_SHEEVA_PJ4B_V7=y
 # CONFIG_SWP_EMULATE is not set
 CONFIG_SHEEVA_ERRATA_ARM_CPU_PMU_RESET=y
 CONFIG_SHEEVA_DEEP_IDLE=y
 CONFIG_STANDBY_UART_WAKE=y
-CONFIG_ARMADA_XP_DEEP_IDLE_UNMASK_INTS_WA=y
 CONFIG_PCI_DEBUG=y
 CONFIG_NO_HZ=y
 CONFIG_SMP=y
@@ -92,8 +90,8 @@ CONFIG_BLK_DEV_LOOP=y
 CONFIG_BLK_DEV_SD=y
 CONFIG_BLK_DEV_SR=m
 CONFIG_CHR_DEV_SG=m
-CONFIG_SCSI_MV_VANIR=y
 CONFIG_ATA=y
+CONFIG_SATA_AHCI=y
 CONFIG_SATA_MV=y
 CONFIG_MD=y
 CONFIG_BLK_DEV_MD=y
-- 
1.7.5.4

