From 3443aca7c63382d221bf7a3ecaa973119826644b Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Tue, 30 Apr 2013 12:24:21 +0300
Subject: [PATCH 0617/1825] ALP: Enable mounting of TMPFS to support ttyS0 in
 Buildroot FS
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 7253937def18bfa018211bbef0cacd32c5b7b17e

The observed issue is the buildroot FS does not 'see' ttyS0.
Previous (less elegant solution) is below:

- Enter the Buildroot FS directory on the *host* machine and create ttyS0 character device by:
  sudo mknod dev/ttyS0 c 4 64
- Update ttyS0 permissions on the *host* machine by:
  sudo chmod 666 dev/ttyS0
- Boot LSP on the embedded board with regular settings with Buildroot FS â€“ ttyS0 should work ok.

Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Change-Id: I2ffad9472914870056128cbf9bc5d6ac25b24894
Reviewed-on: http://vgitil04.il.marvell.com:8080/1694
Reviewed-by: Star_Automation <star@marvell.com>
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/configs/avanta_lp_defconfig     |    1 +
 arch/arm/configs/avanta_lp_smp_defconfig |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/arm/configs/avanta_lp_defconfig b/arch/arm/configs/avanta_lp_defconfig
index 146140e..156cd2a 100644
--- a/arch/arm/configs/avanta_lp_defconfig
+++ b/arch/arm/configs/avanta_lp_defconfig
@@ -49,6 +49,7 @@ CONFIG_BRIDGE=y
 CONFIG_NET_PKTGEN=m
 CONFIG_UEVENT_HELPER_PATH="/sbin/hotplug"
 CONFIG_DEVTMPFS=y
+CONFIG_DEVTMPFS_MOUNT=y
 CONFIG_MTD=y
 CONFIG_MTD_CMDLINE_PARTS=y
 CONFIG_MTD_CHAR=y
diff --git a/arch/arm/configs/avanta_lp_smp_defconfig b/arch/arm/configs/avanta_lp_smp_defconfig
index ddb44f3..72d8ff9 100644
--- a/arch/arm/configs/avanta_lp_smp_defconfig
+++ b/arch/arm/configs/avanta_lp_smp_defconfig
@@ -50,6 +50,7 @@ CONFIG_BRIDGE=y
 CONFIG_NET_PKTGEN=m
 CONFIG_UEVENT_HELPER_PATH="/sbin/hotplug"
 CONFIG_DEVTMPFS=y
+CONFIG_DEVTMPFS_MOUNT=y
 CONFIG_MTD=y
 CONFIG_MTD_CMDLINE_PARTS=y
 CONFIG_MTD_CHAR=y
-- 
1.7.5.4

