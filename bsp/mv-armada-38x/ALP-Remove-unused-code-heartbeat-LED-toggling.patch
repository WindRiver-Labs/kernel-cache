From 43c719342f204651f15d0b6ea66f94bcf073bcf8 Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Wed, 20 Mar 2013 15:27:10 +0200
Subject: [PATCH 0501/1825] ALP: Remove unused code: heartbeat LED toggling

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit b95f600c4f2582922874d04fccb5439a81ff66ea

Change-Id: I3c3c4b3093bf6325deb52e5152feea2a8da03f88
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/1343
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/Makefile |    2 +-
 arch/arm/mach-avantalp/leds.c   |   50 ---------------------------------------
 2 files changed, 1 insertions(+), 51 deletions(-)
 delete mode 100644 arch/arm/mach-avantalp/leds.c

diff --git a/arch/arm/mach-avantalp/Makefile b/arch/arm/mach-avantalp/Makefile
index 46fbef2..6ab890e 100644
--- a/arch/arm/mach-avantalp/Makefile
+++ b/arch/arm/mach-avantalp/Makefile
@@ -51,7 +51,7 @@ QD_OBJS		= $(HAL_QD_DIR)/src/driver/gtDrvConfig.o $(HAL_QD_DIR)/src/driver/gtDrv
 		  $(HAL_QD_DIR)/src/msapi/gtPIRL2.o $(HAL_QD_DIR)/src/msapi/gtCCPVT.o		\
 		  $(HAL_QD_DIR)/src/msapi/gtPCSCtrl.o $(HAL_QD_DIR)/src/msapi/gtBrgStu.o
 
-LSP_OBJS        = core.o irq.o leds.o sysmap.o export.o time.o
+LSP_OBJS        = core.o irq.o sysmap.o export.o time.o
 
 obj-y   				:= avantalp.o
 avantalp-objs  				:= $(LSP_OBJS) $(COMMON_OBJS) $(OSSERVICES_OBJS) $(HAL_OBJS) 	\
diff --git a/arch/arm/mach-avantalp/leds.c b/arch/arm/mach-avantalp/leds.c
deleted file mode 100644
index ffc1efb..0000000
--- a/arch/arm/mach-avantalp/leds.c
+++ /dev/null
@@ -1,50 +0,0 @@
-/*
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
- */
-
-#include <linux/module.h>
-#include <linux/spinlock.h>
-#include <linux/init.h>
-
-#include <mach/hardware.h>
-#include <asm/leds.h>
-#include <asm/system.h>
-#include <asm/mach-types.h>
-#include "boardEnv/mvBoardEnvLib.h"
-
-static	u32		last_jiffies = 0;
-static	u32		led_val = 0;
-
-
-void mv_leds_hearbeat(void)
-{
-	u32 sec = jiffies_to_msecs(jiffies - last_jiffies) / 1000;
-	return;
-	
-	if (!sec)
-		return;
-
-	led_val = (led_val % (1 << mvBoardDebugLedNumGet(mvBoardIdGet())));
-	mvBoardDebugLed(led_val);
-	led_val++;
-	last_jiffies = jiffies;
-}
-
-static int __init leds_init(void)
-{
-	return 0;
-}
-
-/* __initcall(leds_init); */
-- 
1.7.5.4

