From e10ef6f5bfaebb534aa3bb8314ba85bafb54826e Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Thu, 11 Apr 2013 10:54:41 +0300
Subject: [PATCH 0569/1825] ALP: Fix compilation of gpio_to_irq, irq_to_gpio

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 18b0e037e2fa58a28fdb57ea4a54e84b217d68c0

Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Change-Id: I59896bd3c7815be7228345b86274d30f50d02802
Reviewed-on: http://vgitil04.il.marvell.com:8080/1546
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/include/mach/gpio.h |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

diff --git a/arch/arm/mach-avantalp/include/mach/gpio.h b/arch/arm/mach-avantalp/include/mach/gpio.h
index 1628eeb..47844cb 100644
--- a/arch/arm/mach-avantalp/include/mach/gpio.h
+++ b/arch/arm/mach-avantalp/include/mach/gpio.h
@@ -8,6 +8,7 @@
 #define __MACH_GPIO_H__
 
 #include <asm/errno.h>
+#include <mach/avantalp.h>
 #include <mach/irqs.h>
 #include <plat/gpio.h>
 #include <asm-generic/gpio.h>
@@ -34,8 +35,8 @@
 
 static inline int gpio_to_irq(int pin)
 {
-	if (pin < NR_IRQS_GLOB_GPIO)
-		return pin + IRQ_START_GLOB_GPIO;
+	if (pin < NR_IRQS_GLOBAL_GPIO)
+		return pin + IRQ_START_GLOBAL_GPIO;
 
 	WARN(1, "%s: Error: wrong gpio pin number (%d)\n", __func__, pin);
 	return -EINVAL;
@@ -43,9 +44,9 @@ static inline int gpio_to_irq(int pin)
 
 static inline int irq_to_gpio(int irq)
 {
-	if (irq >= IRQ_START_GLOB_GPIO &&
-	    irq <  IRQ_START_GLOB_GPIO + NR_IRQS_GLOB_GPIO)
-		return irq - IRQ_START_GLOB_GPIO;
+	if (irq >= IRQ_START_GLOBAL_GPIO &&
+	    irq <  IRQ_START_GLOBAL_GPIO + NR_IRQS_GLOBAL_GPIO)
+		return irq - IRQ_START_GLOBAL_GPIO;
 
 	WARN(1, "%s: Error: wrong irq number (%d)\n", __func__, irq);
 	return -EINVAL;
-- 
1.7.5.4

