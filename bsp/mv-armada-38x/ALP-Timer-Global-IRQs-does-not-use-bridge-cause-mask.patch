From d52b20f18e7680dcacffd1885aa65d107351a7ae Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Sun, 5 May 2013 08:18:12 +0300
Subject: [PATCH 0635/1825] ALP: Timer: Global IRQs does not use bridge
 cause/mask regs

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 855b4a6e93a4603e171b432da1547029eb1f930c

Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Change-Id: I19ab898c1da1c3dd77919789a5e79661c93de746
Reviewed-on: http://vgitil04.il.marvell.com:8080/1748
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/time.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

diff --git a/arch/arm/mach-avantalp/time.c b/arch/arm/mach-avantalp/time.c
index eabdb9b..7101a97 100644
--- a/arch/arm/mach-avantalp/time.c
+++ b/arch/arm/mach-avantalp/time.c
@@ -38,11 +38,7 @@
 #define  TIMER_INT_CLR(x)	(~(1 << (8 * x)))
 #define TIMER_RELOAD(x)		(MV_CNTMR_REGS_OFFSET + 0x0010 + (8 * x))
 #define TIMER_VAL(x)		(MV_CNTMR_REGS_OFFSET + 0x0014 + (8 * x))
-
 #define TIMER_TURN_25MHZ(x)	(1 << (11 + x))
-#define BRIDGE_CAUSE		(MV_MBUS_REGS_OFFSET | 0x0260)
-#define BRIDGE_MASK		(MV_MBUS_REGS_OFFSET | 0x10c4)
-#define BRIDGE_INT_TIMER(x)	(1 << (22 + x))
 
 static u32 ticks_per_jiffy;
 
@@ -206,10 +202,6 @@ static void alp_setup_clocksource(int timer, long rate)
 	MV_REG_WRITE(TIMER_VAL(i), 0xffffffff);
 	MV_REG_WRITE(TIMER_RELOAD(i), 0xffffffff);
 
-	/* Disable timer interrupt */
-	u = MV_REG_READ(BRIDGE_MASK);
-	u &= ~BRIDGE_INT_TIMER(i);
-	MV_REG_WRITE(BRIDGE_MASK, u);
 
 	/* Config clock source for timer */
 	u = MV_REG_READ(TIMER_CTRL);
-- 
1.7.5.4

