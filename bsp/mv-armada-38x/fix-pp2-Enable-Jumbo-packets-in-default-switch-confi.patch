From c1dcf3b3d6faa71ed5cc4848079feb9dbd3a60e0 Mon Sep 17 00:00:00 2001
From: Yehuda Yitschak <yehuday@marvell.com>
Date: Tue, 10 Dec 2013 15:44:28 +0200
Subject: [PATCH 1206/1825] fix: pp2: Enable Jumbo packets in default switch
 configuration

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 76c02959db4c0034aa8d25a5ae1505f9e06b1d51

Change-Id: If1aa8734637f27ee969c7729c7a525ef0c859a11
Signed-off-by: Dmitri Epshtein <dima@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4572
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Uri Eliyahu <uriel@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4642
Reviewed-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4699
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_drivers_lsp/mv_switch/mv_switch.c           |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_switch/mv_switch.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_switch/mv_switch.c
index c864e4b..77dca92 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_switch/mv_switch.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_switch/mv_switch.c
@@ -874,7 +874,8 @@ int mv_switch_init(struct mv_switch_pdata *plat_data)
 
 	mv_switch_link_detection_init(plat_data);
 
-	mv_switch_jumbo_mode_set(plat_data->mtu);
+	/* Enable Jumbo support by default */
+	mv_switch_jumbo_mode_set(9180);
 
 	/* Configure Ethernet related LEDs, currently according to Switch ID */
 	switch (qd_dev->deviceId) {
-- 
1.7.5.4

