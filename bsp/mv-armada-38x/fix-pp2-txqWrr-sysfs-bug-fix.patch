From 61313fe4d7dcab9ad5cd38529628065f099ff164 Mon Sep 17 00:00:00 2001
From: Uri Eliyahu <uriel@marvell.com>
Date: Sun, 24 Nov 2013 13:26:08 +0200
Subject: [PATCH 1151/1825] fix: pp2: txqWrr sysfs bug fix

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 715ffcf6ee316720cf0ac07b71224d1d274bd5f5

	- wrong if condition

Change-Id: I9cb70b70b325888f5765501e48ac4f891cf4f8b5
Signed-off-by: Uri Eliyahu <uriel@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4424
Reviewed-by: Dmitri Epshtein <dima@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_pp2/net_dev/mv_eth_tx_sched_sysfs.c         |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_tx_sched_sysfs.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_tx_sched_sysfs.c
index a9ab8d8..1fe3570 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_tx_sched_sysfs.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_pp2/net_dev/mv_eth_tx_sched_sysfs.c
@@ -91,7 +91,7 @@ static ssize_t mv_eth_port_store(struct device *dev,
 	} else if (!strcmp(name, "txqBurst")) {
 		err = mvPp2TxqBurstSet(p, v, a, b);
 	} else if (!strcmp(name, "txqWrr")) {
-		if (a == 0)
+		if (b == 0)
 			err = mvPp2TxqFixPrioSet(p, v, a);
 		else
 			err = mvPp2TxqWrrPrioSet(p, v, a, b);
-- 
1.7.5.4

