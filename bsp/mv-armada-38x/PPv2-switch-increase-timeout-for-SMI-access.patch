From 7427aa7b3482dd84c666c85084d13bb4014ce172 Mon Sep 17 00:00:00 2001
From: Yoni Farhadian <yonif@marvell.com>
Date: Wed, 24 Jul 2013 12:56:16 +0300
Subject: [PATCH 0874/1825] PPv2: switch: increase timeout for SMI access

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 1d0184c58087f1fe705208476555476ec08fc24c

	- Increase timeout for SMI transactions generated by switch
	- The reason is to ensure that switch will read correct PHY status via PPU
	- Important when link up event occurs

Change-Id: I043ea7ee3032b8382bcb2b87348caf968afd3559
Signed-off-by: Yoni Farhadian <yonif@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/2824
Reviewed-by: Dmitri Epshtein <dima@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_hal/qd-dsdt-3.3/Include/h/driver/gtHwCntl.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/plat-armada/mv_hal/qd-dsdt-3.3/Include/h/driver/gtHwCntl.h b/arch/arm/plat-armada/mv_hal/qd-dsdt-3.3/Include/h/driver/gtHwCntl.h
index b0a79fe..39b80f4 100644
--- a/arch/arm/plat-armada/mv_hal/qd-dsdt-3.3/Include/h/driver/gtHwCntl.h
+++ b/arch/arm/plat-armada/mv_hal/qd-dsdt-3.3/Include/h/driver/gtHwCntl.h
@@ -59,7 +59,7 @@ extern GT_U8 portToSmiMapping(GT_QD_DEV *dev, GT_U8 portNum, GT_U32 accessType);
 #define GLOBAL2_REG_ACCESS    4
 #define GLOBAL3_REG_ACCESS    5
 
-#define QD_SMI_ACCESS_LOOP        1000
+#define QD_SMI_ACCESS_LOOP        2000
 #define QD_SMI_TIMEOUT            2
 
 
-- 
1.7.5.4

