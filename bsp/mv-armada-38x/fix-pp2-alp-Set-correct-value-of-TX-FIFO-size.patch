From 6f361dafc2cd105077924f14215802bda3fbfb25 Mon Sep 17 00:00:00 2001
From: Dmitri Epshtein <dima@marvell.com>
Date: Sun, 22 Jun 2014 12:28:32 -0400
Subject: [PATCH 1738/1825] fix: pp2: alp: Set correct value of TX FIFO size

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 7675867bc2f5074bd1f434a8523e90af5a1503aa

	TX FIFO size is 2K
	Maximum packet size for L4 checksum offload is 1790 bytes

Change-Id: I4f19587324076cd82e3dd5eeca7eb23274eabebd
Signed-off-by: Dmitri Epshtein <dima@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/8661
Reviewed-by: Uri Eliyahu <uriel@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/ctrlEnv/mvCtrlEnvSpec.h       |   32 +++----------------
 1 files changed, 5 insertions(+), 27 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvSpec.h b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvSpec.h
index 8e1f78f..3fa195a 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvSpec.h
+++ b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/mvCtrlEnvSpec.h
@@ -128,6 +128,11 @@ extern "C" {
 #define MV_ETH_RXQ_TOTAL_NUM                    32
 #define MV_VLAN_1_TYPE                          0x88A8
 
+#define MV_ETH_MAX_PORTS                        4
+#define MV_ETH_MAX_RXQ                          16      /* Maximum number of RXQs can be mapped to each port */
+#define MV_ETH_MAX_TXQ                          8
+#define MV_ETH_TX_CSUM_MAX_SIZE                 1790
+
 #define MV_ETH_REGS_OFFSET(port)                (MV_ETH_BASE_ADDR - ((port) / 2) * 0x40000 + ((port) % 2) * 0x4000)
 
 #define MV_PEX_IF_REGS_OFFSET(pexIf)            (0x40000 + (pexIf * 0x4000))
@@ -219,33 +224,6 @@ extern "C" {
 /* This define describes the maximum number of supported Ethernet ports */
 /* TODO - verify all these numbers */
 
-#if defined(CONFIG_MV_ETH_PP2)
-#define MV_PON_PORT_ID                          7
-#define MV_ETH_MAX_PORTS                        4
-#define MV_ETH_MAX_RXQ                          16      /* Maximum number of RXQs can be mapped to each port */
-#define MV_ETH_MAX_TXQ                          8
-#define MV_ETH_RXQ_TOTAL_NUM                    32      /* Total number of RXQs for usage by all ports */
-#define MV_ETH_MAX_TCONT                        16      /* Maximum number of TCONTs supported by PON port */
-#define MV_ETH_TX_CSUM_MAX_SIZE                 9800
-#else
-#define MV_ETH_VERSION                          4       /* for Legacy mode */
-#define MV_NETA_VERSION                         1       /* for NETA mode */
-#define MV_ETH_MAX_PORTS                        4
-#define MV_ETH_MAX_RXQ                          8
-#define MV_ETH_MAX_TXQ                          8
-#define MV_ETH_TX_CSUM_MAX_SIZE                 9800
-
-#endif /* CONFIG_MV_ETH_PP2 */
-
-/* New GMAC module is used */
-#define MV_ETH_GMAC_NEW
-/* New WRR/EJP module is used */
-#define MV_ETH_WRR_NEW
-/* IPv6 parsing support for Legacy parser */
-#define MV_ETH_LEGACY_PARSER_IPV6
-
-#define MV_FPGA_ETH_MAX_PORT                    4
-
 /* This define describes the the support of USB */
 #define MV_USB_VERSION                          1
 
-- 
1.7.5.4

