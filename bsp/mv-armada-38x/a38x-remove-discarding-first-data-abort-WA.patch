From 831f1c93000afe021f057522487990a501f05fc6 Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Sun, 20 Oct 2013 10:08:49 +0200
Subject: [PATCH 1101/1825] a38x: remove discarding first data abort WA

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 394c81b4c53e1a34b838240fe9333dabb15ed83e

Change-Id: Ib3956d8db971088870732943ed94d49695257fed
Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/3757
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/configs/armada_380_v7up_defconfig  |    1 -
 arch/arm/configs/armada_385_v7smp_defconfig |    1 -
 arch/arm/mach-armada38x/Kconfig             |    7 -------
 3 files changed, 0 insertions(+), 9 deletions(-)

diff --git a/arch/arm/configs/armada_380_v7up_defconfig b/arch/arm/configs/armada_380_v7up_defconfig
index ce0a55d..be5de07 100644
--- a/arch/arm/configs/armada_380_v7up_defconfig
+++ b/arch/arm/configs/armada_380_v7up_defconfig
@@ -17,7 +17,6 @@ CONFIG_ARCH_ARMADA38X=y
 CONFIG_MV_INCLUDE_SPI=y
 CONFIG_MV_ETH_TXQ=8
 # CONFIG_NET_SKB_RECYCLE is not set
-CONFIG_A375_FIRST_DABT_WA=y
 CONFIG_MV_ETH_PP2=y
 CONFIG_MV_INCLUDE_ETH_PHY=y
 CONFIG_MV_ETH_TXQ_DESC=1024
diff --git a/arch/arm/configs/armada_385_v7smp_defconfig b/arch/arm/configs/armada_385_v7smp_defconfig
index dcb2835..7a09eef 100644
--- a/arch/arm/configs/armada_385_v7smp_defconfig
+++ b/arch/arm/configs/armada_385_v7smp_defconfig
@@ -17,7 +17,6 @@ CONFIG_ARCH_ARMADA38X=y
 CONFIG_MV_INCLUDE_SPI=y
 CONFIG_MV_ETH_TXQ=8
 # CONFIG_NET_SKB_RECYCLE is not set
-CONFIG_A375_FIRST_DABT_WA=y
 CONFIG_MV_ETH_PP2=y
 CONFIG_MV_INCLUDE_ETH_PHY=y
 CONFIG_MV_ETH_TXQ_DESC=1024
diff --git a/arch/arm/mach-armada38x/Kconfig b/arch/arm/mach-armada38x/Kconfig
index 1843428..5aa37a1 100644
--- a/arch/arm/mach-armada38x/Kconfig
+++ b/arch/arm/mach-armada38x/Kconfig
@@ -45,13 +45,6 @@ config MACH_ARMADA_38X
 	  Choosing this option will generate a linux kernel for the
 	  MV68XX devices
 
-config A375_FIRST_DABT_WA
-	bool "Discard first data abort"
-	default n
-	help
-	  Workaround that discards first data abort to avoid getting
-	  unhandled fault on boot.
-
 config A38X_Z1_USB3_LFPS_FREQ_WA
 	bool "Enable the LFPS frequency workaround for USB3"
 	default n
-- 
1.7.5.4

