From b8c23a34bcade8cbf1baf04b7730196e08cd9716 Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Wed, 24 Oct 2012 11:14:21 +0200
Subject: [PATCH 0300/1825] Fix PM compilation issues after A370 AXP merge

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 6f82f68edc48d99338b6e292f3265a6c4fb4f3ca

Change-Id: I00bf3be400847fbfbbfa639daf24e937abad6118
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-armada370/include/mach/armada370.h |    4 ++++
 arch/arm/plat-armada/Makefile                    |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-armada370/include/mach/armada370.h b/arch/arm/mach-armada370/include/mach/armada370.h
index 07b1891..9032a62 100644
--- a/arch/arm/mach-armada370/include/mach/armada370.h
+++ b/arch/arm/mach-armada370/include/mach/armada370.h
@@ -119,6 +119,10 @@
 /*
  * Linux native definitiotns
  */
+#define SDRAM_OPERATION_REG		(INTER_REGS_BASE | 0x1418)
+#define SDRAM_CONFIG_REG		(INTER_REGS_BASE | 0x1400)
+#define SDRAM_DLB_EVICT_REG		(INTER_REGS_BASE | 0x170C)
+
 #define AXP_UART0_PHYS_BASE		(INTER_REGS_PHYS_BASE | 0x12000)
 #define DDR_VIRT_BASE			(INTER_REGS_BASE | 0x00000)
 #define DDR_WINDOW_CPU_BASE		(DDR_VIRT_BASE | 0x20000)
diff --git a/arch/arm/plat-armada/Makefile b/arch/arm/plat-armada/Makefile
index e67f3d6..ea19ed2 100644
--- a/arch/arm/plat-armada/Makefile
+++ b/arch/arm/plat-armada/Makefile
@@ -4,7 +4,7 @@ endif
 
 # This will never compile, because DUMMY will never by defined.
 obj-$(DUMMY)   				:= dummy.o
-obj-$(CONFIG_SHEEVA_DEEP_IDLE)		+= cpuidle.o armadaxp_suspend.o suspend.o
+obj-$(CONFIG_SHEEVA_DEEP_IDLE)		+= cpuidle.o armada_suspend.o suspend.o
 obj-$(CONFIG_HOTPLUG_CPU)		+= hotplug.o
 obj-$(CONFIG_PLAT_ARMADA)		+= pmu.o
 obj-$(CONFIG_PCI_MSI)			+= msi.o
-- 
1.7.5.4

