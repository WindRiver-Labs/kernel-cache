From 9c20d3c091aa6485cb9521893d66d94cbf4673d6 Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Wed, 26 Feb 2014 17:52:14 +0200
Subject: [PATCH 1414/1825] mbus,cib: a38x: Optimize CIB/MBUS performance

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 39c301b7587260975210720c3bfc4546c2205dd3

	Update configurations for the CIB and MBUS units
	This update should optimize GbE units performance

Change-Id: I63dd344904fcbc61be4ee294b1e9458683168469
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/5966
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../armada_38x_family/ctrlEnv/sys/mvCpuIfRegs.h    |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/sys/mvCpuIfRegs.h b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/sys/mvCpuIfRegs.h
index 1f5da59..d824367 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/sys/mvCpuIfRegs.h
+++ b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/sys/mvCpuIfRegs.h
@@ -98,8 +98,14 @@ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 #define SOC_COHERENCY_FABRIC_CFG_REG		(MV_COHERENCY_FABRIC_REGS_BASE + 0x4)
 #define SOC_CIB_CTRL_CFG_REG			(MV_COHERENCY_FABRIC_REGS_BASE + 0x80)
 
-#define Fabric_Units_Priority_Control_REG	(MV_MBUS_REGS_OFFSET + 0x424)
-#define Fabric_Units_Prefetch_Control_REG	(MV_MBUS_REGS_OFFSET + 0x42c)
+#define CIB_CTRL_CONFIG_REG			(MV_MBUS_REGS_OFFSET + 0x280)
+#define CIB_READ_BUFFER_SELECT_REG		(MV_MBUS_REGS_OFFSET + 0x294)
+
+#define SDRAM_INTERFACE_MBUS_CTRL_REG		(MV_DRAM_REGS_OFFSET + 0x1430)
+#define MBUS_UNITS_PRIORITY_CONTROL_REG		(MV_MBUS_REGS_OFFSET + 0x420)
+#define FABRIC_UNITS_PRIORITY_CONTROL_REG	(MV_MBUS_REGS_OFFSET + 0x424)
+#define MBUS_UNITS_PREFETCH_CONTROL_REG		(MV_MBUS_REGS_OFFSET + 0x428)
+#define FABRIC_UNITS_PREFETCH_CONTROL_REG	(MV_MBUS_REGS_OFFSET + 0x42c)
 #define CPUs_Data_PFen (0xf << 8)
 #define CPUs_Data_PFen_MASK (0xf << 8)
 #define CPU_PRIO_HIGH  0x2
-- 
1.7.5.4

