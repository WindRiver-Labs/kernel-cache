From c3dcd9025effa2cb827e9cf8546974249b26ddb7 Mon Sep 17 00:00:00 2001
From: Eli Nidam <elini@marvell.com>
Date: Sun, 19 May 2013 14:23:48 +0300
Subject: [PATCH 0659/1825] ALP: remove unsuded PEX enable function (move to
 bin header)

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit b8e51980fd534506497efaaa03e12131ac79c911

Change-Id: Ie5a9c92afc541a72c6fdee87aa988e5c4bca692d
Signed-off-by: Eli Nidam <elini@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/1853
Reviewed-by: Eran Ben-Avi <benavi@marvell.com>
Tested-by: Eran Ben-Avi <benavi@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../avanta_lp_family/ctrlEnv/sys/mvCpuIf.c         |   60 --------------------
 .../avanta_lp_family/ctrlEnv/sys/mvCpuIf.h         |    2 -
 2 files changed, 0 insertions(+), 62 deletions(-)

diff --git a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.c b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.c
index 7cd4800..af748aa 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.c
+++ b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.c
@@ -924,66 +924,6 @@ MV_VOID mvCpuIfAddDecShow(MV_VOID)
 	}
 }
 
-#if defined(MV_INCLUDE_PEX)
-/*******************************************************************************
-* mvCpuIfEnablePex - Enable PCI Express unit.
-*
-* DESCRIPTION:
-*	This function enables PCI Express access to the device address
-*	space.
-*
-* INPUT:
-*	pexUnit	- PEX unit (0 - 3).
-*
-* OUTPUT:
-*       None.
-*
-* RETURN:
-*       None.
-*
-*******************************************************************************/
-MV_VOID mvCpuIfEnablePex(MV_U32 pexUnit)
-{
-	MV_U32 socMaxPexUnit = mvCtrlPexMaxUnitGet();
-
-	if (pexUnit > socMaxPexUnit) {
-		DB(mvOsPrintf("mvCpuIfEnablePex: Bad PEX unit ID (%x)\n", pexUnit));
-		return;
-	}
-
-	/* SOC config register Pex enable */
-	MV_REG_BIT_SET(SOC_CTRL_REG, SCR_PEX_ENA_MASK(pexUnit));
-}
-
-/*******************************************************************************
-* mvCpuIfPex4x1Enable - Enable/Disable the 4x1 mode on PCI Express unit.
-*
-* DESCRIPTION:
-*	This function enables/disables 4x1 mode on PCI Express unit 0 or 1
-*
-* INPUT:
-*	pexUnit	- PEX unit (0 or 1).
-*	enable	- enable (MV_TRUE) or disable (MV_FALSE) 4x1 mode
-*
-* OUTPUT:
-*       None.
-*
-* RETURN:
-*       None.
-*
-*******************************************************************************/
-MV_VOID mvCpuIfPex4x1Enable(MV_U32 pexUnit, MV_BOOL enable)
-{
-	if (pexUnit == 0)
-		MV_REG_BIT_SET(SOC_CTRL_REG, SCR_PEX0_4BY1_MASK);
-	else if (pexUnit == 1)
-		MV_REG_BIT_SET(SOC_CTRL_REG, SCR_PEX1_4BY1_MASK);
-	else
-		DB(mvOsPrintf("mvCpuIfPex4x1Enable: Bad PEX unit ID (%x)\n", pexUnit));
-}
-
-#endif
-
 /*******************************************************************************
 * mvCpuIfLvdsPadsEnable
 *
diff --git a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.h b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.h
index 743ee2e..19467fe 100644
--- a/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.h
+++ b/arch/arm/mach-avantalp/avanta_lp_family/ctrlEnv/sys/mvCpuIf.h
@@ -104,8 +104,6 @@ MV_TARGET mvCpuIfTargetOfBaseAddressGet(MV_U32 baseAddress);
 MV_STATUS mvCpuIfSramWinDisable(MV_VOID);
 #if defined(MV_INCLUDE_PEX)
 MV_U32    mvCpuIfPexRemap(MV_TARGET pexTarget, MV_ADDR_WIN *pAddrDecWin);
-MV_VOID   mvCpuIfEnablePex(MV_U32 pexUnit);
-MV_VOID   mvCpuIfPex4x1Enable(MV_U32 pexUnit, MV_BOOL enable);
 #endif
 #if defined(MV_INCLUDE_PCI)
 MV_U32 	  mvCpuIfPciRemap(MV_TARGET pciTarget, MV_ADDR_WIN *pAddrDecWin);
-- 
1.7.5.4

