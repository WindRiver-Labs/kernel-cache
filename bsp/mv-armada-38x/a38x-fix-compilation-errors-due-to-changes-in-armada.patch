From 741888c1275cde45a1bacdbf7bf861a7d3767987 Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Sun, 20 Oct 2013 10:07:02 +0200
Subject: [PATCH 1102/1825] a38x: fix compilation errors due to changes in
 armada_38x_family code

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 4dd707b39fe65a81d6f7d9fb4538fe1fe2ad97b6

Change-Id: I2b47b0351ca3bcf19d8df24d1fceab5fa797d915
Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/3754
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-armada38x/Makefile |    8 ++++----
 arch/arm/mach-armada38x/export.c |    3 ---
 2 files changed, 4 insertions(+), 7 deletions(-)

diff --git a/arch/arm/mach-armada38x/Makefile b/arch/arm/mach-armada38x/Makefile
index ca7a5c5..dd1b6b3 100644
--- a/arch/arm/mach-armada38x/Makefile
+++ b/arch/arm/mach-armada38x/Makefile
@@ -25,15 +25,15 @@ HAL_OBJS	= $(HAL_RTC_DIR)/mvRtc.o					\
 		  $(HAL_CNTMR_DIR)/mvCntmr.o					\
 		  $(HAL_TWSI_DIR)/mvTwsi.o					\
 		  $(HAL_UART_DIR)/mvUart.o $(HAL_GPP_DIR)/mvGpp.o		\
-		  $(HAL_DRAM_DIR)/mvDramIf.o					\
-		  $(HAL_IF_DIR)/mvSysDdr.o
+		  $(HAL_DRAM_DIR)/mvDramIf.o
+#		  $(HAL_IF_DIR)/mvSysDdr.o
 #		  $(HAL_DRAM_SPD_DIR)/mvSpd.o
 
 KW_FAM_OBJS	= $(BOARD_ENV_DIR)/mvBoardEnvSpec.o $(SOC_ENV_DIR)/mvCtrlEnvLib.o	\
 		  $(BOARD_ENV_DIR)/mvBoardEnvLib.o $(SOC_ENV_DIR)/mvCtrlEnvAddrDec.o 	\
 		  $(SOC_SYS_DIR)/mvAhbToMbus.o $(SOC_SYS_DIR)/mvCpuIf.o 		\
-		  $(SOC_CPU_DIR)/mvCpu.o $(SOC_DEVICE_DIR)/mvDevice.o			\
-		  $(SOC_ENV_DIR)/mvCtrlEthCompLib.o
+		  $(SOC_CPU_DIR)/mvCpu.o $(SOC_DEVICE_DIR)/mvDevice.o
+#		  $(SOC_ENV_DIR)/mvCtrlEthCompLib.o
 
 QD_OBJS		= $(HAL_QD_DIR)/src/driver/gtDrvConfig.o $(HAL_QD_DIR)/src/driver/gtDrvEvents.o \
 		  $(HAL_QD_DIR)/src/driver/gtHwCntl.o $(HAL_QD_DIR)/src/platform/gtMiiSmiIf.o	\
diff --git a/arch/arm/mach-armada38x/export.c b/arch/arm/mach-armada38x/export.c
index e20b567..85d1855 100644
--- a/arch/arm/mach-armada38x/export.c
+++ b/arch/arm/mach-armada38x/export.c
@@ -54,9 +54,6 @@ EXPORT_SYMBOL(mvBoardSysClkGet);
 EXPORT_SYMBOL(mvBoardMacSpeedGet);
 EXPORT_SYMBOL(mvWinOverlapTest);
 EXPORT_SYMBOL(mvCtrlAddrWinMapBuild);
-EXPORT_SYMBOL(mvBoardTdmSpiModeGet);
-EXPORT_SYMBOL(mvBoardTdmSpiCsGet);
-EXPORT_SYMBOL(mvBoardTdmDevicesCountGet);
 
 #ifdef CONFIG_MV_INCLUDE_SPI
 #include "spi/mvSpiCmnd.h"
-- 
1.7.5.4

