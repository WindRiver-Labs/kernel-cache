From 3c7e26bbffa6dbb1e15dc0f05f488b1c63801621 Mon Sep 17 00:00:00 2001
From: Dmitri Epshtein <dima@marvell.com>
Date: Mon, 12 Nov 2012 03:14:10 -0500
Subject: [PATCH 0327/1825] NETA-Fix-mvNetaPowerUp-call-during-resume-operation

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 15d3dccd5c82a9355f524a37c7b3bf9b99639a8a

Change-Id: I12ba859d5d8cd80e8bcc067340754352799a96ac
Signed-off-by: Dmitri Epshtein <dima@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c     |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

diff --git a/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c b/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
index 7274e78..b199cf5 100644
--- a/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
+++ b/arch/arm/plat-armada/mv_drivers_lsp/mv_neta/net_dev/mv_netdev.c
@@ -3121,9 +3121,7 @@ int mv_eth_port_resume(int port)
 		printk(KERN_ERR "%s: port %d is not suspend.\n", __func__, port);
 		return -1;
 	}
-#if !defined(CONFIG_ARCH_ARMADA370)
-	mvNetaPortPowerUp(port, mvBoardIsPortInSgmii(port), !mvBoardIsPortInGmii(port));
-#endif
+	mvNetaPortPowerUp(port, mvBoardIsPortInSgmii(port), mvBoardIsPortInRgmii(port));
 
 	mv_eth_win_init(port);
 
-- 
1.7.5.4

