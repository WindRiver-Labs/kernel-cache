From 93b5eaa92a8a1f8d3d8acf3165553e2f6fd1a05f Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Mon, 21 Oct 2013 16:29:42 +0200
Subject: [PATCH 1106/1825] cpu: a38x: add support for L1 and L2 cache
 prefetch

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 75efd1d70aa5a54b9b0a0c8c684d69e0a93f3db7

	- Add support for L1 cache prefetch enable
	- Add support for PL310 L2 cache prefetch
	  related features.

	Both L1 and L2 prefetch features are enabled
	by default for ALP and A375.

Change-Id: I419956544c3b5da66de438d06cff857da7b15b78
Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/3807
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mm/Kconfig |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mm/Kconfig b/arch/arm/mm/Kconfig
index cb828de..1cdae58 100644
--- a/arch/arm/mm/Kconfig
+++ b/arch/arm/mm/Kconfig
@@ -804,7 +804,7 @@ config CPU_BPREDICT_DISABLE
 config CPU_L1_CACHE_PREF_ENABLE
 	bool "Enable CPU L1 Cache Prefetch"
 	depends on CPU_V7
-	default y if CPU_V7 && ARCH_AVANTA_LP
+	default y if CPU_V7 && (ARCH_AVANTA_LP || ARCH_ARMADA38X)
 	help
 	  Say Y here to enable L1 cache prefetch.
 	  If unsure, say N.
@@ -814,7 +814,7 @@ config CPU_L1_CACHE_PREF_ENABLE
 config PL310_CACHE_PREF_ENABLE
 	bool "Enable PL310 L2 Cache Prefetch"
 	depends on CACHE_PL310
-	default y if CACHE_PL310 && ARCH_AVANTA_LP
+	default y if CACHE_PL310 && (ARCH_AVANTA_LP || ARCH_ARMADA38X)
 	help
 	  Say Y here to enable PL310 L2 cache prefetch features.
 	  If unsure, say N.
-- 
1.7.5.4

