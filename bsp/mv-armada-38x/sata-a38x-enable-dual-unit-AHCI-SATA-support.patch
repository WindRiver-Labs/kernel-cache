From b8dac8524b03950328cfaa11d498733ca18427f2 Mon Sep 17 00:00:00 2001
From: Marcin Wojtas <mw@semihalf.com>
Date: Thu, 28 Nov 2013 14:14:03 +0200
Subject: [PATCH 1175/1825] sata: a38x: enable dual-unit AHCI SATA support

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 9628b95f2c5dda8e2736f9610e9effca276a6eb5

	- enable both units use ahci_mv platform driver
	- mbus dram information is passed to the driver
	  as a platform data in order to enable AHCI windows
	  register configuration

Change-Id: Id0a55b26ec59a87e623f54b423375f289a3135bb
Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/4535
Reviewed-by: Eli Nidam <elini@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Lior Amsalem <alior@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h      |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h
index d8a23d5..6b0a935 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h
+++ b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvSpec.h
@@ -123,11 +123,14 @@ extern "C" {
 #define MV_CESA_TDMA_REGS_OFFSET(chanNum)       (0x90000 + (chanNum * 0x2000))
 #define MV_CESA_REGS_OFFSET(chanNum)            (0x9D000 + (chanNum * 0x2000))
 #define MV_SATA_REGS_OFFSET                     (0xA0000)
+#define MV_SATA3_REGS_OFFSET(u)			((u == 0) ? 0xA8000 : 0xE0000) /* sata register per unit*/
 #define MV_COMM_UNIT_REGS_OFFSET                (0xB0000)
 #define MV_BM_REGS_OFFSET                       (0xC8000)
 #define MV_NFC_REGS_OFFSET                      (0xD0000)
 #define MV_SDMMC_REGS_OFFSET                    (0xD4000)
 
+#define SATA3_NUM_OF_PORTS			2
+#define SATA3_MAX_PORTS_PER_UNIT		2
 #define MV_ETH_SMI_PORT   0
 
 /*
-- 
1.7.5.4

