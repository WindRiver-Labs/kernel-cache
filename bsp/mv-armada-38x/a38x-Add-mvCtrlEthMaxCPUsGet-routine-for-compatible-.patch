From 0cba5099c4e46ad4573ecfe77d8ee173cc9a40c6 Mon Sep 17 00:00:00 2001
From: Eli Nidam <elini@marvell.com>
Date: Thu, 17 Oct 2013 16:15:11 +0200
Subject: [PATCH 1091/1825] a38x: Add mvCtrlEthMaxCPUsGet routine for
 compatible to neta

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 93141275200f000cafa0b20fa553c26e7da7962c

Change-Id: I5d5ccee11bff5659caa53c6b16447da75edd5651
Signed-off-by: Eli Nidam <elini@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/3736
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Nadav Haklai <nadavh@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../armada_38x_family/ctrlEnv/mvCtrlEnvLib.c       |    6 ++++++
 .../armada_38x_family/ctrlEnv/mvCtrlEnvLib.h       |    2 ++
 2 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c
index dcbd7e6..64cbd7c 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c
+++ b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.c
@@ -543,6 +543,12 @@ MV_U32 mvCtrlEthMaxPortGet(MV_VOID)
 {
 	return mvCtrlSocUnitInfoNumGet(ETH_GIG_UNIT_ID);
 }
+/* compatable to NETA and AXP */
+MV_U8 mvCtrlEthMaxCPUsGet(MV_VOID)
+{
+	return mvCtrlEthMaxPortGet();
+}
+
 
 #if defined(MV_INCLUDE_SATA)
 /*******************************************************************************
diff --git a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.h b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.h
index 54b4a27..0d321dd 100644
--- a/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.h
+++ b/arch/arm/mach-armada38x/armada_38x_family/ctrlEnv/mvCtrlEnvLib.h
@@ -236,6 +236,8 @@ MV_U32 mvCtrlPexActiveUnitNumGet(MV_VOID);
 #endif
 
 MV_U32 mvCtrlEthMaxPortGet(MV_VOID);
+MV_U8 mvCtrlEthMaxCPUsGet(MV_VOID);
+
 MV_U32 mvCtrlSataMaxPortGet(MV_VOID);
 #if defined(MV_INCLUDE_XOR)
 MV_U32 mvCtrlXorMaxChanGet(MV_VOID);
-- 
1.7.5.4

