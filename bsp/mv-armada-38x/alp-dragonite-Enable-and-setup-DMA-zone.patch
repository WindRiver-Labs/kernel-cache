From c3fbea13ae0cd0851343da36c97b3eb8568353d8 Mon Sep 17 00:00:00 2001
From: Piotr Ziecik <kosmo@semihalf.com>
Date: Wed, 30 Apr 2014 15:02:33 +0200
Subject: [PATCH 1617/1825] alp: dragonite: Enable and setup DMA zone.

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 981da573ab18aed24e524d0b8ddf5731ce6727ac

	The DMA zone (first 16MB of RAM) will be used by IPC subsystem
	to dynamically allocate buffers shared with RTOS running on Dragonite.

Change-Id: Ib28ceafabe7b19197e56b86bd598ba2dd9dd13fd
Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>
Signed-off-by: Victor Gu <xigu@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/7857
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Yehuda Yitschak <yehuday@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/core.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-avantalp/core.c b/arch/arm/mach-avantalp/core.c
index 55944af..ee54256 100644
--- a/arch/arm/mach-avantalp/core.c
+++ b/arch/arm/mach-avantalp/core.c
@@ -1863,6 +1863,7 @@ MACHINE_START(AVANTA_LP, "Marvell AvantaLP 88f66xx Board")
 	.handle_irq     = gic_handle_irq,
 	.init_machine   = alp_board_init,
 	.restart        = board_restart,
+	.dma_zone_size	= SZ_16M,
 MACHINE_END
 
 #if defined(CONFIG_MACH_AVANTA_LP_FPGA)
@@ -1874,5 +1875,6 @@ MACHINE_START(AVANTA_LP_FPGA, "Marvell AvantaLP 88f66xx FPGA Board")
 	.handle_irq     = gic_handle_irq,
 	.init_machine   = alp_board_init,
 	.restart        = board_restart,
+	.dma_zone_size	= SZ_16M,
 MACHINE_END
 #endif
-- 
1.7.5.4

