From dd52d3424418de54aaba8fe57a4eceed9feea3a7 Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Tue, 21 Aug 2012 17:35:15 +0300
Subject: [PATCH 0167/1825] Change netfilter module Kconfig for NFP learning
 dependencies

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 36e024095aeab8860358296822badb89d7537e98

Change-Id: I21a805b504701b33ef2b71c05f00600f32a4abbc
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 net/ipv4/netfilter/Kconfig |    2 +-
 net/ipv6/netfilter/Kconfig |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/net/ipv4/netfilter/Kconfig b/net/ipv4/netfilter/Kconfig
index cba62b7..de567b7 100644
--- a/net/ipv4/netfilter/Kconfig
+++ b/net/ipv4/netfilter/Kconfig
@@ -186,7 +186,7 @@ config IP_NF_TARGET_NETMAP
 config IP_NF_TARGET_NFP
 	tristate "NFP target support"
 	default y
-	depends on NF_CONNTRACK_IPV4 && MV_ETH_NFP_CT
+	depends on NF_CONNTRACK_IPV4 && MV_ETH_NFP_CT && MV_ETH_NFP_LEARN
 	help
 	  This target allows to process selected connections in NFP.
 	  To compile it as a module, choose M here.  If unsure, say N.
diff --git a/net/ipv6/netfilter/Kconfig b/net/ipv6/netfilter/Kconfig
index 42632cf..1f2e00a 100644
--- a/net/ipv6/netfilter/Kconfig
+++ b/net/ipv6/netfilter/Kconfig
@@ -198,7 +198,7 @@ config IP6_NF_RAW
 config IP6_NF_TARGET_NFP
 	tristate "NFP target support for IPv6"
 	default y
-	depends on NF_CONNTRACK_IPV6 && MV_ETH_NFP_CT && (MV_ETH_NFP_LEARN || (m && MV_ETH_NFP_LEARN=m))
+	depends on NF_CONNTRACK_IPV6 && MV_ETH_NFP_CT && MV_ETH_NFP_LEARN
 	help
 	  This target allows to process selected connections in NFP.
 
-- 
1.7.5.4

