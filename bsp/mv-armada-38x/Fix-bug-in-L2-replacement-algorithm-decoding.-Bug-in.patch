From 4515f2f742b7ef2995b262bd629400e7af584ab0 Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Mon, 3 Sep 2012 19:04:15 +0300
Subject: [PATCH 0257/1825] Fix bug in L2 replacement algorithm decoding. Bug
 introduced in the commit ID:
 bc0fbc5014847a499a24547339e54134235ff150

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit ff46626defe1c7cc124757f8254b5ee393489e9d

Change-Id: Icb4f43f7d82ca6b946007b21e3520e1e82783ec3
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../arm/plat-armada/include/plat/cache-aurora-l2.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/plat-armada/include/plat/cache-aurora-l2.h b/arch/arm/plat-armada/include/plat/cache-aurora-l2.h
index c44b117..c365a19 100644
--- a/arch/arm/plat-armada/include/plat/cache-aurora-l2.h
+++ b/arch/arm/plat-armada/include/plat/cache-aurora-l2.h
@@ -150,9 +150,9 @@ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 #define L2ACR_REPLACEMENT_TYPE_WAYRR	(0 << L2ACR_REPLACEMENT_OFFSET)
 #define L2ACR_REPLACEMENT_TYPE_LFSR	(1 << L2ACR_REPLACEMENT_OFFSET)
 #ifdef CONFIG_ARMADA_XP_REV_Z1
-#define L2ACR_REPLACEMENT_TYPE_SEMIPLRU	(3 << L2ACR_REPLACEMENT_OFFSET)
-#else
 #define L2ACR_REPLACEMENT_TYPE_SEMIPLRU	(2 << L2ACR_REPLACEMENT_OFFSET)
+#else
+#define L2ACR_REPLACEMENT_TYPE_SEMIPLRU	(3 << L2ACR_REPLACEMENT_OFFSET)
 #endif
 
 /* L2_CNTR_CTRL_REG (L2CCR) */
-- 
1.7.5.4

