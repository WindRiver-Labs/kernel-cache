From 5f7cfb61c608770d4de52d63266e0fa23d425fdc Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Tue, 21 Aug 2012 17:33:16 +0300
Subject: [PATCH 0046/1825] Update pLRU value for DSMP-A0

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit b36262eec37d42927fcf387ba793f08f17e7cb2b

Change-Id: Ia282ecea14bc066b915469c86d3a44e89438852e
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 .../arm/plat-armada/include/plat/cache-aurora-l2.h |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/arm/plat-armada/include/plat/cache-aurora-l2.h b/arch/arm/plat-armada/include/plat/cache-aurora-l2.h
index d2e4e06..010ea7b 100644
--- a/arch/arm/plat-armada/include/plat/cache-aurora-l2.h
+++ b/arch/arm/plat-armada/include/plat/cache-aurora-l2.h
@@ -149,7 +149,11 @@ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 #define L2ACR_REPLACEMENT_MASK		(0x3 << L2ACR_REPLACEMENT_OFFSET)
 #define L2ACR_REPLACEMENT_TYPE_WAYRR	(0 << L2ACR_REPLACEMENT_OFFSET)
 #define L2ACR_REPLACEMENT_TYPE_LFSR	(1 << L2ACR_REPLACEMENT_OFFSET)
+#ifndef CONFIG_ARMADA_XP_REV_A0
 #define L2ACR_REPLACEMENT_TYPE_SEMIPLRU	(2 << L2ACR_REPLACEMENT_OFFSET)
+#else
+#define L2ACR_REPLACEMENT_TYPE_SEMIPLRU	(3 << L2ACR_REPLACEMENT_OFFSET)
+#endif
 
 /* L2_CNTR_CTRL_REG (L2CCR) */
 #define L2CCR_CPU0_EVENT_ENABLE		(1 << 16)
-- 
1.7.5.4

