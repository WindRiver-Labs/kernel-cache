From ae68f3b9b73e7eead597dc9f4b9bdad57eff319c Mon Sep 17 00:00:00 2001
From: Yehuda Yitschak <yehuday@marvell.com>
Date: Sun, 6 Jan 2013 13:07:11 +0200
Subject: [PATCH 0431/1825] Added IPC support to GP board

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 79a1e2963d6f8411df641df8db4e90e44b68eacc

	The IPC device registration was missing from the GP
	board machine start function.

	Bug fix: Please merge to stable branch

Change-Id: Ic0cfe0e3e94e1699267c37cde14947da0e432782
Signed-off-by: Yehuda Yitschak <yehuday@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-armadaxp/core.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-armadaxp/core.c b/arch/arm/mach-armadaxp/core.c
index 75a9e90..522a237 100644
--- a/arch/arm/mach-armadaxp/core.c
+++ b/arch/arm/mach-armadaxp/core.c
@@ -1798,6 +1798,10 @@ static void __init axp_gp_init(void)
 	eth_init();
 #endif
 
+#ifdef CONFIG_MV_IPC_NET
+	platform_device_register(&mv_ipc_net);
+#endif
+
 #ifdef CONFIG_FB_DOVE
 	kw_lcd0_dmi.dram = &armadaxp_mbus_dram_info;
 	if (lcd_panel) {
-- 
1.7.5.4

