From cf394d0dd44443409dbf4ccf440f49e3297b1ce2 Mon Sep 17 00:00:00 2001
From: Kosta Zertsekel <konszert@marvell.com>
Date: Thu, 3 Oct 2013 10:46:47 +0300
Subject: [PATCH 1003/1825] fix: i2c: alp: Uncomment I2C init

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit d48848f294665b801b535ccc3790ae8f5ece8340

Change-Id: I9601c557086be12576c002731c954e46bd72c9c3
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/3589
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Tawfik Bayouk <tawfik@marvell.com>
Reviewed-by: Igor Patrik <igorp@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/core.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-avantalp/core.c b/arch/arm/mach-avantalp/core.c
index 5e7e479..2c1ec13 100644
--- a/arch/arm/mach-avantalp/core.c
+++ b/arch/arm/mach-avantalp/core.c
@@ -345,7 +345,7 @@ static void __init alp_i2c_init(void)
 	if (mvUnitMapIsMine(I2C0) == MV_TRUE)
 		platform_device_register(&alp_i2c0);
 
-	if (mvCtrlSocUnitInfoNumGet(I2C_UNIT_ID) >= 1 &&
+	if (mvCtrlSocUnitInfoNumGet(I2C_UNIT_ID) > 1 &&
 	    mvUnitMapIsMine(I2C1) == MV_TRUE)
 		platform_device_register(&alp_i2c1);
 #endif
@@ -1489,11 +1489,11 @@ static void __init alp_board_init(void)
 	alp_nand_nfc_init();
 	alp_rtc_init();
 	alp_sdio_init();
+	alp_i2c_init();
 
 #if 0
 	alp_gpio_init();
 	alp_hwmon_init();
-	alp_i2c_init();
 #endif
 }
 
-- 
1.7.5.4

