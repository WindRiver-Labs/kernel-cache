From 5c50bcc87b0da700c1f459b1a4f6119ca60b3422 Mon Sep 17 00:00:00 2001
From: Tawfik Bayouk <tawfik@marvell.com>
Date: Tue, 21 Aug 2012 17:33:26 +0300
Subject: [PATCH 0059/1825] FIX XOR ID in V6smp in Z1

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 09b3518abc6efeb3420524e6ad7a481e363727d2

Change-Id: I40c9ea0fe1c5368ff2b5151b5b44a1723e37919a
Signed-off-by: Tawfik Bayouk <tawfik@marvell.com>
Signed-off-by: Kosta Zertsekel <konszert@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-armadaxp/include/mach/armadaxp.h |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-armadaxp/include/mach/armadaxp.h b/arch/arm/mach-armadaxp/include/mach/armadaxp.h
index 22439b2..bafc076 100644
--- a/arch/arm/mach-armadaxp/include/mach/armadaxp.h
+++ b/arch/arm/mach-armadaxp/include/mach/armadaxp.h
@@ -158,8 +158,14 @@
 #define CRYPT_ENG_VIRT_BASE(chan)	((chan == 0) ? 0xFEB00000 : 0xFEB10000)
 #define CRYPT_ENG_SIZE			_64K
 
+
+#ifdef CONFIG_ARMADA_XP_REV_Z1
+#define XOR0_PHYS_BASE                 (INTER_REGS_PHYS_BASE | 0x60800)
+#define XOR1_PHYS_BASE                 (INTER_REGS_PHYS_BASE | 0x60900)
+#else
 #define XOR0_PHYS_BASE			(INTER_REGS_PHYS_BASE | 0x60900)
 #define XOR1_PHYS_BASE			(INTER_REGS_PHYS_BASE | 0xF0900)
+#endif
 #define XOR0_HIGH_PHYS_BASE		(INTER_REGS_PHYS_BASE | 0x60B00)
 #define XOR1_HIGH_PHYS_BASE		(INTER_REGS_PHYS_BASE | 0xF0B00)
 
-- 
1.7.5.4

