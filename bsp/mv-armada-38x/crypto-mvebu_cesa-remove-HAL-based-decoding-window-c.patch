From af52960e2366a3ad0eaaa122c6e8e8ade80ca272 Mon Sep 17 00:00:00 2001
From: Nadav Haklai <nadavh@marvell.com>
Date: Wed, 12 Mar 2014 11:47:21 +0200
Subject: [PATCH 1465/1825] crypto: mvebu_cesa: remove HAL-based decoding
 window configuration mechanism

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 3eaacaf6219bee7f59d6e3d727ddac021e054813

	- HAL-based mechanism is obsolete since most of the mvebu drivers do
	  not use HAL
	- Remove unused #include

Change-Id: I46ee3c6b6da79f30dffd63441e54bfe6f59fc6d5
Signed-off-by: Grzegorz Jaszczyk <jaz@semihalf.com>
Signed-off-by: Nadav Haklai <nadavh@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/6355
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/plat-armada/mv_hal/cesa/mvCesa.c |    2 ++
 arch/arm/plat-armada/mv_hal/cesa/mvCesa.h |    2 ++
 2 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/arm/plat-armada/mv_hal/cesa/mvCesa.c b/arch/arm/plat-armada/mv_hal/cesa/mvCesa.c
index 2724576..6da7e43 100644
--- a/arch/arm/plat-armada/mv_hal/cesa/mvCesa.c
+++ b/arch/arm/plat-armada/mv_hal/cesa/mvCesa.c
@@ -64,7 +64,9 @@ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 #include "mvCommon.h"
 #include "mvOs.h"
+#ifndef CONFIG_OF
 #include "ctrlEnv/mvCtrlEnvSpec.h"
+#endif
 #include "mvSysCesaConfig.h"
 #include "mvCesaRegs.h"
 #include "mvCesa.h"
diff --git a/arch/arm/plat-armada/mv_hal/cesa/mvCesa.h b/arch/arm/plat-armada/mv_hal/cesa/mvCesa.h
index 49e1405..045e0a1 100644
--- a/arch/arm/plat-armada/mv_hal/cesa/mvCesa.h
+++ b/arch/arm/plat-armada/mv_hal/cesa/mvCesa.h
@@ -78,7 +78,9 @@ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 extern "C" {
 #endif
 
+#ifndef CONFIG_OF
 #include "ctrlEnv/mvCtrlEnvSpec.h"
+#endif
 #include "mvSysCesaConfig.h"
 #include "mvCesaRegs.h"
 
-- 
1.7.5.4

