From f4924fa86a9412410e0d97429f6974be692a05f9 Mon Sep 17 00:00:00 2001
From: Yehuda Yitschak <yehuday@marvell.com>
Date: Wed, 15 Jan 2014 13:36:41 +0200
Subject: [PATCH 1282/1825] alp: slic: Move alp_soc_timer_rate_get() to
 publicly avaiable header file.

https://github.com/MISL-EBU-System-SW/misl-windriver.git linux-3.4.69-14t2-read
commit 33721f79f5d916c2697c2bd1ef46930c9b12191e

	The alp_soc_timer_rate_get() function is used by DFEV firmware
	as it requires precise timing in sample management.

Change-Id: I207f17a1fd4399e2fa876e4fbe8198cdb19251ba
Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>
Signed-off-by: Yehuda Yitschak <yehuday@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/5145
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-avantalp/core.h                  |    1 -
 arch/arm/mach-avantalp/include/mach/avantalp.h |    6 ++++++
 2 files changed, 6 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-avantalp/core.h b/arch/arm/mach-avantalp/core.h
index 717ba85..a745d98 100644
--- a/arch/arm/mach-avantalp/core.h
+++ b/arch/arm/mach-avantalp/core.h
@@ -9,4 +9,3 @@
 void alp_irq_init(void);
 void __init mv_usb_init(struct mbus_dram_target_info *dram);
 void set_core_count(unsigned int cpu_count);
-u32 alp_soc_timer_rate_get(void);
diff --git a/arch/arm/mach-avantalp/include/mach/avantalp.h b/arch/arm/mach-avantalp/include/mach/avantalp.h
index 924409a..5076023 100644
--- a/arch/arm/mach-avantalp/include/mach/avantalp.h
+++ b/arch/arm/mach-avantalp/include/mach/avantalp.h
@@ -7,6 +7,8 @@
 #ifndef __ASM_ARCH_AURORA_H
 #define __ASM_ARCH_AURORA_H
 
+#include <linux/types.h>
+
 /*
  * The base address of memory that should be reserved for IO windows.
  * The reserved end address is 0xFFFFFFFF.
@@ -144,4 +146,8 @@
 #define IN_DRBEL_CAUSE			(PER_CPU_BASE | 0x78)
 #define IN_DRBEL_MSK			(PER_CPU_BASE | 0x7c)
 
+#ifndef __ASSEMBLY__
+u32 alp_soc_timer_rate_get(void);
+#endif /* __ASSEMBLY__ */
+
 #endif /* __ASM_ARCH_AURORA_H */
-- 
1.7.5.4

