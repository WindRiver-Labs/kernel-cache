From b27f8e1fc9f7e15f56b5cad8d20e94c16fb7b672 Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@altera.com>
Date: Tue, 3 Jun 2014 15:21:10 -0500
Subject: [PATCH 245/248] FogBugz #208834: Add SD/MMC card detect

Revision D of the Cyclone5 devkit adds support for a GPIO card detect for
the SD/MMC.

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Dinh Nguyen <dinguyen@altera.com>
---
 arch/arm/boot/dts/socfpga_cyclone5_socdk.dts | 1 +
 1 file changed, 1 insertion(+)

diff --git a/arch/arm/boot/dts/socfpga_cyclone5_socdk.dts b/arch/arm/boot/dts/socfpga_cyclone5_socdk.dts
index e6cd08a..36a188e 100644
--- a/arch/arm/boot/dts/socfpga_cyclone5_socdk.dts
+++ b/arch/arm/boot/dts/socfpga_cyclone5_socdk.dts
@@ -133,6 +133,7 @@
 	altr,dw-mshc-sdr-timing = <0 3>;
 
 	slot@0 {
+	cd-gpios = <&gpio1 18 0>;
 	reg = <0>;
 	bus-width = <4>;
 	};
-- 
1.9.1

