From d32021c86ed1a17d537c98f4c0e5a5f354cdf3f6 Mon Sep 17 00:00:00 2001
From: Yves Vandervennet <yvanderv@altera.com>
Date: Tue, 13 Aug 2013 15:35:52 -0500
Subject: [PATCH 126/248] FogBugz #145287: Add support for mutiple PHYs

Add bus_id to the stmmac private data structure. This enables support
for multiple PHY's.

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Yves Vandervennet <yvanderv@altera.com>
---
 arch/arm/mach-socfpga/socfpga.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/arm/mach-socfpga/socfpga.c b/arch/arm/mach-socfpga/socfpga.c
index 4c656cd..401b69b 100644
--- a/arch/arm/mach-socfpga/socfpga.c
+++ b/arch/arm/mach-socfpga/socfpga.c
@@ -47,10 +47,12 @@ static int stmmac_plat_init(struct platform_device *pdev);
 
 static struct plat_stmmacenet_data stmmacenet0_data = {
 	.init = &stmmac_plat_init,
+	.bus_id = 0,
 };
 
 static struct plat_stmmacenet_data stmmacenet1_data = {
 	.init = &stmmac_plat_init,
+	.bus_id = 1,
 };
 
 #ifdef CONFIG_HW_PERF_EVENTS
-- 
1.9.1

