From d849f13354c7ceb9412454e39bb6031c5b1e8feb Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@altera.com>
Date: Mon, 6 May 2013 14:54:07 -0500
Subject: [PATCH 242/254] usb: Fix USB Host to support LS/FS devices

Upstream: git://git.rocketboards.org/linux-socfpga.git

Report to the USB Host stack that the SOCFPGA USB host driver has a
valid TT.

Signed-off-by: Dinh Nguyen <dinguyen@altera.com>
(cherry picked from commit dc08052556dca1bda020938f079d4fc1851838c9)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/usb/otg/dwc/hcd.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/usb/otg/dwc/hcd.c b/drivers/usb/otg/dwc/hcd.c
index e51df24..95e5119 100644
--- a/drivers/usb/otg/dwc/hcd.c
+++ b/drivers/usb/otg/dwc/hcd.c
@@ -1294,6 +1294,7 @@ int __devinit dwc_otg_hcd_init(struct device *_dev,
 	hcd->rsrc_start = otg_dev->phys_addr;
 	hcd->rsrc_len = otg_dev->base_len;
 	hcd->self.otg_port = 1;
+	hcd->has_tt = 1;
 
 	/* Initialize the DWC OTG HCD. */
 	dwc_hcd = hcd_to_dwc_otg_hcd(hcd);
-- 
1.7.5.4

