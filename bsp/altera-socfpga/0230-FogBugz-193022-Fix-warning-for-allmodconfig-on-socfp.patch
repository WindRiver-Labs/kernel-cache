From 2897105c40fb56659a0db1801247435a77b5ef9f Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@altera.com>
Date: Mon, 24 Mar 2014 17:10:13 -0500
Subject: [PATCH 230/248] FogBugz #193022: Fix warning for allmodconfig on
 socfpga_defconfig

warning: (ARCH_SOCFPGA) selects PL310_ERRATA_753970 which has unmet direct
dependencies (CACHE_PL310)

Also remove VIRT_TO_BUS, because this ia no longer needed with the new USB
driver.

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Dinh Nguyen <dinguyen@altera.com>
---
 arch/arm/mach-socfpga/Kconfig | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/arch/arm/mach-socfpga/Kconfig b/arch/arm/mach-socfpga/Kconfig
index 78cec25..552eb06 100644
--- a/arch/arm/mach-socfpga/Kconfig
+++ b/arch/arm/mach-socfpga/Kconfig
@@ -22,9 +22,8 @@ config ARCH_SOCFPGA
 	select ARM_ERRATA_775420
 	select PL310_ERRATA_588369
 	select PL310_ERRATA_727915
-	select PL310_ERRATA_753970
+	select PL310_ERRATA_753970 if PL310
 	select PL310_ERRATA_769419
-	select VIRT_TO_BUS
 
 config FPGADMA
 	tristate "FPGA DMA FIFO driver"
-- 
1.9.1

