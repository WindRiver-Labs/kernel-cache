From daf7901d63e68c25bb07a86ceccf4fb19a26e153 Mon Sep 17 00:00:00 2001
From: Thor Thayer <tthayer@opensource.altera.com>
Date: Tue, 19 Jan 2016 10:52:41 -0600
Subject: [PATCH 45/73] FogBugz #348907-2: Update socfpga_defconfig to include
 A10 SyCon

In this patch, MFD_A10SYCON is defined in the default config so that
the children dependency is satisfied for the System Controller.

A zero day test script discovered a bug when building with allyesconfig.
The dependency tree needed to be cleaned up because the children (Reset
controller, GPIO, HWMON) would select the MFD_A10SYCON config. The fix
is to make the children dependent upon MFD_A10SYCON config and change
the default config to enable MFD_A10SYCON.

Error message was:
 warning: (A10SYCON_RESET && GPIO_A10SYCON && SENSORS_A10_SYCON) selects
  MFD_A10SYSCON which has unmet direct dependencies (HAS_IOMEM &&
  ARCH_SOCFPGA && SPI_MASTER)

Signed-off-by: Thor Thayer <tthayer@opensource.altera.com>
[mli1:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1-ltsi]
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm/configs/socfpga_defconfig |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/configs/socfpga_defconfig b/arch/arm/configs/socfpga_defconfig
index 8ed178f..f7016f7 100644
--- a/arch/arm/configs/socfpga_defconfig
+++ b/arch/arm/configs/socfpga_defconfig
@@ -92,6 +92,7 @@ CONFIG_GPIOLIB=y
 CONFIG_GPIO_SYSFS=y
 CONFIG_GPIO_DWAPB=y
 CONFIG_GPIO_ALTERA=m
+CONFIG_MFD_A10SYCON=y
 CONFIG_GPIO_A10SYCON=y
 CONFIG_SENSORS_A10SYCON=y
 CONFIG_SENSORS_MAX1619=y
-- 
1.7.5.4

