From 7bf07f0a43156ef13bb0702c56603e4303b19f2b Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@altera.com>
Date: Mon, 22 Oct 2012 11:12:50 -0600
Subject: [PATCH 162/254] arm: socfpga: Make CACHE_L2XO a config option.

Upstream: git://git.rocketboards.org/linux-socfpga.git

Instead of enabling l2 cache by default, make it a config option.

Signed-off-by: Dinh Nguyen <dinguyen@altera.com>
(cherry picked from commit f4a0944ed9e12fe8a346caee5dd2f4e3a817c36e)

Conflicts:
	arch/arm/mach-socfpga/Kconfig
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/Kconfig |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/arm/Kconfig b/arch/arm/Kconfig
index 3fb46e5..86c7001 100644
--- a/arch/arm/Kconfig
+++ b/arch/arm/Kconfig
@@ -283,7 +283,6 @@ config ARCH_SOCFPGA
 	select ARCH_WANT_OPTIONAL_GPIOLIB
 	select ARM_AMBA
 	select ARM_GIC
-	select CACHE_L2X0
 	select CLKDEV_LOOKUP
 	select COMMON_CLK
 	select CPU_V7
@@ -292,6 +291,8 @@ config ARCH_SOCFPGA
 	select GENERIC_CLOCKEVENTS
 	select GPIO_PL061 if GPIOLIB
 	select HAVE_ARM_SCU
+	select HAVE_SMP
+	select MIGHT_HAVE_CACHE_L2X0
 	select SPARSE_IRQ
 	select USE_OF
 	help
-- 
1.7.5.4

