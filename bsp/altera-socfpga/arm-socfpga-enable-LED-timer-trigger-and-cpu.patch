From 80f6576a9880a042609ca3af64a95292918c269e Mon Sep 17 00:00:00 2001
From: Alan Tull <atull@altera.com>
Date: Tue, 19 Feb 2013 09:25:52 -0600
Subject: [PATCH 198/254] arm: socfpga: enable LED timer trigger and cpu

Upstream: git://git.rocketboards.org/linux-socfpga.git
 trigger

Enable led timer trigger and cpu trigger.  Set these as built-in.

Note that the led driver still is set as a module because the
gpio drivers are modules.  So the order to load the modules is:
  modprobe gpio-dw (and/or gpio-altera)
  modprobe leds-gpio (will cause led-class to load)

Signed-off-by: Alan Tull <atull@altera.com>
(cherry picked from commit 7f8b57ea801e50abbef2194575d8e217d1da406a)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/configs/socfpga_defconfig |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/arch/arm/configs/socfpga_defconfig b/arch/arm/configs/socfpga_defconfig
index 896369e..37bd7df 100644
--- a/arch/arm/configs/socfpga_defconfig
+++ b/arch/arm/configs/socfpga_defconfig
@@ -130,4 +130,6 @@ CONFIG_NEW_LEDS=y
 CONFIG_LEDS_CLASS=m
 CONFIG_LEDS_GPIO=m
 CONFIG_LEDS_TRIGGERS=y
-CONFIG_LEDS_TRIGGER_GPIO=m
+CONFIG_LEDS_TRIGGER_TIMER=y
+CONFIG_LEDS_TRIGGER_GPIO=y
+CONFIG_LEDS_TRIGGER_CPU=y
-- 
1.7.5.4

