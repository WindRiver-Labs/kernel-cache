From 9b2c2eee89b93b70ba6fdc391d523064ed1ae1d6 Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@opensource.altera.com>
Date: Sun, 7 Feb 2016 21:03:25 -0600
Subject: [PATCH 50/73] FogBugz #352163-2: fix error checking in interrupt
 latency driver

The ZERO-day testing revealed an error in how a variable is declared.
The variable was declared as an unsigned int, but the error check if
a value < 0. This will never happen if the variable is an unsigned int.

An addendum to commit 01740330db6f ("FogBugz #352163: fix error checking
in interrupt latency driver").

Reported-by: kbuild test robot <fengguang.wu@intel.com>
Signed-off-by: Dinh Nguyen <dinguyen@opensource.altera.com>
[mli1:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1-ltsi]
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/misc/altera_ilc.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/drivers/misc/altera_ilc.c b/drivers/misc/altera_ilc.c
index aecb79e..30fbdef 100644
--- a/drivers/misc/altera_ilc.c
+++ b/drivers/misc/altera_ilc.c
@@ -107,7 +107,8 @@ struct attribute_group altera_ilc_attr_group = {
 
 static void ilc_work(struct work_struct *work)
 {
-	unsigned int ilc_value, ret, offset, stp_reg;
+	unsigned int ilc_value, ret, stp_reg;
+	int offset;
 	struct altera_ilc *ilc =
 		container_of(work, struct altera_ilc, ilc_work.work);
 
-- 
1.7.5.4

