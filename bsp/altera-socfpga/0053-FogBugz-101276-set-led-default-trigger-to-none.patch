From 7a7949e6867d81abcb824ac8b2d2fae575c8a091 Mon Sep 17 00:00:00 2001
From: Alan Tull <atull@altera.com>
Date: Fri, 22 Feb 2013 09:35:25 -0600
Subject: [PATCH 053/248] FogBugz #101276: set led default trigger to none

 * Don't need gpio trigger to control LED's
 * Allow default-trigger to be "none"
 * Disable gpio trigger in defconfig
 * Default LEDs to be off

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Alan Tull <atull@altera.com>
---
 arch/arm/boot/dts/socfpga_cyclone5.dtsi | 16 ----------------
 arch/arm/configs/socfpga_defconfig      |  5 ++---
 2 files changed, 2 insertions(+), 19 deletions(-)

diff --git a/arch/arm/boot/dts/socfpga_cyclone5.dtsi b/arch/arm/boot/dts/socfpga_cyclone5.dtsi
index b33647e..79c7080 100644
--- a/arch/arm/boot/dts/socfpga_cyclone5.dtsi
+++ b/arch/arm/boot/dts/socfpga_cyclone5.dtsi
@@ -148,57 +148,41 @@
 			fpga0 {
 				label = "fpga_led0";
 				gpios = <&agpio0 0 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 
 			fpga1 {
 				label = "fpga_led1";
 				gpios = <&agpio0 1 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 
 			fpga2 {
 				label = "fpga_led2";
 				gpios = <&agpio0 2 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 
 			fpga3 {
 				label = "fpga_led3";
 				gpios = <&agpio0 3 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 
 			hps0 {
 				label = "hps_led0";
 				gpios = <&gpio1 15 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 
 			hps1 {
 				label = "hps_led1";
 				gpios = <&gpio1 14 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 
 			hps2 {
 				label = "hps_led2";
 				gpios = <&gpio1 13 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 
 			hps3 {
 				label = "hps_led3";
 				gpios = <&gpio1 12 1>;
-				linux,default-trigger = "gpio";
-				default-state = "on";
 			};
 		};
 	};
diff --git a/arch/arm/configs/socfpga_defconfig b/arch/arm/configs/socfpga_defconfig
index 37bd7df..c0d8bf6 100644
--- a/arch/arm/configs/socfpga_defconfig
+++ b/arch/arm/configs/socfpga_defconfig
@@ -20,9 +20,9 @@ CONFIG_MACH_SOCFPGA_CYCLONE5=y
 # CONFIG_FPGA_SDRAM is not set
 CONFIG_ARM_THUMBEE=y
 # CONFIG_ARCH_VEXPRESS_CORTEX_A5_A9_ERRATA is not set
-# CONFIG_CACHE_L2X0 is not set
-CONFIG_HIGH_RES_TIMERS=y
 CONFIG_SMP=y
+CONFIG_HIGH_RES_TIMERS=y
+CONFIG_VMSPLIT_2G=y
 CONFIG_NR_CPUS=2
 CONFIG_AEABI=y
 CONFIG_ZBOOT_ROM_TEXT=0x0
@@ -131,5 +131,4 @@ CONFIG_LEDS_CLASS=m
 CONFIG_LEDS_GPIO=m
 CONFIG_LEDS_TRIGGERS=y
 CONFIG_LEDS_TRIGGER_TIMER=y
-CONFIG_LEDS_TRIGGER_GPIO=y
 CONFIG_LEDS_TRIGGER_CPU=y
-- 
1.9.1

