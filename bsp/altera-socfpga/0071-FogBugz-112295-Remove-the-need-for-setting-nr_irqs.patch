From b66a2ee8dea1d35baf81cba39eb9eff945dcc875 Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@altera.com>
Date: Wed, 3 Apr 2013 19:51:59 -0500
Subject: [PATCH 071/248] FogBugz #112295: Remove the need for setting nr_irqs

With the usage of SPARSE_IRQ and DT, we no longer need to explicitly
set nr_irqs in DT_MACHINE_START.

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Dinh Nguyen <dinguyen@altera.com>
---
 arch/arm/mach-socfpga/core.h    | 1 +
 arch/arm/mach-socfpga/socfpga.c | 2 --
 2 files changed, 1 insertion(+), 2 deletions(-)

diff --git a/arch/arm/mach-socfpga/core.h b/arch/arm/mach-socfpga/core.h
index 1839a30..ecd00e3 100644
--- a/arch/arm/mach-socfpga/core.h
+++ b/arch/arm/mach-socfpga/core.h
@@ -71,5 +71,6 @@ extern struct dw_mci_board sdmmc_platform_data;
 extern unsigned long cpu1start_addr;
 
 #define SOCFPGA_SCU_VIRT_BASE   0xfee00000
+#define SOCFPGA_IRQ_GIC_START	32
 
 #endif /* __CORE_H */
diff --git a/arch/arm/mach-socfpga/socfpga.c b/arch/arm/mach-socfpga/socfpga.c
index 3ab8457..c4afcf8 100644
--- a/arch/arm/mach-socfpga/socfpga.c
+++ b/arch/arm/mach-socfpga/socfpga.c
@@ -33,8 +33,6 @@
 
 #include "core.h"
 
-#define SOCFPGA_NR_IRQS		512
-
 void __iomem *socfpga_scu_base_addr = ((void __iomem *)(SOCFPGA_SCU_VIRT_BASE));
 void __iomem *sys_manager_base_addr;
 void __iomem *rst_manager_base_addr;
-- 
1.9.1

