From 2711d6b6db034dca2ecaae5deb707f9645201a34 Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@altera.com>
Date: Thu, 26 Sep 2013 14:12:13 -0500
Subject: [PATCH 225/248] FogBugz #194601: Fix I2C clock parent

The correct parents for the I2C should be the l4_sp_clk.

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Dinh Nguyen <dinguyen@altera.com>
---
 arch/arm/boot/dts/socfpga.dtsi | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/arm/boot/dts/socfpga.dtsi b/arch/arm/boot/dts/socfpga.dtsi
index 6147060..2e01729 100644
--- a/arch/arm/boot/dts/socfpga.dtsi
+++ b/arch/arm/boot/dts/socfpga.dtsi
@@ -548,7 +548,7 @@
 			compatible = "snps,designware-i2c";
 			reg = <0xffc04000 0x1000>;
 			interrupts = <0 158 4>;
-			clocks = <&per_base_clk>;
+			clocks = <&l4_sp_clk>;
 			status = "disabled";
 		};
 
@@ -558,7 +558,7 @@
 			compatible = "snps,designware-i2c";
 			reg = <0xffc05000 0x1000>;
 			interrupts = <0 159 4>;
-			clocks = <&per_base_clk>;
+			clocks = <&l4_sp_clk>;
 			status = "disabled";
 		};
 
@@ -568,7 +568,7 @@
 			compatible = "snps,designware-i2c";
 			reg = <0xffc06000 0x1000>;
 			interrupts = <0 160 4>;
-			clocks = <&per_base_clk>;
+			clocks = <&l4_sp_clk>;
 			status = "disabled";
 		};
 
@@ -578,7 +578,7 @@
 			compatible = "snps,designware-i2c";
 			reg = <0xffc07000 0x1000>;
 			interrupts = <0 161 4>;
-			clocks = <&per_base_clk>;
+			clocks = <&l4_sp_clk>;
 			status = "disabled";
 		};
 
-- 
1.9.1

