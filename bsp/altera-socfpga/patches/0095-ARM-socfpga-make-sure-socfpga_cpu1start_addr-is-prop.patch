From 4d9c5462956cb2c56131e4b55e069041f1dfef19 Mon Sep 17 00:00:00 2001
From: Russell King <rmk+kernel@arm.linux.org.uk>
Date: Wed, 25 Feb 2015 10:24:25 -0600
Subject: [PATCH 095/172] ARM: socfpga: make sure socfpga_cpu1start_addr is
 properly flushed

Make sure socfpga_cpu1start_addr is properly flushed from it's cache line so
that secondary cpu's can see it.

Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
Tested-by: Steffen Trumtrar <s.trumtrar@pengutronix.de>
Signed-off-by: Dinh Nguyen <dinguyen@opensource.altera.com>
[czou:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1]
Signed-off-by: czou <cao.zou@windriver.com>

Conflicts:
	arch/arm/mach-socfpga/socfpga.c
---
 arch/arm/mach-socfpga/socfpga.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/arch/arm/mach-socfpga/socfpga.c b/arch/arm/mach-socfpga/socfpga.c
index 2e811f2..05b4b68 100644
--- a/arch/arm/mach-socfpga/socfpga.c
+++ b/arch/arm/mach-socfpga/socfpga.c
@@ -27,6 +27,7 @@
 #include <asm/mach/map.h>
 #include <asm/cacheflush.h>
 #include <asm/pmu.h>
+#include <asm/cacheflush.h>
 
 #include "core.h"
 #include "socfpga_cti.h"
-- 
1.9.1

