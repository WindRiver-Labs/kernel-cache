From c6b47c4b9bb734535ec369599f9fda7991ba798c Mon Sep 17 00:00:00 2001
From: Roman Bulgakov <roman.bulgakov@globallogic.com>
Date: Wed, 29 Jul 2015 20:16:24 +0300
Subject: [PATCH 157/172] FogBugz #315701-4: add L2 cache EDAC entry for
 Arria10

This patch adds the new L2 cache EDAC entry into the
Arria 10 DTSI file.

Signed-off-by: Roman Bulgakov <roman.bulgakov@globallogic.com>
Signed-off-by: Dinh Nguyen <dinguyen@opensource.altera.com>
[czou:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1]
Signed-off-by: czou <cao.zou@windriver.com>
---
 arch/arm/boot/dts/socfpga_arria10.dtsi | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/arch/arm/boot/dts/socfpga_arria10.dtsi b/arch/arm/boot/dts/socfpga_arria10.dtsi
index 35863c4..fb28f90 100644
--- a/arch/arm/boot/dts/socfpga_arria10.dtsi
+++ b/arch/arm/boot/dts/socfpga_arria10.dtsi
@@ -588,6 +588,13 @@
 			cache-level = <2>;
 		};
 
+		l2edac@ffd06000 {
+			compatible = "altr,a10-l2-edac";
+			reg = <0xffd06000 0x200>;
+			interrupts = <0 2 IRQ_TYPE_LEVEL_HIGH>,
+				     <0 0 IRQ_TYPE_LEVEL_HIGH>;
+		};
+
 		mmc: dwmmc0@ff808000 {
 			#address-cells = <1>;
 			#size-cells = <0>;
-- 
1.9.1

