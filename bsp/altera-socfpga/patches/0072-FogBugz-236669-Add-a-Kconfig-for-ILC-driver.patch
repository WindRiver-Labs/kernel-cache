From fac8f219040851493f4dd381a2479219e51b695f Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@opensource.altera.com>
Date: Thu, 9 Oct 2014 17:54:51 -0500
Subject: [PATCH 072/172] FogBugz #236669: Add a Kconfig for ILC driver

Without a Kconfig option, there's really no way to build the driver.

Signed-off-by: Dinh Nguyen <dinguyen@opensource.altera.com>
[czou:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1]
Signed-off-by: czou <cao.zou@windriver.com>
---
 drivers/misc/Kconfig  | 6 ++++++
 drivers/misc/Makefile | 1 +
 2 files changed, 7 insertions(+)

diff --git a/drivers/misc/Kconfig b/drivers/misc/Kconfig
index 42825b6..ad19612 100644
--- a/drivers/misc/Kconfig
+++ b/drivers/misc/Kconfig
@@ -555,6 +555,12 @@ config ALTERA_SYSID
 	help
 	This enables Altera System ID soft core driver.
 
+config ALTERA_ILC
+	tristate "Altera Interrupt Latency Counter driver"
+	help
+	  This enables the Interrupt Latency Counter driver for the Altera
+	  SOCFPGA platform.
+
 source "drivers/misc/c2port/Kconfig"
 source "drivers/misc/eeprom/Kconfig"
 source "drivers/misc/cb710/Kconfig"
diff --git a/drivers/misc/Makefile b/drivers/misc/Makefile
index 0324bba..fe9eeb8 100644
--- a/drivers/misc/Makefile
+++ b/drivers/misc/Makefile
@@ -50,6 +50,7 @@ obj-y				+= carma/
 obj-$(CONFIG_USB_SWITCH_FSA9480) += fsa9480.o
 obj-$(CONFIG_ALTERA_STAPL)	+= altera-stapl/
 obj-$(CONFIG_ALTERA_HWMUTEX)	+= altera_hwmutex.o
+obj-$(CONFIG_ALTERA_ILC)	+= altera_ilc.o
 obj-$(CONFIG_ALTERA_SYSID)	+= altera_sysid.o
 obj-$(CONFIG_INTEL_MEI)		+= mei/
 obj-$(CONFIG_VMWARE_VMCI)	+= vmw_vmci/
-- 
1.9.1

