From 42bae2eba359ea6db0cd9ce0e14a0fd88c23a92c Mon Sep 17 00:00:00 2001
From: Roman Bulgakov <roman.bulgakov@globallogic.com>
Date: Fri, 7 Aug 2015 17:13:21 +0300
Subject: [PATCH 168/172] FogBugz #316846-3: dts: add NAND EDAC entries for
 Arria 10

This patch adds the new EDAC entries for the NAND Flash
Controller local FIFOs into the Arria 10 DTSI file.

Signed-off-by: Roman Bulgakov <roman.bulgakov@globallogic.com>
Signed-off-by: Dinh Nguyen <dinguyen@opensource.altera.com>
[czou:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1]
Signed-off-by: czou <cao.zou@windriver.com>
---
 arch/arm/boot/dts/socfpga_arria10.dtsi | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

diff --git a/arch/arm/boot/dts/socfpga_arria10.dtsi b/arch/arm/boot/dts/socfpga_arria10.dtsi
index f3493d0..35346fa 100644
--- a/arch/arm/boot/dts/socfpga_arria10.dtsi
+++ b/arch/arm/boot/dts/socfpga_arria10.dtsi
@@ -603,6 +603,27 @@
 				     <0 0 IRQ_TYPE_LEVEL_HIGH>;
 		};
 
+		nandedac_buf@ff8c2000 {
+			compatible = "altr,a10-nand-buf-edac";
+			reg = <0xff8c2000 0x400>;
+			interrupts = <0 2 IRQ_TYPE_LEVEL_HIGH>,
+				     <0 0 IRQ_TYPE_LEVEL_HIGH>;
+		};
+
+		nandedac_rd@ff8c2400 {
+			compatible = "altr,a10-nand-rd-edac";
+			reg = <0xff8c2400 0x400>;
+			interrupts = <0 2 IRQ_TYPE_LEVEL_HIGH>,
+				     <0 0 IRQ_TYPE_LEVEL_HIGH>;
+		};
+
+		nandedac_wr@ff8c2800 {
+			compatible = "altr,a10-nand-wr-edac";
+			reg = <0xff8c2800 0x400>;
+			interrupts = <0 2 IRQ_TYPE_LEVEL_HIGH>,
+				     <0 0 IRQ_TYPE_LEVEL_HIGH>;
+		};
+
 		mmc: dwmmc0@ff808000 {
 			#address-cells = <1>;
 			#size-cells = <0>;
-- 
1.9.1

