From 8fa42e00fa2a9c46ff0612a7b202306266dc85c5 Mon Sep 17 00:00:00 2001
From: Graham Moore <grmoore@altera.com>
Date: Wed, 24 Jul 2013 12:24:16 -0500
Subject: [PATCH 030/172] FogBugz #119719: Document Cadence QSPI Controller
 device tree bindings

Created spi-cadence-qspi.txt to document device tree bindings for
Cadence QSPI controller

Signed-off-by: Graham Moore <grmoore@altera.com>
[czou:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1]
Signed-off-by: czou <cao.zou@windriver.com>
---
 .../devicetree/bindings/spi/spi-cadence-qspi.txt   | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)
 create mode 100644 Documentation/devicetree/bindings/spi/spi-cadence-qspi.txt

diff --git a/Documentation/devicetree/bindings/spi/spi-cadence-qspi.txt b/Documentation/devicetree/bindings/spi/spi-cadence-qspi.txt
new file mode 100644
index 0000000..d4dda9a
--- /dev/null
+++ b/Documentation/devicetree/bindings/spi/spi-cadence-qspi.txt
@@ -0,0 +1,34 @@
+* SPI driver for Cadence QSPI Controller
+
+Required properties:
+- compatible : Should be "cadence,qspi".
+- reg : Contains two entries, each of which is a tuple consisting of a
+	physical address and length.  The first entry is the address and
+	length of the controller register set.  The second entry is the
+	address and length of the QSPI Controller data area.
+- interrupts : Unit interrupt specifier for the controller interrupt.
+- master-ref-clk : Specifies the frequency of the controller input clock.
+- ext-decoder : Value of 0 means no external chipselect decoder is
+	connected, 1 means there is an external chipselect decoder connected.
+- num-chipselect : Number of chip select lines.
+- fifo-depth : Size of the data FIFO in bytes.
+- bus-num : Number of the SPI bus to which the controller is connected.
+
+Optional properties:
+No optional properties
+
+Example:
+
+	qspi: spi@ff705000 {
+		compatible = "cadence,qspi";
+		#address-cells = <1>;
+		#size-cells = <0>;
+		reg = <0xff705000 0x1000>,
+			<0xffa00000 0x1000>;
+		interrupts = <0 151 4>;
+		master-ref-clk = <400000000>;
+		ext-decoder = <0>;
+		num-chipselect = <4>;
+		fifo-depth = <128>;
+		bus-num = <2>;
+	}
-- 
1.9.1

