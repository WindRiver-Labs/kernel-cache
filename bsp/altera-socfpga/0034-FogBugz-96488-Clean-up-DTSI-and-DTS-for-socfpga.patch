From 727da74a4d995aa40ce7930849beccfbb40a3eb1 Mon Sep 17 00:00:00 2001
From: Dinh Nguyen <dinguyen@altera.com>
Date: Thu, 24 Jan 2013 15:04:56 -0600
Subject: [PATCH 034/248] FogBugz #96488: Clean up DTSI and DTS for socfpga

Remove the need to redefine the basic structure for timers and uarts.

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Dinh Nguyen <dinguyen@altera.com>
---
 arch/arm/boot/dts/socfpga_ice.dts | 34 ++++++----------------------------
 arch/arm/boot/dts/socfpga_vt.dts  |  6 +-----
 2 files changed, 7 insertions(+), 33 deletions(-)

diff --git a/arch/arm/boot/dts/socfpga_ice.dts b/arch/arm/boot/dts/socfpga_ice.dts
index 829b97c..b7b9573 100644
--- a/arch/arm/boot/dts/socfpga_ice.dts
+++ b/arch/arm/boot/dts/socfpga_ice.dts
@@ -94,50 +94,28 @@
 				};
 			};
 
-		timer0: timer@ffc08000 {
-			compatible = "snps,dw-apb-timer-sp";
-			interrupts = <0 167 4>;
+		timer0@ffc08000 {
 			clock-frequency = <77161>;
-			reg = <0xffc08000 0x1000>;
 		};
 
-		timer1: timer@ffc09000 {
-			compatible = "snps,dw-apb-timer-sp";
-			interrupts = <0 168 4>;
+		timer1@ffc09000 {
 			clock-frequency = <77161>;
-			reg = <0xffc09000 0x1000>;
 		};
 
-		timer2: timer@ffd00000 {
-			compatible = "snps,dw-apb-timer-osc";
-			interrupts = <0 169 4>;
+		timer2@ffd00000 {
 			clock-frequency = <19290>;
-			reg = <0xffd00000 0x1000>;
 		};
 
-		timer3: timer@ffd01000 {
-			compatible = "snps,dw-apb-timer-osc";
-			interrupts = <0 170 4>;
+		timer3@ffd01000 {
 			clock-frequency = <19290>;
-			reg = <0xffd01000 0x1000>;
 		};
 
-		uart0: uart@ffc02000 {
-			compatible = "snps,dw-apb-uart";
-			reg = <0xffc02000 0x1000>;
+		serial0@ffc02000 {
 			clock-frequency = <77161>;
-			interrupts = <0 162 4>;
-			reg-shift = <2>;
-			reg-io-width = <4>;
 		};
 
-		uart1: uart@ffc03000 {
-			compatible = "snps,dw-apb-uart";
-			reg = <0xffc03000 0x1000>;
+		serial1@ffc03000 {
 			clock-frequency = <77161>;
-			interrupts = <0 163 4>;
-			reg-shift = <2>;
-			reg-io-width = <4>;
 		};
 	};
 };
diff --git a/arch/arm/boot/dts/socfpga_vt.dts b/arch/arm/boot/dts/socfpga_vt.dts
index 08cd885..e77a81b 100644
--- a/arch/arm/boot/dts/socfpga_vt.dts
+++ b/arch/arm/boot/dts/socfpga_vt.dts
@@ -1,9 +1,5 @@
 /*
-<<<<<<< HEAD
- *  Copyright (C) 2013 Altera Corporation <www.altera.com>
-=======
- *  Copyright (C) 2012 Altera Corporation <www.altera.com>
->>>>>>> FogBugz #82783:Add dts file for SOCFPGA running on VT
+ *  Copyright (C) 2012-2013 Altera Corporation <www.altera.com>
  *
  * This program is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License as published by
-- 
1.9.1

