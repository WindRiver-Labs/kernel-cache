From 90b352bbe16ab01dbdfa61a023595fb2fc605ae5 Mon Sep 17 00:00:00 2001
From: Yves Vandervennet <yvanderv@altera.com>
Date: Tue, 13 Aug 2013 15:35:52 -0500
Subject: [PATCH 07/13] arm/socfpga: Add support for mutiple PHYs

commit 9065bc346564651fc3605e97718a1cadaa1e7edb
git://git.rocketboards.org/linux-socfpga.git socfpga-3.10-ltsi

Add bus_id to the stmmac private data structure. This enables support
for multiple PHY's.

Signed-off-by: Yves Vandervennet <yvanderv@altera.com>
Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 arch/arm/mach-socfpga/socfpga.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-socfpga/socfpga.c b/arch/arm/mach-socfpga/socfpga.c
index d5929ce..9706f8b 100644
--- a/arch/arm/mach-socfpga/socfpga.c
+++ b/arch/arm/mach-socfpga/socfpga.c
@@ -43,10 +43,12 @@ static int stmmac_plat_init(struct platform_device *pdev);
 
 static struct plat_stmmacenet_data stmmacenet0_data = {
 	.init = &stmmac_plat_init,
+	.bus_id = 0,
 };
 
 static struct plat_stmmacenet_data stmmacenet1_data = {
 	.init = &stmmac_plat_init,
+	.bus_id = 1,
 };
 
 static const struct of_dev_auxdata socfpga_auxdata_lookup[] __initconst = {
-- 
1.7.5.4

