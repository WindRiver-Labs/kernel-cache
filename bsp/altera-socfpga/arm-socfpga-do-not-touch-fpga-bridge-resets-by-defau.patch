From 9fb5d883676216c22326126b87db2241d72384e7 Mon Sep 17 00:00:00 2001
From: Alan Tull <atull@altera.com>
Date: Tue, 16 Jul 2013 15:18:58 -0500
Subject: [PATCH 05/13] arm/socfpga: do not touch fpga bridge resets by
 default

commit dc2697c8ecf78bf21377b237b0e16eaf02c9864d
git://git.rocketboards.org/linux-socfpga.git socfpga-3.10-ltsi branch

Previously we were bringing all FPGA-hps bridges out of reset
without checking to see if the FPGA was programmed.  This patch
changes the behavior to not bring the bridges out of reset
or to set them to be in reset.

Signed-off-by: Alan Tull <atull@altera.com>
Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 arch/arm/mach-socfpga/socfpga.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-socfpga/socfpga.c b/arch/arm/mach-socfpga/socfpga.c
index eee02ad..d5929ce 100644
--- a/arch/arm/mach-socfpga/socfpga.c
+++ b/arch/arm/mach-socfpga/socfpga.c
@@ -145,9 +145,6 @@ static void __init enable_periphs(void)
 {
 	/* Release all peripherals from reset.*/
 	__raw_writel(0, rst_manager_base_addr + SOCFPGA_RSTMGR_MODPERRST);
-
-	/* Release all FPGA bridges from reset.*/
-	__raw_writel(0, rst_manager_base_addr + SOCFPGA_RSTMGR_BRGMODRST);
 }
 
 #define MICREL_KSZ9021_EXTREG_CTRL 11
-- 
1.7.5.4

