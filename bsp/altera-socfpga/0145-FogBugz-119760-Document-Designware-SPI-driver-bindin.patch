From 287d547dacdb8e16fbdfce17009f431769bc9517 Mon Sep 17 00:00:00 2001
From: Thor Thayer <tthayer@altera.com>
Date: Wed, 23 Oct 2013 09:02:18 -0500
Subject: [PATCH 145/248] FogBugz #119760: Document Designware SPI driver
 bindings

The community Memory Mapped Designware SPI driver is not
currently documented so it is added here.

V2:
  Use generic interrupt description instead of GIC specific.

V3:
  Cleanup of extra lines & compatible description.

V4:
  Addition of clock source.

[Original patch taken from
git://git.rocketboards.org/linux-socfpga.git socfpga-3.14]

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
Signed-off-by: Thor Thayer <tthayer@altera.com>
---
 Documentation/devicetree/bindings/spi/spi-dw.txt | 30 ++++++++++++++++++++++++
 1 file changed, 30 insertions(+)
 create mode 100644 Documentation/devicetree/bindings/spi/spi-dw.txt

diff --git a/Documentation/devicetree/bindings/spi/spi-dw.txt b/Documentation/devicetree/bindings/spi/spi-dw.txt
new file mode 100644
index 0000000..b0c5589
--- /dev/null
+++ b/Documentation/devicetree/bindings/spi/spi-dw.txt
@@ -0,0 +1,30 @@
+* Synopsys DesignWare SPI
+
+Required properties :
+ - compatible : should contain "snps,dw-spi-mmio"
+ - reg : Offset and length of the register set for the device
+ - interrupts : should contain the interrupt number in the
+		appropriate format for IRQ controller
+
+Recommended properties :
+ - num-chipselect : total number of chipselects
+ - bus-num : The bus that SPI is on.
+
+Optional properties :
+ - tx-dma-channel : tx dma channel to use for SPI TX
+ - rx-dma-channel : rx dma channel to use for SPI RX
+ - clocks : clock source
+
+Example :
+	spi0: spi@fff00000 {
+		compatible = "snps,dw-spi-mmio";
+		#address-cells = <1>;
+		#size-cells = <0>;
+		reg = <0xfff00000 0x1000>;
+		interrupts = <0 154 4>;
+		num-chipselect = <4>;
+		bus-num = <0>;
+		tx-dma-channel = <&pdma 16>;
+		rx-dma-channel = <&pdma 17>;
+		clocks = <&per_base_clk>;
+	};
\ No newline at end of file
-- 
1.9.1

