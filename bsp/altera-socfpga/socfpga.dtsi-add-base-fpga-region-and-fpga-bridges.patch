From f8c2e49ee0fd7f445218aa754db4839bac11f93f Mon Sep 17 00:00:00 2001
From: Alan Tull <atull@opensource.altera.com>
Date: Fri, 26 Feb 2016 14:21:04 -0600
Subject: [PATCH 67/73] socfpga.dtsi: add base fpga region and fpga bridges

Add reg for h2f and lwh2f bridges.

Add base FPGA Region to support DT overlays for FPGA programming.

Signed-off-by: Alan Tull <atull@opensource.altera.com>
[mli1:Original patch taken from
https://github.com/altera-opensource/linux-socfpga.git socfpga-4.1-ltsi]
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm/boot/dts/socfpga.dtsi |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/socfpga.dtsi b/arch/arm/boot/dts/socfpga.dtsi
index 0c476ab..5547dfc 100644
--- a/arch/arm/boot/dts/socfpga.dtsi
+++ b/arch/arm/boot/dts/socfpga.dtsi
@@ -92,6 +92,16 @@
 			};
 		};
 
+		base_fpga_region {
+			compatible = "fpga-region";
+			fpga-mgr = <&hps_0_fpgamgr>;
+			fpga-bridges = <&hps_fpgabridge1>, <&hps_fpgabridge0>;
+
+			#address-cells = <0x1>;
+			#size-cells = <0x1>;
+			ranges = <0 0xff200000 0x100000>;
+		};
+
 		can0: can@ffc00000 {
 			compatible = "bosch,d_can";
 			reg = <0xffc00000 0x1000>;
@@ -559,6 +569,7 @@
 		hps_fpgabridge0: fpgabridge@0 {
 			compatible = "altr,socfpga-hps2fpga-bridge";
 			label = "hps2fpga";
+			reg = <0xff500000 0x10000>;
 			resets = <&rst HPS2FPGA_RESET>;
 			reset-names = "hps2fpga";
 			clocks = <&l4_main_clk>;
@@ -567,6 +578,7 @@
 		hps_fpgabridge1: fpgabridge@1 {
 			compatible = "altr,socfpga-lwhps2fpga-bridge";
 			label = "lwhps2fpga";
+			reg = <0xff400000 0x100000>;
 			resets = <&rst LWHPS2FPGA_RESET>;
 			reset-names = "lwhps2fpga";
 			clocks = <&l4_main_clk>;
-- 
1.7.5.4

