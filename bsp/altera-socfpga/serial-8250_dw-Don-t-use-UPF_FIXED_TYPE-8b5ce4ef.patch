From 36c7f39abe605ad84b571169b01053570093a0b6 Mon Sep 17 00:00:00 2001
From: Heikki Krogerus <heikki.krogerus@linux.intel.com>
Date: Thu, 10 Jan 2013 11:25:06 +0200
Subject: [PATCH] serial: 8250_dw: Don't use UPF_FIXED_TYPE

commit 966c4e39b5f7f249d7bb4c409176c9e6c5d48025 upstream

Allow 8250.c to determine the port type for us. This allows
the driver take advantage of FIFO on Designware UARTs that
have it.

Signed-off-by: Heikki Krogerus <heikki.krogerus@linux.intel.com>
Reviewed-by: Jamie Iles <jamie@jamieiles.com>
Acked-by: Alan Cox <alan@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 drivers/tty/serial/8250/8250_dw.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/tty/serial/8250/8250_dw.c b/drivers/tty/serial/8250/8250_dw.c
index b6dc908..684cf96 100644
--- a/drivers/tty/serial/8250/8250_dw.c
+++ b/drivers/tty/serial/8250/8250_dw.c
@@ -112,7 +112,7 @@ static int __devinit dw8250_probe(struct platform_device *pdev)
 	port.handle_irq = dw8250_handle_irq;
 	port.type = PORT_8250;
 	port.flags = UPF_SHARE_IRQ | UPF_BOOT_AUTOCONF | UPF_IOREMAP |
-		UPF_FIXED_PORT | UPF_FIXED_TYPE;
+		UPF_FIXED_PORT;
 	port.dev = &pdev->dev;
 
 	port.iotype = UPIO_MEM;
-- 
1.7.5.4

