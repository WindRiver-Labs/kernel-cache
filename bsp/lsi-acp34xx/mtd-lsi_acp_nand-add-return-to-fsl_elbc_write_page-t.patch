From 4108ad3374181b3fe7ce61c8e977017f5a423963 Mon Sep 17 00:00:00 2001
From: Michel Thebeau <michel.thebeau@windriver.com>
Date: Fri, 15 Feb 2013 10:28:52 -0500
Subject: [PATCH] mtd:lsi_acp_nand: add return to fsl_elbc_write_page() to fix
 compile warnings

Fix the following compiling warnings introduced by lsi nand driver:
drivers/mtd/nand/lsi_acp_nand.c:3652:31: warning: assignment from
incompatible pointer type [enabled by default]
drivers/mtd/nand/lsi_acp_nand.c:3654:35: warning: assignment from
incompatible pointer type [enabled by default]

The upstream ltsi commit "MTD: nand: add return value for
write_page()/write_page_raw() functions in structure of
nand_ecc_ctrl.", fdbad98dff8007f2b8bee6698b5d25ebba0471c9, adds a return
value to the function pointer: int (*write_page)(.. etc)

A return value does not seem to benefit lsi_nand_write_page_hwecc().
It calls lsi_nand_write_buf() which also has nothing to return.

So return 0 always, as the upstream commit does.

Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
Signed-off-by: Michel Thebeau <michel.thebeau@windriver.com>
---
 drivers/mtd/nand/lsi_acp_nand.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/mtd/nand/lsi_acp_nand.c b/drivers/mtd/nand/lsi_acp_nand.c
index 93f221c..aad7a12 100644
--- a/drivers/mtd/nand/lsi_acp_nand.c
+++ b/drivers/mtd/nand/lsi_acp_nand.c
@@ -3073,7 +3073,7 @@ lsi_nand_read_page_hwecc(struct mtd_info *mtd, struct nand_chip *chip,
  * @chip:	nand chip info structure
  * @buf:	data buffer
  */
-static void
+static int
 lsi_nand_write_page_hwecc(struct mtd_info *mtd, struct nand_chip *chip,
 			  const uint8_t *buf)
 {
@@ -3087,7 +3087,7 @@ lsi_nand_write_page_hwecc(struct mtd_info *mtd, struct nand_chip *chip,
 	 * Do not touch them.
 	 */
 	chip->write_buf(mtd, chip->oob_poi, ecctotal);
-	return;
+	return 0;
 }
 
 /**
-- 
1.7.9.7

