From a37d107a937346e5550b1443d908d7ed8778c826 Mon Sep 17 00:00:00 2001
From: Liang Li <Liang.Li@windriver.com>
Date: Fri, 24 Oct 2008 13:23:12 +0800
Subject: [PATCH] Replace deprecated call to kill_proc with kill_pid

The kill_proc function had been removed from kernel.So the function call
to kill_proc is a kernel bug.Use kill_pid to replace kill_proc would be
fine.

Signed-off-by: Liang Li <Liang.Li@windriver.com>
---
 crypto/ocf/crypto.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/crypto/ocf/crypto.c b/crypto/ocf/crypto.c
index 5121b3d..ebdca07 100644
--- a/crypto/ocf/crypto.c
+++ b/crypto/ocf/crypto.c
@@ -1683,7 +1683,7 @@ crypto_exit(void)
 	CRYPTO_DRIVER_LOCK();
 	p = cryptoproc;
 	cryptoproc = (pid_t) -1;
-	kill_proc(p, SIGTERM, 1);
+	kill_pid(p, SIGTERM, 1);
 	wake_up_interruptible(&cryptoproc_wait);
 	CRYPTO_DRIVER_UNLOCK();
 
@@ -1692,7 +1692,7 @@ crypto_exit(void)
 	CRYPTO_DRIVER_LOCK();
 	p = cryptoretproc;
 	cryptoretproc = (pid_t) -1;
-	kill_proc(p, SIGTERM, 1);
+	kill_pid(p, SIGTERM, 1);
 	wake_up_interruptible(&cryptoretproc_wait);
 	CRYPTO_DRIVER_UNLOCK();
 
-- 
1.6.0.90.g436ed

