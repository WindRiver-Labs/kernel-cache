From 876f9992e94a65f8f40c634d3f4f321416d13a4c Mon Sep 17 00:00:00 2001
From: lwang1 <li.wang@windriver.com>
Date: Wed, 17 Sep 2008 17:00:18 +0800
Subject: [PATCH] fsl_mpc8323e_rdb Support flash to Modify dts file

Support flash to Modify dts file.

Signed-off-by: Li Wang <li.wang@windriver.com>
---
 arch/powerpc/boot/dts/mpc832x_rdb.dts |   34 +++++++++++++++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc832x_rdb.dts b/arch/powerpc/boot/dts/mpc832x_rdb.dts
index 15411d3..87d2afa 100644
--- a/arch/powerpc/boot/dts/mpc832x_rdb.dts
+++ b/arch/powerpc/boot/dts/mpc832x_rdb.dts
@@ -205,6 +205,40 @@
 		};
 	};
 
+	localbus@e0000000 {
+		#address-cells = <2>;
+		#size-cells = <1>;
+		compatible = "simple-bus";
+		reg = <0xe0000000 0x1000>;
+
+		ranges = <0x0 0x0 0xfe000000 0x01000000>;	/*16MB Flash*/
+
+		flash@0,0 {
+			#address-cells = <1>;
+			#size-cells = <1>;
+			compatible = "cfi-flash";
+			reg = <0x0 0x0 0x1000000>;
+			bank-width = <2>;
+			device-width = <1>;
+			partition@0x0 {
+				label = "U-Boot";
+				reg = <0x00000000 0x00080000>;
+			};
+			partition@0x80000 {
+				label = "Device tree (dtb)";
+				reg = <0x00080000 0x00080000>;
+			};
+			partition@0x100000 {
+				label = "Kernel image";
+				reg = <0x00100000 0x00200000>;
+			};
+			partition@0x300000 {
+				label = "Filesystem";
+				reg = <0x00300000 0x00d00000>;
+			};
+		};
+	};
+
 	qe@e0100000 {
 		#address-cells = <1>;
 		#size-cells = <1>;
-- 
1.5.6.3

