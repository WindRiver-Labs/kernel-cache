From 6c427caa4796fe847cb5e1d4c39573ed69fe7516 Mon Sep 17 00:00:00 2001
From: Shaohui Xie <Shaohui.Xie@freescale.com>
Date: Sat, 13 Jun 2015 07:35:49 +0800
Subject: [PATCH 198/451] dpaa: enable handle for fixed-link which was
 commented for EMULATOR

Signed-off-by: Shaohui Xie <Shaohui.Xie@freescale.com>
Signed-off-by: Mingkai Hu <Mingkai.Hu@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/mac.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/mac.c b/drivers/net/ethernet/freescale/dpa/mac.c
index d1384e9..8fa1ab1 100644
--- a/drivers/net/ethernet/freescale/dpa/mac.c
+++ b/drivers/net/ethernet/freescale/dpa/mac.c
@@ -351,7 +351,6 @@ static int __cold mac_probe(struct platform_device *_of_dev)
 	if (strstr(char_prop, "xgmii"))
 		mac_dev->if_support = SUPPORTED_10000baseT_Full;
 
-#ifndef CONFIG_FSL_DPAA_DBG_EMULATOR
 	/* Get the rest of the PHY information */
 	mac_dev->phy_node = of_parse_phandle(mac_node, "phy-handle", 0);
 	if (mac_dev->phy_node == NULL) {
@@ -367,7 +366,6 @@ static int __cold mac_probe(struct platform_device *_of_dev)
 		sprintf(mac_dev->fixed_bus_id, PHY_ID_FMT, "fixed-0",
 			phy_id[0]);
 	}
-#endif
 
 	_errno = mac_dev->init(mac_dev);
 	if (unlikely(_errno < 0)) {
-- 
1.7.5.4

