From 6c16d5a2c059c2040d9c92325355bd547f53813c Mon Sep 17 00:00:00 2001
From: Hou Zhiqiang <B48286@freescale.com>
Date: Wed, 26 Nov 2014 18:23:19 +0800
Subject: [PATCH 117/451] spi: Add addr_width field to struct spi_message

Make SPI controller can get address width of the SPI device.

Signed-off-by: Hou Zhiqiang <B48286@freescale.com>
Change-Id: I308e2cd5c91f067911fd5a6e89accfdf46473339
Reviewed-on: http://git.am.freescale.net:8181/24584
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Mingkai Hu <Mingkai.Hu@freescale.com>
Reviewed-by: Richard Schmitt <richard.schmitt@freescale.com>
Signed-off-by: Shaohui Xie <Shaohui.Xie@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 include/linux/spi/spi.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/include/linux/spi/spi.h b/include/linux/spi/spi.h
index 36c86ef..104e5d0 100644
--- a/include/linux/spi/spi.h
+++ b/include/linux/spi/spi.h
@@ -677,6 +677,9 @@ struct spi_message {
 	unsigned		actual_length;
 	int			status;
 
+	/* deliver the address width of spi device to spi controller */
+	u8			addr_width;
+
 	/* for optional use by whatever driver currently owns the
 	 * spi_message ...  between calls to spi_async and then later
 	 * complete(), that's the spi_master controller driver.
-- 
1.7.5.4

