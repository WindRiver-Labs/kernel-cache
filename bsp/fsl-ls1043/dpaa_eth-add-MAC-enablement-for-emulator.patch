From f0934d5a270ebd0ff680393d83f21258dcf012e9 Mon Sep 17 00:00:00 2001
From: Marian-Cristian Rotariu <marian.rotariu@freescale.com>
Date: Thu, 9 Jul 2015 17:10:07 +0300
Subject: [PATCH 294/451] dpaa_eth: add MAC enablement for emulator

Signed-off-by: Marian-Cristian Rotariu <marian.rotariu@freescale.com>
Change-Id: I49434652d4942c19c1d789a0c434762cd9232b7d
Reviewed-on: http://git.am.freescale.net:8181/39537
Reviewed-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 .../net/ethernet/freescale/dpa/dpaa_eth_common.c   |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
index 72fa440..882305b 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
@@ -163,15 +163,12 @@ int __cold dpa_start(struct net_device *net_dev)
 			goto mac_start_failed;
 	}
 
-#ifndef CONFIG_FSL_DPAA_DBG_EMULATOR
 	err = priv->mac_dev->start(mac_dev);
 	if (err < 0) {
 		if (netif_msg_ifup(priv))
 			netdev_err(net_dev, "mac_dev->start() = %d\n", err);
 		goto mac_start_failed;
 	}
-#endif
-
 	netif_tx_start_all_queues(net_dev);
 
 	return 0;
-- 
1.7.5.4

