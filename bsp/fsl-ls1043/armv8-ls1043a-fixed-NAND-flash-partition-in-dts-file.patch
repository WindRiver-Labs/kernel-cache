From 359dd4c32bacf6e0b8f5c3dca0157b7bd5182ac0 Mon Sep 17 00:00:00 2001
From: Gong Qianyu <Qianyu.Gong@freescale.com>
Date: Mon, 20 Jul 2015 17:14:05 +0800
Subject: [PATCH 313/451] armv8/ls1043a: fixed NAND flash partition in dts
 file

Signed-off-by: Gong Qianyu <Qianyu.Gong@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls1043a-qds.dts |   18 ++++++------------
 arch/arm64/boot/dts/freescale/fsl-ls1043a-rdb.dts |   18 ++++++------------
 2 files changed, 12 insertions(+), 24 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1043a-qds.dts b/arch/arm64/boot/dts/freescale/fsl-ls1043a-qds.dts
index bc638be..d5b17a9 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1043a-qds.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1043a-qds.dts
@@ -264,22 +264,16 @@
 			read-only;
 		};
 
-		partition@100000 {
+		partition@140000 {
 			/* 1MB for DTB Image */
-			reg = <0x00100000 0x00100000>;
-			label = "NAND DTB Image";
+			reg = <0x00140000 0x002000>;
+			label = "NAND U-Boot Env";
 		};
 
 		partition@200000 {
-			/* 10MB for Linux Kernel Image */
-			reg = <0x00200000 0x00a00000>;
-			label = "NAND Linux Kernel Image";
-		};
-
-		partition@c00000 {
-			/* 500MB for Root file System Image */
-			reg = <0x00c00000 0x1f400000>;
-			label = "NAND Compressed RFS Image";
+			/* 20MB for FIT Image */
+			reg = <0x00200000 0x01400000>;
+			label = "NAND FIT Image";
 		};
 	};
 
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1043a-rdb.dts b/arch/arm64/boot/dts/freescale/fsl-ls1043a-rdb.dts
index 72f550d..d344656 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1043a-rdb.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1043a-rdb.dts
@@ -192,22 +192,16 @@
 				read-only;
 			};
 
-			partition@100000 {
+			partition@140000 {
 				/* 1MB for DTB Image */
-				reg = <0x00100000 0x00100000>;
-				label = "NAND DTB Image";
+				reg = <0x00140000 0x002000>;
+				label = "NAND U-Boot Env";
 			};
 
 			partition@200000 {
-				/* 10MB for Linux Kernel Image */
-				reg = <0x00200000 0x00a00000>;
-				label = "NAND Linux Kernel Image";
-			};
-
-			partition@c00000 {
-				/* 500MB for Root file System Image */
-				reg = <0x00c00000 0x1f400000>;
-				label = "NAND Compressed RFS Image";
+				/* 20MB for FIT Image */
+				reg = <0x00200000 0x01400000>;
+				label = "NAND FIT Image";
 			};
 		};
 
-- 
1.7.5.4

