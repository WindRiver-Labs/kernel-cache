From 8a2ef9db13e32fdd83d00561dd2286729483b080 Mon Sep 17 00:00:00 2001
From: Zhao Qiang <B45475@freescale.com>
Date: Mon, 28 Jul 2014 15:17:15 +0800
Subject: [PATCH 225/451] qe-tdm: change to 0 bit delay for normal TDM riser
 card

pq_mds_t1 card need 1 bit delay for qe-tdm,
while others doesn't need.

Signed-off-by: Zhao Qiang <B45475@freescale.com>
Change-Id: I80e3e4c83206b292023e6ecb24867b6cb3b5984f
Reviewed-on: http://git.am.freescale.net:8181/19001
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Xiaobo Xie <X.Xie@freescale.com>
Reviewed-by: Richard Schmitt <richard.schmitt@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/tdm/device/fsl_ucc_tdm.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/drivers/tdm/device/fsl_ucc_tdm.c b/drivers/tdm/device/fsl_ucc_tdm.c
index c9a3338..c383ec4 100644
--- a/drivers/tdm/device/fsl_ucc_tdm.c
+++ b/drivers/tdm/device/fsl_ucc_tdm.c
@@ -70,7 +70,11 @@ static struct ucc_tdm_info utdm_primary_info = {
 	},
 
 	.si_info = {
+#ifdef CONFIG_FSL_PQ_MDS_T1
 		.simr_rfsd = 1,		/* pq_mds_t1 card need 1 bit delay */
+#else
+		.simr_rfsd = 0,
+#endif
 		.simr_tfsd = 0,
 		.simr_crt = 0,
 		.simr_sl = 0,
-- 
1.7.5.4

