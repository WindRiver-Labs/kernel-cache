From 0959cf560ce0cf07c77fb06dbbfa71061ba18269 Mon Sep 17 00:00:00 2001
From: Mingkai Hu <Mingkai.Hu@freescale.com>
Date: Wed, 27 May 2015 16:16:14 +0800
Subject: [PATCH 157/451] clk: add ls1043a pll cluster support

Signed-off-by: Mingkai Hu <Mingkai.Hu@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/clk/clk-qoriq.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/clk/clk-qoriq.c b/drivers/clk/clk-qoriq.c
index 1183d61..56c761f 100644
--- a/drivers/clk/clk-qoriq.c
+++ b/drivers/clk/clk-qoriq.c
@@ -181,7 +181,7 @@ static void __init core_pll_init(struct device_node *np)
 	}
 
 	/* get the multiple of PLL */
-#ifdef CONFIG_ARCH_FSL_LS2085A
+#if defined(CONFIG_ARCH_FSL_LS2085A) || defined(CONFIG_ARCH_FSL_LS1043A)
 	/* FIXME: Make this better */
 	mult = ioread32(base);
 	/* check if this PLL is disabled */
-- 
1.7.5.4

