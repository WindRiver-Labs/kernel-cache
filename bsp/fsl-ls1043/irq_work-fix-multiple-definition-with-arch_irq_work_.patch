From 5b4380032f5857567a258aecc8b3470109d5f484 Mon Sep 17 00:00:00 2001
From: Xulin Sun <xulin.sun@windriver.com>
Date: Fri, 3 Jun 2016 08:52:06 +0000
Subject: [PATCH 3/8] irq_work: fix multiple definition with
 arch_irq_work_raise

Remove the redundant definition arch_irq_work_raise to fix the building error
multiple definition with arch_irq_work_raise if rt full is enabled.

Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 kernel/irq_work.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

diff --git a/kernel/irq_work.c b/kernel/irq_work.c
index 35d21f9..e2c29b6 100644
--- a/kernel/irq_work.c
+++ b/kernel/irq_work.c
@@ -51,11 +51,7 @@ static bool irq_work_claim(struct irq_work *work)
 	return true;
 }
 
-#ifdef CONFIG_PREEMPT_RT_FULL
-void arch_irq_work_raise(void)
-#else
 void __weak arch_irq_work_raise(void)
-#endif
 {
 	/*
 	 * Lame architectures will get the timer tick callback
-- 
1.7.5.4

