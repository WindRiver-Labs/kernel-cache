From b4645840cd7aeb27600f98b1ddd696ba91deaacf Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Mon, 25 Jul 2016 19:23:46 -0700
Subject: [PATCH 3/5] fman: add kexec header only if kexec is enabled

This patch is to confine the kexec header file only if kexec has been
validated on the specific arch.

Signed-off-by: Zumeng Chen <zumegn.chen@windriver.com>
---
 drivers/net/ethernet/freescale/sdk_fman/src/wrapper/lnxwrp_fm.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/net/ethernet/freescale/sdk_fman/src/wrapper/lnxwrp_fm.c b/drivers/net/ethernet/freescale/sdk_fman/src/wrapper/lnxwrp_fm.c
index e2d4dbf..96740bc 100644
--- a/drivers/net/ethernet/freescale/sdk_fman/src/wrapper/lnxwrp_fm.c
+++ b/drivers/net/ethernet/freescale/sdk_fman/src/wrapper/lnxwrp_fm.c
@@ -68,7 +68,9 @@
 #include <linux/skbuff.h>
 #include <linux/proc_fs.h>
 #include <linux/device.h>
+#ifdef CONFIG_KEXEC
 #include <asm/kexec.h>
+#endif
 
 /* NetCommSw Headers --------------- */
 #include "std_ext.h"
-- 
2.7.4

