From fcf0818d897c7e544b76e5335a38fae0a7a964a3 Mon Sep 17 00:00:00 2001
From: Shaohui Xie <Shaohui.Xie@freescale.com>
Date: Tue, 16 Jun 2015 03:43:56 +0800
Subject: [PATCH 203/451] dts/ls1043a: enable edma support

Signed-off-by: Shaohui Xie <Shaohui.Xie@freescale.com>
Signed-off-by: Mingkai Hu <Mingkai.Hu@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
index e283c1e..29cf93d 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
@@ -610,6 +610,10 @@
 		interrupts = <0 56 0x4>;
 		clock-names = "i2c";
 		clocks = <&platform_clk 1>;
+		dmas = <&edma0 1 39>,
+		       <&edma0 1 38>;
+		dma-names = "tx", "rx";
+		status = "disabled";
 	};
 
 	i2c1: i2c@2190000 {
@@ -800,8 +804,8 @@
 		dma-channels = <32>;
 		big-endian;
 		clock-names = "dmamux0", "dmamux1";
-		clocks = <400000000>,
-			 <400000000>;
+		clocks = <&platform_clk 1>,
+			 <&platform_clk 1>;
 	};
 
 	usb0: usb3@2f00000 {
-- 
1.7.5.4

