From a7f8d2a0a8906ef5ea24d003833a3ff04a3f0b56 Mon Sep 17 00:00:00 2001
From: Mingkai Hu <Mingkai.Hu@freescale.com>
Date: Wed, 27 May 2015 16:17:51 +0800
Subject: [PATCH 158/451] arm64/ls1043a: modify clock compatile

Signed-off-by: Mingkai Hu <Mingkai.Hu@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
index 6f1e65a..48f4e4b 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
@@ -75,6 +75,7 @@
 		      <0x0 0x1402000 0 0x1000>, /* GICC */
 		      <0x0 0x1404000 0 0x2000>, /* GICH */
 		      <0x0 0x1406000 0 0x2000>; /* GICV */
+		interrupts = <1 9 0xf08>;
 	};
 
 	tzasc: tzasc@1500000 {
@@ -309,14 +310,14 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 		sysclk: sysclk {
-			compatible = "fsl,fixed-clock";
+			compatible = "fixed-clock";
 			#clock-cells = <0>;
 			clock-frequency = <100000000>;
 			clock-output-names = "sysclk";
 		};
 
 		cga_pll1: pll1@800 {
-			compatible = "fsl,core-pll-clock";
+			compatible = "fsl,qoriq-core-pll-2.0";
 			#clock-cells = <1>;
 			reg = <0x800>;
 			clocks = <&sysclk>;
@@ -325,7 +326,7 @@
 		};
 
 		cga_pll2: pll2@820 {
-			compatible = "fsl,core-pll-clock";
+			compatible = "fsl,qoriq-core-pll-2.0";
 			#clock-cells = <1>;
 			reg = <0x820>;
 			clocks = <&sysclk>;
@@ -334,7 +335,7 @@
 		};
 
 		platform_clk: pll@c00 {
-			compatible = "fsl,core-pll-clock";
+			compatible = "fsl,qoriq-core-pll-2.0";
 			#clock-cells = <1>;
 			reg = <0xc00>;
 			clocks = <&sysclk>;
@@ -342,11 +343,13 @@
 		};
 
 		cluster1_clk: clk0c0@0 {
-			compatible = "fsl,core-mux-clock";
+			compatible = "fsl,qoriq-core-mux-2.0";
 			#clock-cells = <1>;
 			reg = <0x0>;
-			clock-names = "pll1cga", "pll1cga-div2";
-			clocks = <&cga_pll1 0>, <&cga_pll1 2>;
+			clock-names = "pll1cga", "pll1cga-div2", "pll1cga-div4",
+				      "pll2cga", "pll2cga-div2", "pll2cga-div4";
+			clocks = <&cga_pll1 0>, <&cga_pll1 1>, <&cga_pll1 2>,
+				 <&cga_pll2 0>, <&cga_pll2 1>, <&cga_pll2 2>;
 			clock-output-names = "cluster1-clk";
 
 		};
-- 
1.7.5.4

