From 86d46424836e8733d708afb5645a9af5a1eb4f2e Mon Sep 17 00:00:00 2001
From: Scott Wood <scottwood@freescale.com>
Date: Mon, 2 Feb 2015 20:09:22 -0600
Subject: [PATCH 344/451] BRINGUP ONLY: early console hack

Temporary workaround for enabling early console
until we get device tree awareness in early console driver

Signed-off-by: Scott Wood <scottwood@freescale.com>
Signed-off-by: Bhupesh Sharma <bhupesh.sharma@freescale.com>
Change-Id: Id694bf2259be86e21743cdee1accd1f2cc14a8a8
Reviewed-on: http://git.am.freescale.net:8181/30098
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Signed-off-by: Stuart Yoder <stuart.yoder@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/tty/serial/8250/8250_early.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

diff --git a/drivers/tty/serial/8250/8250_early.c b/drivers/tty/serial/8250/8250_early.c
index 909ae2e..bf27660 100644
--- a/drivers/tty/serial/8250/8250_early.c
+++ b/drivers/tty/serial/8250/8250_early.c
@@ -125,11 +125,7 @@ static void __init init_port(struct earlycon_device *device)
 	unsigned int divisor;
 	unsigned char c;
 
-#ifdef CONFIG_ARCH_FSL_LS2085A
-	/* Workaround for enabling early console until we get
-	 * device tree awareness in early console driver. */
 	return;
-#endif
 
 	serial8250_early_out(port, UART_LCR, 0x3);	/* 8n1 */
 	serial8250_early_out(port, UART_IER, 0);	/* no interrupt */
-- 
1.7.5.4

