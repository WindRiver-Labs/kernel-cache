From 1e30f4b2aae55746ca2c5bec3f037079d7b9c673 Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Thu, 9 Jul 2015 14:29:01 +0300
Subject: [PATCH 288/451] dpaa_eth: remove DPA_NETIF_FEATURES

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 .../net/ethernet/freescale/dpa/dpaa_eth_common.c   |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
index bdeefd2..b186449 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
@@ -52,13 +52,6 @@
 #endif /* CONFIG_FSL_DPAA_ETH_DEBUGFS */
 #include "mac.h"
 
-/* DPAA platforms benefit from hardware-assisted queue management */
-#ifdef CONFIG_AS_FASTPATH
-#define DPA_NETIF_FEATURES	(NETIF_F_HW_QDISC | NETIF_F_HW_ACCEL_MQ)
-#else
-#define DPA_NETIF_FEATURES	NETIF_F_HW_ACCEL_MQ
-#endif
-
 /* Size in bytes of the FQ taildrop threshold */
 #define DPA_FQ_TD		0x200000
 
@@ -114,8 +107,6 @@ int dpa_netdev_init(struct net_device *net_dev,
 	struct dpa_priv_s *priv = netdev_priv(net_dev);
 	struct device *dev = net_dev->dev.parent;
 
-	net_dev->hw_features |= DPA_NETIF_FEATURES;
-
 	net_dev->priv_flags |= IFF_LIVE_ADDR_CHANGE;
 
 	net_dev->features |= net_dev->hw_features;
-- 
1.7.5.4

