From d267512927f866e949dc61fc555b33733fa031c8 Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Mon, 20 Jul 2015 18:56:56 +0300
Subject: [PATCH 317/451] fmd: set reference value of fman clock to 500mhz

Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>
Change-Id: I6c9cb96d7f0ff085c2aa9b9141549ccc7b010426
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 .../freescale/fman/src/wrapper/lnxwrp_fm.c         |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
index c2f7fc7..7f2ebaa 100755
--- a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
+++ b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
@@ -574,7 +574,7 @@ static t_LnxWrpFmDev * ReadFmDevTreeNode (struct platform_device *of_dev)
     p_LnxWrpFmDev->fmDevSettings.param.fmClkFreq = (tmp_prop + 500000)/1000000; /* In MHz, rounded */
 printk("\n DBG: CCCCCCCCCCCCCCC recv clk-feq %d \n",tmp_prop);
 #warning planting clock-frequency
-    p_LnxWrpFmDev->fmDevSettings.param.fmClkFreq = (400000000 + 500000)/1000000; /* In MHz, rounded */
+    p_LnxWrpFmDev->fmDevSettings.param.fmClkFreq = (500000000 + 500000)/1000000; /* In MHz, rounded */
 
     /* Get the MURAM base address and size */
     memset(&name, 0, sizeof(struct of_device_id));
-- 
1.7.5.4

