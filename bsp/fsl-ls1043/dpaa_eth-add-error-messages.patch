From ff18c7e55ce09b1528fbc90a8a104edf3fbdf027 Mon Sep 17 00:00:00 2001
From: Marian-Cristian Rotariu <marian.rotariu@freescale.com>
Date: Thu, 9 Jul 2015 16:14:48 +0300
Subject: [PATCH 291/451] dpaa_eth: add error messages

Signed-off-by: Marian-Cristian Rotariu <marian.rotariu@freescale.com>
Change-Id: Ibef7ae7cd614a23ecd0f1dd5dd69858875f2af80
Reviewed-on: http://git.am.freescale.net:8181/39532
Reviewed-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
[Xulin: Original patch taken from
Linux-LS1043A-SDK-V0.4-SOURCE-20150826-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 .../net/ethernet/freescale/dpa/dpaa_eth_common.c   |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
index 3fdf350..72fa440 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
@@ -760,12 +760,15 @@ dpa_bp_alloc(struct dpa_bp *dpa_bp)
 			dpa_bp->bpid, NULL, 0);
 	if (IS_ERR(pdev)) {
 		err = PTR_ERR(pdev);
+		pr_err("platform_device_register_simple() returned %d\n", err);
 		goto pdev_register_failed;
 	}
 
 	err = dma_set_mask(&pdev->dev, DMA_BIT_MASK(40));
-	if (err)
+	if (err) {
+		pr_err("dma_set_mask() returned %d\n", err);
 		goto pdev_mask_failed;
+	}
 
 	dpa_bp->dev = &pdev->dev;
 
-- 
1.7.5.4

