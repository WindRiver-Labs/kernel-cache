From 3d3f32db09dd2ed854fd63573eafad75457cb657 Mon Sep 17 00:00:00 2001
From: Wang Hui <Hui.Wang@windriver.com>
Date: Wed, 2 Sep 2009 15:22:12 +0800
Subject: [PATCH] mx5/mm: add mach of i.MX5 support in arm arch

add mach i.MX5 as supported platform in arm Makefile and add i.MX5
as one member in ARM_V7 support list because the cpu core of i.MX5
series is cortex-a8.

Signed-off-by: Wang Hui <Hui.Wang@windriver.com>
---
 arch/arm/Makefile   |    1 +
 arch/arm/mm/Kconfig |    2 +-
 2 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/arm/Makefile b/arch/arm/Makefile
index c3fadbe..35f458d 100644
--- a/arch/arm/Makefile
+++ b/arch/arm/Makefile
@@ -140,6 +140,7 @@ endif
     plat-$(CONFIG_ARCH_MXC)	   := mxc
  machine-$(CONFIG_ARCH_MX2)	   := mx2
  machine-$(CONFIG_ARCH_MX3)	   := mx3
+ machine-$(CONFIG_ARCH_MX5)	   := mx5
  machine-$(CONFIG_ARCH_ORION5X)	   := orion5x
     plat-$(CONFIG_PLAT_ORION)	   := orion
  machine-$(CONFIG_ARCH_MSM7X00A)   := msm
diff --git a/arch/arm/mm/Kconfig b/arch/arm/mm/Kconfig
index 99d0a97..dc30b37 100644
--- a/arch/arm/mm/Kconfig
+++ b/arch/arm/mm/Kconfig
@@ -429,7 +429,7 @@ config CPU_32v6K
 # ARMv7
 config CPU_V7
 	bool "Support ARM V7 processor"
-	depends on ARCH_INTEGRATOR || MACH_REALVIEW_EB || ARCH_OMAP3
+	depends on ARCH_INTEGRATOR || MACH_REALVIEW_EB || ARCH_OMAP3 || ARCH_MX5
 	select CPU_32v6K
 	select CPU_32v7
 	select CPU_ABRT_EV7
-- 
1.5.5.1

