From 7fcd562f0e890968b1c941b8abbd6b3c176378ce Mon Sep 17 00:00:00 2001
From: Weiwei Wang <weiwei.wang@windriver.com>
Date: Thu, 4 Feb 2010 14:36:18 +0800
Subject: [PATCH] fsl_imx: fix otg driver load sequence

when kernel starts up, OTG transceiver driver should
run first and then ehci host driver, otherwise ehci host
initiation will fail. here fix the sequence to make sure
it safe everywhere.

Signed-off-by: Weiwei Wang <weiwei.wang@windriver.com>
---
 drivers/usb/otg/fsl_otg.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

diff --git a/drivers/usb/otg/fsl_otg.c b/drivers/usb/otg/fsl_otg.c
index 4e048be..cd80007 100644
--- a/drivers/usb/otg/fsl_otg.c
+++ b/drivers/usb/otg/fsl_otg.c
@@ -1203,11 +1203,7 @@ static void __exit fsl_usb_otg_exit(void)
 	printk(KERN_INFO DRIVER_DESC " unloaded\n");
 }
 
-#ifdef CONFIG_ARCH_MX51
 subsys_initcall(fsl_usb_otg_init);
-#else
-module_init(fsl_usb_otg_init);
-#endif
 module_exit(fsl_usb_otg_exit);
 
 MODULE_DESCRIPTION(DRIVER_INFO);
-- 
1.6.5.2

