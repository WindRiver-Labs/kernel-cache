From 5e0617b38958e580f48ac4a3971e737415e07fe7 Mon Sep 17 00:00:00 2001
From: Xiubo Li <Li.Xiubo@freescale.com>
Date: Wed, 9 Apr 2014 17:22:42 +0800
Subject: [PATCH 059/255] ARM: dts: ls1021a-qds: Enable SGTL5000 codec.

This patch adds and enables SGTL5000 codec support.

Signed-off-by: Xiubo Li <Li.Xiubo@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a-qds.dts | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

diff --git a/arch/arm/boot/dts/ls1021a-qds.dts b/arch/arm/boot/dts/ls1021a-qds.dts
index 92a756c..f4d32ee 100644
--- a/arch/arm/boot/dts/ls1021a-qds.dts
+++ b/arch/arm/boot/dts/ls1021a-qds.dts
@@ -16,6 +16,21 @@
 	chosen {
 		bootargs = "earlyprintk initrd=initramfs.cpio root=/dev/ram0 rw console=ttyS0,115200";
 	};
+
+	regulators {
+		compatible = "simple-bus";
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		reg_3p3v: regulator@0 {
+			compatible = "regulator-fixed";
+			reg = <0>;
+			regulator-name = "3P3V";
+			regulator-min-microvolt = <3300000>;
+			regulator-max-microvolt = <3300000>;
+			regulator-always-on;
+		};
+	};
 };
 
 &dspi1 {
@@ -91,6 +106,13 @@
 			};
 		};
 
+		codec: sgtl5000@0a {
+			compatible = "fsl,sgtl5000";
+			reg = <0x0a>;
+			VDDA-supply = <&reg_3p3v>;
+			VDDIO-supply = <&reg_3p3v>;
+			clocks = <&platform_clk 1>;
+		};
 	};
 
 };
-- 
2.0.2

