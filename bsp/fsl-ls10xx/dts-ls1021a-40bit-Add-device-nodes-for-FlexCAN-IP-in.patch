From 93eadc5a2dde998de278e45ac50b727d075bca7b Mon Sep 17 00:00:00 2001
From: Bhupesh Sharma <bhupesh.sharma@freescale.com>
Date: Tue, 3 Jun 2014 15:23:11 +0530
Subject: [PATCH 169/255] dts/ls1021a-40bit: Add device nodes for FlexCAN IP
 instances

This patch adds the device nodes for 4 FlexCAN IP instances
available on LS1021A SoC in the ls1021a-40b.dtsi file.

Signed-off-by: Bhupesh Sharma <bhupesh.sharma@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a-40b.dtsi | 36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

diff --git a/arch/arm/boot/dts/ls1021a-40b.dtsi b/arch/arm/boot/dts/ls1021a-40b.dtsi
index eb1bc51..11ee062 100644
--- a/arch/arm/boot/dts/ls1021a-40b.dtsi
+++ b/arch/arm/boot/dts/ls1021a-40b.dtsi
@@ -604,6 +604,42 @@
 			phy_type = "utmi";
 		};
 
+		can0: can@2a70000 {
+			compatible = "fsl,ls1021a-flexcan";
+			reg = <0x00 0x2a70000 0x1000>;
+			interrupts = <0 126 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "per";
+			status = "disabled";
+		};
+
+		can1: can@2a80000 {
+			compatible = "fsl,ls1021a-flexcan";
+			reg = <0x00 0x2a80000 0x1000>;
+			interrupts = <0 127 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "per";
+			status = "disabled";
+		};
+
+		can2: can@2a90000 {
+			compatible = "fsl,ls1021a-flexcan";
+			reg = <0x00 0x2a90000 0x1000>;
+			interrupts = <0 128 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "per";
+			status = "disabled";
+		};
+
+		can3: can@2aa0000 {
+			compatible = "fsl,ls1021a-flexcan";
+			reg = <0x00 0x2aa0000 0x1000>;
+			interrupts = <0 129 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "per";
+			status = "disabled";
+		};
+
 		pcie@3400000 {
 			compatible = "fsl,pcie", "snps,dw-pcie", "fsl,ls1021a-pcie";
 			reg = <0x00 0x3400000 0x10000>;
-- 
2.0.2

