From 4a57bb1604b604d57a487f37d4af6bddd9158803 Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Fri, 7 Nov 2014 14:07:05 +0800
Subject: [PATCH] arm: dts: ls1021a: add 'always-on' property for arch timer

The arm arch timer is the only available timer on this cpu. Since this
timer is tightly coupled with the core logic and can be lost on core
power down, the CLOCK_EVT_FEAT_C3STOP is set to the arm arm timer event
device. This will disable the high-resolution timer functionality. But
at the moment, we only support the wait mode power management feature
for the core, which means that the power of core never get down,
so add 'always-on' property for this timer to workaround this issue.

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a.dtsi |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/ls1021a.dtsi b/arch/arm/boot/dts/ls1021a.dtsi
index b762a2a..4695bdb 100644
--- a/arch/arm/boot/dts/ls1021a.dtsi
+++ b/arch/arm/boot/dts/ls1021a.dtsi
@@ -59,6 +59,7 @@
 				<GIC_PPI 14 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_LOW)>,
 				<GIC_PPI 11 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_LOW)>,
 				<GIC_PPI 10 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_LOW)>;
+		always-on;
 
 	};
 
-- 
1.7.5.4

