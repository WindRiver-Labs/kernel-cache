From 303c2ab47d2f299889a3a07cebf629dc9cf93469 Mon Sep 17 00:00:00 2001
From: Jingchang Lu <jingchang.lu@freescale.com>
Date: Mon, 23 Jun 2014 16:07:52 +0800
Subject: [PATCH 200/255] arm: dts: ls1021a: make duart compatible to fifo mode

Signed-off-by: Jingchang Lu <jingchang.lu@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a.dtsi | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

diff --git a/arch/arm/boot/dts/ls1021a.dtsi b/arch/arm/boot/dts/ls1021a.dtsi
index 429ffdb..d42f0c8 100644
--- a/arch/arm/boot/dts/ls1021a.dtsi
+++ b/arch/arm/boot/dts/ls1021a.dtsi
@@ -311,34 +311,38 @@
 		};
 
 		duart0: serial@21c0500 {
-			compatible = "ns16550";
+			compatible = "fsl,ns16550", "ns16550a";
 			reg = <0x0 0x21c0500 0x0 0x100>;
 			interrupts = <GIC_SPI 86 IRQ_TYPE_LEVEL_HIGH>;
 			clock-frequency = <0>;
+			fifo-size = <8>;
 			status = "disabled";
 		};
 
 		duart1: serial@21c0600 {
-			compatible = "ns16550";
+			compatible = "fsl,ns16550", "ns16550a";
 			reg = <0x0 0x21c0600 0x0 0x100>;
 			interrupts = <GIC_SPI 86 IRQ_TYPE_LEVEL_HIGH>;
 			clock-frequency = <0>;
+			fifo-size = <8>;
 			status = "disabled";
 		};
 
 		duart2: serial@21d0500 {
-			compatible = "ns16550";
+			compatible = "fsl,ns16550", "ns16550a";
 			reg = <0x0 0x21d0500 0x0 0x100>;
 			interrupts = <GIC_SPI 87 IRQ_TYPE_LEVEL_HIGH>;
 			clock-frequency = <0>;
+			fifo-size = <8>;
 			status = "disabled";
 		};
 
 		duart3: serial@21d0600 {
-			compatible = "ns16550";
+			compatible = "fsl,ns16550", "ns16550a";
 			reg = <0x0 0x21d0600 0x0 0x100>;
 			interrupts = <GIC_SPI 87 IRQ_TYPE_LEVEL_HIGH>;
 			clock-frequency = <0>;
+			fifo-size = <8>;
 			status = "disabled";
 		};
 
-- 
2.0.2

