From d42dcb5665a85c92cb7e729d4e6a0e31a8e7eaad Mon Sep 17 00:00:00 2001
From: Jingchang Lu <b35083@freescale.com>
Date: Mon, 16 Sep 2013 09:57:01 +0800
Subject: [PATCH 001/255] ARM: dts: Add SoC level device tree support for
 ls1021a

Add Freescale Layerscape LS1021A SoC device tree support

Signed-off-by: Jingchang Lu <b35083@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a.dtsi | 571 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 571 insertions(+)
 create mode 100644 arch/arm/boot/dts/ls1021a.dtsi

diff --git a/arch/arm/boot/dts/ls1021a.dtsi b/arch/arm/boot/dts/ls1021a.dtsi
new file mode 100644
index 0000000..4bf0b72
--- /dev/null
+++ b/arch/arm/boot/dts/ls1021a.dtsi
@@ -0,0 +1,571 @@
+/*
+ * Copyright 2013-2014 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ */
+
+#include "skeleton.dtsi"
+#include <dt-bindings/interrupt-controller/arm-gic.h>
+
+/ {
+	compatible = "fsl,ls1021a";
+	interrupt-parent = <&gic>;
+
+	aliases {
+		serial0 = &lpuart0;
+		serial1 = &lpuart1;
+		serial2 = &lpuart2;
+		serial3 = &lpuart3;
+		serial4 = &lpuart4;
+		serial5 = &lpuart5;
+		gpio0 = &gpio1;
+		gpio1 = &gpio2;
+		gpio2 = &gpio3;
+		gpio3 = &gpio4;
+		ethernet0 = &enet0;
+		ethernet1 = &enet1;
+		ethernet2 = &enet2;
+	};
+
+	memory {
+		reg = <0x80000000 0x20000000>;
+	};
+
+	cpus {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		cpu@0 {
+			compatible = "arm,cortex-a7";
+			device_type = "cpu";
+			reg = <0x0>;
+		};
+	};
+
+	timer {
+		compatible = "arm,armv7-timer";
+		interrupts = 	<GIC_PPI 13 0xf08>,
+				<GIC_PPI 14 0xf08>,
+				<GIC_PPI 11 0xf08>,
+				<GIC_PPI 10 0xf08>;
+	};
+
+	pmu {
+		compatible = "arm,cortex-a7-pmu";
+		interrupts = <0 138 0x04>, <0 139 0x04>;
+	};
+
+	soc {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		compatible = "simple-bus";
+		interrupt-parent = <&gic>;
+		ranges;
+
+		gic: interrupt-controller@1400000 {
+			compatible = "arm,cortex-a15-gic";
+			#interrupt-cells = <3>;
+			interrupt-controller;
+			reg = <0x1401000 0x1000>,
+				<0x1402000 0x1000>,
+				<0x1404000 0x2000>,
+				<0x1406000 0x2000>;
+			interrupts = <GIC_PPI 9 0x304>;
+		};
+
+		tzasc: tzasc@1500000 {
+			reg = <0x1500000 0x10000>;
+			interrupts = <0 125 0x04>;
+			status = "disabled";
+		};
+
+		ifc: ifc@1530000 {
+			compatible = "fsl,ls1021a-ifc", "fsl,ifc", "simple-bus";
+			reg = <0x1530000 0x10000>;
+			interrupts = <0 75 0x04>;
+			status = "disabled";
+		};
+
+		dcfg: dcfg@1ee0000 {
+			compatible = "fsl,ls1021a-dcfg";
+			reg = <0x1ee0000 0x10000>;
+		};
+
+		qspi: quadspi@1550000 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,vf610-qspi";
+			reg = <0x1550000 0x10000>;
+			interrupts = <0 131 0x04>;
+			clock-names = "qspi_en", "qspi";
+			status = "disabled";
+		};
+
+		esdhc: esdhc@1560000 {
+			compatible = "fsl,ls1021a-esdhc", "fsl,esdhc";
+			reg = <0x1560000 0x10000>;
+			interrupts = <0 94 0x04>;
+			clock-frequency = <0>;
+			voltage-ranges = <1800 3300>;
+			bus-width = <4>;
+			status = "disabled";
+		};
+
+		scfg: scfg@1570000 {
+			compatible = "fsl,ls1021a-scfg";
+			reg = <0x1570000 0x10000>;
+		};
+
+		caam: sec@1700000 {
+			reg = <0x1700000 0x10000>;
+			status = "disabled";
+		};
+
+		sfp: sfp@1e80000 {
+			reg = <0x1e80000 0x10000>;
+			status = "disabled";
+		};
+
+		snvs: snvs@1e90000 {
+			reg = <0x1e90000 0x10000>;
+			status = "disabled";
+		};
+
+		serdes1: serdes1@1ea0000 {
+			reg = <0x1ea0000 0x10000>;
+			status = "disabled";
+		};
+
+		clockgen: clocking@1ee1000 {
+			compatible = "fsl,ls1021a-clockgen";
+			reg = <0x1ee1000 0x10000>;
+			#address-cells = <1>;
+			#size-cells = <0>;
+			sysclk: sysclk {
+				compatible = "fsl,sys-clock";
+				#clock-cells = <0>;
+				clock-frequency = <100000000>;
+				clock-output-names = "sysclk";
+			};
+
+			cga_pll1: pll1@800 {
+				compatible = "fsl,core-pll-clock";
+				#clock-cells = <1>;
+				reg = <0x800>;
+				clocks = <&sysclk>;
+				clock-output-names = "cga-pll1", "cga-pll1-div2",
+						"cga-pll1-div3", "cga-pll1-div4";
+			};
+
+			cga_pll2: pll2@820 {
+				compatible = "fsl,core-pll-clock";
+				#clock-cells = <1>;
+				reg = <0x820>;
+				clocks = <&sysclk>;
+				clock-output-names = "cga-pll2", "cga-pll2-div2",
+						"cga-pll2-div3", "cga-pll2-div4";
+			};
+
+			platform_clk: pll@c00 {
+				compatible = "fsl,core-pll-clock";
+				#clock-cells = <1>;
+				reg = <0xc00>;
+				clocks = <&sysclk>;
+				clock-output-names = "platform-clk", "platform-clk-div2";
+			};
+
+
+			cluster1_clk: clk0c0@0 {
+				compatible = "fsl,core-mux-clock";
+				#clock-cells = <1>;
+				reg = <0x0>;
+				clock-names = "pll1cga", "pll1cga-div2";
+				clocks = <&cga_pll1 0>, <&cga_pll1 2>;
+				clock-output-names = "cluster1-clk";
+
+			};
+
+		};
+
+		rcpm: rcpm@1ee2000 {
+			reg = <0x1ee2000 0x10000>;
+			status = "disabled";
+		};
+
+		dspi0: dspi@2100000 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,vf610-dspi";
+			reg = <0x2100000 0x10000>;
+			interrupts = <0 96 0x04>;
+			clock-names = "dspi";
+			clocks = <&platform_clk 1>;
+			spi-num-chipselects = <5>;
+			status = "disabled";
+		};
+
+		dspi1: dspi@2110000 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,vf610-dspi";
+			reg = <0x2110000 0x10000>;
+			interrupts = <0 97 0x04>;
+			clock-names = "dspi";
+			clocks = <&platform_clk 1>;
+			spi-num-chipselects = <5>;
+			status = "disabled";
+		};
+
+		i2c0: i2c@2180000 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,vf610-i2c";
+			reg = <0x2180000 0x10000>;
+			interrupts =<0 88 0x04>;
+			clock-names = "i2c";
+			clocks = <&platform_clk 1>;
+			dmas = <&edma0 1 39>,
+				<&edma0 1 38>;
+			dma-names = "tx", "rx";
+			status = "disabled";
+		};
+
+		i2c1: i2c@2190000 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,vf610-i2c";
+			reg = <0x2190000 0x10000>;
+			interrupts = <0 89 0x04>;
+			clock-names = "i2c";
+			clocks = <&platform_clk 1>;
+			status = "disabled";
+		};
+
+		i2c2: i2c@21a0000 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,vf610-i2c";
+			reg = <0x21a0000 0x10000>;
+			interrupts = <0 90 0x04>;
+			clock-names = "i2c";
+			clocks = <&platform_clk 1>;
+			status = "disabled";
+		};
+
+		duart0: serial@21c0500 {
+			compatible = "ns16550";
+			reg = <0x21c0500 0x100>;
+			interrupts = <0 86 0x04>;
+			clock-frequency = <0>;
+			status = "disabled";
+		};
+
+		duart1: serial@21c0600 {
+			compatible = "ns16550";
+			reg = <0x21c0600 0x100>;
+			interrupts = <0 86 0x04>;
+			clock-frequency = <0>;
+			status = "disabled";
+		};
+
+		duart2: serial@21d0500 {
+			compatible = "ns16550";
+			reg = <0x21d0500 0x100>;
+			interrupts = <0 87 0x04>;
+			clock-frequency = <0>;
+			status = "disabled";
+		};
+
+		duart3: serial@21d0600 {
+			compatible = "ns16550";
+			reg = <0x21d0600 0x100>;
+			interrupts = <0 87 0x04>;
+			clock-frequency = <0>;
+			status = "disabled";
+		};
+
+		gpio1: gpio@2300000 {
+			compatible = "fsl,ls1021a-gpio";
+			reg = <0x2300000 0x10000>;
+			interrupts = <0 98 0x04>;
+			gpio-controller;
+			#gpio-cells = <2>;
+			interrupt-controller;
+			#interrupt-cells = <2>;
+			status = "disabled";
+		};
+
+		gpio2: gpio@2310000 {
+			compatible = "fsl,ls1021a-gpio";
+			reg = <0x2310000 0x10000>;
+			interrupts = <0 99 0x04>;
+			gpio-controller;
+			#gpio-cells = <2>;
+			interrupt-controller;
+			#interrupt-cells = <2>;
+			status = "disabled";
+		};
+
+		gpio3: gpio@2320000 {
+			compatible = "fsl,ls1021a-gpio";
+			reg = <0x2320000 0x10000>;
+			interrupts = <0 100 0x04>;
+			gpio-controller;
+			#gpio-cells = <2>;
+			interrupt-controller;
+			#interrupt-cells = <2>;
+			status = "disabled";
+		};
+
+		gpio4: gpio@2330000 {
+			compatible = "fsl,ls1021a-gpio";
+			reg = <0x2330000 0x10000>;
+			interrupts = <0 166 0x04>;
+			gpio-controller;
+			#gpio-cells = <2>;
+			interrupt-controller;
+			#interrupt-cells = <2>;
+			status = "disabled";
+		};
+
+		uqe: uqe@2400000 {
+			reg = <0x2400000 0x40000>;
+			interrupts = <0 109 0x04>;
+			status = "disabled";
+		};
+
+		lpuart0: serial@2950000 {
+			compatible = "fsl,vf610-lpuart";
+			reg = <0x2950000 0x1000>;
+			interrupts = <0 80 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "ipg";
+			status = "disabled";
+		};
+
+		lpuart1: serial@2960000 {
+			compatible = "fsl,vf610-lpuart";
+			reg = <0x2960000 0x1000>;
+			interrupts = <0 81 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "ipg";
+			status = "disabled";
+		};
+
+		lpuart2: serial@2970000 {
+			compatible = "fsl,vf610-lpuart";
+			reg = <0x2970000 0x1000>;
+			interrupts = <0 82 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "ipg";
+			status = "disabled";
+		};
+
+		lpuart3: serial@2980000 {
+			compatible = "fsl,vf610-lpuart";
+			reg = <0x2980000 0x1000>;
+			interrupts = <0 83 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "ipg";
+			status = "disabled";
+		};
+
+		lpuart4: serial@2990000 {
+			compatible = "fsl,vf610-lpuart";
+			reg = <0x2990000 0x1000>;
+			interrupts = <0 84 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "ipg";
+			status = "disabled";
+		};
+
+		lpuart5: serial@29a0000 {
+			compatible = "fsl,vf610-lpuart";
+			reg = <0x29a0000 0x1000>;
+			interrupts = <0 85 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "ipg";
+			status = "disabled";
+		};
+
+		ftm0: ftm@29d0000 {
+			reg = <0x29d0000 0x10000>;
+			interrupts = <0 118 0x04>;
+			status = "disabled";
+		};
+
+		ftm1: ftm@29e0000 {
+			reg = <0x29e0000 0x10000>;
+			interrupts = <0 119 0x04>;
+			status = "disabled";
+		};
+
+		ftm2: ftm@29f0000 {
+			reg = <0x29f0000 0x10000>;
+			interrupts = <0 120 0x04>;
+			status = "disabled";
+		};
+
+		ftm3: ftm@2a00000 {
+			reg = <0x2a00000 0x10000>;
+			interrupts = <0 121 0x04>;
+			status = "disabled";
+		};
+
+		ftm4: ftm@2a10000 {
+			reg = <0x2a10000 0x10000>;
+			interrupts = <0 32 0x04>;
+			status = "disabled";
+		};
+
+		ftm5: ftm@2a20000 {
+			reg = <0x2a20000 0x10000>;
+			interrupts = <0 33 0x04>;
+			status = "disabled";
+		};
+
+		pwm6: ftm@2a30000 {
+			reg = <0x2a30000 0x10000>;
+			interrupts = <0 123 0x04>;
+			status = "disabled";
+		};
+
+		pwm7: ftm@2a40000 {
+			reg = <0x2a40000 0x10000>;
+			interrupts = <0 124 0x04>;
+			status = "disabled";
+		};
+
+		wdog0: wdog@2ad0000 {
+			compatible = "fsl,ls1021a-wdt", "fsl,imx21-wdt";
+			reg = <0x2ad0000 0x10000>;
+			interrupts = <0 115 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "wdog";
+		};
+
+		sai2: sai@2b60000 {
+			compatible = "fsl,vf610-sai";
+			reg = <0x2b60000 0x10000>;
+			interrupts = <0 133 0x04>;
+			clocks = <&platform_clk 1>;
+			clock-names = "sai";
+			dma-names = "tx", "rx";
+			status = "disabled";
+		};
+
+		edma0: edma@2c00000 {
+			#dma-cells = <2>;
+			compatible = "fsl,vf610-edma";
+			reg = <0x2c00000 0x10000>,
+				<0x2c10000 0x10000>,
+				<0x2c20000 0x10000>;
+			interrupts = <0 135 0x04>,
+					<0 135 0x04>;
+			interrupt-names = "edma-tx", "edma-err";
+			dma-channels = <32>;
+			big-endian;
+			clock-names = "dmamux0", "dmamux1";
+			clocks = <&platform_clk 1>,
+				<&platform_clk 1>;
+		};
+
+		mdio@2d10000 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,etsec2-mdio";
+			reg = <0x2d10000 0x1000>;
+
+			phy0: ethernet-phy@0 {
+				reg = <0x0>;
+			};
+			phy1: ethernet-phy@1 {
+				reg = <0x1>;
+			};
+			phy2: ethernet-phy@2 {
+				reg = <0x2>;
+			};
+		};
+
+		enet0: ethernet@2d10000 {
+			#address-cells = <1>;
+			#size-cells = <1>;
+			device_type = "network";
+			model = "eTSEC";
+			compatible = "fsl,etsec2";
+			fsl,num_rx_queues = <0x8>;
+			fsl,num_tx_queues = <0x8>;
+			local-mac-address = [ 00 00 00 00 00 00 ];
+
+			queue-group@0 {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				reg = <0x2d10000 0x1000>;
+				fsl,rx-bit-map = <0xff>;
+				fsl,tx-bit-map = <0xff>;
+				interrupts = <0 144 0x04>,
+					<0 145 0x04>,
+					<0 146 0x04>;
+			};
+
+		};
+
+		enet1: ethernet@2d50000 {
+			#address-cells = <1>;
+			#size-cells = <1>;
+			device_type = "network";
+			model = "eTSEC";
+			compatible = "fsl,etsec2";
+			fsl,num_rx_queues = <0x8>;
+			fsl,num_tx_queues = <0x8>;
+			local-mac-address = [ 00 00 00 00 00 00 ];
+
+			queue-group@0 {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				reg = <0x2d50000 0x1000>;
+				fsl,rx-bit-map = <0xff>;
+				fsl,tx-bit-map = <0xff>;
+				interrupts = <0 150 0x04>,
+					<0 152 0x04>,
+					<0 153 0x04>;
+			};
+
+		};
+
+		enet2: ethernet@2d70000 {
+			#address-cells = <1>;
+			#size-cells = <1>;
+			device_type = "network";
+			model = "eTSEC";
+			compatible = "fsl,etsec2";
+			fsl,num_rx_queues = <0x8>;
+			fsl,num_tx_queues = <0x8>;
+			local-mac-address = [ 00 00 00 00 00 00 ];
+
+			queue-group@0 {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				reg = <0x2d70000 0x1000>;
+				fsl,rx-bit-map = <0xff>;
+				fsl,tx-bit-map = <0xff>;
+				interrupts = <0 157 0x04>,
+					<0 158 0x04>,
+					<0 159 0x04>;
+			};
+		};
+
+		usb@8600000 {
+			compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
+			reg = <0x8600000 0x1000>;
+			#address-cells = <1>;
+			#size-cells = <0>;
+			interrupts = <0 171 0x04>;
+			dr_mode = "host";
+			phy_type = "utmi";
+		};
+	};
+};
-- 
2.0.2

