From 97e969d18b4296512d90f801e510b8ec4e9887f6 Mon Sep 17 00:00:00 2001
From: Chao Fu <B44548@freescale.com>
Date: Mon, 11 Aug 2014 16:26:00 +0800
Subject: [PATCH 252/255] arm:dts:ls1021a:modify getting qspi amba base from
 node

This patch make qspi amba memmory map get from function
platform_get_resource_byname.

Signed-off-by: Chao Fu <B44548@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a.dtsi | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/arch/arm/boot/dts/ls1021a.dtsi b/arch/arm/boot/dts/ls1021a.dtsi
index e6ca3ef..b762a2a 100644
--- a/arch/arm/boot/dts/ls1021a.dtsi
+++ b/arch/arm/boot/dts/ls1021a.dtsi
@@ -138,12 +138,13 @@
 			#address-cells = <1>;
 			#size-cells = <0>;
 			compatible = "fsl,vf610-qspi";
-			reg = <0x0 0x1550000 0x0 0x10000>;
+			reg = <0x0 0x1550000 0x0 0x10000>,
+				<0x0 0x40000000 0x0 0x10000000>;
+			reg-names = "QuadSPI", "QuadSPI-memory";
 			interrupts = <GIC_SPI 131 IRQ_TYPE_LEVEL_HIGH>;
 			clock-names = "qspi_en", "qspi";
 			clocks = <&platform_clk 1>, <&platform_clk 1>;
 			big-endian;
-			amba-base = <0x40000000>;
 			status = "disabled";
 		};
 
-- 
2.0.2

