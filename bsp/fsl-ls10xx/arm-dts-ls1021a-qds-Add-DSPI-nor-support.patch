From 419f12e16a1a8571f5afbd3c7e7c47ea7b40d24f Mon Sep 17 00:00:00 2001
From: Chao Fu <B44548@freescale.com>
Date: Tue, 8 Apr 2014 13:43:12 +0800
Subject: [PATCH 046/255] arm:dts:ls1021a-qds:Add DSPI nor support

Ls1021a-qds has a s25fl064k spi nor flash connected to spi1.
Add support for them.

Signed-off-by: Chao Fu <B44548@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a-qds.dts | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/arch/arm/boot/dts/ls1021a-qds.dts b/arch/arm/boot/dts/ls1021a-qds.dts
index 2e34a63d..16f3a69 100644
--- a/arch/arm/boot/dts/ls1021a-qds.dts
+++ b/arch/arm/boot/dts/ls1021a-qds.dts
@@ -18,6 +18,21 @@
 	};
 };
 
+&dspi1 {
+	bus-num = <0>;
+	status = "okay";
+
+	dspiflash: s25fl064k@0 {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		compatible = "spansion,s25fl064k";
+		spi-max-frequency = <16000000>;
+		spi-cpol;
+		spi-cpha;
+		reg = <0>;
+	};
+};
+
 &duart2 {
 	status = "okay";
 };
-- 
2.0.2

