From 5e70ce1b3a8fbe6b5511114c13c2ca367ad9df52 Mon Sep 17 00:00:00 2001
From: Xulin Sun <xulin.sun@windriver.com>
Date: Fri, 22 Jan 2016 17:08:54 +0800
Subject: [PATCH 117/129] uImage and video related changes to make build
 passed

Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm/boot/Makefile      |    4 ++++
 drivers/video/fsl-dcu-fb.c  |    2 +-
 drivers/video/fsl-sii902x.c |    2 +-
 3 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/arch/arm/boot/Makefile b/arch/arm/boot/Makefile
index 327092c..185180b 100644
--- a/arch/arm/boot/Makefile
+++ b/arch/arm/boot/Makefile
@@ -61,6 +61,10 @@ ifeq ($(CONFIG_ARCH_VEXPRESS), y)
 LOADADDR=0x04080000
 endif
 
+ifeq ($(CONFIG_SOC_LS1021A), y)
+LOADADDR=0x80008000
+endif
+
 ifneq ($(LOADADDR),)
   UIMAGE_LOADADDR=$(LOADADDR)
 else
diff --git a/drivers/video/fsl-dcu-fb.c b/drivers/video/fsl-dcu-fb.c
index 3ba79f8..6c011c4 100644
--- a/drivers/video/fsl-dcu-fb.c
+++ b/drivers/video/fsl-dcu-fb.c
@@ -1163,7 +1163,7 @@ static int fsl_dcu_remove(struct platform_device *pdev)
 	return 0;
 }
 
-#ifdef CONFIG_PM_RUNTIME
+#ifdef CONFIG_PM
 static int fsl_dcu_runtime_suspend(struct device *dev)
 {
 	struct dcu_fb_data *dcufb = dev_get_drvdata(dev);
diff --git a/drivers/video/fsl-sii902x.c b/drivers/video/fsl-sii902x.c
index 9770b12..bbe515a 100644
--- a/drivers/video/fsl-sii902x.c
+++ b/drivers/video/fsl-sii902x.c
@@ -27,7 +27,7 @@
 #include <linux/kernel.h>
 #include <linux/module.h>
 #include <linux/of_device.h>
-#include "edid.h"
+#include "fbdev/edid.h"
 
 #define SII902X_INPUT_BUS_FMT	0x08
 #define SII902X_TPI_AVI_INPUT_FMT	0x09
-- 
1.7.5.4

