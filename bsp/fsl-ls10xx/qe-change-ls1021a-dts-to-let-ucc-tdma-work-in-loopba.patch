From 13cbc66fdf3e0377a66e9d39db5239553e19c3e8 Mon Sep 17 00:00:00 2001
From: Zhao Qiang <B45475@freescale.com>
Date: Tue, 27 May 2014 16:35:44 +0800
Subject: [PATCH 162/255] qe: change ls1021a dts to let ucc-tdma work in
 loopback

Signed-off-by: Zhao Qiang <B45475@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a-qds.dts | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/arm/boot/dts/ls1021a-qds.dts b/arch/arm/boot/dts/ls1021a-qds.dts
index 27a3e33..8af7c67 100644
--- a/arch/arm/boot/dts/ls1021a-qds.dts
+++ b/arch/arm/boot/dts/ls1021a-qds.dts
@@ -329,14 +329,14 @@
 
 	tdma: ucc@2000 {
 		compatible = "fsl,ucc-tdm";
-		rx-clock-name = "clk8";
-		tx-clock-name = "clk9";
-		fsl,rx-sync-clock = "rsync_pin";
-		fsl,tx-sync-clock = "tsync_pin";
+		rx-clock-name = "brg1";
+		tx-clock-name = "brg1";
+		fsl,rx-sync-clock = "none";
+		fsl,tx-sync-clock = "none";
 		fsl,tx-timeslot = <0xfffffffe>;
 		fsl,rx-timeslot = <0xfffffffe>;
 		fsl,tdm-framer-type = "e1";
-		fsl,tdm-mode = "normal";
+		fsl,tdm-mode = "internel-loopback";
 		fsl,tdm-id = <0>;
 		fsl,siram-entry-id = <0>;
 	};
-- 
2.0.2

