From 311c915c3ac2f1dae273214ea0c619e3f98eacb9 Mon Sep 17 00:00:00 2001
From: Jingchang Lu <jingchang.lu@freescale.com>
Date: Mon, 21 Jul 2014 17:44:10 +0800
Subject: [PATCH 223/255] arm: dts: ls1021a-twr: add aliases for enet phy

This add aliases for enet phy to make it be found easily
in u-boot on dynamically change the enet "phy-handle" and
"phy-connection-type" property.

Signed-off-by: Jingchang Lu <jingchang.lu@freescale.com>
[Kevin: Original patch taken from
LS1021A-SDK-V1.1-ARM-SOURCE-20140815-yocto.iso]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/boot/dts/ls1021a-twr.dts | 24 +++++++++++++++---------
 1 file changed, 15 insertions(+), 9 deletions(-)

diff --git a/arch/arm/boot/dts/ls1021a-twr.dts b/arch/arm/boot/dts/ls1021a-twr.dts
index f01d103..367cf22 100644
--- a/arch/arm/boot/dts/ls1021a-twr.dts
+++ b/arch/arm/boot/dts/ls1021a-twr.dts
@@ -13,6 +13,12 @@
 / {
 	model = "LS1021A TWR Board";
 
+	aliases {
+		enet2_rgmii_phy = &rgmii_phy1;
+		enet0_sgmii_phy = &sgmii_phy2;
+		enet1_sgmii_phy = &sgmii_phy0;
+	};
+
 	regulators {
 		compatible = "simple-bus";
 		#address-cells = <1>;
@@ -104,22 +110,22 @@
 
 &enet0 {
 	tbi-handle = <&tbi1>;
-	phy-handle = <&phy2>;
+	phy-handle = <&sgmii_phy2>;
 	phy-connection-type = "sgmii";
-	status = "ok";
+	status = "okay";
 };
 
 &enet1 {
 	tbi-handle = <&tbi1>;
-	phy-handle = <&phy0>;
+	phy-handle = <&sgmii_phy0>;
 	phy-connection-type = "sgmii";
-	status = "ok";
+	status = "okay";
 };
 
 &enet2 {
-	phy-handle = <&phy1>;
+	phy-handle = <&rgmii_phy1>;
 	phy-connection-type = "rgmii-id";
-	status = "ok";
+	status = "okay";
 };
 
 &ftm0_1 {
@@ -236,13 +242,13 @@
 };
 
 &mdio0 {
-	phy0: ethernet-phy@0 {
+	sgmii_phy0: ethernet-phy@0 {
 		reg = <0x0>;
 	};
-	phy1: ethernet-phy@1 {
+	rgmii_phy1: ethernet-phy@1 {
 		reg = <0x1>;
 	};
-	phy2: ethernet-phy@2 {
+	sgmii_phy2: ethernet-phy@2 {
 		reg = <0x2>;
 	};
 	tbi1: tbi-phy@1f {
-- 
2.0.2

