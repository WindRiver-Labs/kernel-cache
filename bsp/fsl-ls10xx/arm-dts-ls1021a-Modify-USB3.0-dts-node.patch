From d4468935d0b0d5db52330d0214d7f7be4ac5270d Mon Sep 17 00:00:00 2001
From: Suresh Gupta <suresh.gupta@freescale.com>
Date: Fri, 26 Sep 2014 00:02:56 +0530
Subject: [PATCH 006/129] arm : dts : ls1021a : Modify USB3.0 dts node

Signed-off-by: Suresh Gupta <suresh.gupta@freescale.com>
Change-Id: I7aa37e4914623a303eb520c6d8fd6d4f84e9ddb2
Reviewed-on: http://git.am.freescale.net:8181/19815
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Jingchang Lu <jingchang.lu@freescale.com>
Reviewed-by: Zhengxiong Jin <Jason.Jin@freescale.com>
[Xulin: Original patch taken from
Freescale-Linux-SDK-for-LS1021A-IOT-Rev2-v0.4-SOURCE-20150907-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm/boot/dts/ls1021a.dtsi |   42 ++++++++++++++++-----------------------
 1 files changed, 17 insertions(+), 25 deletions(-)

diff --git a/arch/arm/boot/dts/ls1021a.dtsi b/arch/arm/boot/dts/ls1021a.dtsi
index 8334bbc..e1dcc53 100644
--- a/arch/arm/boot/dts/ls1021a.dtsi
+++ b/arch/arm/boot/dts/ls1021a.dtsi
@@ -453,15 +453,15 @@
 			big-endian;
 		};
 
-       	sai2: sai@2b60000 {
-       		compatible = "fsl,vf610-sai";
-       		reg = <0x0 0x2b60000 0x0 0x10000>;
-       		interrupts = <GIC_SPI 133 IRQ_TYPE_LEVEL_HIGH>;
-       		clocks = <&platform_clk 1>;
-       		clock-names = "sai";
-       		dma-names = "tx", "rx";
-       		dmas = <&edma0 1 45>,
-       		       <&edma0 1 44>;
+		sai2: sai@2b60000 {
+			compatible = "fsl,vf610-sai";
+	       		reg = <0x0 0x2b60000 0x0 0x10000>;
+			interrupts = <GIC_SPI 133 IRQ_TYPE_LEVEL_HIGH>;
+			clocks = <&platform_clk 1>;
+	       		clock-names = "sai";
+			dma-names = "tx", "rx";
+			dmas = <&edma0 1 45>,
+				<&edma0 1 44>;
 			big-endian-regs;
 			status = "disabled";
 		};
@@ -492,7 +492,7 @@
 			status = "disabled";
 		};
 
-       	mdio0: mdio@2d24000 {
+		mdio0: mdio@2d24000 {
 			compatible = "gianfar";
 	       		device_type = "mdio";
 	       		#address-cells = <1>;
@@ -585,22 +585,14 @@
 	       		phy_type = "ulpi";
        	};
 
-       	usb@3100000 {
-			compatible = "fsl,fsl-dwc3";
-			#address-cells = <2>;
-			#size-cells = <2>;
-			ranges;
+	usb3@3100000 {
+			compatible = "snps,dwc3";
+			reg = <0x0 0x3100000 0x0 0x10000>;
+			interrupts = <GIC_SPI 93 IRQ_TYPE_LEVEL_HIGH>;
+			dr_mode = "host";
+		};
+	};
 
-			dwc3 {
-				compatible = "snps,dwc3";
-				reg = <0x0 0x3100000 0x0 0x10000>;
-				interrupts = <GIC_SPI 93 IRQ_TYPE_LEVEL_HIGH>;
-				dr_mode = "host";
-				maximum-speed = "high-speed";
-       	};
-       };
-;
-+
 	dcsr {
 		#address-cells = <1>;
 		#size-cells = <1>;
-- 
1.7.5.4

