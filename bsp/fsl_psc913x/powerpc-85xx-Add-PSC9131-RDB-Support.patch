From e4a6d5f091e9d972d827ab9802fe26b9254a4243 Mon Sep 17 00:00:00 2001
From: Tiejun Chen <tiejun.chen@windriver.com>
Date: Tue, 15 Nov 2011 16:03:25 +0800
Subject: [PATCH 01/92] powerpc/85xx:Add PSC9131 RDB Support

Extracted from 913x_WUSDK_REL_0.4.tar.gz vendor drop.

Add basic support for psc9131 RDB including board DTS and platform
initialization routines.

Signed-off-by: Priyanka Jain <Priyanka.Jain@freescale.com>
Acked-by: NPIIDC <npiidc@freescale.com>

[Merge psc9131si.dtsi into psc9131rdb.dts. Remove PSC9131QDS information.]

Signed-off-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/powerpc/boot/dts/psc9131rdb.dts        |  563 +++++++++++++++++++++++++++
 arch/powerpc/platforms/85xx/Kconfig         |   12 +
 arch/powerpc/platforms/85xx/Makefile        |    1 +
 arch/powerpc/platforms/85xx/psc913x_board.c |  109 +++++
 4 files changed, 685 insertions(+), 0 deletions(-)
 create mode 100644 arch/powerpc/boot/dts/psc9131rdb.dts
 create mode 100644 arch/powerpc/platforms/85xx/psc913x_board.c

diff --git a/arch/powerpc/boot/dts/psc9131rdb.dts b/arch/powerpc/boot/dts/psc9131rdb.dts
new file mode 100644
index 0000000..975f8e5
--- /dev/null
+++ b/arch/powerpc/boot/dts/psc9131rdb.dts
@@ -0,0 +1,563 @@
+/*
+ * PSC9131 Device Tree Source
+ *
+ * Copyright 2011 Freescale Semiconductor Inc.
+ *
+ * This program is free software; you can redistribute  it and/or modify it
+ * under  the terms of  the GNU General  Public License as published by the
+ * Free Software Foundation;  either version 2 of the  License, or (at your
+ * option) any later version.
+ */
+
+/dts-v1/;
+/ {
+	model = "fsl,psc9131rdb";
+	compatible = "fsl,psc9131rdb";
+	#address-cells = <2>;
+	#size-cells = <2>;
+
+	aliases {
+		serial0 = &serial0;
+		ethernet0 = &enet0;
+		ethernet1 = &enet1;
+		mpic-msgr-block0 = &mpic_msgr_block0;
+	};
+
+	cpus {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		cpu@0 {
+			device_type = "cpu";
+			compatible = "fsl,e500v2";
+			reg = <0x0>;
+			next-level-cache = <&L2>;
+		};
+	};
+
+	memory {
+		device_type = "memory";
+	};
+
+	ifc@ff71e000 {
+		#address-cells = <2>;
+		#size-cells = <1>;
+		compatible = "fsl,ifc", "simple-bus";
+		reg = <0x0 0xff71e000 0 0x2000>;
+		interrupts = <16 2 20 2>;
+		interrupt-parent = <&mpic>;
+
+		/* NAND Flash on board */
+		ranges = <0x0 0x0 0x0 0xff800000 0x00010000>;
+
+		nand@0,0 {
+			#address-cells = <1>;
+			#size-cells = <1>;
+			compatible = "fsl,ifc-nand";
+			reg = <0x0 0x0 0x10000>;
+
+			partition@0 {
+				/* This location must not be altered  */
+				/* 3MB for u-boot Bootloader Image */
+				reg = <0x0 0x00300000>;
+				label = "NAND U-Boot Image";
+				read-only;
+			};
+
+			partition@300000 {
+				/* 1MB for DTB Image */
+				reg = <0x00300000 0x00100000>;
+				label = "NAND DTB Image";
+			};
+
+			partition@400000 {
+				/* 8MB for Linux Kernel Image */
+				reg = <0x00400000 0x00800000>;
+				label = "NAND Linux Kernel Image";
+			};
+
+			partition@c00000 {
+				/* 30MB for Compressed Root file System Image */
+				reg = <0x00c00000 0x01e00000>;
+				label = "NAND Compressed RFS Image";
+			};
+
+			partition@2a00000 {
+				/* 30MB for Root File system */
+				reg = <0x02a00000 0x01e00000>;
+				label = "NAND Root File System";
+			};
+
+			partition@4800000 {
+				/* 56MB for User Area */
+				reg = <0x04800000 0x03800000>;
+				label = "NAND User area";
+			};
+		};
+	};
+	soc@ff600000 {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		device_type = "soc";
+		ranges = <0xff600000 0x0 0xff600000 0x200000>;
+		bus-frequency = <0>;		// Filled out by uboot.
+
+		sc3850@ff600000 {
+			#address-cells = <1>;
+			#size-cells = <1>;
+			ranges = <0x0 0xff600000 0x100000>;
+		};
+
+		e500@ff700000 {
+			#address-cells = <1>;
+			#size-cells = <1>;
+			compatible = "fsl,psc9131-immr", "simple-bus";
+			ranges = <0x0 0xff700000 0x100000>;
+
+			ecm-law@0 {
+				compatible = "fsl,ecm-law";
+				reg = <0x0 0x1000>;
+				fsl,num-laws = <12>;
+			};
+
+			ecm@1000 {
+				compatible = "fsl,psc9131-ecm", "fsl,ecm";
+				reg = <0x1000 0x1000>;
+				interrupts = <16 2>;
+				interrupt-parent = <&mpic>;
+			};
+
+			memory-controller@2000 {
+				compatible = "fsl,psc9131-memory-controller";
+				reg = <0x2000 0x1000>;
+				interrupts = <16 2>;
+				interrupt-parent = <&mpic>;
+			};
+
+			i2c@3000 {
+				#address-cells = <1>;
+				#size-cells = <0>;
+				cell-index = <0>;
+				compatible = "fsl-i2c";
+				reg = <0x3000 0x100>;
+				interrupts = <17 2>;
+				interrupt-parent = <&mpic>;
+				dfsrr;
+			};
+
+			i2c@3100 {
+				#address-cells = <1>;
+				#size-cells = <0>;
+				cell-index = <0>;
+				compatible = "fsl-i2c";
+				reg = <0x3100 0x100>;
+				interrupts = <17 2>;
+				interrupt-parent = <&mpic>;
+				dfsrr;
+				status = "disabled";
+			};
+
+			serial0: serial@4500 {
+				cell-index = <0>;
+				device_type = "serial";
+				compatible = "ns16550";
+				reg = <0x4500 0x100>;
+				clock-frequency = <0>;
+				interrupts = <18 2>;
+				interrupt-parent = <&mpic>;
+			};
+
+			serial1: serial@4600 {
+				cell-index = <1>;
+				device_type = "serial";
+				compatible = "ns16550";
+				reg = <0x4600 0x100>;
+				clock-frequency = <0>;
+				interrupts = <18 2>;
+				interrupt-parent = <&mpic>;
+			};
+
+			spi@7000 {
+				cell-index = <0>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				compatible = "fsl,espi";
+				reg = <0x7000 0x1000>;
+				interrupts = <22 0x2>;
+				interrupt-parent = <&mpic>;
+				espi,num-ss-bits = <4>;
+				mode = "cpu";
+
+				flash@0 {
+					#address-cells = <1>;
+					#size-cells = <1>;
+					compatible = "fsl,espi-flash",
+							"spansion,s25sl12801";
+					reg = <0>;
+					spi-max-frequency = <50000000>;
+
+					/* 512KB for u-boot Bootloader Image */
+					partition@0 {
+						reg = <0x0 0x00080000>;
+						label = "SPI (RO) U-Boot Image";
+						read-only;
+					};
+
+					/* 512KB for DTB Image */
+					partition@80000 {
+						reg = <0x00080000 0x00080000>;
+						label = "SPI DTB Image";
+						read-only;
+					};
+
+					/* 4MB for Linux Kernel Image */
+					partition@100000 {
+						reg = <0x00100000 0x00400000>;
+						label = "SPI Kernel Image";
+						read-only;
+					};
+
+					/* 4MB for Compressed RFS Image */
+					partition@500000 {
+						reg = <0x00500000 0x00400000>;
+						label = "SPI RFS";
+						read-only;
+					};
+
+					/* 7MB for RFS */
+					partition@900000 {
+						reg = <0x00900000 0x00700000>;
+						label = "SPI RFS";
+					};
+				};
+			};
+
+			spi@6000 {
+				cell-index = <1>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				compatible = "fsl,espi";
+				reg = <0x6000 0x1000>;
+				interrupts = <23 0x2>;
+				interrupt-parent = <&mpic>;
+				espi,num-ss-bits = <4>;
+				mode = "cpu";
+				status = "disabled";
+			};
+
+			spi@e000 {
+				cell-index = <2>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				compatible = "fsl,espi";
+				reg = <0xe000 0x1000>;
+				interrupts = <24 0x2>;
+				interrupt-parent = <&mpic>;
+				espi,num-ss-bits = <4>;
+				mode = "cpu";
+				status = "disabled";
+			};
+
+			spi@d000 {
+				cell-index = <3>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				compatible = "fsl,espi";
+				reg = <0xd000 0x1000>;
+				interrupts = <25 0x2>;
+				interrupt-parent = <&mpic>;
+				espi,num-ss-bits = <4>;
+				mode = "cpu";
+				status = "disabled";
+			};
+
+			gpio: gpio-controller@f000 {
+				cell-index = <0>;
+				#gpio-cells = <2>;
+				compatible = "fsl,psc9131-gpio";
+				reg = <0xf000 0x100>;
+				interrupts = <19 0x2>;
+				interrupt-parent = <&mpic>;
+				gpio-controller;
+			};
+
+			gpio1: gpio-controller@f100 {
+				cell-index = <1>;
+				#gpio-cells = <2>;
+				compatible = "fsl,psc9131-gpio";
+				reg = <0xf100 0x100>;
+				interrupts = <19 0x2>;
+				interrupt-parent = <&mpic>;
+				gpio-controller;
+			};
+
+			gpio2: gpio-controller@f200 {
+				cell-index = <2>;
+				#gpio-cells = <2>;
+				compatible = "fsl,psc9131-gpio";
+				reg = <0xf200 0x100>;
+				interrupts = <19 0x2>;
+				interrupt-parent = <&mpic>;
+				gpio-controller;
+			};
+
+			L2: l2-cache-controller@20000 {
+				compatible = "fsl,psc9131-l2-cache-controller";
+				reg = <0x20000 0x1000>;
+				cache-line-size = <32>;	// 32 bytes
+				cache-size = <0x40000>;	// L2,256K
+				interrupt-parent = <&mpic>;
+				interrupts = <16 2>;
+			};
+
+			dma@21300 {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				compatible = "fsl,eloplus-dma";
+				reg = <0x21300 0x4>;
+				ranges = <0x0 0x21100 0x200>;
+				cell-index = <0>;
+
+				dma-channel@0 {
+					compatible = "fsl,eloplus-dma-channel";
+					reg = <0x0 0x80>;
+					cell-index = <0>;
+					interrupt-parent = <&mpic>;
+					interrupts = <62 2>;
+				};
+
+				dma-channel@80 {
+					compatible = "fsl,eloplus-dma-channel";
+					reg = <0x80 0x80>;
+					cell-index = <1>;
+					interrupt-parent = <&mpic>;
+					interrupts = <63 2>;
+				};
+
+				dma-channel@100 {
+					compatible = "fsl,eloplus-dma-channel";
+					reg = <0x100 0x80>;
+					cell-index = <2>;
+					interrupt-parent = <&mpic>;
+					interrupts = <64 2>;
+				};
+
+				dma-channel@180 {
+					compatible = "fsl,eloplus-dma-channel";
+					reg = <0x180 0x80>;
+					cell-index = <3>;
+					interrupt-parent = <&mpic>;
+					interrupts = <65 2>;
+				};
+			};
+
+			mdio@24000 {
+				#address-cells = <1>;
+				#size-cells = <0>;
+				compatible = "fsl,etsec2-mdio";
+				reg = <0x24000 0x1000 0xb0030 0x4>;
+				phy0: ethernet-phy@0 {
+					interrupt-parent = <&mpic>;
+					interrupts = <3 1>;
+					reg = <0x0>;
+				};
+
+				phy1: ethernet-phy@1 {
+					interrupt-parent = <&mpic>;
+					interrupts = <2 1>;
+					reg = <0x3>;
+				};
+			};
+
+			mdio@25000 {
+				#address-cells = <1>;
+				#size-cells = <0>;
+				compatible = "fsl,etsec2-mdio";
+				reg = <0x25000 0x1000 0xb1030 0x4>;
+			};
+
+			usb@22000 {
+				#address-cells = <1>;
+				#size-cells = <0>;
+				compatible = "fsl-usb2-dr";
+				reg = <0x22000 0x1000>;
+				interrupt-parent = <&mpic>;
+				interrupts = <40 0x2>;
+				dr_mode = "host";
+				phy_type = "ulpi";
+			};
+
+			crypto: crypto@30000 {
+				compatible = "fsl,p4080-sec4.0", "fsl,sec4.0";
+				#address-cells = <1>;
+				#size-cells = <1>;
+				reg = <0x30000 0x10000>;
+				interrupts = <57 2>;
+				interrupt-parent = <&mpic>;
+				status = "disabled";
+
+				sec_jr0: jr@1000 {
+					compatible = "fsl,sec4.0-job-ring",
+						"fsl,p4080-sec4.0-job-ring";
+					reg = <0x1000 0x1000>;
+					interrupts = <58 2>;
+					interrupt-parent = <&mpic>;
+				};
+
+				sec_jr1: jr@2000 {
+					compatible = "fsl,sec4.0-job-ring",
+						"fsl,p4080-sec4.0-job-ring";
+					reg = <0x2000 0x1000>;
+					interrupts = <59 2>;
+					interrupt-parent = <&mpic>;
+				};
+
+				sec_jr2: jr@3000 {
+					compatible = "fsl,sec4.0-job-ring",
+						"fsl,p4080-sec4.0-job-ring";
+					reg = <0x3000 0x1000>;
+					interrupts = <60 2>;
+					interrupt-parent = <&mpic>;
+				};
+
+				sec_jr3: jr@4000 {
+					compatible = "fsl,sec4.0-job-ring",
+						"fsl,p4080-sec4.0-job-ring";
+					reg = <0x4000 0x1000>;
+					interrupts = <61 2>;
+					interrupt-parent = <&mpic>;
+				};
+			};
+
+			ptp_timer: ptimer@b0e00 {
+				compatible = "fsl,gianfar-ptp-timer";
+				reg = <0xb0e00 0xb0>;
+				interrupts = <68 2 69 2 70 2>;
+				interrupt-parent = <&mpic>;
+				tmr-prsc = <0x2>;
+				cksel = <1>;
+			};
+
+			enet0: ethernet@b0000 {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				device_type = "network";
+				model = "eTSEC";
+				compatible = "fsl,etsec2";
+				fsl,num_rx_queues = <0x8>;
+				fsl,num_tx_queues = <0x8>;
+				local-mac-address = [ 00 00 00 00 00 00 ];
+				interrupt-parent = <&mpic>;
+				ptimer-handle = < &ptp_timer >;
+				phy-handle = <&phy0>;
+				phy-connection-type = "rgmii";
+
+				queue-group@0 {
+					#address-cells = <1>;
+					#size-cells = <1>;
+					reg = <0xb0000 0x1000>;
+					rx-bit-map = <0xAA>;
+					tx-bit-map = <0xAA>;
+					interrupts = <26 2 27 2 28 2>;
+				};
+
+				queue-group@1 {
+					#address-cells = <1>;
+					#size-cells = <1>;
+					reg = <0xb4000 0x1000>;
+					rx-bit-map = <0x55>;
+					tx-bit-map = <0x55>;
+					interrupts = <29 2 30 2 31 2>;
+				};
+			};
+
+			enet1: ethernet@b1000 {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				device_type = "network";
+				model = "eTSEC";
+				compatible = "fsl,etsec2";
+				fsl,num_rx_queues = <0x8>;
+				fsl,num_tx_queues = <0x8>;
+				local-mac-address = [ 00 00 00 00 00 00 ];
+				interrupt-parent = <&mpic>;
+				ptimer-handle = < &ptp_timer >;
+				phy-handle = <&phy1>;
+				phy-connection-type = "rgmii";
+
+				queue-group@0 {
+					#address-cells = <1>;
+					#size-cells = <1>;
+					reg = <0xb1000 0x1000>;
+					rx-bit-map = <0xAA>;
+					tx-bit-map = <0xAA>;
+					interrupts = <33 2 34 2 35 2>;
+				};
+
+				queue-group@1 {
+					#address-cells = <1>;
+					#size-cells = <1>;
+					reg = <0xb5000 0x1000>;
+					rx-bit-map = <0x55>;
+					tx-bit-map = <0x55>;
+					interrupts = <36 2 37 2 38 2>;
+				};
+			};
+
+			sdhci@2e000 {
+				compatible = "fsl,esdhc";
+				reg = <0x2e000 0x1000>;
+				interrupts = <41 0x2>;
+				interrupt-parent = <&mpic>;
+				fsl,sdhci-auto-cmd12;
+				fsl,sdhci-adma-broken;
+				fsl,sdhci-adjust-timeout;
+				/* Filled in by U-Boot */
+				clock-frequency = <0>;
+ 				status = "disabled";
+			};
+
+			mpic: pic@40000 {
+				interrupt-controller;
+				#address-cells = <0>;
+				#interrupt-cells = <2>;
+				reg = <0x40000 0x40000>;
+				compatible = "chrp,open-pic";
+				device_type = "open-pic";
+			};
+
+			mpic_msgr_block0: mpic-msgr-block0@41400 {
+				compatible = "fsl,mpic-v1.2-msgr";
+				reg = <0x41400 0x200>;
+				interrupts = <
+						0xb0 2
+						0xb1 2
+						0xb2 2
+						0xb3 2>;
+				interrupt-parent = <&mpic>;
+			};
+
+			msi@41600 {
+				compatible = "fsl,psc9131-msi", "fsl,mpic-msi";
+				reg = <0x41600 0x80>;
+				msi-available-ranges = <0 0x100>;
+				interrupts = <
+					0xe0 0
+					0xe1 0
+					0xe2 0
+					0xe3 0
+					0xe4 0
+					0xe5 0
+					0xe6 0
+					0xe7 0>;
+				interrupt-parent = <&mpic>;
+			};
+
+			global-utilities@e0000 {    //global utilities block
+				compatible = "fsl,psc9131-guts";
+				reg = <0xe0000 0x1000>;
+				fsl,has-rstcr;
+			};
+		};
+	};
+};
diff --git a/arch/powerpc/platforms/85xx/Kconfig b/arch/powerpc/platforms/85xx/Kconfig
index 1e40093..07c4a2b 100644
--- a/arch/powerpc/platforms/85xx/Kconfig
+++ b/arch/powerpc/platforms/85xx/Kconfig
@@ -81,6 +81,18 @@ config P1023_RDS
 	help
 	  This option enables support for the P1023 RDS board
 
+config PSC9131_RDB
+	bool "Freescale PSC9131RDB"
+	select PPC_I8259
+	select DEFAULT_UIMAGE
+	select SWIOTLB
+	help
+	  This option enables support for the PSC9131 RDB board
+	  Board has PSC9131 SOC 1GByte DDR, 128MB NAND flash, 256Kbit EEPROM,
+	  128MB spi flash, USB-ULPI, eTSEC1, eTSEC2 connected on RGMII PHY, UART
+	  PSC9131 is integrated device that targets Femto base station market.
+	  Manufacturer : Freescale Semiconductor, Inc
+
 config SOCRATES
 	bool "Socrates"
 	select DEFAULT_UIMAGE
diff --git a/arch/powerpc/platforms/85xx/Makefile b/arch/powerpc/platforms/85xx/Makefile
index 385bbcb..faa7658 100644
--- a/arch/powerpc/platforms/85xx/Makefile
+++ b/arch/powerpc/platforms/85xx/Makefile
@@ -16,6 +16,7 @@ obj-$(CONFIG_MPC85xx_RDB) += mpc85xx_rdb.o
 obj-$(CONFIG_P1023_RDS)   += p1023_rds.o
 obj-$(CONFIG_P3041_DS)    += p3041_ds.o corenet_ds.o
 obj-$(CONFIG_P4080_DS)    += p4080_ds.o corenet_ds.o
+obj-$(CONFIG_PSC9131_RDB) += psc913x_board.o
 obj-$(CONFIG_P5020_DS)    += p5020_ds.o corenet_ds.o
 obj-$(CONFIG_FSL_CORENET_DS_MDIO) += corenet_ds_mdio.o
 obj-$(CONFIG_FSL_HYDRA_DS_MDIO) += hydra_mdio.o
diff --git a/arch/powerpc/platforms/85xx/psc913x_board.c b/arch/powerpc/platforms/85xx/psc913x_board.c
new file mode 100644
index 0000000..3d643f8
--- /dev/null
+++ b/arch/powerpc/platforms/85xx/psc913x_board.c
@@ -0,0 +1,109 @@
+/*
+ * PSC9131RDB Board Setup
+ *
+ * Author: Priyanka Jain <Priyanka.Jain@freescale.com>
+ *
+ * Copyright 2011 Freescale Semiconductor Inc.
+ *
+ * This program is free software; you can redistribute  it and/or modify it
+ * under  the terms of  the GNU General  Public License as published by the
+ * Free Software Foundation;  either version 2 of the  License, or (at your
+ * option) any later version.
+ */
+
+#include <linux/of_platform.h>
+#include <linux/lmb.h>
+#include <linux/pci.h>
+#include <asm/mpic.h>
+#include <asm/swiotlb.h>
+#include <sysdev/fsl_soc.h>
+
+void __init psc913x_board_pic_init(void)
+{
+	struct mpic *mpic;
+	struct resource r;
+	struct device_node *np;
+
+	np = of_find_node_by_type(NULL, "open-pic");
+	if (np == NULL) {
+		printk(KERN_ERR "Could not find open-pic node\n");
+		return;
+	}
+
+	if (of_address_to_resource(np, 0, &r)) {
+		printk(KERN_ERR "Failed to map mpic register space\n");
+		of_node_put(np);
+		return;
+	}
+
+	mpic = mpic_alloc(np, r.start, MPIC_PRIMARY | MPIC_WANTS_RESET |
+	  MPIC_BIG_ENDIAN | MPIC_BROKEN_FRR_NIRQS | MPIC_SINGLE_DEST_CPU,
+	  0, 256, " OpenPIC  ");
+
+	BUG_ON(mpic == NULL);
+	of_node_put(np);
+
+	mpic_init(mpic);
+
+}
+
+/*
+ * Setup the architecture
+ */
+static void __init psc913x_board_setup_arch(void)
+{
+	dma_addr_t max = 0xffffffff;
+
+	if (ppc_md.progress)
+		ppc_md.progress("psc913x_board_setup_arch()", 0);
+
+#ifdef CONFIG_SWIOTLB
+	if (lmb_end_of_DRAM() > max) {
+		ppc_swiotlb_enable = 1;
+		set_pci_dma_ops(&swiotlb_dma_ops);
+		ppc_md.pci_dma_dev_setup = pci_dma_dev_setup_swiotlb;
+	}
+#endif
+#if defined(CONFIG_SMP)
+	mpc85xx_smp_init();
+#endif
+
+	printk(KERN_INFO "psc913x board from Freescale Semiconductor\n");
+}
+
+static struct of_device_id __initdata psc913x_board_ids[] = {
+	{ .type = "soc", },
+	{ .compatible = "soc", },
+	{ .compatible = "simple-bus", },
+	{ .compatible = "gianfar", },
+	{},
+};
+
+static int __init psc913x_board_publish_devices(void)
+{
+	return of_platform_bus_probe(NULL, psc913x_board_ids, NULL);
+}
+machine_device_initcall(psc9131_rdb, psc913x_board_publish_devices);
+
+/*
+ * Called very early, device-tree isn't unflattened
+ */
+static int __init psc9131_rdb_probe(void)
+{
+	unsigned long root = of_get_flat_dt_root();
+
+	if (of_flat_dt_is_compatible(root, "fsl,psc9131rdb"))
+		return 1;
+	return 0;
+}
+
+define_machine(psc9131_rdb) {
+	.name			= "PSC9131 RDB",
+	.probe			= psc9131_rdb_probe,
+	.setup_arch		= psc913x_board_setup_arch,
+	.init_IRQ		= psc913x_board_pic_init,
+	.get_irq		= mpic_get_irq,
+	.restart		= fsl_rstcr_restart,
+	.calibrate_decr		= generic_calibrate_decr,
+	.progress		= udbg_progress,
+};
-- 
1.7.0

