From 8bdf299983f49522b1d31f328d9264ccb9a19dab Mon Sep 17 00:00:00 2001
From: Jiang Bin <bin.jiang@windriver.com>
Date: Thu, 8 Dec 2011 13:50:17 +0800
Subject: [PATCH 33/92] psc9131rdb: modify eSPI in DTS

modify eSPI in DTS for new eSPI driver.

Signed-off-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/powerpc/boot/dts/psc9131rdb.dts |   19 +++++++++----------
 1 files changed, 9 insertions(+), 10 deletions(-)

diff --git a/arch/powerpc/boot/dts/psc9131rdb.dts b/arch/powerpc/boot/dts/psc9131rdb.dts
index 93bad96..ffd75d2 100644
--- a/arch/powerpc/boot/dts/psc9131rdb.dts
+++ b/arch/powerpc/boot/dts/psc9131rdb.dts
@@ -219,18 +219,17 @@
 				cell-index = <0>;
 				#address-cells = <1>;
 				#size-cells = <0>;
-				compatible = "fsl,espi";
+				compatible = "fsl,psc9131-espi", "fsl,mpc8536-espi";
 				reg = <0x7000 0x1000>;
 				interrupts = <22 0x2>;
 				interrupt-parent = <&mpic>;
-				espi,num-ss-bits = <4>;
+				fsl,espi-num-chipselects = <4>;
 				mode = "cpu";
 
 				flash@0 {
 					#address-cells = <1>;
 					#size-cells = <1>;
-					compatible = "fsl,espi-flash",
-							"spansion,s25sl12801";
+					compatible = "spansion,s25sl12801";
 					reg = <0>;
 					spi-max-frequency = <50000000>;
 
@@ -267,11 +266,11 @@
 				cell-index = <1>;
 				#address-cells = <1>;
 				#size-cells = <0>;
-				compatible = "fsl,espi";
+				compatible = "fsl,psc9131-espi", "fsl,mpc8536-espi";
 				reg = <0x6000 0x1000>;
 				interrupts = <23 0x2>;
 				interrupt-parent = <&mpic>;
-				espi,num-ss-bits = <4>;
+				fsl,espi-num-chipselects = <4>;
 				mode = "cpu";
 				rfphy0: ad9361_phy@0{
 					compatible = "fsl,espi-ad_phy","ad9361";
@@ -286,11 +285,11 @@
 				cell-index = <2>;
 				#address-cells = <1>;
 				#size-cells = <0>;
-				compatible = "fsl,espi";
+				compatible = "fsl,psc9131-espi", "fsl,mpc8536-espi";
 				reg = <0xe000 0x1000>;
 				interrupts = <24 0x2>;
 				interrupt-parent = <&mpic>;
-				espi,num-ss-bits = <4>;
+				fsl,espi-num-chipselects = <4>;
 				mode = "cpu";
 				status = "disabled";
 			};
@@ -299,11 +298,11 @@
 				cell-index = <3>;
 				#address-cells = <1>;
 				#size-cells = <0>;
-				compatible = "fsl,espi";
+				compatible = "fsl,psc9131-espi", "fsl,mpc8536-espi";
 				reg = <0xd000 0x1000>;
 				interrupts = <25 0x2>;
 				interrupt-parent = <&mpic>;
-				espi,num-ss-bits = <4>;
+				fsl,espi-num-chipselects = <4>;
 				mode = "cpu";
 				status = "disabled";
 			};
-- 
1.7.0

