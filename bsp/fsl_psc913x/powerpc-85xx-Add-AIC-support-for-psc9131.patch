From a3cbc09a99ecb73e05b1bcdfb0d5b17460038d04 Mon Sep 17 00:00:00 2001
From: Tiejun Chen <tiejun.chen@windriver.com>
Date: Tue, 15 Nov 2011 16:48:15 +0800
Subject: [PATCH 24/92] powerpc/85xx: Add AIC support for psc9131

Extracted from 913x_WUSDK_REL_0.4.tar.gz vendor drop.

Add AIC (Antenna Interface Controller) support to psc9131.
AIC register space is divided into following groups,
with each group having 128 registers:

1. Common registers: Common registers to all ADI/MAXIM lanes,
sniff block registers.

2. ADI lane registers: DMA, RF timer, framer register for ADI lane.
There are 3 ADI lanes, so we have 3 such groups.

3. MAXIM lane registers: DMA, RF timer, framer registers for Maxim
lane. There are three MAXIM lanes.

MAXIM lanes are not tested thats why this patch does not have
nodes for MAXIM lanes.

Signed-off-by: Pankaj Chauhan <pankaj.chauhan@freescale.com>
Integrated-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/powerpc/boot/dts/psc9131rdb.dts |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/psc9131rdb.dts b/arch/powerpc/boot/dts/psc9131rdb.dts
index 757e4bb..a375365 100644
--- a/arch/powerpc/boot/dts/psc9131rdb.dts
+++ b/arch/powerpc/boot/dts/psc9131rdb.dts
@@ -107,6 +107,36 @@
 			#size-cells = <1>;
 			device_type = "dsp";
 			ranges = <0x0 0xff600000 0x100000>;
+			aic@50000 {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				compatible = "fsl,aic";
+				ranges = <0x0 0x50000 0x800>;
+				reg = <0x50000 0x200>;
+				interrupt-parent = <&mpic>;
+				interrupts = <31 2>;
+				lane0: aiclane@200 {
+					reg = <0x200 0x200>;
+					lane_id = <0>;
+					interrupt-parent = <&mpic>;
+					interrupts = <45 2>;
+				};
+
+				lane1: aiclane@400 {
+					reg = <0x400 0x200>;
+					lane_id = <1>;
+					interrupt-parent = <&mpic>;
+					interrupts = <46 2>;
+				};
+
+				lane2: aiclane@600 {
+					reg = <0x600 0x200>;
+					lane_id = <2>;
+					interrupt-parent = <&mpic>;
+					interrupts = <47 2>;
+				};
+			};
+
 		};
 
 		e500@ff700000 {
-- 
1.7.0

