From 454fc7d41451d0e8e5daa73f97b7671d78d7685c Mon Sep 17 00:00:00 2001
From: Fei Wu <fei.wu@windriver.com>
Date: Fri, 21 May 2010 11:28:27 +0800
Subject: [PATCH 46/47] check the existing of the function before calling it

The issue is imported at fixing the coding style by mistake, fix it here.

Signed-off-by: Fei Wu <fei.wu@windriver.com>
---
 arch/arm/mach-bcmring/csp/gpiomux/gpiomux.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

diff --git a/arch/arm/mach-bcmring/csp/gpiomux/gpiomux.c b/arch/arm/mach-bcmring/csp/gpiomux/gpiomux.c
index e9856ca..e6f7382 100644
--- a/arch/arm/mach-bcmring/csp/gpiomux/gpiomux.c
+++ b/arch/arm/mach-bcmring/csp/gpiomux/gpiomux.c
@@ -453,10 +453,12 @@ gpiomux_rc_e gpiomux_requestGroup
 					return gpiomux_rc_ASSIGNED;	/* Pin function already assigned, exit */
 				}
 #endif
-				str = gInit.is_requested(pin);
-				if (gInit.is_requested && (str != NULL)) {
-					DBGPRINT("group=%d pin=%d ggpiomux_rc_CONFLICT - gInit.is_requested && (gInit.is_requested(pin) != NULL) \'%s\'\n", group, pin, str);
-					return gpiomux_rc_CONFLICT;	/* Pin already assigned externally, exit */
+				if (gInit.is_requested) {
+					str = gInit.is_requested(pin);
+					if (str != NULL) {
+						DBGPRINT("group=%d pin=%d ggpiomux_rc_CONFLICT - gInit.is_requested && (gInit.is_requested(pin) != NULL) \'%s\'\n", group, pin, str);
+						return gpiomux_rc_CONFLICT;	/* Pin already assigned externally, exit */
+					}
 				}
 			}
 
-- 
1.7.0.4

