From 6e58315b7e859855fad63ff3ffb14c74955b5a6e Mon Sep 17 00:00:00 2001
From: Fei Wu <fei.wu@windriver.com>
Date: Wed, 17 Mar 2010 19:39:27 +0800
Subject: [PATCH 30/47] adjust phys_offset

Adjust PHYS_OFFSET by 2M after ram base

The start address passed by ATAG_MEM has a 2M offset, so adjust
PHYS_OFFSET accordingly.

Signed-off-by: Fei Wu <fei.wu@windriver.com>
---
 arch/arm/mach-bcmring/include/mach/memory.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-bcmring/include/mach/memory.h b/arch/arm/mach-bcmring/include/mach/memory.h
index 86e70f9..b8fba0a 100644
--- a/arch/arm/mach-bcmring/include/mach/memory.h
+++ b/arch/arm/mach-bcmring/include/mach/memory.h
@@ -23,7 +23,7 @@
  * files.  Use virt_to_phys/phys_to_virt/__pa/__va instead.
  */
 
-#define PHYS_OFFSET CFG_GLOBAL_RAM_BASE
+#define PHYS_OFFSET (CFG_GLOBAL_RAM_BASE + 2*1024*1024)
 
 /*
  * Maximum DMA memory allowed is 14M
-- 
1.7.0.4

