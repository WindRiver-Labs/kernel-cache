From eef09a7ba6aff8878b6d595f9c83cac6a9c19e92 Mon Sep 17 00:00:00 2001
From: Wu Fei <fei.wu@windriver.com>
Date: Fri, 19 Mar 2010 11:16:19 +0800
Subject: [PATCH 42/47] ARM: 5764/1: bcmring: add oprofile pmu support

add oprofile pmu support for bcmring.

commit 8c5b0f9a85cd78e98123417a8e9d58857968ff13 upstream

Signed-off-by: Leo Hao Chen <leochen@broadcom.com>
Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
Integrated-by: Fei Wu <fei.wu@windriver.com>
---
 arch/arm/oprofile/op_model_v6.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/arm/oprofile/op_model_v6.c b/arch/arm/oprofile/op_model_v6.c
index fe58138..f7d2ec5 100644
--- a/arch/arm/oprofile/op_model_v6.c
+++ b/arch/arm/oprofile/op_model_v6.c
@@ -33,6 +33,9 @@ static int irqs[] = {
 #ifdef CONFIG_ARCH_OMAP2
 	3,
 #endif
+#ifdef CONFIG_ARCH_BCMRING
+	IRQ_PMUIRQ, /* for BCMRING, ARM PMU interrupt is 43 */
+#endif
 };
 
 static void armv6_pmu_stop(void)
-- 
1.7.0.4

