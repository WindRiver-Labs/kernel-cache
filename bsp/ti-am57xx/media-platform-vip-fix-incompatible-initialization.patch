From 5db7025cb9f8083acb136729310fe695771f3b97 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Sun, 20 Jul 2014 15:33:48 +0800
Subject: [PATCH 143/263] media: platform: vip: fix incompatible
 initialization

remove warning information when compiling

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/media/platform/ti-vps/vip.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

diff --git a/drivers/media/platform/ti-vps/vip.c b/drivers/media/platform/ti-vps/vip.c
index 6604a59..7ca71135 100644
--- a/drivers/media/platform/ti-vps/vip.c
+++ b/drivers/media/platform/ti-vps/vip.c
@@ -836,7 +836,7 @@ static void start_dma(struct vip_dev *dev, struct vip_buffer *buf)
 		dma_addr = vb2_dma_contig_plane_dma_addr(&buf->vb, 0);
 		drop_data = 0;
 	} else {
-		dma_addr = NULL;
+		dma_addr = (dma_addr_t)NULL;
 		drop_data = 1;
 	}
 
@@ -1046,12 +1046,12 @@ static int vip_g_std(struct file *file, void *fh, v4l2_std_id *std)
 	return 0;
 }
 
-static int vip_s_std(struct file *file, void *fh, v4l2_std_id *std)
+static int vip_s_std(struct file *file, void *fh, v4l2_std_id std)
 {
 	struct vip_stream *stream = file2stream(file);
 	struct vip_dev *dev = stream->port->dev;
 
-	v4l2_subdev_call(dev->sensor, video, s_std_output, *std);
+	v4l2_subdev_call(dev->sensor, video, s_std_output, std);
 	return 0;
 }
 
@@ -1210,7 +1210,8 @@ static void set_fmt_params(struct vip_stream *stream)
 		vip_set_slice_path(dev, VIP_RGB_OUT_LO_DATA_SELECT);
 		/* Set alpha component in background color */
 		vpdma_set_bg_color(dev->shared->vpdma,
-			stream->port->fmt->vpdma_fmt[0], 0xff);
+		(struct vpdma_data_format *)stream->port->fmt->vpdma_fmt[0],
+		 0xff);
 	}
 }
 
@@ -1345,7 +1346,7 @@ static int vip_s_selection(struct file *file, void *fh,
 }
 
 static long vip_ioctl_default(struct file *file, void *fh, bool valid_prio,
-			      int cmd, void *arg)
+			      unsigned int cmd, void *arg)
 {
 	switch (cmd) {
 	default:
@@ -1666,6 +1667,7 @@ static int vip_setup_parser(struct vip_port *port)
 
 	vip_set_data_interface(port, iface);
 	vip_sync_type(port, sync_type);
+	return 0;
 }
 
 static int vip_init_port(struct vip_port *port)
-- 
1.7.5.4

