From 01f85b7b5593375b32168a524e1aba4214f1604a Mon Sep 17 00:00:00 2001
From: Zhong Hongbo <hongbo.zhong@windriver.com>
Date: Thu, 15 Aug 2013 16:24:45 +0800
Subject: [PATCH] fsl_imx6: Fix build fail to disable cpufreq

Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/mach-mx6/cpu.c     |    2 +-
 arch/arm/plat-mxc/cpufreq.c |    3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-mx6/cpu.c b/arch/arm/mach-mx6/cpu.c
index fe80387..87c382f 100644
--- a/arch/arm/mach-mx6/cpu.c
+++ b/arch/arm/mach-mx6/cpu.c
@@ -32,7 +32,7 @@
 #include "crm_regs.h"
 #include "cpu_op-mx6.h"
 
-extern struct cpu_op *(*get_cpu_op)(int *op);
+struct cpu_op *(*get_cpu_op)(int *op);
 bool enable_wait_mode = true;
 u32 enable_ldo_mode = LDO_MODE_DEFAULT;
 u32 arm_max_freq = CPU_AT_1_2GHz;
diff --git a/arch/arm/plat-mxc/cpufreq.c b/arch/arm/plat-mxc/cpufreq.c
index ac53c27..3f170eb 100644
--- a/arch/arm/plat-mxc/cpufreq.c
+++ b/arch/arm/plat-mxc/cpufreq.c
@@ -34,8 +34,6 @@
 #define CLK32_FREQ	32768
 #define NANOSECOND	(1000 * 1000 * 1000)
 
-struct cpu_op *(*get_cpu_op)(int *op);
-
 static int cpu_freq_khz_min;
 static int cpu_freq_khz_max;
 
@@ -52,6 +50,7 @@ extern struct regulator *cpu_regulator;
 extern struct regulator *soc_regulator;
 extern struct regulator *pu_regulator;
 extern int dvfs_core_is_active;
+extern struct cpu_op *(*get_cpu_op)(int *op);
 extern void bus_freq_update(struct clk *clk, bool flag);
 extern void mx6_arm_regulator_bypass(void);
 extern void mx6_soc_pu_regulator_bypass(void);
-- 
1.7.5.4

