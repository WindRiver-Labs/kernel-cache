From 9c3581bc24c08e68b7dbea5f7643971c87dc7c55 Mon Sep 17 00:00:00 2001
From: ganyong <ganyong@lijian-ubuntu-dev.(none)>
Date: Wed, 28 Aug 2013 14:31:36 +0800
Subject: [PATCH 0575/1072] ENGR00276705 Fix build error for wayland driver in
 Yocto environment

git://git.freescale.com/imx/linux-2.6-imx.git imx_3.10.17_1.0.0_beta
commit 97d245415ef36a45c3446eee6ce9b982c52c8621

Update the macro gcmPROFILE_DECLARE_ONLY to fix Werror(unused-local-typedefs)
when gcdENABLE_PROFILING is not enabled.

Signed-off-by Yong Gan <B45748@freescale.com>

Signed-off-by: Hongbo Zhong <hongbo.zhong@windriver.com>
---
 drivers/mxc/gpu-viv/hal/kernel/inc/gc_hal_base.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)
 mode change 100644 => 100755 drivers/mxc/gpu-viv/hal/kernel/inc/gc_hal_base.h

diff --git a/drivers/mxc/gpu-viv/hal/kernel/inc/gc_hal_base.h b/drivers/mxc/gpu-viv/hal/kernel/inc/gc_hal_base.h
old mode 100644
new mode 100755
index 44689b0..926de6e
--- a/drivers/mxc/gpu-viv/hal/kernel/inc/gc_hal_base.h
+++ b/drivers/mxc/gpu-viv/hal/kernel/inc/gc_hal_base.h
@@ -1507,7 +1507,7 @@ gcoOS_QueryProfileTickRate(
 #   define gcmPROFILE_QUERY(start, ticks)   do { } while (gcvFALSE)
 #   define gcmPROFILE_ONLY(x)               do { } while (gcvFALSE)
 #   define gcmPROFILE_ELSE(x)               x
-#   define gcmPROFILE_DECLARE_ONLY(x)       typedef x
+#   define gcmPROFILE_DECLARE_ONLY(x)       do { } while (gcvFALSE) 
 #   define gcmPROFILE_DECLARE_ELSE(x)       x
 #endif
 
-- 
1.7.5.4

