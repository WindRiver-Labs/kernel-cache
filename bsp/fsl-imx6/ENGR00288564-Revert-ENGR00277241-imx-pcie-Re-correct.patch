From 4d949c05a0ca16ab80114fe0077caf70ff715b28 Mon Sep 17 00:00:00 2001
From: Richard Zhu <r65037@freescale.com>
Date: Thu, 7 Nov 2013 16:34:31 +0800
Subject: [PATCH 0354/1072] ENGR00288564 Revert "ENGR00277241 imx: pcie:
 Re-correct the pcie dts"

git://git.freescale.com/imx/linux-2.6-imx.git imx_3.10.17_1.0.0_beta
commit 2cc806ff067cef7c8d7e63f093ace6234d219819

switch to community upstreamed pcie driver.
Revert "ENGR00277241 imx: pcie: Re-correct the pcie dts"
This reverts commit 611f8d430690643f828ba94f8cab52e45bbfcca9.

Signed-off-by: Richard Zhu <r65037@freescale.com>
Signed-off-by: Hongbo Zhong <hongbo.zhong@windriver.com>
---
 arch/arm/boot/dts/imx6q.dtsi   |   18 ++++++++++++++++++
 arch/arm/boot/dts/imx6qdl.dtsi |   18 ------------------
 2 files changed, 18 insertions(+), 18 deletions(-)

diff --git a/arch/arm/boot/dts/imx6q.dtsi b/arch/arm/boot/dts/imx6q.dtsi
index b7c670b..019314f 100644
--- a/arch/arm/boot/dts/imx6q.dtsi
+++ b/arch/arm/boot/dts/imx6q.dtsi
@@ -144,6 +144,24 @@
 			status = "disabled";
 		};
 
+                pcie: pcie@01000000 {
+			compatible = "fsl,imx-pcie";
+			device_type = "pci";
+			reg = <0x01ffc000 0x4000>;
+			reg-names = "pcie_reg";
+			interrupts = <0 123 0x04>;
+			interrupt-names = "imx_pcie";
+			clocks = <&clks 144>, <&clks 189>, <&clks 211>, <&clks 212>;
+			clock-names = "pcie_axi", "pcie_ref", "pcie_bus_in", "pcie_bus_out";
+			#address-cells = <3>;
+			#size-cells = <2>;
+			ranges = <0x00000800 0 0x01f00000 0x01f00000 0 0x00080000   /* configuration space */
+				  0x81000000 0 0	  0x01f80000 0 0x00010000   /* downstream I/O */
+				  0x82000000 0 0x01000000 0x01000000 0 0x00f00000>; /* non-prefetchable memory */
+			num-lanes = <1>;
+			status = "disabled";
+		};
+
 		aips-bus@02000000 { /* AIPS1 */
 			spba-bus@02000000 {
 				ecspi5: ecspi@02018000 {
diff --git a/arch/arm/boot/dts/imx6qdl.dtsi b/arch/arm/boot/dts/imx6qdl.dtsi
index 586c0a00..3e59327 100644
--- a/arch/arm/boot/dts/imx6qdl.dtsi
+++ b/arch/arm/boot/dts/imx6qdl.dtsi
@@ -122,24 +122,6 @@
 			interrupts = <0 94 0x04>;
 		};
 
-                pcie: pcie@01000000 {
-			compatible = "fsl,imx-pcie";
-			device_type = "pci";
-			reg = <0x01ffc000 0x4000>;
-			reg-names = "pcie_reg";
-			interrupts = <0 123 0x04>;
-			interrupt-names = "imx_pcie";
-			clocks = <&clks 144>, <&clks 189>, <&clks 211>, <&clks 212>;
-			clock-names = "pcie_axi", "pcie_ref", "pcie_bus_in", "pcie_bus_out";
-			#address-cells = <3>;
-			#size-cells = <2>;
-			ranges = <0x00000800 0 0x01f00000 0x01f00000 0 0x00080000   /* configuration space */
-				  0x81000000 0 0	  0x01f80000 0 0x00010000   /* downstream I/O */
-				  0x82000000 0 0x01000000 0x01000000 0 0x00f00000>; /* non-prefetchable memory */
-			num-lanes = <1>;
-			status = "disabled";
-		};
-
 		aips-bus@02000000 { /* AIPS1 */
 			compatible = "fsl,aips-bus", "simple-bus";
 			#address-cells = <1>;
-- 
1.7.5.4

