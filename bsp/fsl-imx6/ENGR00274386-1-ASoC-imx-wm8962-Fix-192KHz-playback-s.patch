From 842725985ef4c61512f92186396021a559c355bb Mon Sep 17 00:00:00 2001
From: Nicolin Chen <b42378@freescale.com>
Date: Thu, 8 Aug 2013 11:26:46 +0800
Subject: [PATCH 0504/1072] ENGR00274386-1 ASoC: imx-wm8962: Fix 192KHz
 playback slow issue

git://git.freescale.com/imx/linux-2.6-imx.git imx_3.10.17_1.0.0_beta
commit 49a3ca545a88cdf4aa597c4dd7d904b4faaea555

We are using auto sample rate feature of WM8962, whereas it doesn't
support those sample rates bigger than 96KHz, 192Khz for example,
so 384 * samplerate would be too big for it to handle. When playing
192KHz 24bit wav file, the playback would be slower than normal.

Acked-by: Wang Shengjiu <b02247@freescale.com>
Signed-off-by: Nicolin Chen <b42378@freescale.com>
Signed-off-by: Hongbo Zhong <hongbo.zhong@windriver.com>
---
 sound/soc/fsl/imx-wm8962.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/sound/soc/fsl/imx-wm8962.c b/sound/soc/fsl/imx-wm8962.c
index 1644c6c..de50026 100644
--- a/sound/soc/fsl/imx-wm8962.c
+++ b/sound/soc/fsl/imx-wm8962.c
@@ -83,7 +83,7 @@ static int imx_hifi_hw_params(struct snd_pcm_substream *substream,
 	}
 
 	if (sample_format == SNDRV_PCM_FORMAT_S24_LE)
-		pll_out = sample_rate * 384;
+		pll_out = sample_rate * 192;
 	else
 		pll_out = sample_rate * 256;
 
-- 
1.7.5.4

