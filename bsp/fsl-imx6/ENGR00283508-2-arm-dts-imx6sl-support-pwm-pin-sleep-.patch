From fe9dcab1c9ec9247b6f192c1be632c9c0c357c27 Mon Sep 17 00:00:00 2001
From: Anson Huang <b20788@freescale.com>
Date: Mon, 14 Oct 2013 15:07:51 -0400
Subject: [PATCH 0306/1072] ENGR00283508-2 arm: dts: imx6sl: support pwm pin
 sleep mode

git://git.freescale.com/imx/linux-2.6-imx.git imx_3.10.17_1.0.0_beta
commit 2527a3ea7887ff0b87693fa5f8116ce5f1d78959

As i.MX6SL EVK board is very sensitive to DSM power, so we
need to lower IO power of PWM pin:

MX6SL_PAD_PWM1__GPIO3_IO23

Signed-off-by: Anson Huang <b20788@freescale.com>
Signed-off-by: Hongbo Zhong <hongbo.zhong@windriver.com>
---
 arch/arm/boot/dts/imx6sl-evk.dts |    3 ++-
 arch/arm/boot/dts/imx6sl.dtsi    |    6 ++++++
 2 files changed, 8 insertions(+), 1 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sl-evk.dts b/arch/arm/boot/dts/imx6sl-evk.dts
index 1e40478..8d720a9 100644
--- a/arch/arm/boot/dts/imx6sl-evk.dts
+++ b/arch/arm/boot/dts/imx6sl-evk.dts
@@ -504,8 +504,9 @@
 };
 
 &pwm1 {
-	pinctrl-names = "default";
+	pinctrl-names = "default", "sleep";
 	pinctrl-0 = <&pinctrl_pwm1_0>;
+	pinctrl-1 = <&pinctrl_pwm1_0_sleep>;
 	status = "okay";
 };
 
diff --git a/arch/arm/boot/dts/imx6sl.dtsi b/arch/arm/boot/dts/imx6sl.dtsi
index 9a5ab00..d040ce3 100644
--- a/arch/arm/boot/dts/imx6sl.dtsi
+++ b/arch/arm/boot/dts/imx6sl.dtsi
@@ -1043,6 +1043,12 @@
 				MX6SL_PAD_PWM1__PWM1_OUT 0x110b0
 			>;
 		};
+
+		pinctrl_pwm1_0_sleep: pwm1grp-0-sleep {
+			fsl,pins = <
+				MX6SL_PAD_PWM1__GPIO3_IO23 0x3080
+			>;
+		};
 	};
 
 	spdif {
-- 
1.7.5.4

