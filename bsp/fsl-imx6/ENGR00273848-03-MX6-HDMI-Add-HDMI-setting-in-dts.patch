From 14bfc54f554da38bc2f0dd24233047e539cb16e4 Mon Sep 17 00:00:00 2001
From: Sandor Yu <R01008@freescale.com>
Date: Mon, 5 Aug 2013 16:18:07 +0800
Subject: [PATCH 0080/1072] ENGR00273848-03 MX6 HDMI: Add HDMI setting in dts

git://git.freescale.com/imx/linux-2.6-imx.git imx_3.10.17_1.0.0_beta
commit 15daf690d213ceb1bc3e3b68213d9842e6b715b0

Add HDMI core and video driver dts
for MX6Q/DL SabreSD board.

Signed-off-by: Sandor Yu <R01008@freescale.com>
Signed-off-by: Hongbo Zhong <hongbo.zhong@windriver.com>
---
 arch/arm/boot/dts/imx6dl.dtsi          |   25 +++++++++++++++++++++++++
 arch/arm/boot/dts/imx6q.dtsi           |   25 +++++++++++++++++++++++++
 arch/arm/boot/dts/imx6qdl-sabresd.dtsi |   26 ++++++++++++++++++++++++++
 3 files changed, 76 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6dl.dtsi b/arch/arm/boot/dts/imx6dl.dtsi
index 5db92d2..507cd6c 100644
--- a/arch/arm/boot/dts/imx6dl.dtsi
+++ b/arch/arm/boot/dts/imx6dl.dtsi
@@ -56,6 +56,31 @@
 			clocks = <&clks 142>;
 		};
 
+		hdmi_core: hdmi_core@00120000 {
+			compatible = "fsl,imx6dl-hdmi-core";
+			ipu_id = <0>;
+			disp_id = <0>;
+			reg = <0x00120000 0x9000>;
+			reg-names = "hdmi_regs";
+			clocks = <&clks 124>, <&clks 123>;
+			clock-names = "hdmi_isfr", "hdmi_iahb";
+			status = "okay";
+		};
+
+		hdmi_video: hdmi_video@00120000 {
+			compatible = "fsl,imx6dl-hdmi-video";
+			reg = <0x020E0000 0x1000>;
+			reg-names = "hdmi_gpr";
+			interrupts = <0 115 0x04>;
+			clocks = <&clks 124>, <&clks 123>;
+			clock-names = "hdmi_isfr", "hdmi_iahb";
+		};
+
+		hdmi_cec: hdmi_cec@00120000 {
+			compatible = "fsl,imx6dl-hdmi-cec";
+			interrupts = <0 116 0x04>;
+		};
+
 		aips1: aips-bus@02000000 {
 			iomuxc: iomuxc@020e0000 {
 				compatible = "fsl,imx6dl-iomuxc";
diff --git a/arch/arm/boot/dts/imx6q.dtsi b/arch/arm/boot/dts/imx6q.dtsi
index fcc1940..2d18bf3 100644
--- a/arch/arm/boot/dts/imx6q.dtsi
+++ b/arch/arm/boot/dts/imx6q.dtsi
@@ -89,6 +89,31 @@
 			clocks = <&clks 142>;
 		};
 
+		hdmi_core: hdmi_core@00120000 {
+			compatible = "fsl,imx6q-hdmi-core";
+			ipu_id = <0>;
+			disp_id = <0>;
+			reg = <0x00120000 0x9000>;
+			reg-names = "hdmi_regs";
+			clocks = <&clks 124>, <&clks 123>;
+			clock-names = "hdmi_isfr", "hdmi_iahb";
+			status = "okay";
+		};
+
+		hdmi_video: hdmi_video@00120000 {
+			compatible = "fsl,imx6q-hdmi-video";
+			reg = <0x020E0000 0x1000>;
+			reg-names = "hdmi_gpr";
+			interrupts = <0 115 0x04>;
+			clocks = <&clks 124>, <&clks 123>;
+			clock-names = "hdmi_isfr", "hdmi_iahb";
+		};
+
+		hdmi_cec: hdmi_cec@00120000 {
+			compatible = "fsl,imx6q-hdmi-cec";
+			interrupts = <0 116 0x04>;
+		};
+
 		aips-bus@02000000 { /* AIPS1 */
 			spba-bus@02000000 {
 				ecspi5: ecspi@02018000 {
diff --git a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
index 267ebe6..09f9bed 100644
--- a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
@@ -197,6 +197,18 @@
        };
 };
 
+&i2c2 {
+	clock-frequency = <100000>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_i2c2_2>;
+	status = "okay";
+
+	hdmi: edid@50 {
+		compatible = "fsl,imx6-hdmi-i2c";
+		reg = <0x50>;
+	};
+};
+
 &iomuxc {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_hog>;
@@ -270,3 +282,17 @@
 	wp-gpios = <&gpio2 1 0>;
 	status = "okay";
 };
+
+&hdmi_video {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_hdmi_hdcp_1>;
+	phy_reg_vlev = <0x0294>;
+	phy_reg_cksymtx = <0x800d>;
+	status = "okay";
+};
+
+&hdmi_cec {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_hdmi_cec_2>;
+	status = "okay";
+};
-- 
1.7.5.4

