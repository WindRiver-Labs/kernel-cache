From a0325a1de83b8304fe61223a1fdcf51a34f192a4 Mon Sep 17 00:00:00 2001
From: Robby Cai <R63905@freescale.com>
Date: Thu, 29 Aug 2013 13:55:13 +0800
Subject: [PATCH 0182/1072] ENGR00277223-2 ARM: dts: add elan touch support

git://git.freescale.com/imx/linux-2.6-imx.git imx_3.10.17_1.0.0_beta
commit 8bebf871fe757043e6c32f1dbb6d58cf271fc7e1

Add ELAN touch support for imx6 duallite sabresd board and
imx6 sololite evk board.

Note: Need 4.7K Ohm pull up on 'touch_int_b'.

Signed-off-by: Robby Cai <R63905@freescale.com>
Signed-off-by: Hongbo Zhong <hongbo.zhong@windriver.com>
---
 arch/arm/boot/dts/imx6dl-sabresd.dts   |    4 ++++
 arch/arm/boot/dts/imx6qdl-sabresd.dtsi |   11 +++++++++++
 arch/arm/boot/dts/imx6sl-evk.dts       |   14 ++++++++++++++
 3 files changed, 29 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6dl-sabresd.dts b/arch/arm/boot/dts/imx6dl-sabresd.dts
index a9989b0..224b328 100644
--- a/arch/arm/boot/dts/imx6dl-sabresd.dts
+++ b/arch/arm/boot/dts/imx6dl-sabresd.dts
@@ -104,6 +104,10 @@
 				MX6QDL_PAD_EIM_D20__GPIO3_IO20 0x80000000
 				MX6QDL_PAD_EIM_A18__GPIO2_IO20 0x80000000
 				MX6QDL_PAD_EIM_OE__GPIO2_IO25 0x80000000
+				/* elan touch */
+				MX6QDL_PAD_EIM_A20__GPIO2_IO18 0x80000000
+				MX6QDL_PAD_EIM_DA8__GPIO3_IO08 0x80000000
+				MX6QDL_PAD_EIM_D28__GPIO3_IO28 0x170b0
 			>;
 		};
 	};
diff --git a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
index fffc19f..16b683c 100644
--- a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
@@ -444,6 +444,17 @@
 		interrupts = <16 2>;
 	};
 
+	elan@10 {
+		compatible = "elan,elan-touch";
+		reg = <0x10>;
+		interrupt-parent = <&gpio3>;
+		interrupts = <28 3>;
+		gpio_elan_cs = <&gpio2 18 0>;
+		gpio_elan_rst = <&gpio3 8 0>;
+		gpio_intr = <&gpio3 28 0>;
+		status = "okay";
+	};
+
 	isl29023@44 {
 		compatible = "fsl,isl29023";
 		reg = <0x44>;
diff --git a/arch/arm/boot/dts/imx6sl-evk.dts b/arch/arm/boot/dts/imx6sl-evk.dts
index 523819b..bfed6ff 100644
--- a/arch/arm/boot/dts/imx6sl-evk.dts
+++ b/arch/arm/boot/dts/imx6sl-evk.dts
@@ -68,6 +68,17 @@
 	pinctrl-0 = <&pinctrl_i2c1_1>;
 	status = "okay";
 
+	elan@10 {
+		compatible = "elan,elan-touch";
+		reg = <0x10>;
+		interrupt-parent = <&gpio2>;
+		interrupts = <10 2>;
+		gpio_elan_cs = <&gpio2 9 0>;
+		gpio_elan_rst = <&gpio4 4 0>;
+		gpio_intr = <&gpio2 10 0>;
+		status = "okay";
+	};
+
 	max17135@48 {
 		compatible = "maxim,max17135";
 		reg = <0x48>;
@@ -173,6 +184,9 @@
 				MX6SL_PAD_EPDC_PWRCTRL0__GPIO2_IO07 0x80000000
 				MX6SL_PAD_EPDC_PWRWAKEUP__GPIO2_IO14 0x80000000
 				MX6SL_PAD_EPDC_PWRINT__GPIO2_IO12 0x80000000
+				MX6SL_PAD_EPDC_PWRCTRL3__GPIO2_IO10 0x170b0
+				MX6SL_PAD_EPDC_PWRCTRL2__GPIO2_IO09 0x80000000
+				MX6SL_PAD_KEY_COL6__GPIO4_IO04 0x80000000
 			>;
 		};
 	};
-- 
1.7.5.4

