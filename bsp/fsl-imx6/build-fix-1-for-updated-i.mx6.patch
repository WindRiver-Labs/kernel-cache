From 273a05c4b7bedc3712bb6a35976d738bed6c8313 Mon Sep 17 00:00:00 2001
From: Liang Li <liang.li@windriver.com>
Date: Thu, 25 Jul 2013 16:57:00 +0800
Subject: [PATCH 1/2] build fix #1 for updated i.mx6

When CONFIG_FEC from 'y' to 'm', the fix is needed. And this fix
should be squashed into below commit on standard/fsl-imx6:

[
Author: Zhong Hongbo <hongbo.zhong@windriver.com>
Date:   Wed Jun 19 15:49:15 2013 +0800

    fsl_imx6q: Update ethernet driver for mx6q

    Source: Extract from vendor-drop package, L3.0.35_4.0.0_130424_source.tar.gz

    Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
]

Signed-off-by: Liang Li <liang.li@windriver.com>
---
 drivers/net/ethernet/freescale/fec_1588.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

diff --git a/drivers/net/ethernet/freescale/fec_1588.c b/drivers/net/ethernet/freescale/fec_1588.c
index 74fa168..597e131 100644
--- a/drivers/net/ethernet/freescale/fec_1588.c
+++ b/drivers/net/ethernet/freescale/fec_1588.c
@@ -198,6 +198,7 @@ int fec_ptp_start(struct fec_ptp_private *priv)
 
 	return 0;
 }
+EXPORT_SYMBOL(fec_ptp_start);
 
 /* Cleanup routine for 1588 module.
  * When PTP is disabled this routing is called */
@@ -210,6 +211,7 @@ void fec_ptp_stop(struct fec_ptp_private *priv)
 	priv->ptp_active = 0;
 	priv->ptp_slave = 0;
 }
+EXPORT_SYMBOL(fec_ptp_stop);
 
 static void fec_get_curr_cnt(struct fec_ptp_private *priv,
 			struct ptp_rtc_time *curr_time)
@@ -357,6 +359,7 @@ int fec_ptp_do_txstamp(struct sk_buff *skb)
 
 	return 0;
 }
+EXPORT_SYMBOL(fec_ptp_do_txstamp);
 
 void fec_ptp_store_txstamp(struct fec_ptp_private *priv,
 			   struct sk_buff *skb,
@@ -401,6 +404,7 @@ void fec_ptp_store_txstamp(struct fec_ptp_private *priv,
 		fec_ptp_insert(&(priv->tx_timestamps), &tmp_tx_time);
 	}
 }
+EXPORT_SYMBOL(fec_ptp_store_txstamp);
 
 void fec_ptp_store_rxstamp(struct fec_ptp_private *priv,
 			   struct sk_buff *skb,
@@ -446,6 +450,7 @@ void fec_ptp_store_rxstamp(struct fec_ptp_private *priv,
 		fec_ptp_insert(&(fpp->rx_timestamps), &tmp_rx_time);
 	}
 }
+EXPORT_SYMBOL(fec_ptp_store_rxstamp);
 
 static uint8_t fec_get_tx_timestamp(struct fec_ptp_private *priv,
 				    struct fec_ptp_ts_data *pts,
@@ -627,6 +632,7 @@ int fec_ptp_ioctl(struct fec_ptp_private *priv, struct ifreq *ifr, int cmd)
 	}
 	return retval;
 }
+EXPORT_SYMBOL(fec_ptp_ioctl);
 
 /*
  * Resource required for accessing 1588 Timer Registers.
-- 
1.7.5.4

