From b94dee7f0e742fcb857a52ba431d1b87f3110ff8 Mon Sep 17 00:00:00 2001
From: Luwei Zhou <b45643@freescale.com>
Date: Fri, 23 Aug 2013 17:59:33 +0800
Subject: [PATCH 0153/1072] ENGR00276511 dts: Add mag3110 dts support on
 i.MX6Q/DL SD/AUTO

git://git.freescale.com/imx/linux-2.6-imx.git imx_3.10.17_1.0.0_beta
commit 3dd3338aee3a75b5d503478cea013065017cbdc5

Add mag3110 dts support on i.MX6Q/DL SD/AUTO

Signed-off-by: Luwei Zhou <b45643@freescale.com>
Signed-off-by: Hongbo Zhong <hongbo.zhong@windriver.com>
---
 arch/arm/boot/dts/imx6qdl-sabreauto.dtsi |    9 +++++++++
 arch/arm/boot/dts/imx6qdl-sabresd.dtsi   |   11 +++++++++++
 2 files changed, 20 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi b/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
index 9772979..4c09d0a 100644
--- a/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
@@ -196,6 +196,14 @@
 		reg = <0x1c>;
 		position = <3>;
 	};
+
+	mag3110@0e {
+		compatible = "fsl,mag3110";
+		reg = <0x0e>;
+		position = <2>;
+		interrupt-parent = <&gpio2>;
+		interrupts = <29 2>;
+	};
 };
 
 &iomuxc {
@@ -210,6 +218,7 @@
 				MX6QDL_PAD_EIM_A24__GPIO5_IO04   0x80000000
 				MX6QDL_PAD_SD2_DAT0__GPIO1_IO15  0x80000000
 				MX6QDL_PAD_EIM_EB0__GPIO2_IO28   0x80000000
+				MX6QDL_PAD_EIM_EB1__GPIO2_IO29	0x80000000
 			>;
 		};
 	};
diff --git a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
index d9e60c8..96341e0 100644
--- a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
@@ -400,6 +400,16 @@
                 interrupts = <7 2>;
                 wakeup-gpios = <&gpio6 7 0>;
         };
+
+	mag3110@0e {
+		compatible = "fsl,mag3110";
+		reg = <0x0e>;
+		position = <2>;
+		vdd-supply = <&reg_sensor>;
+		vddio-supply = <&reg_sensor>;
+		interrupt-parent = <&gpio3>;
+		interrupts = <16 2>;
+	};
 };
 
 &iomuxc {
@@ -430,6 +440,7 @@
 				MX6QDL_PAD_NANDF_CS0__GPIO6_IO11 0x80000000
 				MX6QDL_PAD_NANDF_CS1__GPIO6_IO14 0x80000000
 				MX6QDL_PAD_EIM_EB3__GPIO2_IO31 0x80000000
+				MX6QDL_PAD_EIM_D16__GPIO3_IO16 0x80000000
 			>;
 		};
 	};
-- 
1.7.5.4

