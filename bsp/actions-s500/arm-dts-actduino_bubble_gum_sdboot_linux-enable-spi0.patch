From fceb04494a6af54ad01f29a4478510971a794aee Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Mon, 24 Apr 2017 13:06:42 +0800
Subject: [PATCH 2/4] arm: dts: actduino_bubble_gum_sdboot_linux: enable spi0
 node to offer a SPI device node for user space
 application

There is RF module that connects with SoC SPI0 interface, so enable
spi0 node to offer SPI device node for application to communicate
with RF module.

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 .../boot/dts/actduino_bubble_gum_sdboot_linux.dts  |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

diff --git a/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts b/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts
index 07d6eaf..58a4ab1 100755
--- a/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts
+++ b/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts
@@ -363,6 +363,13 @@
 			};
 		};	
 
+		spi0_state_tc1101: spi0_tc1101 {
+			spi0_mfp {
+				actions,groups = "mfp1_9_7", "mfp1_20_19", "mfp1_18_17";
+				actions,function = "spi0";
+			};
+		};
+
 		spi2_state_default: spi2_default {
 			spi2_mfp {
 				actions,groups = "mfp3_2";
@@ -889,7 +896,14 @@
 	};
 
 	spi@b0200000 {
-		status = "disabled";
+		status = "okay";
+		pinctrl-names = "default";
+		pinctrl-0 = <&spi0_state_tc1101>;
+		rf: tc1101@0 {
+			compatible = "rohm,dh2228fv";
+			reg = <0>;
+			spi-max-frequency = <10000000>;
+		};
 	};
 
 	spi@b0204000 {
-- 
1.7.5.4

