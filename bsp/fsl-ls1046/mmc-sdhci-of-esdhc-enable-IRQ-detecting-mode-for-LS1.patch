From 2872900bd67f13f99764fa79578a8d61d9f2f5a4 Mon Sep 17 00:00:00 2001
From: Mingkai Hu <mingkai.hu@nxp.com>
Date: Wed, 1 Jun 2016 14:52:44 +0800
Subject: [PATCH 1/2] mmc: sdhci-of-esdhc: enable IRQ detecting mode for
 LS1046A

Signed-off-by: Mingkai Hu <mingkai.hu@nxp.com>
Signed-off-by: Shaohui Xie <Shaohui.Xie@nxp.com>
[zou:Original patch taken from QorIQ Linux SDK v2.0-1703]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/mmc/host/sdhci-of-esdhc.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/drivers/mmc/host/sdhci-of-esdhc.c b/drivers/mmc/host/sdhci-of-esdhc.c
index 8774f17..ef1d527 100644
--- a/drivers/mmc/host/sdhci-of-esdhc.c
+++ b/drivers/mmc/host/sdhci-of-esdhc.c
@@ -1053,7 +1053,8 @@ static int sdhci_esdhc_probe(struct platform_device *pdev)
 	    of_device_is_compatible(np, "fsl,ls1021a-esdhc") ||
 	    of_device_is_compatible(np, "fsl,ls2080a-esdhc") ||
 	    of_device_is_compatible(np, "fsl,ls2085a-esdhc") ||
-	    of_device_is_compatible(np, "fsl,ls1043a-esdhc"))
+	    of_device_is_compatible(np, "fsl,ls1043a-esdhc") ||
+	    of_device_is_compatible(np, "fsl,ls1046a-esdhc"))
 		host->quirks &= ~SDHCI_QUIRK_BROKEN_CARD_DETECTION;
 
 	if (of_device_is_compatible(np, "fsl,ls1021a-esdhc"))
-- 
1.7.5.4

