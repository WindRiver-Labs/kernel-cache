From ddd0cfe579c0a77d6b9728c458ccb619a96b342c Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Thu, 28 Jul 2016 16:24:06 +0800
Subject: [PATCH 7/8] dpaa_eth: fix the wrong phandle to find proxy

The phandle of the node should be bit-exchanged before being used.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../ethernet/freescale/sdk_dpaa/dpaa_eth_macless.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_macless.c b/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_macless.c
index e0faecc..914056e 100644
--- a/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_macless.c
+++ b/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_macless.c
@@ -280,7 +280,7 @@ dpa_macless_proxy_probe(struct platform_device *_of_dev)
 	if (!proxy_prop)
 		return NULL;
 
-	proxy_node = of_find_node_by_phandle(*proxy_prop);
+	proxy_node = of_find_node_by_phandle(be32_to_cpup(proxy_prop));
 	if (!proxy_node) {
 		dev_err(dev, "Cannot find proxy node\n");
 		return NULL;
-- 
1.7.5.4

