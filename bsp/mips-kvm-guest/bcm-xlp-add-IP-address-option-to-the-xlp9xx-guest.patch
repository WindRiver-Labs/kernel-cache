From b0f20040dadceac109b730f4791f1794de3816e5 Mon Sep 17 00:00:00 2001
From: Nam Ninh <nam.ninh@windriver.com>
Date: Mon, 19 Jan 2015 17:24:53 -0500
Subject: [PATCH] bcm-xlp: add IP address option to the xlp9xx guest

qemu-ifup was added to qemu to bring up the tap interface on
KVM host with IP address 10.0.2.2. This patch adds "ip=10.0.2.3"
option to the guest bootargs to bring up the virtio net on the
guest completely.

Signed-off-by: Nam Ninh <nam.ninh@windriver.com>

diff --git a/arch/mips/boot/dts/xlp9xx-linux-guest.dts b/arch/mips/boot/dts/xlp9xx-linux-guest.dts
index 1a41b36..4a691b7 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-guest.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-guest.dts
@@ -82,7 +82,7 @@
 
 	chosen {
 		netlogic,cpumask = <0xffff>;
-		bootargs = " console=ttyS0,115200 clocksource=TSC rhash_entries=1048576 selinux=0 enforcing=0";
+		bootargs = " console=ttyS0,115200 clocksource=TSC rhash_entries=1048576 ip=10.0.2.3 selinux=0 enforcing=0";
 		linux,initrd-start=<0x0>;
 		linux,initrd-end=<0x0>;
 	};
-- 
1.7.1

