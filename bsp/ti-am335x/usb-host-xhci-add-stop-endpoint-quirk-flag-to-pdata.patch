From 4aa01a867bccd58d1645174419cfbf89967f6e30 Mon Sep 17 00:00:00 2001
From: Felipe Balbi <balbi@ti.com>
Date: Wed, 11 Nov 2015 08:26:42 -0600
Subject: [PATCH 724/800] usb: host: xhci: add stop endpoint quirk flag to
 pdata

Let platform_data users pass stop endpoint flag to
xhci driver.

Signed-off-by: Felipe Balbi <balbi@ti.com>
Acked-by: Sekhar Nori <nsekhar@ti.com>
Signed-off-by: Kishon Vijay Abraham I <kishon@ti.com>
[zou: Original patch taken from PROCESSOR-SDK-LINUX-AM335X 02_00_01_07]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 include/linux/usb/xhci_pdriver.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/include/linux/usb/xhci_pdriver.h b/include/linux/usb/xhci_pdriver.h
index 81b15ea..31cae59 100644
--- a/include/linux/usb/xhci_pdriver.h
+++ b/include/linux/usb/xhci_pdriver.h
@@ -18,11 +18,14 @@
  *
  * @usb3_lpm_capable:	determines if this xhci platform supports USB3
  *			LPM capability
+ * @quirk_broken_stop_endpoint_fsls_dev: If true, XHCI will not use Stop
+ *			Endpoint for FS/LS devices behind an HS hub.
  * @quirk_port_broken_pe: If true, XHCI will not use Port Disable.
  *
  */
 struct usb_xhci_pdata {
 	unsigned	usb3_lpm_capable:1;
+	unsigned	quirk_broken_stop_endpoint_fsls_dev:1;
 	unsigned	quirk_port_broken_pe:1;
 };
 
-- 
1.7.5.4

