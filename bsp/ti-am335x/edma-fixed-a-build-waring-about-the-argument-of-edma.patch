From 8dd46437dda30c8c2160adb61cf27a716477f453 Mon Sep 17 00:00:00 2001
From: czou <cao.zou@windriver.com>
Date: Tue, 17 May 2016 16:16:09 +0800
Subject: [PATCH] edma: fixed a build waring about the argument of
 edma_alloc_slot

There is a conflicts for commit df6694f80365 ("dmaengine: edma:
Optimize memcpy operation"), it will cuase a build warnings, here
fixed it, summary warning as follow:

drivers/dma/edma.c:613:37: warning: passing argument 1 of
'edma_alloc_slot'
makes integer from pointer without a cast [-Wint-conversion]
	echan->slot[1] = edma_alloc_slot(echan->ecc,

Signed-off-by: czou <cao.zou@windriver.com>
---
 drivers/dma/edma.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/drivers/dma/edma.c b/drivers/dma/edma.c
index 250bec2..1241ad8 100644
--- a/drivers/dma/edma.c
+++ b/drivers/dma/edma.c
@@ -610,8 +610,9 @@ static struct dma_async_tx_descriptor *edma_prep_dma_memcpy(
 		edesc->pset[0].param.opt |= TCCHEN;
 
 		if (echan->slot[1] < 0) {
-			echan->slot[1] = edma_alloc_slot(echan->ecc,
-							 EDMA_SLOT_ANY);
+			echan->slot[1] =
+				edma_alloc_slot(EDMA_CTLR(echan->ch_num),
+						EDMA_SLOT_ANY);
 			if (echan->slot[1] < 0) {
 				kfree(edesc);
 				dev_err(dev, "%s: Failed to allocate slot\n",
-- 
1.7.5.4

