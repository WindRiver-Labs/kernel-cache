From 5f8f15af193526fd9bc4020aeea0ad4f180a2f26 Mon Sep 17 00:00:00 2001
From: Nishanth Menon <nm@ti.com>
Date: Wed, 29 Jan 2014 18:46:42 -0600
Subject: [PATCH 157/188] ARM: OMAP2+: add missing ARCH_HAS_OPP

This commit comes from branch ti-linux-3.12.y:
  git://git.ti.com/ti-linux-kernel/ti-linux-kernel.git

OMAP5, DRA7, AM43xx all have OPPs. So select the same to allow SoC
only configuration boot to work with OPP.

Reported-by: Nikhil Devshatwar <nikhil.nd@ti.com>
Signed-off-by: Nishanth Menon <nm@ti.com>
(cherry picked from commit 9b806d805b9c422465859dd64f94b954c7a84b08)
---
 arch/arm/mach-omap2/Kconfig |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-omap2/Kconfig b/arch/arm/mach-omap2/Kconfig
index bf2a66a..c9b6130 100644
--- a/arch/arm/mach-omap2/Kconfig
+++ b/arch/arm/mach-omap2/Kconfig
@@ -53,6 +53,7 @@ config SOC_OMAP5
 	bool "TI OMAP5"
 	depends on ARCH_MULTI_V7
 	select ARCH_OMAP2PLUS
+	select ARCH_HAS_OPP
 	select ARM_CPU_SUSPEND if PM
 	select ARM_GIC
 	select CPU_V7
@@ -76,6 +77,7 @@ config SOC_AM33XX
 	select OMAP_MBOX_FWK if PM
 	select OMAP2PLUS_MBOX if PM
 	select RESET_TI
+	select ARCH_HAS_OPP
 
 config SOC_AM43XX
 	bool "TI AM43x"
@@ -90,6 +92,7 @@ config SOC_AM43XX
 	select MIGHT_HAVE_CACHE_L2X0
 	select ARCH_HAS_RESET_CONTROLLER
 	select RESET_TI
+	select ARCH_HAS_OPP
 
 config ARCH_OMAP2PLUS
 	bool
@@ -155,6 +158,7 @@ config SOC_DRA7XX
 	select RESET_TI
 	select PCI
 	select ARM_ERRATA_799270
+	select ARCH_HAS_OPP
 
 comment "OMAP Core Type"
 	depends on ARCH_OMAP2
-- 
1.7.5.4

