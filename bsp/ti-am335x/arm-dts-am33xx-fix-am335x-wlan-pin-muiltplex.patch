From d81423536d47df291bc4ad70306e7c1dd684bed7 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Fri, 7 Mar 2014 11:26:34 +0800
Subject: [PATCH 183/188] arm: dts: am33xx: fix am335x wlan pin muiltplex

This patch is to keep uart1 ctsn/rtsn right setting for wlan0.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/boot/dts/am335x-evm.dts     |    6 +++---
 include/dt-bindings/pinctrl/am33xx.h |    4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/arm/boot/dts/am335x-evm.dts b/arch/arm/boot/dts/am335x-evm.dts
index 459f754..c0a5f78 100644
--- a/arch/arm/boot/dts/am335x-evm.dts
+++ b/arch/arm/boot/dts/am335x-evm.dts
@@ -75,8 +75,8 @@
 
 		uart1_pins_default: pinmux_uart1_pins_default {
 			pinctrl-single,pins = <
-				0x178 (PIN_INPUT | MUX_MODE0)			/* uart1_ctsn.uart1_ctsn */
-				0x17C (PIN_OUTPUT_PULLDOWN | MUX_MODE0)	/* uart1_rtsn.uart1_rtsn */
+				0x178 (PIN_OUTPUT | MUX_MODE0)			/* uart1_ctsn.uart1_ctsn */
+				0x17C (PIN_INPUT | MUX_MODE0)	/* uart1_rtsn.uart1_rtsn */
 				0x180 (PIN_INPUT_PULLUP | MUX_MODE0)	/* uart1_rxd.uart1_rxd */
 				0x184 (PIN_OUTPUT_PULLDOWN | MUX_MODE0) 	/* uart1_txd.uart1_txd */
 			>;
@@ -327,7 +327,7 @@
 		wlan_pins: pinmux_wlan_pins {
 			pinctrl-single,pins = <
 				0x40 0x07	/* gpmc_a0.gpio1_16, OUTPUT | MODE7 */
-				0x19C 0x27	/* mcasp0_ahclkr.gpio3_17, INPUT | MODE7 */
+				0x19C 0x2f	/* mcasp0_ahclkr.gpio3_17, INPUT | MODE7 */
 				0x1AC 0x17	/* mcasp0_ahclkx.gpio3_21, OUTPUT_PULLUP | MODE7 */
 			>;
 		};
diff --git a/include/dt-bindings/pinctrl/am33xx.h b/include/dt-bindings/pinctrl/am33xx.h
index 2fbc804..0e2fd47 100644
--- a/include/dt-bindings/pinctrl/am33xx.h
+++ b/include/dt-bindings/pinctrl/am33xx.h
@@ -23,9 +23,9 @@
 #undef PIN_INPUT_PULLUP
 #undef PIN_INPUT_PULLDOWN
 
-#define PIN_OUTPUT		(PULL_DISABLE)
-#define PIN_OUTPUT_PULLUP	(PULL_UP)
+#define PIN_OUTPUT		0
 #define PIN_OUTPUT_PULLDOWN	0
+#define PIN_OUTPUT_PULLUP	(PULL_UP)
 #define PIN_INPUT		(INPUT_EN | PULL_DISABLE)
 #define PIN_INPUT_PULLUP	(INPUT_EN | PULL_UP)
 #define PIN_INPUT_PULLDOWN	(INPUT_EN)
-- 
1.7.5.4

