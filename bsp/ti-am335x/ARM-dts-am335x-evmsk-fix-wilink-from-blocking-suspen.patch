From 273a0e57bddd23f48579377a93140a885032bcd7 Mon Sep 17 00:00:00 2001
From: Sekhar Nori <nsekhar@ti.com>
Date: Mon, 26 Oct 2015 05:24:35 -0700
Subject: [PATCH 625/800] ARM: dts: am335x-evmsk: fix wilink from blocking
 suspend

wlcore driver requires the SDIO controller to support
keeping the card powered during suspend.

According to a comment in the driver,
this is required to workaround issues with power sequencing
and wlcore driver's preference is to control card power itself.

Without this patch,
AM335x EVM-SK refuses to suspend while wlcore driver is installed.

Signed-off-by: Sekhar Nori <nsekhar@ti.com>
Signed-off-by: Yaniv Machani <yanivma@ti.com>
[zou: Original patch taken from PROCESSOR-SDK-LINUX-AM335X 02_00_01_07]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm/boot/dts/am335x-evmsk.dts |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/am335x-evmsk.dts b/arch/arm/boot/dts/am335x-evmsk.dts
index 74d1943..361196a 100644
--- a/arch/arm/boot/dts/am335x-evmsk.dts
+++ b/arch/arm/boot/dts/am335x-evmsk.dts
@@ -686,6 +686,7 @@
 	ti,non-removable;
 	bus-width = <4>;
 	cap-power-off-card;
+	keep-power-in-suspend;
 	pinctrl-names = "default";
 	pinctrl-0 = <&mmc2_pins>;
 
-- 
1.7.5.4

