From ec7ac886086d866314fd74e713fcc54f8aa83f80 Mon Sep 17 00:00:00 2001
From: Dave Gerlach <d-gerlach@ti.com>
Date: Thu, 25 Jun 2015 12:41:16 -0500
Subject: [PATCH 206/800] ARM: OMAP2: pm33xx: Print out wakeup source name
 during resume

On resume from a low power transition make use of the new
wkup_m3_request_wake_src functionality in wkup_m3_ipc to print out the
name of the wake source.

Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
[zou: Original patch taken from PROCESSOR-SDK-LINUX-AM335X 02_00_01_07]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm/mach-omap2/pm33xx.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-omap2/pm33xx.c b/arch/arm/mach-omap2/pm33xx.c
index 4030806..d589a8d 100644
--- a/arch/arm/mach-omap2/pm33xx.c
+++ b/arch/arm/mach-omap2/pm33xx.c
@@ -67,6 +67,8 @@ static int am33xx_pm_suspend(suspend_state_t suspend_state)
 			pr_err("PM: CM3 returned unknown result = %d\n", i);
 			ret = -1;
 		}
+
+		pr_info("PM: Wakeup source %s\n", wkup_m3_request_wake_src());
 	}
 
 	return ret;
-- 
1.7.5.4

