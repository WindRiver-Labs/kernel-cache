From 418ca649cfb07381c8e5e7a6657dc8b1ac2d0680 Mon Sep 17 00:00:00 2001
From: Peter Ujfalusi <peter.ujfalusi@ti.com>
Date: Thu, 12 Nov 2015 10:08:58 +0200
Subject: [PATCH 722/800] ARM: common: edma: Switch to
 platform_driver_register

To support deferred probing, switch to use platform_driver_register.

Signed-off-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
[zou: Original patch taken from PROCESSOR-SDK-LINUX-AM335X 02_00_01_07]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm/common/edma.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/common/edma.c b/arch/arm/common/edma.c
index 8563d65..1133c51 100644
--- a/arch/arm/common/edma.c
+++ b/arch/arm/common/edma.c
@@ -1908,7 +1908,7 @@ static struct platform_driver edma_driver = {
 
 static int __init edma_init(void)
 {
-	return platform_driver_probe(&edma_driver, edma_probe);
+	return platform_driver_register(&edma_driver);
 }
 arch_initcall(edma_init);
 
-- 
1.7.5.4

