From f3004624e6f81517627562a84f326e632c46c973 Mon Sep 17 00:00:00 2001
From: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
Date: Tue, 11 Aug 2015 00:43:12 +0300
Subject: [PATCH 1935/2066] drm: rcar-du: Fix plane cast to wrong type

VSP planes are instance of rcar_du_vsp_plane, not rcar_du_plane. Cast
the drm_plane to the right object.

Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/gpu/drm/rcar-du/rcar_du_vsp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpu/drm/rcar-du/rcar_du_vsp.c b/drivers/gpu/drm/rcar-du/rcar_du_vsp.c
index 1bdaa32..f10be84 100644
--- a/drivers/gpu/drm/rcar-du/rcar_du_vsp.c
+++ b/drivers/gpu/drm/rcar-du/rcar_du_vsp.c
@@ -228,7 +228,7 @@ static int rcar_du_vsp_plane_atomic_set_property(struct drm_plane *plane,
 	uint64_t val)
 {
 	struct rcar_du_vsp_plane_state *rstate = to_rcar_vsp_plane_state(state);
-	struct rcar_du_device *rcdu = to_rcar_plane(plane)->group->dev;
+	struct rcar_du_device *rcdu = to_rcar_vsp_plane(plane)->vsp->dev;
 
 	if (property == rcdu->props.alpha)
 		rstate->alpha = val;
-- 
1.7.5.4

