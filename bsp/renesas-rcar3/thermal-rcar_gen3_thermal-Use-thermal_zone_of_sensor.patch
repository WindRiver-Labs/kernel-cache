From 8207401263b975d97f4cb4a8974482864b3bafdf Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@rvc.renesas.com>
Date: Thu, 21 Apr 2016 16:06:26 +0700
Subject: [PATCH 1294/2066] thermal: rcar_gen3_thermal: Use
 thermal_zone_of_sensor_unregister

thermal_zone_of_sensor_unregister is used to unify with
thermal_zone_of_sensor_register.
This will fix error when re-install or re-bind module.

Signed-off-by: Hien Dang <hien.dang.eb@rvc.renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/thermal/rcar_gen3_thermal.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/thermal/rcar_gen3_thermal.c b/drivers/thermal/rcar_gen3_thermal.c
index 18f110a..ed4f442 100644
--- a/drivers/thermal/rcar_gen3_thermal.c
+++ b/drivers/thermal/rcar_gen3_thermal.c
@@ -537,7 +537,7 @@ static int rcar_gen3_thermal_remove(struct platform_device *pdev)
 	struct device *dev = &pdev->dev;
 
 	rcar_thermal_irq_disable(priv);
-	thermal_zone_device_unregister(priv->zone);
+	thermal_zone_of_sensor_unregister(dev, priv->zone);
 
 	pm_runtime_put(dev);
 	pm_runtime_disable(dev);
-- 
1.7.5.4

