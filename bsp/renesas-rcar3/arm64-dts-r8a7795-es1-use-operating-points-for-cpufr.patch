From f3d0a85fe42cb4d8baf2ea789e11b12cc3bc2671 Mon Sep 17 00:00:00 2001
From: zou cao <cao.zou@windriver.com>
Date: Thu, 8 Jun 2017 12:36:38 +0800
Subject: [PATCH 1902/2066] arm64: dts: r8a7795-es1: use operating-points for
 cpufreq

Don't support operating-points-v2, here use operating-operating to
replace it.

Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi |   85 +++++++++++++++++++------
 1 files changed, 64 insertions(+), 21 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi b/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi
index a1fca6a..a11ef4a 100644
--- a/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi
@@ -73,10 +73,14 @@
 			cooling-min-level = <0>;
 			cooling-max-level = <2>;
 			clocks =<&cpg CPG_CORE R8A7795_CLK_Z>;
-			operating-points-v2 = <&cluster0_opp_tb0>,
-				<&cluster0_opp_tb1>, <&cluster0_opp_tb2>,
-				<&cluster0_opp_tb3>, <&cluster0_opp_tb4>,
-				<&cluster0_opp_tb5>, <&cluster0_opp_tb6>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
 
 		a57_1: cpu@1 {
@@ -87,10 +91,14 @@
 			next-level-cache = <&L2_CA57>;
 			enable-method = "psci";
 			cpu-idle-states = <&CPU_SLEEP_0>;
-			operating-points-v2 = <&cluster0_opp_tb0>,
-				<&cluster0_opp_tb1>, <&cluster0_opp_tb2>,
-				<&cluster0_opp_tb3>, <&cluster0_opp_tb4>,
-				<&cluster0_opp_tb5>, <&cluster0_opp_tb6>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
 
 		a57_2: cpu@2 {
@@ -101,10 +109,14 @@
 			next-level-cache = <&L2_CA57>;
 			enable-method = "psci";
 			cpu-idle-states = <&CPU_SLEEP_0>;
-			operating-points-v2 = <&cluster0_opp_tb0>,
-				<&cluster0_opp_tb1>, <&cluster0_opp_tb2>,
-				<&cluster0_opp_tb3>, <&cluster0_opp_tb4>,
-				<&cluster0_opp_tb5>, <&cluster0_opp_tb6>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
 
 		a57_3: cpu@3 {
@@ -115,10 +127,14 @@
 			next-level-cache = <&L2_CA57>;
 			enable-method = "psci";
 			cpu-idle-states = <&CPU_SLEEP_0>;
-			operating-points-v2 = <&cluster0_opp_tb0>,
-				<&cluster0_opp_tb1>, <&cluster0_opp_tb2>,
-				<&cluster0_opp_tb3>, <&cluster0_opp_tb4>,
-				<&cluster0_opp_tb5>, <&cluster0_opp_tb6>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
 
 		a53_0: cpu@100 {
@@ -128,15 +144,28 @@
 			enable-method = "psci";
 			dynamic-power-coefficient = <277>;
 			clocks =<&cpg CPG_CORE R8A7795_CLK_Z2>;
-			operating-points-v2 = <&cluster1_opp_tb0>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
-
 		a53_1: cpu@101 {
 			compatible = "arm,cortex-a53","arm,armv8";
 			reg = <0x101>;
 			device_type = "cpu";
 			enable-method = "psci";
-			operating-points-v2 = <&cluster1_opp_tb0>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
 
 		a53_2: cpu@102 {
@@ -144,7 +173,14 @@
 			reg = <0x102>;
 			device_type = "cpu";
 			enable-method = "psci";
-			operating-points-v2 = <&cluster1_opp_tb0>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
 
 		a53_3: cpu@103 {
@@ -152,7 +188,14 @@
 			reg = <0x103>;
 			device_type = "cpu";
 			enable-method = "psci";
-			operating-points-v2 = <&cluster1_opp_tb0>;
+			operating-points = <
+				/* kHz    uV */
+				500000   820000
+				1000000  820000
+				1500000  820000
+				1600000  900000
+				1700000  960000
+			>;
 		};
 
 		L2_CA57: cache-controller@0 {
-- 
1.7.5.4

