From e89142196d3eb0c1a8b1c461de52bf77aff4b3bc Mon Sep 17 00:00:00 2001
From: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Date: Thu, 21 Jan 2016 02:00:13 +0000
Subject: [PATCH 0522/2066] ASoC: rsnd: disable SRC.out/in in same time

upstream 31739a689f828345a7ef52fd8dbbb200df1b6555 commit

commit b761bf272bce ("ASoC: rsnd: disable SRC.out only when stop timing")
disabled SRC.out/in in different timing, but was based on
picky HW information. Now, we have confirmed that we can disable
both in the same time. This patch do it.

Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Signed-off-by: Mark Brown <broonie@kernel.org>
---
 sound/soc/sh/rcar/src.c |    9 +--------
 1 files changed, 1 insertions(+), 8 deletions(-)

diff --git a/sound/soc/sh/rcar/src.c b/sound/soc/sh/rcar/src.c
index d211ccf..3b45f22 100644
--- a/sound/soc/sh/rcar/src.c
+++ b/sound/soc/sh/rcar/src.c
@@ -367,11 +367,7 @@ static int rsnd_src_stop(struct rsnd_mod *mod,
 			 struct rsnd_dai_stream *io,
 			 struct rsnd_priv *priv)
 {
-	/*
-	 * stop SRC output only
-	 * see rsnd_src_quit
-	 */
-	rsnd_mod_write(mod, SRC_CTRL, 0x01);
+	rsnd_mod_write(mod, SRC_CTRL, 0);
 
 	return 0;
 }
@@ -409,9 +405,6 @@ static int rsnd_src_quit(struct rsnd_mod *mod,
 
 	rsnd_src_irq_disable(mod);
 
-	/* stop both out/in */
-	rsnd_mod_write(mod, SRC_CTRL, 0);
-
 	rsnd_src_halt(mod);
 
 	rsnd_mod_power_off(mod);
-- 
1.7.5.4

