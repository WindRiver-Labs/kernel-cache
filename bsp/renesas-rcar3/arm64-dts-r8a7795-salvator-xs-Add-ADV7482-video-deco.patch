From d617ab7f50d0e32bdd269f13e0d62f10f880b209 Mon Sep 17 00:00:00 2001
From: Takeshi Kihara <takeshi.kihara.df@renesas.com>
Date: Wed, 8 Feb 2017 21:17:31 +0900
Subject: [PATCH 1780/2066] arm64: dts: r8a7795-salvator-xs: Add ADV7482 video
 decoder devices support

This patch adds ADV7482 video decoder device nodes, and input support
via CSI40 and CSI20 for Salvator-X 2nd version board on R8A7795 ES2.0
SoC.

Signed-off-by: Takeshi Kihara <takeshi.kihara.df@renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 .../arm64/boot/dts/renesas/r8a7795-salvator-xs.dts |   40 ++++++++++++++++++++
 1 files changed, 40 insertions(+), 0 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a7795-salvator-xs.dts b/arch/arm64/boot/dts/renesas/r8a7795-salvator-xs.dts
index dd8aab5..be3c3b9 100644
--- a/arch/arm64/boot/dts/renesas/r8a7795-salvator-xs.dts
+++ b/arch/arm64/boot/dts/renesas/r8a7795-salvator-xs.dts
@@ -444,6 +444,44 @@
 
 	clock-frequency = <400000>;
 
+	adv7482_1: hdmi-in@34 {
+		compatible = "adi,adv7482";
+		reg = <0x34>;
+
+		adi,virtual-channel = <0>;
+		adi,input-interface = "rgb888";
+		adi,input-hdmi = "on";
+		adi,input-sdp = "on";
+		adi,sw-reset = "on";
+
+		port {
+			adv7482_1_out: endpoint@1 {
+				clock-lanes = <0>;
+				data-lanes = <1 2 3 4>;
+				remote-endpoint = <&csi2_40_0_in>;
+			};
+		};
+	};
+
+	adv7482_2: composite-in@70 {
+		compatible = "adi,adv7482";
+		reg = <0x70>;
+
+		adi,virtual-channel = <0>;
+		adi,input-interface = "ycbcr422";
+		adi,input-hdmi = "on";
+		adi,input-sdp = "on";
+		adi,sw-reset = "on";
+
+		port {
+			adv7482_2_out: endpoint@1 {
+				clock-lanes = <0>;
+				data-lanes = <1>;
+				remote-endpoint = <&csi2_20_0_in>;
+			};
+		};
+	};
+
 	clk_5p49v5923a: programmable_clk@6a {
 		compatible = "idt,5p49v5923a";
 		reg = <0x6a>;
@@ -670,6 +708,7 @@
 				clock-lanes = <0>;
 				data-lanes = <1>;
 				virtual-channel-number = <1>;
+				remote-endpoint = <&adv7482_2_out>;
 			};
 		};
 	};
@@ -689,6 +728,7 @@
 				clock-lanes = <0>;
 				data-lanes = <1 2 3 4>;
 				virtual-channel-number = <1>;
+				remote-endpoint = <&adv7482_1_out>;
 			};
 		};
 	};
-- 
1.7.5.4

