From 2a94d05f912cedd13f0bbdc5ba124f3f025910d7 Mon Sep 17 00:00:00 2001
From: Tomoharu Fukawa <tomoharu.fukawa.eb@renesas.com>
Date: Thu, 21 Jul 2016 15:44:16 +0900
Subject: [PATCH 1623/2066] arm64: dts: r8a7796: Support IPMMU (PMB) in
 IPMMU-VC0

In R-Car M3, IPMMU-VC0 handles both VCP and FDP.
This patch updates DT description to support IPMMU (PMB mode)
for FDP and VCP.

In order to enable IPMMU (PMB mode), remove the following description
in ipmmu_vc0.

status = "disabled";

Signed-off-by: Khiem Nguyen <khiem.nguyen.xt@rvc.renesas.com>
Signed-off-by: Tomoharu Fukawa <tomoharu.fukawa.eb@renesas.com>
Signed-off-by: Takeshi Kihara <takeshi.kihara.df@renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm64/boot/dts/renesas/r8a7796.dtsi |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a7796.dtsi b/arch/arm64/boot/dts/renesas/r8a7796.dtsi
index a16da91..89644ab 100644
--- a/arch/arm64/boot/dts/renesas/r8a7796.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a7796.dtsi
@@ -727,7 +727,7 @@
 		};
 
 		ipmmu_vc0: mmu@fe6b0000 {
-			compatible = "renesas,ipmmu-r8a7796";
+			compatible = "renesas,ipmmu-pmb-r8a7796";
 			reg = <0 0xfe6b0000 0 0x1000>; /* IPMMU-VC0 */
 			renesas,ipmmu-main = <&ipmmu_mm 8>;
 			#iommu-cells = <1>;
-- 
1.7.5.4

