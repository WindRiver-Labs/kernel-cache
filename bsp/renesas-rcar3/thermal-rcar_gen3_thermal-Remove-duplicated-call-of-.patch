From f260a45799155a45078d21b39043011cfadafea5 Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@rvc.renesas.com>
Date: Thu, 17 Dec 2015 16:21:36 +0700
Subject: [PATCH 1278/2066] thermal: rcar_gen3_thermal: Remove duplicated call
 of rcar_gen3_thermal_update_temp

rcar_gen3_thermal_update_temp will be called in
rcar_gen3_thermal_get_temp. Therefore, there is no need
to call it in worker thread.

Signed-off-by: Hien Dang <hien.dang.eb@rvc.renesas.com>
Signed-off-by: Tri Vo <tri.vo.xb@rvc.renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/thermal/rcar_gen3_thermal.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/drivers/thermal/rcar_gen3_thermal.c b/drivers/thermal/rcar_gen3_thermal.c
index 520bc4e..2b04baf 100644
--- a/drivers/thermal/rcar_gen3_thermal.c
+++ b/drivers/thermal/rcar_gen3_thermal.c
@@ -439,7 +439,6 @@ static void rcar_gen3_thermal_work(struct work_struct *work)
 
 	priv = container_of(work, struct rcar_thermal_priv, work.work);
 
-	rcar_gen3_thermal_update_temp(priv);
 	thermal_zone_device_update(priv->zone);
 
 	rcar_thermal_irq_enable(priv);
-- 
1.7.5.4

