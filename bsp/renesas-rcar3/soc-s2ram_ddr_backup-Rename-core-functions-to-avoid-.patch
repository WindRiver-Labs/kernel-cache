From 6fbc30532db6c30bea5a1e9df37b902ff027db0d Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@renesas.com>
Date: Wed, 24 Aug 2016 09:23:03 +0700
Subject: [PATCH 1657/2066] soc: s2ram_ddr_backup: Rename core functions to
 avoid ambiguity

Signed-off-by: Hien Dang <hien.dang.eb@renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/soc/renesas/s2ram_ddr_backup.c |   32 ++++++++++++++++----------------
 1 files changed, 16 insertions(+), 16 deletions(-)

diff --git a/drivers/soc/renesas/s2ram_ddr_backup.c b/drivers/soc/renesas/s2ram_ddr_backup.c
index 9e6e14f6..c06915b 100644
--- a/drivers/soc/renesas/s2ram_ddr_backup.c
+++ b/drivers/soc/renesas/s2ram_ddr_backup.c
@@ -69,7 +69,7 @@ static struct rcar_ip *common_ips[] = {
  *         DO_BACKUP: backup
  *         DO_RESTORE: restore
  */
-int handle_registers(struct rcar_ip *ip, unsigned int handling)
+int rcar_handle_registers(struct rcar_ip *ip, unsigned int handling)
 {
 	int reg_count = 0;
 	unsigned int j;
@@ -237,7 +237,7 @@ int handle_registers(struct rcar_ip *ip, unsigned int handling)
 
 	return 0;
 }
-EXPORT_SYMBOL(handle_registers);
+EXPORT_SYMBOL(rcar_handle_registers);
 
 /*
  * Handle backup/restore of IPs
@@ -247,7 +247,7 @@ EXPORT_SYMBOL(handle_registers);
  *         DO_BACKUP: backup
  *         DO_RESTORE: restore
  */
-int handle_ips(struct rcar_ip **ip, unsigned int handling)
+int rcar_handle_ips(struct rcar_ip **ip, unsigned int handling)
 {
 	struct rcar_ip *working_ip;
 	unsigned int i = 0;
@@ -255,45 +255,45 @@ int handle_ips(struct rcar_ip **ip, unsigned int handling)
 
 	while (ip[i] != NULL) {
 		working_ip = ip[i];
-		ret = handle_registers(working_ip, handling);
+		ret = rcar_handle_registers(working_ip, handling);
 		i++;
 	}
 
 	return ret;
 }
-EXPORT_SYMBOL(handle_ips);
+EXPORT_SYMBOL(rcar_handle_ips);
 
 #ifdef CONFIG_PM_SLEEP
-static int ddr_bck_suspend(void)
+static int ddr_backup_suspend(void)
 {
 	pr_debug("%s\n", __func__);
 
-	return handle_ips(common_ips, DO_BACKUP);
+	return rcar_handle_ips(common_ips, DO_BACKUP);
 }
 
-static void ddr_bck_resume(void)
+static void ddr_backup_resume(void)
 {
 	pr_debug("%s\n", __func__);
 
-	handle_ips(common_ips, DO_RESTORE);
+	rcar_handle_ips(common_ips, DO_RESTORE);
 }
 
-static struct syscore_ops ddr_bck_syscore_ops = {
-	.suspend = ddr_bck_suspend,
-	.resume = ddr_bck_resume,
+static struct syscore_ops ddr_backup_syscore_ops = {
+	.suspend = ddr_backup_suspend,
+	.resume = ddr_backup_resume,
 };
 
-static int ddr_bck_init(void)
+static int ddr_backup_init(void)
 {
 	int ret;
 
 	/* Map register for all common IPs */
-	ret = handle_ips(common_ips, DO_IOREMAP);
+	ret = rcar_handle_ips(common_ips, DO_IOREMAP);
 
-	register_syscore_ops(&ddr_bck_syscore_ops);
+	register_syscore_ops(&ddr_backup_syscore_ops);
 
 	return ret;
 }
-core_initcall(ddr_bck_init);
+core_initcall(ddr_backup_init);
 
 #endif /* CONFIG_PM_SLEEP */
-- 
1.7.5.4

