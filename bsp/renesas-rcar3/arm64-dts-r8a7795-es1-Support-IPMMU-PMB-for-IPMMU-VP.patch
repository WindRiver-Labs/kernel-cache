From da726f188411d36feaa7dbc068d4b2de4b513c1d Mon Sep 17 00:00:00 2001
From: Tomoharu Fukawa <tomoharu.fukawa.eb@renesas.com>
Date: Thu, 21 Jul 2016 15:40:15 +0900
Subject: [PATCH 1475/2066] arm64: dts: r8a7795-es1: Support IPMMU (PMB) for
 IPMMU-VP and IPMMUVC0/1

In R-Car H3, IPMMU-VP handles FDP channels, IPMMUVC0/1 handle VCP
channels.
This patch updates DT description to support IPMMU (PMB mode)
for FDP and VCP.

In order to enable IPMMU (PMB mode), remove the following description
in ipmmu_vp, ipmmu_vc0, ipmmu_vc1.

status = "disabled";

Signed-off-by: Khiem Nguyen <khiem.nguyen.xt@rvc.renesas.com>
Signed-off-by: Tomoharu Fukawa <tomoharu.fukawa.eb@renesas.com>
Signed-off-by: Takeshi Kihara <takeshi.kihara.df@renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi b/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi
index 6e42ad3..62ca7e3 100644
--- a/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a7795-es1.dtsi
@@ -851,7 +851,7 @@
 		};
 
 		ipmmu_vp: mmu@fe990000 {
-			compatible = "renesas,ipmmu-r8a7795";
+			compatible = "renesas,ipmmu-pmb-r8a7795";
 			reg = <0 0xfe990000 0 0x1000>; /* IPMMU-VP */
 			renesas,ipmmu-main = <&ipmmu_mm 12>;
 			#iommu-cells = <1>;
@@ -859,7 +859,7 @@
 		};
 
 		ipmmu_vc0: mmu@fe6b0000 {
-			compatible = "renesas,ipmmu-r8a7795";
+			compatible = "renesas,ipmmu-pmb-r8a7795";
 			reg = <0 0xfe6b0000 0 0x1000>; /* IPMMU-VC0 */
 			renesas,ipmmu-main = <&ipmmu_mm 9>;
 			#iommu-cells = <1>;
@@ -867,7 +867,7 @@
 		};
 
 		ipmmu_vc1: mmu@fe6f0000 {
-			compatible = "renesas,ipmmu-r8a7795";
+			compatible = "renesas,ipmmu-pmb-r8a7795";
 			reg = <0 0xfe6f0000 0 0x1000>; /* IPMMU-VC1 */
 			renesas,ipmmu-main = <&ipmmu_mm 10>;
 			#iommu-cells = <1>;
-- 
1.7.5.4

