From a10eacf46e19f6390c6f52521041612c8105a0c0 Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@rvc.renesas.com>
Date: Thu, 26 May 2016 17:08:10 +0700
Subject: [PATCH 1313/2066] soc: renesas: rcar_ems_ctrl: Fix coding error when
 initializing static var to false

Without this patch checkpatch script will throw out below error.
        ERROR: do not initialise statics to false
This patch will fix it.

Signed-off-by: Hien Dang <hien.dang.eb@rvc.renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/soc/renesas/rcar_ems_ctrl.c |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

diff --git a/drivers/soc/renesas/rcar_ems_ctrl.c b/drivers/soc/renesas/rcar_ems_ctrl.c
index a66aacb..2699340 100644
--- a/drivers/soc/renesas/rcar_ems_ctrl.c
+++ b/drivers/soc/renesas/rcar_ems_ctrl.c
@@ -42,12 +42,6 @@ static int ems_poll;
 static int thermal_zone_num;
 static struct thermal_zone_device *thermal_zone[EMS_THERMAL_ZONE_MAX];
 
-#ifdef CONFIG_RCAR_THERMAL_EMS_ENABLED
-static bool ems_enabled = true;
-#else
-static bool ems_enabled = false;
-#endif
-
 static int rcar_ems_notify(unsigned long state, void *p)
 {
 	return raw_notifier_call_chain(&rcar_ems_chain, state, p);
@@ -118,7 +112,7 @@ static int __init rcar_ems_ctrl_init(void)
 	struct thermal_zone_device *zone;
 	u32 value;
 
-	if (ems_enabled == false) {
+	if (!IS_ENABLED(CONFIG_RCAR_THERMAL_EMS_ENABLED)) {
 		pr_err("thermal emergency: disabled\n");
 		return 0;
 	}
@@ -259,7 +253,7 @@ static int __init rcar_ems_cpu_shutdown_init(void)
 	int cpu;
 	struct device_node *cpu_node;
 
-	if (ems_enabled == false)
+	if (!IS_ENABLED(CONFIG_RCAR_THERMAL_EMS_ENABLED))
 		return 0;
 
 	cpumask_clear(&target_cpus);
-- 
1.7.5.4

