From 9b0d0da7eaed8c732ec0fd2912be8c3876ed9cbc Mon Sep 17 00:00:00 2001
From: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Date: Wed, 28 Oct 2015 04:31:03 +0000
Subject: [PATCH 0311/2066] ASoC: rsnd: fixup rsnd_dmapp_stop() return value

upstream 9c66eedc17bdf180d952e8d3550a23c2f93d9fff commit

45a4394d03("ASoC: rsnd: use mod base common method on DMA phase3")
Exchanged "void rsnd_dmapp_stop()" to "int rsnd_dmapp_stop()",
but it returns inverted value. This patch fixup it.

Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Signed-off-by: Mark Brown <broonie@kernel.org>
---
 sound/soc/sh/rcar/dma.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/sound/soc/sh/rcar/dma.c b/sound/soc/sh/rcar/dma.c
index fc70e97..9917b98 100644
--- a/sound/soc/sh/rcar/dma.c
+++ b/sound/soc/sh/rcar/dma.c
@@ -368,11 +368,11 @@ static int rsnd_dmapp_stop(struct rsnd_mod *mod,
 
 	for (i = 0; i < 1024; i++) {
 		if (0 == rsnd_dmapp_read(dma, PDMACHCR))
-			return -EIO;
+			return 0;
 		udelay(1);
 	}
 
-	return 0;
+	return -EIO;
 }
 
 static int rsnd_dmapp_start(struct rsnd_mod *mod,
-- 
1.7.5.4

