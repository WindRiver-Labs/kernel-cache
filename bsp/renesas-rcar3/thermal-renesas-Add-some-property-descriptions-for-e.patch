From da4389dcfbd637a36c5f5f2716f17c5fcfcff211 Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@rvc.renesas.com>
Date: Thu, 2 Jun 2016 10:11:14 +0700
Subject: [PATCH 1316/2066] thermal: renesas: Add some property descriptions
 for emergency shutdown node

This patch adds description for "status", "target_cpus" property
of emergency shutdown node and correct some typos.
Also, it modifies DT example for interrupt mode due to updated
IRQ implementation.

Signed-off-by: Hien Dang <hien.dang.eb@rvc.renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 .../bindings/thermal/rcar-gen3-thermal.txt         |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

diff --git a/Documentation/devicetree/bindings/thermal/rcar-gen3-thermal.txt b/Documentation/devicetree/bindings/thermal/rcar-gen3-thermal.txt
index d04a781..9b38109 100644
--- a/Documentation/devicetree/bindings/thermal/rcar-gen3-thermal.txt
+++ b/Documentation/devicetree/bindings/thermal/rcar-gen3-thermal.txt
@@ -34,6 +34,8 @@ thermal: thermal@0xe6198000 {
                         compatible = "renesas,thermal-r8a7795";
                         reg = <0 0xe6198000 0 0x5c>;
 			interrupts = <GIC_SPI 67 IRQ_TYPE_LEVEL_HIGH>;
+			             <GIC_SPI 68 IRQ_TYPE_LEVEL_HIGH>;
+			             <GIC_SPI 69 IRQ_TYPE_LEVEL_HIGH>;
                 };
 
 thermal-zones {
@@ -46,27 +48,37 @@ thermal-zones {
 };
 
 * Emergency shutdown for R-CAR Gen3
-Emergency shutdown functionality provide the specific cooling mechanism
+Emergency shutdown functionality provides the specific cooling mechanism
 for R-CAR Gen3. In case of high temperature(e.g over 100 degrees),
-it has the ability to rapidly cooling the system.
+it has the ability to rapidly cool down the system.
 
 Required property:
 - polling-delay:	The maximum number of milliseconds to wait between polls
   Type: unsigned	when checking temperature for emergency shutdown.
   Size: one cell
 
-- on-temperature:       This value indicate the emergency temperature and invoke
+- on-temperature:       This value indicates the emergency temperature and invokes
   Type: unsigned	emergency shutdown functionality when exceeding this
   Size: one cell	temperature.
 
-- off-temperature:	This value indicate the temperature to disable emergency
+- off-temperature:	This value indicates the temperature to disable emergency
   Type: unsigned	shutdown.
   Size: one cell
 
+- status:		Should be "disabled" always.
+  Type: string
+
+- target_cpus:		This property indicates which CPU will be targeted for shutdown.
+  Type: phandle
+
 thermal-zones {
 	emergency {
 		polling-delay = <1000>;    /* milliseconds */
 		on-temperature = <110000>; /* millicelsius */
 		off-temperature = <95000>; /* millicelsius */
+		target_cpus = <&a57_1>,
+			      <&a57_2>,
+			      <&a57_3>;
+		status = "disabled";
 	};
 };
-- 
1.7.5.4

