From e1dfb08d866833a43b7f14487c02d57118c27fb8 Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@rvc.renesas.com>
Date: Wed, 1 Jun 2016 00:02:01 +0700
Subject: [PATCH 1315/2066] soc: renesas: rcar_ems_ctrl: Fix cpu weight for
 platform with one targeted CPU

Signed-off-by: Hien Dang <hien.dang.eb@rvc.renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/soc/renesas/rcar_ems_ctrl.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/soc/renesas/rcar_ems_ctrl.c b/drivers/soc/renesas/rcar_ems_ctrl.c
index 8484f1b..ff63cb1 100644
--- a/drivers/soc/renesas/rcar_ems_ctrl.c
+++ b/drivers/soc/renesas/rcar_ems_ctrl.c
@@ -278,7 +278,7 @@ static int __init rcar_ems_cpu_shutdown_init(void)
 			cpumask_set_cpu(cpu, &freq_scaled_cpus);
 	}
 
-	if (cpumask_weight(&target_cpus) <= 1) {
+	if (cpumask_weight(&target_cpus) == 0) {
 		pr_err("thermal emergency: shutdown cpu none\n");
 		return 0;
 	}
-- 
1.7.5.4

