From a96560411de5259ce957064bef976100731a812a Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@rvc.renesas.com>
Date: Wed, 17 Feb 2016 23:11:22 +0700
Subject: [PATCH 1281/2066] thermal: rcar_gen3_thermal: Fetch device ID from
 alias

Signed-off-by: Hien Dang <hien.dang.eb@rvc.renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/thermal/rcar_gen3_thermal.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/thermal/rcar_gen3_thermal.c b/drivers/thermal/rcar_gen3_thermal.c
index 7117da6..244e643 100644
--- a/drivers/thermal/rcar_gen3_thermal.c
+++ b/drivers/thermal/rcar_gen3_thermal.c
@@ -543,7 +543,7 @@ static int rcar_gen3_thermal_probe(struct platform_device *pdev)
 	spin_lock_init(&priv->lock);
 	INIT_DELAYED_WORK(&priv->work, rcar_gen3_thermal_work);
 
-	of_property_read_u32(dev->of_node, "id", &priv->id);
+	priv->id = of_alias_get_id(dev->of_node, "tsc");
 
 	priv->zone = thermal_zone_of_sensor_register(dev, 0, priv,
 				&rcar_gen3_tz_of_ops);
-- 
1.7.5.4

