From f9c2f6733679cbafb01c91928cf0ccbc3c14d759 Mon Sep 17 00:00:00 2001
From: Takeshi Kihara <takeshi.kihara.df@renesas.com>
Date: Tue, 7 Feb 2017 22:48:43 +0900
Subject: [PATCH 1810/2066] Revert "clk: renesas: r8a7796: Add MFIS clock"

This reverts commit e5d7dd495cfe ("clk: renesas: r8a7796: Add MFIS
clock").

Although it is necessary to start the MFISLock driver before each
driver's start when performing exclusive control of register access by
MFISLock driver, since CPG driver I/F is used for the MFIS clock control
of MFIS driver, the MFIS driver is started after CPG driver start.

Therefore, the problem whose exclusive control is impossible to access
register until the MFISLock driver starts occurs.

By this revert, MFIS clock control becomes no good by deleting the
definition of the MFIS clock from the CPG driver.

Signed-off-by: Takeshi Kihara <takeshi.kihara.df@renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/clk/renesas/r8a7796-cpg-mssr.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/drivers/clk/renesas/r8a7796-cpg-mssr.c b/drivers/clk/renesas/r8a7796-cpg-mssr.c
index 3ec2305..0fbb024 100644
--- a/drivers/clk/renesas/r8a7796-cpg-mssr.c
+++ b/drivers/clk/renesas/r8a7796-cpg-mssr.c
@@ -133,7 +133,6 @@ static const struct mssr_mod_clk r8a7796_mod_clks[] __initconst = {
 	DEF_MOD("msiof2",		 209,	R8A7796_CLK_MSO),
 	DEF_MOD("msiof1",		 210,	R8A7796_CLK_MSO),
 	DEF_MOD("msiof0",		 211,	R8A7796_CLK_MSO),
-	DEF_MOD("mfis",			 213,	R8A7796_CLK_S0D6),
 	DEF_MOD("sys-dmac2",		 217,	R8A7796_CLK_S0D3),
 	DEF_MOD("sys-dmac1",		 218,	R8A7796_CLK_S0D3),
 	DEF_MOD("sys-dmac0",		 219,	R8A7796_CLK_S0D3),
-- 
1.7.5.4

