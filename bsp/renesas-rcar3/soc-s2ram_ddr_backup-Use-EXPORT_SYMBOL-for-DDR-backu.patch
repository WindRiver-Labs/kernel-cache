From 4da7b4249250fb19603ecf481bab89b2e29182c3 Mon Sep 17 00:00:00 2001
From: Hien Dang <hien.dang.eb@renesas.com>
Date: Wed, 27 Jul 2016 17:57:46 +0700
Subject: [PATCH 1656/2066] soc: s2ram_ddr_backup: Use EXPORT_SYMBOL for DDR
 backup functions

To do register backup/restore in modules,
handle_registers()/handle_ips() are offered in Linux kernel.
However, the scope is only for built-in modules only.
With this patch, the loadable modules can also use the functions
for register backup/restore purpose.

Signed-off-by: Hien Dang <hien.dang.eb@renesas.com>
[zou:Original patch taken from
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
 v4.9/rcar-3.5.1]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/soc/renesas/s2ram_ddr_backup.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/soc/renesas/s2ram_ddr_backup.c b/drivers/soc/renesas/s2ram_ddr_backup.c
index de12b3c..9e6e14f6 100644
--- a/drivers/soc/renesas/s2ram_ddr_backup.c
+++ b/drivers/soc/renesas/s2ram_ddr_backup.c
@@ -237,6 +237,7 @@ int handle_registers(struct rcar_ip *ip, unsigned int handling)
 
 	return 0;
 }
+EXPORT_SYMBOL(handle_registers);
 
 /*
  * Handle backup/restore of IPs
@@ -260,6 +261,7 @@ int handle_ips(struct rcar_ip **ip, unsigned int handling)
 
 	return ret;
 }
+EXPORT_SYMBOL(handle_ips);
 
 #ifdef CONFIG_PM_SLEEP
 static int ddr_bck_suspend(void)
-- 
1.7.5.4

