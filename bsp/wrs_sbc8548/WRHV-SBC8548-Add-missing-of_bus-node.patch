From 8ed45d8fcbc19afe44012962b216435cfa1153c4 Mon Sep 17 00:00:00 2001
From: Jeremy McNicoll <jeremy.mcnicoll@windriver.com>
Date: Wed, 16 Jun 2010 14:24:46 -0700
Subject: [PATCH] WRHV/SBC8548: Add missing of_bus node

The fsl_mdio code needs a gianfar compatible node in order
to access the PHY through the hypervisor.  FSL mdio driver
needs to have a gianfar of_bus which needs to be present
in the base platform code.

Signed-off-by: Jeremy McNicoll <jeremy.mcnicoll@windriver.com>
---
 arch/powerpc/platforms/85xx/wrhv_sbc8548.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/platforms/85xx/wrhv_sbc8548.c b/arch/powerpc/platforms/85xx/wrhv_sbc8548.c
index 4582341..b6592c0 100644
--- a/arch/powerpc/platforms/85xx/wrhv_sbc8548.c
+++ b/arch/powerpc/platforms/85xx/wrhv_sbc8548.c
@@ -117,6 +117,7 @@ static struct of_device_id __initdata of_bus_ids[] = {
 	{ .name = "soc", },
 	{ .type = "soc", },
 	{ .compatible = "simple-bus", },
+	{ .compatible = "gianfar", },
 	{},
 };
 
-- 
1.6.5.2

