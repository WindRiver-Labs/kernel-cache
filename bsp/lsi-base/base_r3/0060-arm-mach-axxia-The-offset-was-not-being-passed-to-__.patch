From 4a53cc6d3b0e7a965ab7da3d9b3ccd86882ee971 Mon Sep 17 00:00:00 2001
From: John Jacques <john.jacques@lsi.com>
Date: Fri, 11 Oct 2013 18:45:40 -0500
Subject: [PATCH 60/75] arm/mach-axxia: The offset was not being passed to
 __arm_ioremap_pfn!

Signed-off-by: John Jacques <john.jacques@lsi.com>
---
 arch/arm/mach-axxia/io.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-axxia/io.c b/arch/arm/mach-axxia/io.c
index 2fff1b7..bf473f9 100644
--- a/arch/arm/mach-axxia/io.c
+++ b/arch/arm/mach-axxia/io.c
@@ -35,6 +35,6 @@ __axxia_arch_ioremap(phys_addr_t physical_address, size_t size,
 	pfn = (unsigned long)((physical_address >> PAGE_SHIFT) & 0xffffffffULL);
 	offset = (unsigned long)(physical_address & (PAGE_SIZE - 1));
 
-	return __arm_ioremap_pfn(pfn, 0, size, flags);
+	return __arm_ioremap_pfn(pfn, offset, size, flags);
 }
 EXPORT_SYMBOL(__axxia_arch_ioremap);
-- 
1.7.5.4

