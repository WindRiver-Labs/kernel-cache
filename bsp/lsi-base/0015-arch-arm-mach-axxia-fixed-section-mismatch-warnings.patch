From 740b697648d86cb28e85786948c2db26dccad1d2 Mon Sep 17 00:00:00 2001
From: Paul Butler <paul.butler@windriver.com>
Date: Tue, 12 Mar 2013 17:28:22 -0500
Subject: [PATCH 15/76] arch/arm/mach-axxia: fixed section mismatch warnings

Signed-off-by: Paul Butler <paul.butler@windriver.com>
---
 arch/arm/mach-axxia/hotplug.c |    2 +-
 arch/arm/mach-axxia/pci.c     |    4 +---
 2 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/arch/arm/mach-axxia/hotplug.c b/arch/arm/mach-axxia/hotplug.c
index c504a72..9ecd64d 100644
--- a/arch/arm/mach-axxia/hotplug.c
+++ b/arch/arm/mach-axxia/hotplug.c
@@ -56,7 +56,7 @@ static inline void cpu_leave_lowpower(void)
 	  : "cc");
 }
 
-static inline void platform_do_lowpower(unsigned int cpu, int *spurious)
+static void __ref platform_do_lowpower(unsigned int cpu, int *spurious)
 {
 	/*
 	 * there is no power-control hardware on this platform, so all
diff --git a/arch/arm/mach-axxia/pci.c b/arch/arm/mach-axxia/pci.c
index 5ba4b80..b0f1a9a 100644
--- a/arch/arm/mach-axxia/pci.c
+++ b/arch/arm/mach-axxia/pci.c
@@ -481,8 +481,6 @@ static irqreturn_t
 acp_pcie_MSI_isr(int irq, void *arg)
 {
 	u32 intr_status;
-	u32 msg_fifo_stat;
-	u32 msg_fifo_info;
 	u8  msiIntr = 0, bit = 0;
 	struct axxia_pciex_port *port = (struct axxia_pciex_port *)arg;
 	void __iomem *mbase = (void __iomem *)port->cfg_addr;
@@ -777,7 +775,7 @@ DECLARE_PCI_FIXUP_HEADER(PCI_ANY_ID, PCI_ANY_ID, axxia_pcie_msi_enable);
 
 /* Port definition struct
  * Please note: PEI core#1 is not used in AXM5500 */
-static struct hw_pci axxia_pcie_hw[] = {
+static struct hw_pci __refdata axxia_pcie_hw[] = {
 	[0] = {
 	.nr_controllers = 1,
 	.domain = 0,
-- 
1.7.0.5

