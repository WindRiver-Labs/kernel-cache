From a2c6d3d2df8efb1298878ed6f4bdfa65155977fd Mon Sep 17 00:00:00 2001
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Date: Fri, 12 Sep 2014 23:17:07 +0300
Subject: [PATCH 294/456] v4l: xilinx: vtc: Rename compatible string to
 xlnx,v-tc

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

This matches the compatible string values used by the DT generator.

Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
(cherry picked from commit e5fd875aa3b47b4a169b310d1846c904541731d7)

Conflicts:
	drivers/media/platform/xilinx/xilinx-vtc.c
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../bindings/media/xilinx/xlnx,axi-vtc.txt         |   33 --------------------
 .../devicetree/bindings/media/xilinx/xlnx,v-tc.txt |   33 ++++++++++++++++++++
 drivers/media/platform/xilinx/xilinx-vtc.c         |    4 +-
 3 files changed, 35 insertions(+), 35 deletions(-)
 delete mode 100644 Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt
 create mode 100644 Documentation/devicetree/bindings/media/xilinx/xlnx,v-tc.txt

diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt
deleted file mode 100644
index 39fb517..0000000
--- a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-vtc.txt
+++ /dev/null
@@ -1,33 +0,0 @@
-Xilinx Video Timing Controller (VTC)
-------------------------------------
-
-The Video Timing Controller is a general purpose video timing generator and
-detector.
-
-Required properties:
-
-  - compatible: Must be "xlnx,axi-vtc-6.1".
-
-  - reg: Physical base address and length of the registers set for the device.
-
-  - clocks: Must contain a clock specifier for the VTC core and timing
-    interfaces clock.
-
-Optional properties:
-
-  - xlnx,detector: The VTC has a timing detector
-  - xlnx,generator: The VTC has a timing generator
-
-  At least one of the xlnx,detector and xlnx,generator properties must be
-  specified.
-
-
-Example:
-
-	vtc: vtc@43c40000 {
-		compatible = "xlnx,axi-vtc-6.1";
-		reg = <0x43c40000 0x10000>;
-
-		clocks = <&clkc 15>;
-		xlnx,generator;
-	};
diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,v-tc.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,v-tc.txt
new file mode 100644
index 0000000..2aed3b4
--- /dev/null
+++ b/Documentation/devicetree/bindings/media/xilinx/xlnx,v-tc.txt
@@ -0,0 +1,33 @@
+Xilinx Video Timing Controller (VTC)
+------------------------------------
+
+The Video Timing Controller is a general purpose video timing generator and
+detector.
+
+Required properties:
+
+  - compatible: Must be "xlnx,v-tc-6.1".
+
+  - reg: Physical base address and length of the registers set for the device.
+
+  - clocks: Must contain a clock specifier for the VTC core and timing
+    interfaces clock.
+
+Optional properties:
+
+  - xlnx,detector: The VTC has a timing detector
+  - xlnx,generator: The VTC has a timing generator
+
+  At least one of the xlnx,detector and xlnx,generator properties must be
+  specified.
+
+
+Example:
+
+	vtc: vtc@43c40000 {
+		compatible = "xlnx,v-tc-6.1";
+		reg = <0x43c40000 0x10000>;
+
+		clocks = <&clkc 15>;
+		xlnx,generator;
+	};
diff --git a/drivers/media/platform/xilinx/xilinx-vtc.c b/drivers/media/platform/xilinx/xilinx-vtc.c
index 83f6d53..4288efe 100644
--- a/drivers/media/platform/xilinx/xilinx-vtc.c
+++ b/drivers/media/platform/xilinx/xilinx-vtc.c
@@ -363,7 +363,7 @@ static int xvtc_remove(struct platform_device *pdev)
 }
 
 static const struct of_device_id xvtc_of_id_table[] = {
-	{ .compatible = "xlnx,axi-vtc-6.1" },
+	{ .compatible = "xlnx,v-tc-6.1" },
 	{ }
 };
 MODULE_DEVICE_TABLE(of, xvtc_of_id_table);
@@ -371,7 +371,7 @@ MODULE_DEVICE_TABLE(of, xvtc_of_id_table);
 static struct platform_driver xvtc_driver = {
 	.driver = {
 		.owner = THIS_MODULE,
-		.name = "xilinx-axi-vtc",
+		.name = "xilinx-vtc",
 		.of_match_table = xvtc_of_id_table,
 	},
 	.probe = xvtc_probe,
-- 
1.7.5.4

