From d97734152ea36fe4810938c23fe740f26f9548a8 Mon Sep 17 00:00:00 2001
From: Zhong Hongbo <hongbo.zhong@windriver.com>
Date: Mon, 21 Jul 2014 13:48:39 +0800
Subject: [PATCH 240/509] Use dma_request_slave_channel() instead
 of_dma_request_slave_channel()

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 3c6428cbc1af3465937ec1af5bf5398bba7150c0

of_dma_request_slave_channel() is not exported for use in modules, so use
dma_request_slave_channel() instead.

Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c b/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c
index ffba8b35..caf68d1 100644
--- a/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c
+++ b/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c
@@ -174,7 +174,7 @@ static int axi_hdmi_platform_probe(struct platform_device *pdev)
 	if (!private->encoder_slave || !private->encoder_slave->dev.driver)
 		return -EPROBE_DEFER;
 
-	private->dma = of_dma_request_slave_channel(pdev->dev.of_node, "video");
+	private->dma = dma_request_slave_channel(&pdev->dev, "video");
 	if (private->dma == NULL)
 		return -EPROBE_DEFER;
 
-- 
1.7.5.4

