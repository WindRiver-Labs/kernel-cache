From 14a39735dfb503d34fec6f66697869ba2213eec8 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Tue, 12 Nov 2013 12:38:01 +0100
Subject: [PATCH 422/509] watchdog: zynq: XWDTPS_DEFAULT_TIMEOUT is setup in
 watchdog_device

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 64c94922955391545df5cc3e522190adc5ead734

Default value is already setup in zyqn_wdt_device.

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/watchdog/zynq_wdt.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/drivers/watchdog/zynq_wdt.c b/drivers/watchdog/zynq_wdt.c
index 9a6e1ab..5ade50e 100644
--- a/drivers/watchdog/zynq_wdt.c
+++ b/drivers/watchdog/zynq_wdt.c
@@ -322,14 +322,12 @@ static int zynq_wdt_probe(struct platform_device *pdev)
 	zynq_wdt_device.parent = &pdev->dev;
 	of_get_property(pdev->dev.of_node, "timeout", &zynq_wdt_device.timeout);
 	if (wdt_timeout < XWDTPS_MAX_TIMEOUT &&
-			wdt_timeout > XWDTPS_MIN_TIMEOUT) {
+			wdt_timeout > XWDTPS_MIN_TIMEOUT)
 		zynq_wdt_device.timeout = wdt_timeout;
-	} else {
+	else
 		dev_info(&pdev->dev,
 			    "timeout limited to 1 - %d sec, using default=%d\n",
 			    XWDTPS_MAX_TIMEOUT, XWDTPS_DEFAULT_TIMEOUT);
-		zynq_wdt_device.timeout = XWDTPS_DEFAULT_TIMEOUT;
-	}
 
 	watchdog_set_nowayout(&zynq_wdt_device, nowayout);
 	watchdog_set_drvdata(&zynq_wdt_device, &wdt);
-- 
1.7.5.4

