From cbe7e8448019119cb3d9886c0823efa967977f60 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Fri, 28 Mar 2014 10:20:00 +0100
Subject: [PATCH 125/182] zynq: Fix compatible string for ddrc

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Get rid of ps7 prefix.

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../devicetree/bindings/edac/zynq_edac.txt         |    4 ++--
 drivers/edac/zynq_edac.c                           |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/Documentation/devicetree/bindings/edac/zynq_edac.txt b/Documentation/devicetree/bindings/edac/zynq_edac.txt
index 40f02b2..e97d78b 100644
--- a/Documentation/devicetree/bindings/edac/zynq_edac.txt
+++ b/Documentation/devicetree/bindings/edac/zynq_edac.txt
@@ -3,14 +3,14 @@ corrected and double bit ecc errors that are detected by the DDR ECC controller.
 ECC support for DDR is available in half-bus width(16 bit) configuration only.
 
 Required properties:
-- compatible: Should be "xlnx,zynq-ddrc-1.00.a"
+- compatible: Should be "xlnx,zynq-ddrc-1.0"
 - reg: Should contain DDR controller registers location and length.
 
 Example:
 ++++++++
 
 zynq_ddrc_0: zynq-ddrc@f8006000 {
-	compatible = "xlnx,zynq-ddrc-1.00.a";
+	compatible = "xlnx,zynq-ddrc-1.0";
 	reg = <0xf8006000 0x1000>;
 };
 
diff --git a/drivers/edac/zynq_edac.c b/drivers/edac/zynq_edac.c
index c126aa0..9708e27 100644
--- a/drivers/edac/zynq_edac.c
+++ b/drivers/edac/zynq_edac.c
@@ -589,7 +589,7 @@ static int zynq_edac_mc_remove(struct platform_device *pdev)
 
 /* Device tree node type and compatible tuples this driver can match on */
 static struct of_device_id zynq_edac_match[] = {
-	{ .compatible = "xlnx,zynq-ddrc-1.00.a", },
+	{ .compatible = "xlnx,zynq-ddrc-1.0", },
 	{ /* end of table */ }
 };
 
-- 
1.7.5.4

