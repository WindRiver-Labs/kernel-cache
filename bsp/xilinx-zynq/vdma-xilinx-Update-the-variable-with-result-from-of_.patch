From 24d0e270bc386ae38de5923a0133df22e1d375d1 Mon Sep 17 00:00:00 2001
From: Srikanth Thokala <srikanth.thokala@xilinx.com>
Date: Fri, 13 Dec 2013 14:37:32 +0530
Subject: [PATCH 336/509] vdma: xilinx: Update the variable with result from
 of_property_read_bool

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit fef9b04441ed3d6f50bb0a60b1f7477ccb698cb2

There is no need to check the result from of_property_read_bool and
then update the variable.  So, this patch removes this redundant
condition checks.

Signed-off-by: Srikanth Thokala <sthokal@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/dma/xilinx/xilinx_axivdma.c |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axivdma.c b/drivers/dma/xilinx/xilinx_axivdma.c
index 49c182c..d5b4ce2 100644
--- a/drivers/dma/xilinx/xilinx_axivdma.c
+++ b/drivers/dma/xilinx/xilinx_axivdma.c
@@ -1222,11 +1222,9 @@ static int xilinx_vdma_chan_probe(struct xilinx_vdma_device *xdev,
 			(unsigned long)chan);
 
 	/* Retrieve the channel properties from the device tree */
-	if (of_property_read_bool(node, "xlnx,include-dre"))
-		has_dre = true;
+	has_dre = of_property_read_bool(node, "xlnx,include-dre");
 
-	if (of_property_read_bool(node, "xlnx,genlock-mode"))
-		chan->genlock = true;
+	chan->genlock = of_property_read_bool(node, "xlnx,genlock-mode");
 
 	err = of_property_read_u32(node, "xlnx,datawidth", &value);
 	if (!err) {
@@ -1390,8 +1388,7 @@ static int xilinx_vdma_of_probe(struct platform_device *pdev)
 		return PTR_ERR(xdev->regs);
 
 	/* Retrieve the DMA engine properties from the device tree */
-	if (of_property_read_bool(node, "xlnx,include-sg"))
-		xdev->has_sg = true;
+	xdev->has_sg = of_property_read_bool(node, "xlnx,include-sg");
 
 	err = of_property_read_u32(node, "xlnx,num-fstores", &num_frames);
 	if (err < 0) {
-- 
1.7.5.4

