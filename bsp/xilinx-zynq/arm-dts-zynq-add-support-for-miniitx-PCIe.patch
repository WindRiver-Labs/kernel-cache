From 5efff383526da2c6a3df16825c0b162d9779c58f Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Tue, 8 Dec 2015 11:14:15 +0800
Subject: [PATCH 04/10] arm: dts: zynq: add support for miniitx PCIe

Create a PCIe-related dts for MiniITX depended on zynq-mini-itx.dtsi

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/boot/dts/zynq-mini-itx-adv7511-pcie.dts |   30 ++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)
 create mode 100644 arch/arm/boot/dts/zynq-mini-itx-adv7511-pcie.dts

diff --git a/arch/arm/boot/dts/zynq-mini-itx-adv7511-pcie.dts b/arch/arm/boot/dts/zynq-mini-itx-adv7511-pcie.dts
new file mode 100644
index 0000000..c04efa0
--- /dev/null
+++ b/arch/arm/boot/dts/zynq-mini-itx-adv7511-pcie.dts
@@ -0,0 +1,30 @@
+/dts-v1/;
+/include/ "zynq-mini-itx.dtsi"
+
+/ {
+
+	axi-pcie@50000000 {
+		#address-cells = <0x3>;
+		#size-cells = <0x2>;
+		#interrupt-cells = <0x1>;
+		compatible = "xlnx,axi-pcie-host-1.00.a";
+		reg = <0x50000000 0x10000000>;
+		device_type = "pci";
+		interrupt-parent = <&intc>;
+		interrupts = <0 0x3b 4>;
+		interrupt-map-mask = <0x0 0x0 0x0 0x7>;
+		interrupt-map = <0x0 0x0 0x0 0x1 0x5 0x1 0x0 0x0 0x0 0x2 0x5 0x2 0x0 0x0 0x0 0x3 0x5 0x3 0x0 0x0 0x0 0x4 0x5 0x4>;
+		ranges = <0x2000000 0x0 0x60000000 0x60000000 0x0 0x10000000>;
+
+		interrupt-controller {
+			interrupt-controller;
+			#address-cells = <0x0>;
+			#interrupt-cells = <0x1>;
+		};
+	};
+};
+
+&clkc {
+		ps-clk-frequency = <0x1fca055>;
+		fclk-enable = <0xf>;
+};
-- 
1.7.5.4

