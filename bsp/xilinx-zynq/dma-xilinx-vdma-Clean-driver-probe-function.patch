From 9744332630f94b6b7ae0f853a60ce484e916a181 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Fri, 8 Nov 2013 13:07:29 +0100
Subject: [PATCH 321/509] dma: xilinx: vdma: Clean driver probe function

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 740f963ac34faaf96e34519d3dd3d58a51cf313b

- Remove unneeded error message for devm_kzalloc

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/dma/xilinx/xilinx_axivdma.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axivdma.c b/drivers/dma/xilinx/xilinx_axivdma.c
index 64d35aa..7ce4948 100644
--- a/drivers/dma/xilinx/xilinx_axivdma.c
+++ b/drivers/dma/xilinx/xilinx_axivdma.c
@@ -1171,10 +1171,8 @@ static int xilinx_vdma_of_probe(struct platform_device *op)
 
 	/* Allocate and initialize the DMA engine structure */
 	xdev = devm_kzalloc(&op->dev, sizeof(*xdev), GFP_KERNEL);
-	if (!xdev) {
-		dev_err(&op->dev, "Not enough memory for device\n");
+	if (!xdev)
 		return -ENOMEM;
-	}
 
 	xdev->dev = &op->dev;
 
-- 
1.7.5.4

