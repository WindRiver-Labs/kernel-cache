From fa3868b56f688fd547b6c42cc7538619c83e01e6 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Mon, 23 Nov 2015 14:45:32 +0800
Subject: [PATCH 300/301] arm: dts: zynq: use xilinx ethernet driver and active
 watchdog status

This patch refers to the following git repo. about ethernet update:
  https://github.com/Xilinx/linux-xlnx.git

The latest zc702 has transferred to this change, so we do the similar
updates as well.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/boot/dts/zynq-zc702.dts | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/arch/arm/boot/dts/zynq-zc702.dts b/arch/arm/boot/dts/zynq-zc702.dts
index 2062503..8522828 100644
--- a/arch/arm/boot/dts/zynq-zc702.dts
+++ b/arch/arm/boot/dts/zynq-zc702.dts
@@ -119,7 +119,10 @@
 };
 
 &gem0 {
+	compatible = "xlnx,ps7-ethernet-1.00.a";
 	status = "okay";
+	clocks = <&clkc 30>, <&clkc 13>;
+	clock-names =  "aper_clk", "ref_clk";
 	phy-mode = "rgmii-id";
 	phy-handle = <&ethernet_phy>;
 	pinctrl-names = "default";
@@ -423,3 +426,8 @@
 	pinctrl-0 = <&pinctrl_usb0_default>;
 	xlnx,phy-reset-gpio = <&gpio0 7 0>;
 };
+
+&watchdog0 {
+	status = "okay";
+	reset-on-timeout;
+};
-- 
2.0.2

