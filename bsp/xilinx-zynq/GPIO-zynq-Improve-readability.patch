From 7c451dfc6d9968b6563518ebdac297c4a0c0b34d Mon Sep 17 00:00:00 2001
From: Harini Katakam <harini.katakam@xilinx.com>
Date: Thu, 27 Mar 2014 15:10:23 +0530
Subject: [PATCH 481/509] GPIO: zynq: Improve readability

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit a871a507e2e777ebb5c37a3e1074dd14d8a46887

Minor changes to improve readability.

Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/gpio/gpio-zynq.c |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

diff --git a/drivers/gpio/gpio-zynq.c b/drivers/gpio/gpio-zynq.c
index fec4c00..6cd2c1c 100644
--- a/drivers/gpio/gpio-zynq.c
+++ b/drivers/gpio/gpio-zynq.c
@@ -134,11 +134,11 @@ static inline void zynq_gpio_get_bank_pin(unsigned int pin_num,
 		if (pin_num <= zynq_gpio_pin_table[*bank_num])
 			break;
 
-	if (*bank_num == 0)
+	if (!(*bank_num))
 		*bank_pin_num = pin_num;
 	else
-		*bank_pin_num = pin_num % (zynq_gpio_pin_table[*bank_num - 1] +
-				1);
+		*bank_pin_num = pin_num %
+				(zynq_gpio_pin_table[*bank_num - 1] + 1);
 }
 
 /**
@@ -289,8 +289,7 @@ static void zynq_gpio_irq_ack(struct irq_data *irq_data)
 
 	device_pin_num = irq_data->hwirq;
 	zynq_gpio_get_bank_pin(device_pin_num, &bank_num, &bank_pin_num);
-	zynq_gpio_writereg(gpio->base_addr +
-			   ZYNQ_GPIO_INTSTS_OFFSET(bank_num),
+	zynq_gpio_writereg(gpio->base_addr + ZYNQ_GPIO_INTSTS_OFFSET(bank_num),
 			   1 << bank_pin_num);
 }
 
@@ -454,7 +453,7 @@ static void zynq_gpio_irqhandler(unsigned int irq, struct irq_desc *desc)
 		int_sts &= ~int_enb;
 
 		for (; int_sts != 0; int_sts >>= 1, gpio_irq++) {
-			if ((int_sts & 1) == 0)
+			if (!(int_sts & 1))
 				continue;
 			gpio_irq_desc = irq_to_desc(gpio_irq);
 			BUG_ON(!gpio_irq_desc);
-- 
1.7.5.4

