From b9e0f6968eb7564274a4c7cb68fae4bf7554e561 Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Tue, 18 Mar 2014 09:18:16 -0700
Subject: [PATCH 194/456] media: xilinx: vip: Add yuv444 and bayer formats

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Add more video formats: yuv444 and bayer(rggb, grbg, gbrg, bggr).

Signed-off-by: Hyun Kwon <hyunk@xilinx.com>
Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit aae4345e34167860ab4579642fa5ef340fa72d9d)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../devicetree/bindings/media/xilinx/video.txt     |   10 ++++++++++
 drivers/media/platform/xilinx/xilinx-vip.c         |    5 +++++
 2 files changed, 15 insertions(+), 0 deletions(-)

diff --git a/Documentation/devicetree/bindings/media/xilinx/video.txt b/Documentation/devicetree/bindings/media/xilinx/video.txt
index cd98fc4..10fd006 100644
--- a/Documentation/devicetree/bindings/media/xilinx/video.txt
+++ b/Documentation/devicetree/bindings/media/xilinx/video.txt
@@ -22,6 +22,11 @@ The following properties are common to all Xilinx video IP cores.
 	rbg
 	xrgb
 	yuv422
+	yuv444
+	rggb
+	grbg
+	gbrg
+	bggr
 
 - xlnx,axi-video-width: This property qualifies the video format with the
   sample width expressed as a number of bits per pixel component. All components
@@ -36,4 +41,9 @@ Format		| Width	| Media bus code
 rbg		| 8	| V4L2_MBUS_FMT_RBG888_1X24
 xrgb		| 8	| V4L2_MBUS_FMT_RGB888_1X32_PADHI
 yuv422		| 8	| V4L2_MBUS_FMT_UYVY8_1X16
+yuv444		| 8	| V4L2_MBUS_FMT_VUY888_1X24
+rggb		| 8	| V4L2_MBUS_FMT_SRGGB8_1X8
+grbg		| 8	| V4L2_MBUS_FMT_SGRBG8_1X8
+gbrg		| 8	| V4L2_MBUS_FMT_SGBRG8_1X8
+bggr		| 8	| V4L2_MBUS_FMT_SBGGR8_1X8
 ----------------+-------+-------------------------------------------------------
diff --git a/drivers/media/platform/xilinx/xilinx-vip.c b/drivers/media/platform/xilinx/xilinx-vip.c
index 41d599a..567a713 100644
--- a/drivers/media/platform/xilinx/xilinx-vip.c
+++ b/drivers/media/platform/xilinx/xilinx-vip.c
@@ -24,6 +24,11 @@ static const struct xvip_video_format xvip_video_formats[] = {
 	{ "rbg", 8, 3, V4L2_MBUS_FMT_RBG888_1X24, 0 },
 	{ "xrgb", 8, 4, V4L2_MBUS_FMT_RGB888_1X32_PADHI, V4L2_PIX_FMT_BGR32 },
 	{ "yuv422", 8, 2, V4L2_MBUS_FMT_UYVY8_1X16, V4L2_PIX_FMT_YUYV },
+	{ "yuv444", 8, 3, V4L2_MBUS_FMT_VUY8_1X24, V4L2_PIX_FMT_YUV444 },
+	{ "rggb", 8, 1, V4L2_MBUS_FMT_SRGGB8_1X8, V4L2_PIX_FMT_SGRBG8 },
+	{ "grbg", 8, 1, V4L2_MBUS_FMT_SGRBG8_1X8, V4L2_PIX_FMT_SGRBG8 },
+	{ "gbrg", 8, 1, V4L2_MBUS_FMT_SGBRG8_1X8, V4L2_PIX_FMT_SGBRG8 },
+	{ "bggr", 8, 1, V4L2_MBUS_FMT_SBGGR8_1X8, V4L2_PIX_FMT_SBGGR8 },
 };
 
 /**
-- 
1.7.5.4

