From 23613f1d5c6dd25520b9425cbd444e40d30e6478 Mon Sep 17 00:00:00 2001
From: Nicolae Rosia <nicolae.rosia@certsign.ro>
Date: Mon, 5 Jan 2015 18:11:27 +0200
Subject: [PATCH 027/456] ARM: zynq: xilinx_axidma: refactor if/else in
 xilinx_dma_update_completed_cookie

Refactor the if/else so it improves clarity

Signed-off-by: Nicolae Rosia <nicolae.rosia@certsign.ro>
Acked-by: Kedareswara rao Appana <appanad@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 8271885137d5811929532397a936b78d013ad775)
---
 drivers/dma/xilinx/xilinx_axidma.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axidma.c b/drivers/dma/xilinx/xilinx_axidma.c
index 731b61f..3b8d478 100644
--- a/drivers/dma/xilinx/xilinx_axidma.c
+++ b/drivers/dma/xilinx/xilinx_axidma.c
@@ -447,11 +447,10 @@ static void xilinx_dma_update_completed_cookie(struct xilinx_dma_chan *chan)
 			hw = &desc->hw;
 
 			/* If a BD has no status bits set, hw has it */
-			if (!(hw->status & XILINX_DMA_BD_STS_ALL_MASK)) {
-				break;
-			} else {
+			if (hw->status & XILINX_DMA_BD_STS_ALL_MASK)
 				chan->completed_cookie = desc->async_tx.cookie;
-			}
+			else
+				break;
 		} else {
 			/* In non-SG mode, all active entries are done */
 			chan->completed_cookie = desc->async_tx.cookie;
-- 
1.7.5.4

