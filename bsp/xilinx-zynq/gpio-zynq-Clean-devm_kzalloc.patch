From b1ee86f8f6bd443a0d6f84760578181219c349ed Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Thu, 7 Nov 2013 16:57:56 +0100
Subject: [PATCH 467/509] gpio: zynq: Clean devm_kzalloc

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit bd0f62ee81ef9529b1b1554aca1c0082506c0fab

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/gpio/gpio-zynq.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpio/gpio-zynq.c b/drivers/gpio/gpio-zynq.c
index b39ab26..d2ace97 100644
--- a/drivers/gpio/gpio-zynq.c
+++ b/drivers/gpio/gpio-zynq.c
@@ -557,7 +557,7 @@ static int zynq_gpio_probe(struct platform_device *pdev)
 	struct resource *res;
 	int pin_num, bank_num, gpio_irq;
 
-	gpio = devm_kzalloc(&pdev->dev, sizeof(struct zynq_gpio), GFP_KERNEL);
+	gpio = devm_kzalloc(&pdev->dev, sizeof(*gpio), GFP_KERNEL);
 	if (!gpio)
 		return -ENOMEM;
 
-- 
1.7.5.4

