From e0be0eae3f5aaf54b85b72af3a1f5afe37ade61a Mon Sep 17 00:00:00 2001
From: Harini Katakam <harini.katakam@xilinx.com>
Date: Thu, 27 Mar 2014 15:10:20 +0530
Subject: [PATCH 478/509] GPIO: zynq: Use static inline functions for read and
 write register

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 2c6baed7713537ac0940da254d1c61542ebb86b9

Use static inline functions for read and write register.

Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/gpio/gpio-zynq.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

diff --git a/drivers/gpio/gpio-zynq.c b/drivers/gpio/gpio-zynq.c
index 33c3083..d532246 100644
--- a/drivers/gpio/gpio-zynq.c
+++ b/drivers/gpio/gpio-zynq.c
@@ -65,8 +65,15 @@ static struct irq_domain *irq_domain;
 								any, reg-RW */
 
 /* Read/Write access to the GPIO PS registers */
-#define zynq_gpio_readreg(offset)		__raw_readl(offset)
-#define zynq_gpio_writereg(offset, val)	__raw_writel(val, offset)
+static inline u32 zynq_gpio_readreg(void __iomem *offset)
+{
+	return __raw_readl(offset);
+}
+
+static inline void zynq_gpio_writereg(void __iomem *offset, u32 val)
+{
+	__raw_writel(val, offset);
+}
 
 static unsigned int zynq_gpio_pin_table[] = {
 	31, /* 0 - 31 */
-- 
1.7.5.4

