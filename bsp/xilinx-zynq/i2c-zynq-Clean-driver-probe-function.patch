From 567478869b1e0992c389003759789cbe20efc510 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Thu, 7 Nov 2013 17:06:05 +0100
Subject: [PATCH 164/509] i2c: zynq: Clean driver probe function

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 466959e0a58581686d963f45b83ca2e990c9af97

- Remove unneeded error message for devm_ioremap_resource

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/i2c/busses/i2c-zynq.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

diff --git a/drivers/i2c/busses/i2c-zynq.c b/drivers/i2c/busses/i2c-zynq.c
index 10fe4c9..9c29d2a 100644
--- a/drivers/i2c/busses/i2c-zynq.c
+++ b/drivers/i2c/busses/i2c-zynq.c
@@ -823,10 +823,8 @@ static int xi2cps_probe(struct platform_device *pdev)
 
 	r_mem = platform_get_resource(pdev, IORESOURCE_MEM, 0);
 	id->membase = devm_ioremap_resource(&pdev->dev, r_mem);
-	if (IS_ERR(id->membase)) {
-		dev_err(&pdev->dev, "ioremap failed\n");
+	if (IS_ERR(id->membase))
 		return PTR_ERR(id->membase);
-	}
 
 	id->irq = platform_get_irq(pdev, 0);
 
-- 
1.7.5.4

