From 8f8c8247a04291f779fb7b65e18486adb462bef1 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Tue, 4 Feb 2014 15:32:14 +0100
Subject: [PATCH 432/509] watchdog: zynq: Change compat name with zynq name

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit a60849ef0ee989d25a945dce191afc4fb348190e

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/boot/dts/zynq-zc702.dts |    2 +-
 arch/arm/boot/dts/zynq-zc706.dts |    2 +-
 drivers/watchdog/zynq_wdt.c      |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/arm/boot/dts/zynq-zc702.dts b/arch/arm/boot/dts/zynq-zc702.dts
index 7eb2dfa..0603e1b 100644
--- a/arch/arm/boot/dts/zynq-zc702.dts
+++ b/arch/arm/boot/dts/zynq-zc702.dts
@@ -406,7 +406,7 @@
 		} ;
 		ps7_wdt_0: ps7-wdt@f8005000 {
 			clocks = <&clkc 45>;
-			compatible = "xlnx,ps7-wdt-1.00.a";
+			compatible = "xlnx,ps7-wdt-1.00.a", "xlnx,zynq-wdt-1.00.a";
 			device_type = "watchdog";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 9 1>;
diff --git a/arch/arm/boot/dts/zynq-zc706.dts b/arch/arm/boot/dts/zynq-zc706.dts
index cf545ec..f5f1ba1 100644
--- a/arch/arm/boot/dts/zynq-zc706.dts
+++ b/arch/arm/boot/dts/zynq-zc706.dts
@@ -399,7 +399,7 @@
 		} ;
 		ps7_wdt_0: ps7-wdt@f8005000 {
 			clocks = <&clkc 45>;
-			compatible = "xlnx,ps7-wdt-1.00.a";
+			compatible = "xlnx,ps7-wdt-1.00.a", "xlnx,zynq-wdt-1.00.a";
 			device_type = "watchdog";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 9 1>;
diff --git a/drivers/watchdog/zynq_wdt.c b/drivers/watchdog/zynq_wdt.c
index 4bb9c1f..2e68cf0 100644
--- a/drivers/watchdog/zynq_wdt.c
+++ b/drivers/watchdog/zynq_wdt.c
@@ -487,7 +487,7 @@ static int zynq_wdt_resume(struct device *dev)
 static SIMPLE_DEV_PM_OPS(zynq_wdt_pm_ops, zynq_wdt_suspend, zynq_wdt_resume);
 
 static struct of_device_id zynq_wdt_of_match[] = {
-	{ .compatible = "xlnx,ps7-wdt-1.00.a", },
+	{ .compatible = "xlnx,zynq-wdt-1.00.a", },
 	{ /* end of table */}
 };
 MODULE_DEVICE_TABLE(of, zynq_wdt_of_match);
-- 
1.7.5.4

