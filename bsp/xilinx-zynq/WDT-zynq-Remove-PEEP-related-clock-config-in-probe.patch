From 31dc9a34d45035f3c11738cd8b2ede1c506517a9 Mon Sep 17 00:00:00 2001
From: Harini Katakam <harini.katakam@xilinx.com>
Date: Fri, 28 Mar 2014 15:56:06 +0530
Subject: [PATCH 444/509] WDT: zynq: Remove PEEP related clock config in probe

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 0c218ea844ca9941513273bb7edb080e5c4d1349

Remove PEEP related clock config in probe as it is no longer necessary

Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/watchdog/zynq_wdt.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/drivers/watchdog/zynq_wdt.c b/drivers/watchdog/zynq_wdt.c
index 1b06e7a..948aaee 100644
--- a/drivers/watchdog/zynq_wdt.c
+++ b/drivers/watchdog/zynq_wdt.c
@@ -397,10 +397,7 @@ static int zynq_wdt_probe(struct platform_device *pdev)
 	}
 
 	clock_f = clk_get_rate(wdt->clk);
-	if (clock_f <= ZYNQ_WDT_CLK_10MHZ) {/* For PEEP */
-		wdt->prescaler = ZYNQ_WDT_PRESCALE_64;
-		wdt->ctrl_clksel = ZYNQ_WDT_PRESCALE_SELECT_64;
-	} else if (clock_f <= ZYNQ_WDT_CLK_75MHZ) {
+	if (clock_f <= ZYNQ_WDT_CLK_75MHZ) {
 		wdt->prescaler = ZYNQ_WDT_PRESCALE_512;
 		wdt->ctrl_clksel = ZYNQ_WDT_PRESCALE_SELECT_512;
 	} else { /* For Zynq */
-- 
1.7.5.4

