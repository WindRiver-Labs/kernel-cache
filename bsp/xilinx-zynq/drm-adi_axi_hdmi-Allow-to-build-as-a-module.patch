From 8e05fb12c065e1dc828e2b4b55cbad2bcd6bf12f Mon Sep 17 00:00:00 2001
From: Lars-Peter Clausen <lars@metafoo.de>
Date: Tue, 19 Feb 2013 10:23:29 +0100
Subject: [PATCH 227/509] drm: adi_axi_hdmi: Allow to build as a module

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 0434f6afad5d1cae9d9eecaa47075170554cd060

Allow the adi_axi_hdmi driver to be built as a module.

Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/gpu/drm/adi_axi_hdmi/Makefile       |    2 +-
 drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/adi_axi_hdmi/Makefile b/drivers/gpu/drm/adi_axi_hdmi/Makefile
index 053f910..5a889bd 100644
--- a/drivers/gpu/drm/adi_axi_hdmi/Makefile
+++ b/drivers/gpu/drm/adi_axi_hdmi/Makefile
@@ -4,4 +4,4 @@
 
 adi_axi_hdmi-y := axi_hdmi_encoder.o axi_hdmi_crtc.o axi_hdmi_drv.o
 
-obj-y += adi_axi_hdmi.o
+obj-$(CONFIG_DRM_ADI_AXI_HDMI) += adi_axi_hdmi.o
diff --git a/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c b/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c
index 2c74f00..06046b8 100644
--- a/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c
+++ b/drivers/gpu/drm/adi_axi_hdmi/axi_hdmi_drv.c
@@ -209,6 +209,6 @@ static struct platform_driver adv7511_encoder_driver = {
 };
 module_platform_driver(adv7511_encoder_driver);
 
-MODULE_LICENSE("GPLv2");
+MODULE_LICENSE("GPL v2");
 MODULE_AUTHOR("Lars-Peter Clausen <lars@metafoo.de>");
 MODULE_DESCRIPTION("");
-- 
1.7.5.4

