From f7c2b29fe2a5e83d1db4df97c0239e1192bd6a23 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Tue, 12 Nov 2013 12:37:16 +0100
Subject: [PATCH 421/509] watchdog: zynq: Remove busy flag

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 282a385dd5c21cdb89cfb58a7049e1b1eba122bb

This variable is not used in any sensible way.

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/watchdog/zynq_wdt.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/drivers/watchdog/zynq_wdt.c b/drivers/watchdog/zynq_wdt.c
index 750cf0e..9a6e1ab 100644
--- a/drivers/watchdog/zynq_wdt.c
+++ b/drivers/watchdog/zynq_wdt.c
@@ -52,8 +52,7 @@ MODULE_PARM_DESC(nowayout,
  */
 struct zynq_wdt {
 	void __iomem		*regs;		/* Base address */
-	unsigned long		busy;		/* Device Status */
-	int			rst;		/* Reset flag */
+	u32			rst;		/* Reset flag */
 	struct clk		*clk;
 	u32			prescalar;
 	u32			ctrl_clksel;
@@ -360,8 +359,6 @@ static int zynq_wdt_probe(struct platform_device *pdev)
 		wdt->ctrl_clksel = 3;
 	}
 
-	/* Initialize the busy flag to zero */
-	clear_bit(0, &wdt->busy);
 	spin_lock_init(&wdt->io_lock);
 
 	/* Register the WDT */
-- 
1.7.5.4

