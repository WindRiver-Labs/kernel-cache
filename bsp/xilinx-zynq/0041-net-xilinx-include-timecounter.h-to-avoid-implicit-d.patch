From a90286666d746771c8e696547d643b5b3fcd1fa6 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Fri, 11 Sep 2015 09:40:37 +0800
Subject: [PATCH 41/53] net: xilinx: include timecounter.h to avoid implicit declaration of function timecounter_init

This patch is to avoid the following compiling error:

drivers/net/ethernet/xilinx/xilinx_emacps.c: In function 'xemacps_systim_to_hwtstamp':
drivers/net/ethernet/xilinx/xilinx_emacps.c:1104:2: error: implicit declaration of function 'timecounter_cyc2time' [-Werror=implicit-function-declaration]
  ns = timecounter_cyc2time(&lp->tc, regval);
  ^
drivers/net/ethernet/xilinx/xilinx_emacps.c: In function 'xemacps_ptp_settime':
drivers/net/ethernet/xilinx/xilinx_emacps.c:1213:2: error: implicit declaration of function 'timecounter_init' [-Werror=implicit-function-declaration]
  timecounter_init(&lp->tc, &lp->cc, ns);

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/xilinx/xilinx_emacps.c |    1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/net/ethernet/xilinx/xilinx_emacps.c b/drivers/net/ethernet/xilinx/xilinx_emacps.c
index d98c27f..8f62db5 100644
--- a/drivers/net/ethernet/xilinx/xilinx_emacps.c
+++ b/drivers/net/ethernet/xilinx/xilinx_emacps.c
@@ -45,6 +45,7 @@
 #include <linux/of_mdio.h>
 #include <linux/timer.h>
 #include <linux/ptp_clock_kernel.h>
+#include <linux/timecounter.h>
 
 /************************** Constant Definitions *****************************/
 
-- 
1.7.10.4

