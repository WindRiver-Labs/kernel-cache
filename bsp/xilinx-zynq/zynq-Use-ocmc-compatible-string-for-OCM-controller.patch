From 33a7c133eb13a2df65721fdb3fb14a9e581c9178 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Fri, 28 Mar 2014 11:52:50 +0100
Subject: [PATCH 025/509] zynq: Use ocmc compatible string for OCM controller

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 495a903c6a5384b6926b72be3b47f997dd14db2f

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 arch/arm/boot/dts/zynq-zc702.dts |    2 +-
 arch/arm/boot/dts/zynq-zc706.dts |    2 +-
 arch/arm/boot/dts/zynq-zed.dts   |    2 +-
 arch/arm/mach-zynq/pm.c          |    2 +-
 arch/arm/mach-zynq/zynq_ocm.c    |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/arm/boot/dts/zynq-zc702.dts b/arch/arm/boot/dts/zynq-zc702.dts
index b6b0e72..8c1a67c 100644
--- a/arch/arm/boot/dts/zynq-zc702.dts
+++ b/arch/arm/boot/dts/zynq-zc702.dts
@@ -249,7 +249,7 @@
 			reg = <0xe0200000 0x1000>;
 		} ;
 		ps7_ocmc_0: ps7-ocmc@f800c000 {
-			compatible = "xlnx,ps7-ocmc-1.00.a", "xlnx,zynq-ocm-1.0";
+			compatible = "xlnx,zynq-ocmc-1.0";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 3 4>;
 			reg = <0xf800c000 0x1000>;
diff --git a/arch/arm/boot/dts/zynq-zc706.dts b/arch/arm/boot/dts/zynq-zc706.dts
index dcffe79..1a07143 100644
--- a/arch/arm/boot/dts/zynq-zc706.dts
+++ b/arch/arm/boot/dts/zynq-zc706.dts
@@ -234,7 +234,7 @@
 			reg = <0xe0200000 0x1000>;
 		} ;
 		ps7_ocmc_0: ps7-ocmc@f800c000 {
-			compatible = "xlnx,ps7-ocmc-1.00.a", "xlnx,zynq-ocm-1.0";
+			compatible = "xlnx,zynq-ocmc-1.0";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 3 4>;
 			reg = <0xf800c000 0x1000>;
diff --git a/arch/arm/boot/dts/zynq-zed.dts b/arch/arm/boot/dts/zynq-zed.dts
index ffd2a5b..85a4705 100644
--- a/arch/arm/boot/dts/zynq-zed.dts
+++ b/arch/arm/boot/dts/zynq-zed.dts
@@ -158,7 +158,7 @@
 			reg = <0xe0200000 0x1000>;
 		} ;
 		ps7_ocmc_0: ps7-ocmc@f800c000 {
-			compatible = "xlnx,ps7-ocmc-1.00.a", "xlnx,zynq-ocm-1.0";
+			compatible = "xlnx,zynq-ocmc-1.0";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 3 4>;
 			reg = <0xf800c000 0x1000>;
diff --git a/arch/arm/mach-zynq/pm.c b/arch/arm/mach-zynq/pm.c
index 17704c2..54fe834 100644
--- a/arch/arm/mach-zynq/pm.c
+++ b/arch/arm/mach-zynq/pm.c
@@ -214,7 +214,7 @@ static void __iomem *zynq_pm_ioremap(const char *comp)
 static void __iomem *zynq_pm_remap_ocm(void)
 {
 	struct device_node *np;
-	const char *comp = "xlnx,zynq-ocm-1.0";
+	const char *comp = "xlnx,zynq-ocmc-1.0";
 	void __iomem *base = NULL;
 
 	np = of_find_compatible_node(NULL, NULL, comp);
diff --git a/arch/arm/mach-zynq/zynq_ocm.c b/arch/arm/mach-zynq/zynq_ocm.c
index 22af853..f6e06e9 100644
--- a/arch/arm/mach-zynq/zynq_ocm.c
+++ b/arch/arm/mach-zynq/zynq_ocm.c
@@ -222,7 +222,7 @@ static int zynq_ocm_remove(struct platform_device *pdev)
 }
 
 static struct of_device_id zynq_ocm_dt_ids[] = {
-	{ .compatible = "xlnx,zynq-ocm-1.0" },
+	{ .compatible = "xlnx,zynq-ocmc-1.0" },
 	{ /* end of table */ }
 };
 
-- 
1.7.5.4

