From 6034460e62a974fd0f7e94fbe58f215c841a32db Mon Sep 17 00:00:00 2001
From: Mike Turquette <mturquette@linaro.org>
Date: Sun, 6 May 2012 18:48:11 -0700
Subject: [PATCH 33/50] clk: mux: assign init data

upstream commit 31df9db99549cd29bbe5e32da4492970e6f97191

The original conversion to struct clk_hw_init failed to add the pointer
assignment in clk_register_mux.

Signed-off-by: Mike Turquette <mturquette@linaro.org>
Reported-by: Sascha Hauer <s.hauer@pengutronix.de>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/clk/clk-mux.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/clk/clk-mux.c b/drivers/clk/clk-mux.c
index 8e97491..fd36a8e 100644
--- a/drivers/clk/clk-mux.c
+++ b/drivers/clk/clk-mux.c
@@ -116,6 +116,7 @@ struct clk *clk_register_mux(struct device *dev, const char *name,
 	mux->width = width;
 	mux->flags = clk_mux_flags;
 	mux->lock = lock;
+	mux->hw.init = &init;
 
 	clk = clk_register(dev, &mux->hw);
 
-- 
1.7.0

