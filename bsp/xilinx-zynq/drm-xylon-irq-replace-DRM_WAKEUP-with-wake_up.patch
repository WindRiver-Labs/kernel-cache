From 5588611c1493e3b9d2ce6f5dd43b03ef6f61902c Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Mon, 5 May 2014 19:52:47 -0700
Subject: [PATCH 140/456] drm: xylon: irq: replace DRM_WAKEUP() with wake_up()

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

DRM_WAKEUP() has been removed, so replace DRM_WAKEUP() call with wake_up().

Signed-off-by: Hyun Kwon <hyunk@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 14fa4d317bbbe5a1c0ff9d0b34a2120243485824)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpu/drm/xylon/xylon_irq.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpu/drm/xylon/xylon_irq.c b/drivers/gpu/drm/xylon/xylon_irq.c
index 626c24b..c10d174 100644
--- a/drivers/gpu/drm/xylon/xylon_irq.c
+++ b/drivers/gpu/drm/xylon/xylon_irq.c
@@ -113,7 +113,7 @@ int xylon_drm_irq_uninstall(struct drm_device *dev)
 	if (dev->num_crtcs) {
 		spin_lock_irqsave(&dev->vbl_lock, irqflags);
 		for (i = 0; i < dev->num_crtcs; i++) {
-			DRM_WAKEUP(&dev->vblank[i].queue);
+			wake_up(&dev->vblank[i].queue);
 			dev->vblank[i].enabled = 0;
 			dev->vblank[i].last =
 				dev->driver->get_vblank_counter(dev, i);
-- 
1.7.5.4

