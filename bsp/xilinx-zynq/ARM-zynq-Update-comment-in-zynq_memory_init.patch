From 4179d770ec2cf89eaea5172855cdb42c0424ba1e Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Tue, 28 Jan 2014 10:15:31 +0100
Subject: [PATCH 003/509] ARM: zynq: Update comment in zynq_memory_init

https://github.com/Xilinx/linux-xlnx.git xilinx-v2014.2-trd
commit b2eb9a71723ddf326ef4faa92a8237e9b8f9a535

Just to be exactly clear about it.

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
---
 arch/arm/mach-zynq/common.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-zynq/common.c b/arch/arm/mach-zynq/common.c
index 911f081..8972b21 100644
--- a/arch/arm/mach-zynq/common.c
+++ b/arch/arm/mach-zynq/common.c
@@ -50,6 +50,13 @@ void __iomem *zynq_scu_base;
  */
 static void __init zynq_memory_init(void)
 {
+	/*
+	 * Reserve the 0-0x4000 addresses (before swapper page tables
+	 * and kernel) which can't be used for DMA.
+	 * 0x0 - 0x4000 - reserving below not to be used by DMA
+	 * 0x4000 - 0x8000 swapper page table
+	 * 0x8000 - 0x80000 kernel .text
+	 */
 	if (!__pa(PAGE_OFFSET))
 		memblock_reserve(__pa(PAGE_OFFSET), __pa(swapper_pg_dir));
 }
-- 
1.7.5.4

