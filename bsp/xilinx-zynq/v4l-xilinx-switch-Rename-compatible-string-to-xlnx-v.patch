From f4c6765eeb3a300f3c92fbf4aa68e6e39df1c24a Mon Sep 17 00:00:00 2001
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Date: Fri, 12 Sep 2014 23:15:21 +0300
Subject: [PATCH 292/456] v4l: xilinx: switch: Rename compatible string to
 xlnx,v-switch

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

This matches the compatible string values used by the DT generator.

Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
(cherry picked from commit a53985e700537b6c94f5eb6445816bbf41cc1331)

Conflicts:
	drivers/media/platform/xilinx/xilinx-switch.c
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../bindings/media/xilinx/xlnx,axi-switch.txt      |   52 --------------------
 .../bindings/media/xilinx/xlnx,v-switch.txt        |   52 ++++++++++++++++++++
 drivers/media/platform/xilinx/xilinx-switch.c      |    4 +-
 3 files changed, 54 insertions(+), 54 deletions(-)
 delete mode 100644 Documentation/devicetree/bindings/media/xilinx/xlnx,axi-switch.txt
 create mode 100644 Documentation/devicetree/bindings/media/xilinx/xlnx,v-switch.txt

diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-switch.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-switch.txt
deleted file mode 100644
index 761c6d9..0000000
--- a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-switch.txt
+++ /dev/null
@@ -1,52 +0,0 @@
-Xilinx Video Switch
--------------------
-
-Required properties:
-
-  - compatible: Must be "xlnx,axi-switch-1.0".
-
-  - reg: Physical base address and length of the registers set for the device.
-
-  - #xlnx,inputs: Number of input ports
-  - #xlnx,outputs: Number of outputs ports
-
-  - ports: Video ports, using the DT bindings defined in ../video-interfaces.txt.
-
-Example:
-
-	axi_switch: axi_switch@43c10000 {
-		compatible = "xlnx,axi-switch-1.0";
-		reg = <0x43c10000 0x10000>;
-
-		#xlnx,inputs = <2>;
-		#xlnx,outputs = <2>;
-
-		ports {
-			#address-cells = <1>;
-			#size-cells = <0>;
-			port@0 {
-				reg = <0>;
-				switch_in0: endpoint {
-					remote-endpoint = <&tpg_out>;
-				};
-			};
-			port@1 {
-				reg = <1>;
-				switch_in1: endpoint {
-					remote-endpoint = <&cresample0_out>;
-				};
-			};
-			port@2 {
-				reg = <2>;
-				switch_out0: endpoint {
-					remote-endpoint = <&scaler0_in>;
-				};
-			};
-			port@3 {
-				reg = <3>;
-				switch_out1: endpoint {
-					remote-endpoint = <&vcap0_in1>;
-				};
-			};
-		};
-	};
diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,v-switch.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,v-switch.txt
new file mode 100644
index 0000000..9aee659
--- /dev/null
+++ b/Documentation/devicetree/bindings/media/xilinx/xlnx,v-switch.txt
@@ -0,0 +1,52 @@
+Xilinx Video Switch
+-------------------
+
+Required properties:
+
+  - compatible: Must be "xlnx,v-switch-1.0".
+
+  - reg: Physical base address and length of the registers set for the device.
+
+  - #xlnx,inputs: Number of input ports
+  - #xlnx,outputs: Number of outputs ports
+
+  - ports: Video ports, using the DT bindings defined in ../video-interfaces.txt.
+
+Example:
+
+	axi_switch: axi_switch@43c10000 {
+		compatible = "xlnx,v-switch-1.0";
+		reg = <0x43c10000 0x10000>;
+
+		#xlnx,inputs = <2>;
+		#xlnx,outputs = <2>;
+
+		ports {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			port@0 {
+				reg = <0>;
+				switch_in0: endpoint {
+					remote-endpoint = <&tpg_out>;
+				};
+			};
+			port@1 {
+				reg = <1>;
+				switch_in1: endpoint {
+					remote-endpoint = <&cresample0_out>;
+				};
+			};
+			port@2 {
+				reg = <2>;
+				switch_out0: endpoint {
+					remote-endpoint = <&scaler0_in>;
+				};
+			};
+			port@3 {
+				reg = <3>;
+				switch_out1: endpoint {
+					remote-endpoint = <&vcap0_in1>;
+				};
+			};
+		};
+	};
diff --git a/drivers/media/platform/xilinx/xilinx-switch.c b/drivers/media/platform/xilinx/xilinx-switch.c
index b7b5a57..9ff8068 100644
--- a/drivers/media/platform/xilinx/xilinx-switch.c
+++ b/drivers/media/platform/xilinx/xilinx-switch.c
@@ -432,7 +432,7 @@ static int xsw_remove(struct platform_device *pdev)
 }
 
 static const struct of_device_id xsw_of_id_table[] = {
-	{ .compatible = "xlnx,axi-switch-1.0" },
+	{ .compatible = "xlnx,v-switch-1.0" },
 	{ }
 };
 MODULE_DEVICE_TABLE(of, xsw_of_id_table);
@@ -440,7 +440,7 @@ MODULE_DEVICE_TABLE(of, xsw_of_id_table);
 static struct platform_driver xsw_driver = {
 	.driver = {
 		.owner		= THIS_MODULE,
-		.name		= "xilinx-axi-switch",
+		.name		= "xilinx-switch",
 		.of_match_table	= xsw_of_id_table,
 	},
 	.probe			= xsw_probe,
-- 
1.7.5.4

