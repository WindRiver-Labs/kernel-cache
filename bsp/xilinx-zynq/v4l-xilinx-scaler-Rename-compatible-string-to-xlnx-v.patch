From 9c719a5f8702212ebc12194f3cec5cf6f744e364 Mon Sep 17 00:00:00 2001
From: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
Date: Fri, 12 Sep 2014 23:15:02 +0300
Subject: [PATCH 291/456] v4l: xilinx: scaler: Rename compatible string to
 xlnx,v-scaler

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

This matches the compatible string values used by the DT generator.

Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
(cherry picked from commit b83cac2e0255242c24485c7c59343d4b98abeba2)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../bindings/media/xilinx/xlnx,axi-scaler.txt      |   72 --------------------
 .../bindings/media/xilinx/xlnx,v-scaler.txt        |   72 ++++++++++++++++++++
 drivers/media/platform/xilinx/xilinx-scaler.c      |    2 +-
 3 files changed, 73 insertions(+), 73 deletions(-)
 delete mode 100644 Documentation/devicetree/bindings/media/xilinx/xlnx,axi-scaler.txt
 create mode 100644 Documentation/devicetree/bindings/media/xilinx/xlnx,v-scaler.txt

diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-scaler.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-scaler.txt
deleted file mode 100644
index b3c9cf5..0000000
--- a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-scaler.txt
+++ /dev/null
@@ -1,72 +0,0 @@
-Xilinx Scaler (SCALER)
-------------------------------------
-
-Required properties:
-
-- compatible: Must be "xlnx,axi-scaler-8.1".
-
-- reg: Physical base address and length of the registers set for the device.
-
-- xlnx,num-hori-taps, xlnx,num-vert-taps: The number of horizontal and vertical
-  taps for scaling filter(range: 2 - 12).
-
-- xlnx,max-num-phases: The maximum number of phases for scaling filter
-  (range: 2 - 64).
-
-- ports: Video ports, using the DT bindings defined in ../video-interfaces.txt.
-  The scaler has an input port (0) and an output port (1).
-
-Optional properties:
-
-- xlnx,separate-yc-coef: When set, this boolean property specifies that
-  the hardware uses separate coefficients for the luma and chroma filters.
-  Otherwise a single set of coefficients is shared for both.
-
-- xlnx,separate-hv-coef: When set, this boolean property specifies that
-  the hardware uses separate coefficients for the horizontal and vertical
-  filters. Otherwise a single set of coefficients is shared for both.
-
-Required port properties:
-
-- xlnx,axi-video-format: Must be one of "rbg", "yuv444", "yuv422", and "yuv420"
-  both input port (0) and output port (1). Both formats must be identical.
-
-- xlnx,axi-video-width: Video width as defined in video.txt
-
-Example:
-
-	axi_scaler_0: axi_scaler {
-		compatible = "xlnx,axi-scaler-8.1";
-		reg = <0x43c30000 0x10000>;
-
-		xlnx,num-hori-taps = <12>;
-		xlnx,num-vert-taps = <12>;
-		xlnx,max-num-phases = <4>;
-		xlnx,separate-hv-coef;
-
-		ports {
-			#address-cells = <1>;
-			#size-cells = <0>;
-
-			port@0 {
-				reg = <0>;
-
-				xlnx,axi-video-format = "yuv422";
-				xlnx,axi-video-width = <8>;
-
-				scaler0_in: endpoint {
-					remote-endpoint = <&cresample0_out>;
-				};
-			};
-			port@1 {
-				reg = <1>;
-
-				xlnx,axi-video-format = "yuv422";
-				xlnx,axi-video-width = <8>;
-
-				scaler0_out: endpoint {
-					remote-endpoint = <&vcap0_in>;
-				};
-			};
-		};
-	};
diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,v-scaler.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,v-scaler.txt
new file mode 100644
index 0000000..676c370
--- /dev/null
+++ b/Documentation/devicetree/bindings/media/xilinx/xlnx,v-scaler.txt
@@ -0,0 +1,72 @@
+Xilinx Scaler (SCALER)
+------------------------------------
+
+Required properties:
+
+- compatible: Must be "xlnx,v-scaler-8.1".
+
+- reg: Physical base address and length of the registers set for the device.
+
+- xlnx,num-hori-taps, xlnx,num-vert-taps: The number of horizontal and vertical
+  taps for scaling filter(range: 2 - 12).
+
+- xlnx,max-num-phases: The maximum number of phases for scaling filter
+  (range: 2 - 64).
+
+- ports: Video ports, using the DT bindings defined in ../video-interfaces.txt.
+  The scaler has an input port (0) and an output port (1).
+
+Optional properties:
+
+- xlnx,separate-yc-coef: When set, this boolean property specifies that
+  the hardware uses separate coefficients for the luma and chroma filters.
+  Otherwise a single set of coefficients is shared for both.
+
+- xlnx,separate-hv-coef: When set, this boolean property specifies that
+  the hardware uses separate coefficients for the horizontal and vertical
+  filters. Otherwise a single set of coefficients is shared for both.
+
+Required port properties:
+
+- xlnx,axi-video-format: Must be one of "rbg", "yuv444", "yuv422", and "yuv420"
+  both input port (0) and output port (1). Both formats must be identical.
+
+- xlnx,axi-video-width: Video width as defined in video.txt
+
+Example:
+
+	axi_scaler_0: axi_scaler {
+		compatible = "xlnx,v-scaler-8.1";
+		reg = <0x43c30000 0x10000>;
+
+		xlnx,num-hori-taps = <12>;
+		xlnx,num-vert-taps = <12>;
+		xlnx,max-num-phases = <4>;
+		xlnx,separate-hv-coef;
+
+		ports {
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			port@0 {
+				reg = <0>;
+
+				xlnx,axi-video-format = "yuv422";
+				xlnx,axi-video-width = <8>;
+
+				scaler0_in: endpoint {
+					remote-endpoint = <&cresample0_out>;
+				};
+			};
+			port@1 {
+				reg = <1>;
+
+				xlnx,axi-video-format = "yuv422";
+				xlnx,axi-video-width = <8>;
+
+				scaler0_out: endpoint {
+					remote-endpoint = <&vcap0_in>;
+				};
+			};
+		};
+	};
diff --git a/drivers/media/platform/xilinx/xilinx-scaler.c b/drivers/media/platform/xilinx/xilinx-scaler.c
index b757206..27cec58 100644
--- a/drivers/media/platform/xilinx/xilinx-scaler.c
+++ b/drivers/media/platform/xilinx/xilinx-scaler.c
@@ -669,7 +669,7 @@ static int xscaler_remove(struct platform_device *pdev)
 static SIMPLE_DEV_PM_OPS(xscaler_pm_ops, xscaler_pm_suspend, xscaler_pm_resume);
 
 static const struct of_device_id xscaler_of_id_table[] = {
-	{ .compatible = "xlnx,axi-scaler-8.1" },
+	{ .compatible = "xlnx,v-scaler-8.1" },
 	{ }
 };
 MODULE_DEVICE_TABLE(of, xscaler_of_id_table);
-- 
1.7.5.4

