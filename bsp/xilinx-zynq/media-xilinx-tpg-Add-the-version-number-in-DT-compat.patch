From 486b6324aa3d2e1636681abc659d886ed1658fd9 Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Tue, 18 Mar 2014 09:18:38 -0700
Subject: [PATCH 216/456] media: xilinx: tpg: Add the version number in DT
 compatible string

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

The supported version number of TPG IP is added to the compatible string.

Signed-off-by: Hyun Kwon <hyunk@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 1e7028072eb5fc5b976ad875f936584392c31fcb)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../bindings/media/xilinx/xlnx,axi-tpg.txt         |    4 ++--
 drivers/media/platform/xilinx/xilinx-tpg.c         |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-tpg.txt b/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-tpg.txt
index 88d1eeb..a703638 100644
--- a/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-tpg.txt
+++ b/Documentation/devicetree/bindings/media/xilinx/xlnx,axi-tpg.txt
@@ -3,7 +3,7 @@ Xilinx Video Test Pattern Generator (TPG)
 
 Required properties:
 
-- compatible: Must be "xlnx,axi-tpg".
+- compatible: Must be "xlnx,axi-tpg-5.0".
 
 - reg: Physical base address and length of the registers set for the device.
 
@@ -16,7 +16,7 @@ Required properties:
 Example:
 
 	axi_tpg_0: axi_tpg@40050000 {
-		compatible = "xlnx,axi-tpg";
+		compatible = "xlnx,axi-tpg-5.0";
 		reg = <0x40050000 0x10000>;
 
 		xlnx,axi-video-format = "yuv422";
diff --git a/drivers/media/platform/xilinx/xilinx-tpg.c b/drivers/media/platform/xilinx/xilinx-tpg.c
index a7e1d08e..5f292dd 100644
--- a/drivers/media/platform/xilinx/xilinx-tpg.c
+++ b/drivers/media/platform/xilinx/xilinx-tpg.c
@@ -335,7 +335,7 @@ static int xtpg_remove(struct platform_device *pdev)
 }
 
 static const struct of_device_id xtpg_of_id_table[] = {
-	{ .compatible = "xlnx,axi-tpg" },
+	{ .compatible = "xlnx,axi-tpg-5.0" },
 	{ }
 };
 MODULE_DEVICE_TABLE(of, xtpg_of_id_table);
-- 
1.7.5.4

