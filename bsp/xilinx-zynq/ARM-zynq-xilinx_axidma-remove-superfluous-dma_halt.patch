From 7e41cd4d7de715a426660db8936c2881724fe6c7 Mon Sep 17 00:00:00 2001
From: Nicolae Rosia <nicolae.rosia@certsign.ro>
Date: Mon, 5 Jan 2015 18:07:12 +0200
Subject: [PATCH 016/456] ARM: zynq: xilinx_axidma: remove superfluous
 dma_halt

In simple mode, the DMA Engine is halted twice. Fix this.

Signed-off-by: Nicolae Rosia <nicolae.rosia@certsign.ro>
Acked-by: Kedareswara rao Appana <appanad@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 76408ebad3cb8738086a005ee0657b20ecadc6c6)
---
 drivers/dma/xilinx/xilinx_axidma.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axidma.c b/drivers/dma/xilinx/xilinx_axidma.c
index af7ffdb..cea9177 100644
--- a/drivers/dma/xilinx/xilinx_axidma.c
+++ b/drivers/dma/xilinx/xilinx_axidma.c
@@ -395,8 +395,6 @@ static void xilinx_dma_start_transfer(struct xilinx_dma_chan *chan)
 	}
 
 	/* In simple mode */
-	dma_halt(chan);
-
 	if (chan->err)
 		goto out_unlock;
 
-- 
1.7.5.4

