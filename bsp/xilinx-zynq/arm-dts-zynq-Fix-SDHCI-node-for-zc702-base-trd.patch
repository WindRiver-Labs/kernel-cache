From 5ce08af87634b821c242cf538c54e13c0856b645 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Mon, 9 Mar 2015 15:14:56 +0800
Subject: [PATCH 2/3] arm: dts: zynq: Fix SDHCI node for zc702-base-trd

This patch is to fix SDHCI node for TRD on zc702 board, and it comes from:
  git://github.com/Xilinx/linux-xlnx.git

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/boot/dts/zynq-zc702-base-trd.dts |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

diff --git a/arch/arm/boot/dts/zynq-zc702-base-trd.dts b/arch/arm/boot/dts/zynq-zc702-base-trd.dts
index ed5fa7c..bd30918 100644
--- a/arch/arm/boot/dts/zynq-zc702-base-trd.dts
+++ b/arch/arm/boot/dts/zynq-zc702-base-trd.dts
@@ -422,11 +422,11 @@
 			reg = <0xf8f00620 0xe0>;
 		};
 
-		ps7-sdio@e0100000 {
-			clock-frequency = <0x2faf080>;
-			clock-names = "clk_xin", "clk_ahb";
-			clocks = <0x2 0x15 0x2 0x20>;
-			compatible = "arasan,sdhci-8.9a";
+		ps7_sd_0: ps7-sdio@e0100000 {
+			clock-frequency = <50000000>;
+			clock-names = "ref_clk", "aper_clk";
+			clocks = <0x02 21>, <0x02 32>;
+			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci", "arasan,sdhci";
 			interrupt-parent = <0x3>;
 			interrupts = <0x0 0x18 0x4>;
 			reg = <0xe0100000 0x1000>;
@@ -441,7 +441,6 @@
 			compatible = "xlnx,zynq-slcr", "syscon";
 			ranges;
 			reg = <0xf8000000 0x1000>;
-
 			clkc@100 {
 				#clock-cells = <0x1>;
 				clock-output-names = "armpll", "ddrpll", "iopll", "cpu_6or4x", "cpu_3or2x", "cpu_2x", "cpu_1x", "ddr2x", "ddr3x", "dci", "lqspi", "smc", "pcap", "gem0", "gem1", "fclk0", "fclk1", "fclk2", "fclk3", "can0", "can1", "sdio0", "sdio1", "uart0", "uart1", "spi0", "spi1", "dma", "usb0_aper", "usb1_aper", "gem0_aper", "gem1_aper", "sdio0_aper", "sdio1_aper", "spi0_aper", "spi1_aper", "can0_aper", "can1_aper", "i2c0_aper", "i2c1_aper", "uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper", "swdt", "dbg_trc", "dbg_apb";
-- 
1.7.5.4

