From 88231309edbfb251d0873d830bd414cc0db2e7ae Mon Sep 17 00:00:00 2001
From: Harini Katakam <harini.katakam@xilinx.com>
Date: Mon, 17 Mar 2014 13:16:50 +0530
Subject: [PATCH 092/509] SPI: cadence: Remove #ifdef CONFIG_PM_SLEEP and use
 __maybe_unused

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit e2d53ef5e1e4713e083445c86e8e4189995fde52

Remove #ifdef CONFIG_PM_SLEEP and use __maybe_unused.

Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/spi/spi-cadence.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/drivers/spi/spi-cadence.c b/drivers/spi/spi-cadence.c
index 836af80..960aeb8 100644
--- a/drivers/spi/spi-cadence.c
+++ b/drivers/spi/spi-cadence.c
@@ -704,7 +704,6 @@ static int cdns_spi_remove(struct platform_device *pdev)
 	return 0;
 }
 
-#ifdef CONFIG_PM_SLEEP
 /**
  * cdns_spi_suspend - Suspend method for the SPI driver
  * @dev:	Address of the platform_device structure
@@ -714,7 +713,7 @@ static int cdns_spi_remove(struct platform_device *pdev)
  *
  * Return:	0 on success and error value on error
  */
-static int cdns_spi_suspend(struct device *dev)
+static int __maybe_unused cdns_spi_suspend(struct device *dev)
 {
 	struct platform_device *pdev = container_of(dev,
 			struct platform_device, dev);
@@ -750,7 +749,7 @@ static int cdns_spi_suspend(struct device *dev)
  *
  * Return:	0 on success and error value on error
  */
-static int cdns_spi_resume(struct device *dev)
+static int __maybe_unused cdns_spi_resume(struct device *dev)
 {
 	struct platform_device *pdev = container_of(dev,
 			struct platform_device, dev);
@@ -776,7 +775,6 @@ static int cdns_spi_resume(struct device *dev)
 	dev_dbg(&pdev->dev, "resume succeeded\n");
 	return 0;
 }
-#endif /* ! CONFIG_PM_SLEEP */
 
 static SIMPLE_DEV_PM_OPS(cdns_spi_dev_pm_ops, cdns_spi_suspend,
 			 cdns_spi_resume);
-- 
1.7.5.4

