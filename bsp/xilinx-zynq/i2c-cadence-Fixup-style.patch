From bbdc8b9af676449bc2c9ceb93585a288f5dd3697 Mon Sep 17 00:00:00 2001
From: Soren Brinkmann <soren.brinkmann@xilinx.com>
Date: Thu, 10 Apr 2014 08:04:05 -0700
Subject: [PATCH 175/182] i2c: cadence: Fixup style

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Just a few, minor coding coding style fixes.

Signed-off-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit c14c063459b5537731a4f2e6f308d6b37cb3eb27)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/i2c/busses/i2c-cadence.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/i2c/busses/i2c-cadence.c b/drivers/i2c/busses/i2c-cadence.c
index fab5a6c..4c8ef2f 100644
--- a/drivers/i2c/busses/i2c-cadence.c
+++ b/drivers/i2c/busses/i2c-cadence.c
@@ -215,7 +215,7 @@ static irqreturn_t cdns_i2c_isr(int irq, void *ptr)
 			(id->recv_count >= CDNS_I2C_DATA_INTR_DEPTH)) {
 		/* Always read data interrupt threshold bytes */
 		bytes_to_recv = CDNS_I2C_DATA_INTR_DEPTH;
-		id->recv_count = id->recv_count - CDNS_I2C_DATA_INTR_DEPTH;
+		id->recv_count -= CDNS_I2C_DATA_INTR_DEPTH;
 		avail_bytes = cdns_i2c_readreg(CDNS_I2C_XFER_SIZE_OFFSET);
 
 		/*
@@ -326,7 +326,7 @@ static void cdns_i2c_mrecv(struct cdns_i2c *id)
 	ctrl_reg = cdns_i2c_readreg(CDNS_I2C_CR_OFFSET);
 	ctrl_reg |= CDNS_I2C_CR_RW | CDNS_I2C_CR_CLR_FIFO;
 
-	if ((id->p_msg->flags & I2C_M_RECV_LEN) == I2C_M_RECV_LEN)
+	if (id->p_msg->flags & I2C_M_RECV_LEN)
 		id->recv_count = I2C_SMBUS_BLOCK_MAX + 1;
 
 	/*
-- 
1.7.5.4

