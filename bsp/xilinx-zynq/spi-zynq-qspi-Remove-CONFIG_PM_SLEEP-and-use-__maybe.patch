From 9a146ba98241ed4a4edee2c6e2d1fd00c35f8d8e Mon Sep 17 00:00:00 2001
From: Punnaiah Choudary Kalluri <punnaia@xilinx.com>
Date: Mon, 7 Apr 2014 19:46:42 +0530
Subject: [PATCH 116/509] spi: zynq-qspi: Remove CONFIG_PM_SLEEP and use
 __maybe_unused

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 3c28cfb2acdc38cb6a896220e081f9926a9ae2a6

Remove #ifdef CONFIG_PM_SLEEP and use __maybe_unused

Signed-off-by: Punnaiah Choudary Kalluri <punnaia@xilinx.com>
Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/spi/spi-zynq-qspi.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/drivers/spi/spi-zynq-qspi.c b/drivers/spi/spi-zynq-qspi.c
index 56f184f..1e1aedd 100644
--- a/drivers/spi/spi-zynq-qspi.c
+++ b/drivers/spi/spi-zynq-qspi.c
@@ -693,7 +693,6 @@ xfer_start:
 	return transfer->len;
 }
 
-#ifdef CONFIG_PM_SLEEP
 /**
  * zynq_qspi_suspend - Suspend method for the QSPI driver
  * @_dev:	Address of the platform_device structure
@@ -702,7 +701,7 @@ xfer_start:
  *
  * Return:	0 on success and error value on error
  */
-static int zynq_qspi_suspend(struct device *_dev)
+static int __maybe_unused zynq_qspi_suspend(struct device *_dev)
 {
 	struct platform_device *pdev = container_of(_dev,
 			struct platform_device, dev);
@@ -723,7 +722,7 @@ static int zynq_qspi_suspend(struct device *_dev)
  *
  * Return:	0 on success and error value on error
  */
-static int zynq_qspi_resume(struct device *dev)
+static int __maybe_unused zynq_qspi_resume(struct device *dev)
 {
 	struct platform_device *pdev = container_of(dev,
 			struct platform_device, dev);
@@ -748,7 +747,6 @@ static int zynq_qspi_resume(struct device *dev)
 
 	return 0;
 }
-#endif /* ! CONFIG_PM_SLEEP */
 
 static SIMPLE_DEV_PM_OPS(zynq_qspi_dev_pm_ops, zynq_qspi_suspend,
 			 zynq_qspi_resume);
-- 
1.7.5.4

