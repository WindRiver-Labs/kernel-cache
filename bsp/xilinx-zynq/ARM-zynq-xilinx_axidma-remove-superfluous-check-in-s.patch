From 851c53cf520b38e7851c21709c1fbf4aa105fcee Mon Sep 17 00:00:00 2001
From: Nicolae Rosia <nicolae.rosia@certsign.ro>
Date: Mon, 5 Jan 2015 18:07:13 +0200
Subject: [PATCH 017/456] ARM: zynq: xilinx_axidma: remove superfluous check
 in simple mode

The channel's state is checked twice in simple mode. Fix this.

Signed-off-by: Nicolae Rosia <nicolae.rosia@certsign.ro>
Acked-by: Kedareswara rao Appana <appanad@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit b2fe57219b3a9787adfaf89c106d2a6da466153f)
---
 drivers/dma/xilinx/xilinx_axidma.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axidma.c b/drivers/dma/xilinx/xilinx_axidma.c
index cea9177..de32c25 100644
--- a/drivers/dma/xilinx/xilinx_axidma.c
+++ b/drivers/dma/xilinx/xilinx_axidma.c
@@ -395,9 +395,6 @@ static void xilinx_dma_start_transfer(struct xilinx_dma_chan *chan)
 	}
 
 	/* In simple mode */
-	if (chan->err)
-		goto out_unlock;
-
 	desch = list_first_entry(&chan->pending_list,
 				 struct xilinx_dma_desc_sw, node);
 
-- 
1.7.5.4

