From a6f5de986612b7eae510542accb203a3819ad30f Mon Sep 17 00:00:00 2001
From: Harini Katakam <harini.katakam@xilinx.com>
Date: Tue, 6 May 2014 14:59:11 +0530
Subject: [PATCH 148/509] spi: cadence: Add ARM dependency

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit b881d9751306a5549ce6cf121227d75c3c893c0e

In Kconfig, add ARM dependency because readl/writel_relaxed are used.
Remove dependency on SPI_MASTER as this is already under "if SPI_MASTER".

Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/spi/Kconfig |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/spi/Kconfig b/drivers/spi/Kconfig
index df25f5f..2df08e7 100644
--- a/drivers/spi/Kconfig
+++ b/drivers/spi/Kconfig
@@ -137,7 +137,7 @@ config SPI_BUTTERFLY
 
 config SPI_CADENCE
 	tristate "Cadence SPI controller"
-	depends on SPI_MASTER
+	depends on ARM
 	help
 	  This selects the Cadence SPI controller master driver
 	  used by Xilinx Zynq.
-- 
1.7.5.4

