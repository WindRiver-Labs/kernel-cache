From 756f57064ea477ec5a4c9c06af37e3b29d25f2a7 Mon Sep 17 00:00:00 2001
From: Harini Katakam <harini.katakam@xilinx.com>
Date: Thu, 27 Mar 2014 15:10:28 +0530
Subject: [PATCH 052/182] GPIO: zynq: Change return statement to improve
 readbility

This patch comes from:
  https://github.com/Xilinx/linux-xlnx.git

Change retrun statement of gpio_get_value to improve readability.

Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 76449bc479a85670cacef8af195cc1db7bc24361)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpio/gpio-zynq.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/gpio/gpio-zynq.c b/drivers/gpio/gpio-zynq.c
index 153ef18..e24d9bc 100644
--- a/drivers/gpio/gpio-zynq.c
+++ b/drivers/gpio/gpio-zynq.c
@@ -146,14 +146,14 @@ static inline void zynq_gpio_get_bank_pin(unsigned int pin_num,
  */
 static int zynq_gpio_get_value(struct gpio_chip *chip, unsigned int pin)
 {
-	unsigned int bank_num, bank_pin_num;
+	unsigned int bank_num, bank_pin_num, data;
 	struct zynq_gpio *gpio = container_of(chip, struct zynq_gpio, chip);
 
 	zynq_gpio_get_bank_pin(pin, &bank_num, &bank_pin_num);
 
-	return (zynq_gpio_readreg(gpio->base_addr +
-				  ZYNQ_GPIO_DATA_OFFSET(bank_num)) >>
-		bank_pin_num) & ZYNQ_GPIO_PIN_HIGH;
+	data = zynq_gpio_readreg(gpio->base_addr +
+				 ZYNQ_GPIO_DATA_OFFSET(bank_num));
+	return (data >> bank_pin_num) & ZYNQ_GPIO_PIN_HIGH;
 }
 
 /**
-- 
1.7.5.4

