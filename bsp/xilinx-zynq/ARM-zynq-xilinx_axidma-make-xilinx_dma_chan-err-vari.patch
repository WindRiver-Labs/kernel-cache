From ea5757d8eeb9debc9fe6c769f02e727e18b085ef Mon Sep 17 00:00:00 2001
From: Nicolae Rosia <nicolae.rosia@certsign.ro>
Date: Mon, 5 Jan 2015 18:10:23 +0200
Subject: [PATCH 024/456] ARM: zynq: xilinx_axidma: make xilinx_dma_chan err
 variable bool

err from struct xilinx_dma_chan is being used as a boolean variable.
Make it bool.

Signed-off-by: Nicolae Rosia <nicolae.rosia@certsign.ro>
Acked-by: Kedareswara rao Appana <appanad@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit b00d8a3bf763d43a4cb8eb50a90fb8d8f2801828)
---
 drivers/dma/xilinx/xilinx_axidma.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axidma.c b/drivers/dma/xilinx/xilinx_axidma.c
index 3baed51..9e44f66 100644
--- a/drivers/dma/xilinx/xilinx_axidma.c
+++ b/drivers/dma/xilinx/xilinx_axidma.c
@@ -124,7 +124,7 @@ struct xilinx_dma_chan {
 	int max_len;			/* Maximum data len per transfer */
 	bool has_sg;			/* Support scatter transfers */
 	bool has_dre;			/* Support unaligned transfers */
-	int err;			/* Channel has errors */
+	bool err;			/* Channel has errors */
 	struct tasklet_struct tasklet;	/* Cleanup work after irq */
 	u32 private;			/* Match info for channel request */
 	struct xilinx_dma_config config;
@@ -316,7 +316,7 @@ static void dma_halt(struct xilinx_dma_chan *chan)
 	if (!loop) {
 		dev_err(chan->dev, "Cannot stop channel %p: %x\n",
 			chan, dma_read(chan, XILINX_DMA_CONTROL_OFFSET));
-		chan->err = 1;
+		chan->err = true;
 	}
 }
 
@@ -340,7 +340,7 @@ static void dma_start(struct xilinx_dma_chan *chan)
 		dev_err(chan->dev, "Cannot start channel %p: %x\n",
 			 chan, dma_read(chan, XILINX_DMA_CONTROL_OFFSET));
 
-		chan->err = 1;
+		chan->err = true;
 	}
 }
 
@@ -538,7 +538,7 @@ static irqreturn_t dma_intr_handler(int irq, void *data)
 			(unsigned int)dma_read(chan, XILINX_DMA_STATUS_OFFSET),
 			(unsigned int)dma_read(chan, XILINX_DMA_CDESC_OFFSET),
 			(unsigned int)dma_read(chan, XILINX_DMA_TDESC_OFFSET));
-		chan->err = 1;
+		chan->err = true;
 	}
 
 	/*
@@ -611,7 +611,7 @@ static dma_cookie_t xilinx_dma_tx_submit(struct dma_async_tx_descriptor *tx)
 		 * Channel is no longer functional
 		 */
 		if (!dma_reset(chan))
-			chan->err = 0;
+			chan->err = false;
 		else
 			return cookie;
 	}
-- 
1.7.5.4

