From 2cd828b680cc4ae411ea21b2bfa61307665abc86 Mon Sep 17 00:00:00 2001
From: Suneel Garapati <suneel.garapati@xilinx.com>
Date: Fri, 31 May 2013 00:09:40 +0530
Subject: [PATCH 02/20] mtd: m25p80: Fix spansion bank reg comment and fix
 above 80 char lines

git://github.com/Xilinx/linux-xlnx.git xilinx-v14.7
commit ceaabb527e3378a2c723628875cf9bde3de84d37

Changed the comment for spansion bank read opcode and
break the lines larger than 80 chars.

Signed-off-by: Suneel Garapati <suneel.garapati@xilinx.com>
Reviewed-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 drivers/mtd/devices/m25p80.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/drivers/mtd/devices/m25p80.c b/drivers/mtd/devices/m25p80.c
index 0ba554a..2015bfa 100644
--- a/drivers/mtd/devices/m25p80.c
+++ b/drivers/mtd/devices/m25p80.c
@@ -60,7 +60,7 @@
 
 /* Used for Spansion flashes only. */
 #define	OPCODE_BRWR		0x17	/* Bank register write */
-#define	OPCODE_BRRD		0x16	/* Bank register write */
+#define	OPCODE_BRRD		0x16	/* Bank register read */
 
 /* Status Register bits. */
 #define	SR_WIP			1	/* Write in progress */
@@ -179,8 +179,10 @@ static inline int set_4byte(struct m25p *flash, u32 jedec_id, int enable)
 		flash->command[0] = OPCODE_BRRD;
 		spi_write_then_read(flash->spi, flash->command, 1, &val, 1);
 		if (val != enable << 7) {
-			dev_warn(&flash->spi->dev, "fallback to 3-byte address mode\n");
-			dev_warn(&flash->spi->dev, "maximum accessible size is 16MB\n");
+			dev_warn(&flash->spi->dev,
+				 "fallback to 3-byte address mode\n");
+			dev_warn(&flash->spi->dev,
+				 "maximum accessible size is 16MB\n");
 			flash->addr_width = 3;
 		}
 		return ret;
-- 
1.7.5.4

