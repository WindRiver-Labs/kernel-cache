From adc0375b478b249f7d3ff81c1aac5f32869f001a Mon Sep 17 00:00:00 2001
From: Nicolae Rosia <nicolae.rosia@certsign.ro>
Date: Tue, 2 Dec 2014 21:33:33 +0200
Subject: [PATCH 006/456] arm: zynq: xilinx_axidma: replace pr_debug with
 dev_err

Signed-off-by: Nicolae Rosia <nicolae.rosia@certsign.ro>
Acked-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
(cherry picked from commit 83e50a2632e6a4d5c6e72c24c3c0eb893c85dab2)
---
 drivers/dma/xilinx/xilinx_axidma.c |   12 ++++--------
 1 files changed, 4 insertions(+), 8 deletions(-)

diff --git a/drivers/dma/xilinx/xilinx_axidma.c b/drivers/dma/xilinx/xilinx_axidma.c
index 9760ed4..a214c10 100644
--- a/drivers/dma/xilinx/xilinx_axidma.c
+++ b/drivers/dma/xilinx/xilinx_axidma.c
@@ -321,10 +321,8 @@ static void dma_halt(struct xilinx_dma_chan *chan)
 	} while (loop--);
 
 	if (!loop) {
-		pr_debug("Cannot stop channel %x: %x\n",
-			 (unsigned int)chan,
-			 (unsigned int)dma_read(chan,
-						XILINX_DMA_CONTROL_OFFSET));
+		dev_err(chan->dev, "Cannot stop channel %p: %x\n",
+			chan, dma_read(chan, XILINX_DMA_CONTROL_OFFSET));
 		chan->err = 1;
 	}
 }
@@ -346,10 +344,8 @@ static void dma_start(struct xilinx_dma_chan *chan)
 	} while (loop--);
 
 	if (!loop) {
-		pr_debug("Cannot start channel %x: %x\n",
-			 (unsigned int)chan,
-			 (unsigned int)dma_read(chan,
-						XILINX_DMA_CONTROL_OFFSET));
+		dev_err(chan->dev, "Cannot start channel %p: %x\n",
+			 chan, dma_read(chan, XILINX_DMA_CONTROL_OFFSET));
 
 		chan->err = 1;
 	}
-- 
1.7.5.4

