From dd1a9beba0cb1124aa84146b0dc6fe935d476973 Mon Sep 17 00:00:00 2001
From: Harini Katakam <harini.katakam@xilinx.com>
Date: Fri, 28 Mar 2014 15:56:04 +0530
Subject: [PATCH 442/509] WDT: zynq: Remove #ifdef CONFIG_PM_SLEEP and used
 __maybe_unused

https://github.com/analogdevicesinc/linux.git xcomm_zynq
commit 07900060c5805f4dd7997fb64e4eea8be7b1c814

Remove #ifdef CONFIG_PM_SLEEP and use __maybe_unused instead

Signed-off-by: Harini Katakam <harinik@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
Signed-off-by: Zhong Hongbo <hongbo.zhong@windriver.com>
---
 drivers/watchdog/zynq_wdt.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/drivers/watchdog/zynq_wdt.c b/drivers/watchdog/zynq_wdt.c
index 63f7812..90d9a81 100644
--- a/drivers/watchdog/zynq_wdt.c
+++ b/drivers/watchdog/zynq_wdt.c
@@ -478,14 +478,13 @@ static void zynq_wdt_shutdown(struct platform_device *pdev)
 	clk_put(wdt->clk);
 }
 
-#ifdef CONFIG_PM_SLEEP
 /**
  * zynq_wdt_suspend -  Stop the device.
  *
  * @dev: handle to the device structure.
  * Return: 0 always.
  */
-static int zynq_wdt_suspend(struct device *dev)
+static int __maybe_unused zynq_wdt_suspend(struct device *dev)
 {
 	/* Stop the device */
 	zynq_wdt_stop(&zynq_wdt_device);
@@ -500,7 +499,7 @@ static int zynq_wdt_suspend(struct device *dev)
  * @dev: handle to the device structure.
  * Return: 0 on success, errno otherwise.
  */
-static int zynq_wdt_resume(struct device *dev)
+static int __maybe_unused zynq_wdt_resume(struct device *dev)
 {
 	int ret;
 
@@ -514,7 +513,6 @@ static int zynq_wdt_resume(struct device *dev)
 
 	return 0;
 }
-#endif
 
 static SIMPLE_DEV_PM_OPS(zynq_wdt_pm_ops, zynq_wdt_suspend, zynq_wdt_resume);
 
-- 
1.7.5.4

