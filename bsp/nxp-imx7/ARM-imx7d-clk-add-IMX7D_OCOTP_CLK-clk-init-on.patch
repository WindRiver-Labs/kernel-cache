From 954a0135f3813a1ee42056e5c422c7fa4101d860 Mon Sep 17 00:00:00 2001
From: zou cao <cao.zou@windriver.com>
Date: Mon, 22 May 2017 15:28:14 +0800
Subject: [PATCH] ARM: imx7d: clk: add IMX7D_OCOTP_CLK clk init on

ocotp is used by other dirivers in shadow registers address map,
so enable it in system startup, otherwise it maybe cause cpu freeze
when other drivers read the data in shadow registers but ocop clk is
disabled.

Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm/mach-imx/clk-imx7d.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-imx/clk-imx7d.c b/arch/arm/mach-imx/clk-imx7d.c
index c3e39eb..361230b 100644
--- a/arch/arm/mach-imx/clk-imx7d.c
+++ b/arch/arm/mach-imx/clk-imx7d.c
@@ -368,6 +368,7 @@ static int const clks_init_on[] __initconst = {
 	IMX7D_DRAM_PHYM_ROOT_CLK, IMX7D_DRAM_ROOT_CLK,
 	IMX7D_DRAM_PHYM_ALT_ROOT_CLK, IMX7D_DRAM_ALT_ROOT_CLK,
 	IMX7D_AHB_CHANNEL_ROOT_CLK,
+	IMX7D_OCOTP_CLK,
 	};
 
 static struct clk_onecell_data clk_data;
-- 
1.7.5.4

