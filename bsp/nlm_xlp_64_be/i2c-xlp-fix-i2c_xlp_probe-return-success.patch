From f3e5bff10bc9d181b98f9e19c92af862e632c943 Mon Sep 17 00:00:00 2001
From: Yong Zhang <yong.zhang@windriver.com>
Date: Thu, 6 Jun 2013 11:29:06 +0800
Subject: [PATCH] i2c-xlp: fix i2c_xlp_probe() return success

i2c_add_numbered_adapter() return 0 means it runs successfully,
but i2c_xlp_probe() interpret it wrongly.

Signed-off-by: Yong Zhang <yong.zhang@windriver.com>
---
 drivers/i2c/busses/i2c-xlp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/i2c/busses/i2c-xlp.c b/drivers/i2c/busses/i2c-xlp.c
index 3620bd3..9f3d478 100644
--- a/drivers/i2c/busses/i2c-xlp.c
+++ b/drivers/i2c/busses/i2c-xlp.c
@@ -432,7 +432,7 @@ i2c_xlp_probe(struct platform_device *pdev)
 	i2c_xlp_setup(priv);
 
 	ret = i2c_add_numbered_adapter(&priv->adap);
-	if (!ret) {
+	if (ret) {
 		i2c_xlp_disable(priv);
 		goto out;
 	}
-- 
1.7.0

