From cc9665c441591e98b3d2d4c4e63ec72228859b64 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Tue, 3 Sep 2013 17:05:06 +0800
Subject: [PATCH 49/60] sound: soc: codec: clean-ups for wm8731

Remove some warnings for this driver.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 sound/soc/codecs/wm8731.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/sound/soc/codecs/wm8731.c b/sound/soc/codecs/wm8731.c
index 22c5a5d..2a500c0 100644
--- a/sound/soc/codecs/wm8731.c
+++ b/sound/soc/codecs/wm8731.c
@@ -441,7 +441,6 @@ static int wm8731_set_bias_level(struct snd_soc_codec *codec,
 				 enum snd_soc_bias_level level)
 {
 	struct wm8731_priv *wm8731 = snd_soc_codec_get_drvdata(codec);
-	int ret;
 	u16 reg;
 
 	switch (level) {
@@ -530,7 +529,7 @@ static int wm8731_resume(struct snd_soc_codec *codec)
 static int wm8731_probe(struct snd_soc_codec *codec)
 {
 	struct wm8731_priv *wm8731 = snd_soc_codec_get_drvdata(codec);
-	int ret = 0, i;
+	int ret = 0;
 
 	codec->control_data = wm8731->regmap;
 	ret = snd_soc_codec_set_cache_io(codec, 7, 9, SND_SOC_REGMAP);
@@ -577,7 +576,7 @@ static int wm8731_probe(struct snd_soc_codec *codec)
 	/* Disable bypass and side tone path by default and enable DAC
 	snd_soc_update_bits(codec, WM8731_APANA, 0xff, 0x12);*/
 	snd_soc_update_bits(codec, WM8731_APANA, 0x8, 0);
-	u8 test = snd_soc_read(codec, WM8731_APANA);
+	snd_soc_read(codec, WM8731_APANA);
 #else
 	/* Disable bypass path by default */
 	snd_soc_update_bits(codec, WM8731_APANA, 0x8, 0);
@@ -603,7 +602,9 @@ err_regulator_get:
 /* power down chip */
 static int wm8731_remove(struct snd_soc_codec *codec)
 {
+#ifndef CONFIG_MACH_QSEVEN
 	struct wm8731_priv *wm8731 = snd_soc_codec_get_drvdata(codec);
+#endif
 
 	wm8731_set_bias_level(codec, SND_SOC_BIAS_OFF);
 
-- 
1.7.5.4

