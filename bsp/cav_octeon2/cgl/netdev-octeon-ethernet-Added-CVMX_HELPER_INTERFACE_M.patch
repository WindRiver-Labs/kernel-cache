From acc6e3316385ee4792ac991d4a87e29529a41942 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Fri, 29 Jul 2011 18:07:34 -0700
Subject: [PATCH 100/238] netdev: octeon-ethernet: Added CVMX_HELPER_INTERFACE_MODE_RXAUI case.

Source: Cavium SDK 2.2-414

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Integrated-by: Yang Shi <yang.shi@windriver.com>
---
 drivers/net/octeon/ethernet-mdio.c |    1 +
 drivers/net/octeon/ethernet.c      |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/net/octeon/ethernet-mdio.c b/drivers/net/octeon/ethernet-mdio.c
index 36a989e..978d27c 100644
--- a/drivers/net/octeon/ethernet-mdio.c
+++ b/drivers/net/octeon/ethernet-mdio.c
@@ -158,6 +158,7 @@ static int cvm_oct_ioctl_hwtstamp(struct net_device *dev,
 		have_hw_timestamps = 1;
 		switch(priv->imode) {
 		case CVMX_HELPER_INTERFACE_MODE_XAUI:
+		case CVMX_HELPER_INTERFACE_MODE_RXAUI:
 		case CVMX_HELPER_INTERFACE_MODE_SGMII:
 			break;
 		default:
diff --git a/drivers/net/octeon/ethernet.c b/drivers/net/octeon/ethernet.c
index 0b84a6d..504fdac 100644
--- a/drivers/net/octeon/ethernet.c
+++ b/drivers/net/octeon/ethernet.c
@@ -882,6 +882,7 @@ static int __init cvm_oct_init_module(void)
 				break;
 
 			case CVMX_HELPER_INTERFACE_MODE_XAUI:
+			case CVMX_HELPER_INTERFACE_MODE_RXAUI:
 #ifdef CONFIG_OCTEON_ETHERNET_LOCKLESS_IF_SUPPORTED
 				if (octeon_pko_lockless()) {
 					dev->netdev_ops = &cvm_oct_xaui_lockless_netdev_ops;
-- 
1.7.0

