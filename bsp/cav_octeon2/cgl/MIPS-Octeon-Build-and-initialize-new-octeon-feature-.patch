From 8274d893ddb095f29a40633f3e0b804fe3222052 Mon Sep 17 00:00:00 2001
From: David Daney <ddaney@caviumnetworks.com>
Date: Tue, 15 Feb 2011 16:08:07 -0800
Subject: [PATCH 029/238] MIPS: Octeon: Build and initialize new octeon feature framework.

Source: Cavium SDK 2.1.0-407

Signed-off-by: David Daney <ddaney@caviumnetworks.com>
Integrated-by: Phil Staub <Phil.Staub@windriver.com>
---
 arch/mips/cavium-octeon/setup.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index 6c3f265..386f1c0 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -667,6 +667,9 @@ void __init native_prom_init(void)
 	 * $a3, this is available as fw_arg3.
 	 */
 	octeon_boot_desc_ptr = (struct octeon_boot_descriptor *)fw_arg3;
+
+	octeon_feature_init();
+
 	octeon_bootinfo =
 		cvmx_phys_to_ptr(octeon_boot_desc_ptr->cvmx_desc_vaddr);
 	MAX_MEMORY = (uint64_t)octeon_bootinfo->dram_size << 20;
-- 
1.7.0

