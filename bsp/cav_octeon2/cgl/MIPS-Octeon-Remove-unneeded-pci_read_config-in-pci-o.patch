From f2b00c89c0de6c1e6e7bf383c26ecfc6f561dda5 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Wed, 30 Nov 2011 17:33:45 -0800
Subject: [PATCH 181/238] MIPS: Octeon: Remove unneeded pci_read_config in pci-octeon.c

Source: Cavium SDK 2.3-427

The value is not used, so there is no need to read it.

Signed-off-by: David Daney <david.daney@cavium.com>
Integrated-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/mips/pci/pci-octeon.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/arch/mips/pci/pci-octeon.c b/arch/mips/pci/pci-octeon.c
index 38f36af..f41e4d0 100644
--- a/arch/mips/pci/pci-octeon.c
+++ b/arch/mips/pci/pci-octeon.c
@@ -120,7 +120,6 @@ int pcibios_plat_dev_init(struct pci_dev *dev)
 	/* Enable the PCIe normal error reporting */
 	pos = pci_find_capability(dev, PCI_CAP_ID_EXP);
 	if (pos) {
-		pci_read_config_dword(dev, pos + PCI_EXP_DEVCAP, &dconfig);
 		/* Update Device Control */
 		pci_read_config_word(dev, pos + PCI_EXP_DEVCTL, &config);
 		/* Correctable Error Reporting */
-- 
1.7.0

