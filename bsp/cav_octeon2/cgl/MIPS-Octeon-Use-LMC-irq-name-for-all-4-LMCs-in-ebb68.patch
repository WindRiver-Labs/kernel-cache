From b4d808d4de7d3ee1d7de46421e72fde9c9b6c022 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@cavium.com>
Date: Wed, 11 Apr 2012 10:13:31 +0800
Subject: [PATCH 198/238] MIPS: Octeon: Use LMC irq name for all 4 LMCs in ebb6800.

Source: Cavium SDK 2.3-427

Signed-off-by: Chandrakala Chavva <cchavva@cavium.com>
Integrated-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/mips/cavium-octeon/setup.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index d55ffb4..bffc2db 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -1253,7 +1253,6 @@ void prom_free_prom_memory(void)
 		}
 		for (i = 0; i < 4; i++) {
 			cvmx_lmcx_dll_ctl2_t ctl2;
-			char buf[20];
 
 			/*
 			 * Check if LMC is initialized before enabling the
@@ -1267,10 +1266,9 @@ void prom_free_prom_memory(void)
 			cvmx_write_csr(CVMX_LMCX_INT(i),
 					cvmx_read_csr(CVMX_LMCX_INT(i)));
 
-			sprintf(buf, "LMC%d RML/RSL", i);
 			if (request_irq(OCTEON_IRQ_LMC0 + i,
 					octeon_rml_interrupt, IRQF_SHARED,
-					buf, octeon_rml_interrupt))
+					"LMC RML/RSL", octeon_rml_interrupt))
 				panic("Unable to request_irq(OCTEON_IRQ_LMC%d)", i);
 		}
 	} else {
-- 
1.7.0

