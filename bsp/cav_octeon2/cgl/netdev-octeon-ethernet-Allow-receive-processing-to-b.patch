From ea33aa8edd71b4984b86fb1e760c3b63f0e24aa4 Mon Sep 17 00:00:00 2001
From: David Daney <ddaney@caviumnetworks.com>
Date: Thu, 23 Jun 2011 14:58:04 -0700
Subject: [PATCH 070/238] netdev: octeon-ethernet: Allow receive processing to be limited to one CPU.

Source: Cavium SDK 2.1.0-407

A typo caused the minimum to be two CPUs.

Signed-off-by: David Daney <ddaney@caviumnetworks.com>
Integrated-by: Phil Staub <Phil.Staub@windriver.com>
---
 drivers/net/octeon/ethernet-rx.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/octeon/ethernet-rx.c b/drivers/net/octeon/ethernet-rx.c
index 05679ea..4441ef8 100644
--- a/drivers/net/octeon/ethernet-rx.c
+++ b/drivers/net/octeon/ethernet-rx.c
@@ -362,7 +362,7 @@ void cvm_oct_rx_initialize(int num_wqe)
 					struct octeon_ethernet,
 					list)->netdev;
 
-	if (max_rx_cpus > 1  && max_rx_cpus < num_online_cpus())
+	if (max_rx_cpus >= 1  && max_rx_cpus < num_online_cpus())
 		core_state.baseline_cores = max_rx_cpus;
 	else
 		core_state.baseline_cores = num_online_cpus();
-- 
1.7.0

