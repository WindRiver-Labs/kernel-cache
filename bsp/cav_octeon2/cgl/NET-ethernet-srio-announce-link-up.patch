From 3dc149dd60fedf5426228a915a922e2ea24cfb7c Mon Sep 17 00:00:00 2001
From: Xing Zhao <xzhao@cavium.com>
Date: Thu, 16 Feb 2012 14:27:04 -0800
Subject: [PATCH 220/238] NET: ethernet-srio: announce link up.

Source: Cavium SDK 2.3-427

Signed-off-by: Jiang Bin <bin.jiang@windriver.com>
---
 drivers/net/octeon/ethernet-srio.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/net/octeon/ethernet-srio.c b/drivers/net/octeon/ethernet-srio.c
index a08ef13..9453436 100644
--- a/drivers/net/octeon/ethernet-srio.c
+++ b/drivers/net/octeon/ethernet-srio.c
@@ -218,6 +218,8 @@ int cvm_oct_srio_init(struct net_device *dev)
 	if (!srio_status_reg.s.access)
 		return 0;
 
+	netif_carrier_on(dev);
+
 	cvmx_srio_config_read32(srio_port, 0, -1, 1, 0, CVMX_SRIOMAINTX_PRI_DEV_ID(srio_port), &devid);
 
 	sa.sa_data[0] = 0;
-- 
1.7.0

