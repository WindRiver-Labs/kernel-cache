From 241a720acac2a394483ef09a1b1c7930961d7eda Mon Sep 17 00:00:00 2001
From: Yang Shi <yang.shi@windriver.com>
Date: Fri, 11 Nov 2011 11:57:43 -0800
Subject: [PATCH 141/238] MIPS: Octeon: Disable SSO RML interrupts on ebb6800

Source: Cavium SDK 2.2-414

For now disable SSO RML interrupts as a workaround.

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Integrated-by: Yang Shi <yang.shi@windriver.com>
---
 arch/mips/cavium-octeon/setup.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index f2b456d..ed754db 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -1192,10 +1192,12 @@ void prom_free_prom_memory(void)
 					"FPA RML_RSL", octeon_rml_interrupt)) {
 			panic("Unable to request_irq(OCTEON_IRQ_FPA)\n");
 		}
+#if 0
 		if (request_irq(OCTEON_IRQ_POW, octeon_rml_interrupt, IRQF_SHARED,
 					"POW RML_RSL", octeon_rml_interrupt)) {
 			panic("Unable to request_irq(OCTEON_IRQ_POW)\n");
 		}
+#endif
 		if (request_irq(OCTEON_IRQ_L2C, octeon_rml_interrupt, IRQF_SHARED,
 					"L2C RML_RSL", octeon_rml_interrupt)) {
 			panic("Unable to request_irq(OCTEON_IRQ_L2C)\n");
-- 
1.7.0

