From e6bd91f7277cd20b6eaad32e2bb3a456962e7632 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Wed, 2 Feb 2011 11:49:46 -0800
Subject: [PATCH 052/238] MIPS: Octeon: Get sli_mem_access_subid<ba> from cn63xx.

Source: Cavium SDK 2.1.0-407

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Integrated-by: Phil Staub <Phil.Staub@windriver.com>
---
 arch/mips/cavium-octeon/octeon-rapidio.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-rapidio.c b/arch/mips/cavium-octeon/octeon-rapidio.c
index 8d485aa..31df581 100644
--- a/arch/mips/cavium-octeon/octeon-rapidio.c
+++ b/arch/mips/cavium-octeon/octeon-rapidio.c
@@ -330,7 +330,7 @@ int octeon_rio_dma_mem(struct rio_dev *rdev, uint64_t local_addr,
 	subdid = (((memmap >> 40) & 7) << 2) | ((memmap >> 34) & 3);
 	sli_mem_access.u64 =
 		cvmx_read_csr(CVMX_PEXP_SLI_MEM_ACCESS_SUBIDX(subdid));
-	sli_address = (uint64_t)sli_mem_access.s.ba << 34;
+	sli_address = (uint64_t)sli_mem_access.cn63xx.ba << 34;
 	sli_address += memmap & 0x3ffffffffull;
 
 	/* Create the DMA header */
-- 
1.7.0

