From 8f82021bc6948d9e3796407f7b80fc9533374f6e Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Sun, 1 Apr 2012 14:06:01 +0800
Subject: [PATCH 173/236] MIPS: Octeon: Enable SLI and PIP error interrupts for octeon.

Source: Cavium SDK 2.3-427

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Integrated-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/mips/cavium-octeon/setup.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index 85ed30a..cf817e3 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -1208,6 +1208,10 @@ void prom_free_prom_memory(void)
 					"IPD RML_RSL", octeon_rml_interrupt)) {
 			panic("Unable to request_irq(OCTEON_IRQ_IPD)\n");
 		}
+		if (request_irq(OCTEON_IRQ_PIP, octeon_rml_interrupt, IRQF_SHARED,
+					"PIP RML/RSL", octeon_rml_interrupt)) {
+			panic("Unable to request_irq(OCTEON_IRQ_PIP)\n");
+		}
 		if (request_irq(OCTEON_IRQ_PKO, octeon_rml_interrupt, IRQF_SHARED,
 					"PKO RML_RSL", octeon_rml_interrupt)) {
 			panic("Unable to request_irq(OCTEON_IRQ_PKO)\n");
@@ -1224,6 +1228,10 @@ void prom_free_prom_memory(void)
 					"KEY RML_RSL", octeon_rml_interrupt)) {
 			panic("Unable to request_irq(OCTEON_IRQ_KEY)\n");
 		}
+		if (request_irq(OCTEON_IRQ_SLI, octeon_rml_interrupt, IRQF_SHARED,
+					"SLI RML/RSL", octeon_rml_interrupt)) {
+			panic("Unable to request_irq(OCTEON_IRQ_SLI)\n");
+		}
 		if (request_irq(OCTEON_IRQ_DFA, octeon_rml_interrupt, IRQF_SHARED,
 					"DFA RML_RSL", octeon_rml_interrupt)) {
 			panic("Unable to request_irq(OCTEON_IRQ_DFA)\n");
-- 
1.7.0

