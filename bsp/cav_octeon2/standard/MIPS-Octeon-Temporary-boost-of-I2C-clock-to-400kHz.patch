From 205fb0ce63e741d12b0dc7e1680916702e1a29d3 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Fri, 5 Aug 2011 13:12:24 -0700
Subject: [PATCH 102/236] MIPS: Octeon: Temporary boost of I2C clock to 400kHz.

Source: Cavium SDK 2.2-414

This seems to make bad interactions with ebb6600 MCU less frequent.

Signed-off-by: David Daney <david.daney@cavium.com>
Integrated-by: Yang Shi <yang.shi@windriver.com>
---
 arch/mips/cavium-octeon/octeon-platform.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-platform.c b/arch/mips/cavium-octeon/octeon-platform.c
index f672ef8..b0a6be3 100644
--- a/arch/mips/cavium-octeon/octeon-platform.c
+++ b/arch/mips/cavium-octeon/octeon-platform.c
@@ -214,7 +214,8 @@ static int __init octeon_i2c_device_init(void)
 	for (port = 0; port < num_ports; port++) {
 		octeon_i2c_data[port].sys_freq = octeon_get_io_clock_rate();
 		/*FIXME: should be examined. At the moment is set for 100Khz */
-		octeon_i2c_data[port].i2c_freq = 100000;
+//		octeon_i2c_data[port].i2c_freq = 100000;
+		octeon_i2c_data[port].i2c_freq = 400000;
 
 		pd = platform_device_alloc("i2c-octeon", port);
 		if (!pd) {
-- 
1.7.0

