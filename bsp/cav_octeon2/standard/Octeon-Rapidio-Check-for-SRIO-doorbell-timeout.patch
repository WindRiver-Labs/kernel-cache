From b6739121c5db271cf40900f95040e52c4f2c88ce Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Sun, 17 Jul 2011 13:10:33 -0700
Subject: [PATCH 050/236] Octeon: Rapidio: Check for SRIO doorbell timeout.

Source: Cavium SDK 2.1.0-407

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Integrated-by: Phil Staub <Phil.Staub@windriver.com>
---
 arch/mips/cavium-octeon/octeon-rapidio.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-rapidio.c b/arch/mips/cavium-octeon/octeon-rapidio.c
index 3609439..8d485aa 100644
--- a/arch/mips/cavium-octeon/octeon-rapidio.c
+++ b/arch/mips/cavium-octeon/octeon-rapidio.c
@@ -587,6 +587,9 @@ static void octeon_rio_tx_doorbell(struct rio_mport *mport)
 	case CVMX_SRIO_DOORBELL_ERROR:
 		DEBUG_IRQ(mport, "TX doorbell error\n");
 		break;
+	case CVMX_SRIO_DOORBELL_TMOUT:
+		DEBUG_IRQ(mport, "TX doorbell timeout\n");
+		break;
 	}
 }
 
-- 
1.7.0

