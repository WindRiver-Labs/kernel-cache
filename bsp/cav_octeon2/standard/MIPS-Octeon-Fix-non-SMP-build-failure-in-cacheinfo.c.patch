From afd1047b92a84f5fe0801e4290471e23f0fcd0e3 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Thu, 2 Feb 2012 11:08:14 -0800
Subject: [PATCH 189/236] MIPS: Octeon: Fix non-SMP build failure in cacheinfo.c

Source: Cavium SDK 2.3-427

Remove unneeded includes that are causing problems and cacheinfo.h in
its entirety.

Signed-off-by: David Daney <david.daney@cavium.com>
Integrated-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/mips/cavium-octeon/cacheinfo.c |    6 ------
 arch/mips/cavium-octeon/cacheinfo.h |    8 --------
 2 files changed, 0 insertions(+), 14 deletions(-)
 delete mode 100644 arch/mips/cavium-octeon/cacheinfo.h

diff --git a/arch/mips/cavium-octeon/cacheinfo.c b/arch/mips/cavium-octeon/cacheinfo.c
index f47da72..e05154a 100644
--- a/arch/mips/cavium-octeon/cacheinfo.c
+++ b/arch/mips/cavium-octeon/cacheinfo.c
@@ -19,14 +19,8 @@
 #include <linux/kobject.h>
 #include <linux/list.h>
 #include <linux/notifier.h>
-#include <linux/of.h>
 #include <linux/percpu.h>
 #include <linux/slab.h>
-#include <asm/processor.h>
-#include <asm/smp.h>
-#include <asm/cpu-info.h>
-
-#include "cacheinfo.h"
 
 /*
  * per-cpu object for tracking:
diff --git a/arch/mips/cavium-octeon/cacheinfo.h b/arch/mips/cavium-octeon/cacheinfo.h
deleted file mode 100644
index f06498c..0000000
--- a/arch/mips/cavium-octeon/cacheinfo.h
+++ /dev/null
@@ -1,8 +0,0 @@
-#ifndef _MIPS_CACHEINFO_H
-#define _MIPS_CACHEINFO_H
-
-/* These are just hooks for sysfs.c to use. */
-extern void cacheinfo_cpu_online(unsigned int cpu_id);
-extern void cacheinfo_cpu_offline(unsigned int cpu_id);
-
-#endif /* _MIPS_CACHEINFO_H */
-- 
1.7.0

