From 98a30a35b4862d9cfbc15dd7f885aada67a5694b Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@cavium.com>
Date: Tue, 10 Jan 2012 14:57:52 -0800
Subject: [PATCH 183/236] MIPS: Octeon: Map each LMC to the correct bit.

Source: Cavium SDK 2.3-427

Signed-off-by: Chandrakala Chavva <cchavva@cavium.com>
Integrated-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/mips/cavium-octeon/octeon-irq.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-irq.c b/arch/mips/cavium-octeon/octeon-irq.c
index 58d4338..a54696c 100644
--- a/arch/mips/cavium-octeon/octeon-irq.c
+++ b/arch/mips/cavium-octeon/octeon-irq.c
@@ -1505,7 +1505,7 @@ static void __init octeon_irq_init_ciu2(void)
 	octeon_irq_set_ciu_mapping(OCTEON_IRQ_PEM1, 4, 33, &octeon_irq_chip_ciu2, handle_level_irq);
 
 	for (i = 0; i < 4; i++)
-		octeon_irq_set_ciu_mapping(OCTEON_IRQ_LMC0, 5, i, &octeon_irq_chip_ciu2, handle_level_irq);
+		octeon_irq_set_ciu_mapping(OCTEON_IRQ_LMC0 + i, 5, i, &octeon_irq_chip_ciu2, handle_level_irq);
 
 	for (i = 0; i < 5; i++)
 		octeon_irq_set_ciu_mapping(OCTEON_IRQ_AGX0 + i, 6, i, &octeon_irq_chip_ciu2, handle_level_irq);
-- 
1.7.0

