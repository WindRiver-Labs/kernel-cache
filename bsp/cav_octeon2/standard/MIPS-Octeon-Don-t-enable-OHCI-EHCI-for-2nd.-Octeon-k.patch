From b0f7184e3e592c4f4024028c08e31c72a33fb663 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Mon, 6 Feb 2012 11:15:38 -0800
Subject: [PATCH 187/236] MIPS: Octeon: Don't enable OHCI/EHCI for 2nd. Octeon kernel

Source: Cavium SDK 2.3-427

Signed-off-by: David Daney <david.daney@cavium.com>
Integrated-by: Jiang Bin <bin.jiang@windriver.com>
---
 arch/mips/Kconfig |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index 5340d57..521d502 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -680,8 +680,8 @@ config CAVIUM_OCTEON_REFERENCE_BOARD
 	select ZONE_DMA32 if !WRHV
 	select HOLES_IN_ZONE
 	select ARCH_REQUIRE_GPIOLIB
-	select USB_ARCH_HAS_OHCI
-	select USB_ARCH_HAS_EHCI
+	select USB_ARCH_HAS_OHCI if !CAVIUM_OCTEON_2ND_KERNEL
+	select USB_ARCH_HAS_EHCI if !CAVIUM_OCTEON_2ND_KERNEL
 	help
 	  This option supports all of the Octeon reference boards from Cavium
 	  Networks. It builds a kernel that dynamically determines the Octeon
-- 
1.7.0

