From f89d473e80007ef2dbfcd737db97830b0afdbc1a Mon Sep 17 00:00:00 2001
From: Thomas Tai <thomas.tai@windriver.com>
Date: Thu, 4 Jun 2009 09:48:30 -0400
Subject: [PATCH 15/15] mpc8536ds: reduce spi clock frequency to 40Mhz

spi clock frequency was set to 50Mhz, with this
frequency the spi does not work reliability.
Change to 40Mhz as recommended in freescale latest
BSP release.

Signed-off-by: Thomas Tai <thomas.tai@windriver.com>
---
 arch/powerpc/boot/dts/mpc8536ds.dts |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc8536ds.dts b/arch/powerpc/boot/dts/mpc8536ds.dts
index 2e8d890..df64887 100644
--- a/arch/powerpc/boot/dts/mpc8536ds.dts
+++ b/arch/powerpc/boot/dts/mpc8536ds.dts
@@ -156,7 +156,7 @@
 				compatible = "fsl,espi-flash";
 				reg = <0>;
 				linux,modalias = "fsl_m25p80";
-				spi-max-frequency = <50000000>; /* input clock freq */
+				spi-max-frequency = <40000000>; /* input clock freq */
 				u-boot@0 {
 					label = "u-boot";
 					reg = <0x00000000 0x00100000>;
@@ -175,19 +175,19 @@
 				compatible = "fsl,espi-flash";
 				reg = <1>;
 				linux,modalias = "fsl_m25p80";
-				spi-max-frequency = <50000000>;
+				spi-max-frequency = <40000000>;
 			};
 			fsl_m25p80@2 {
 				compatible = "fsl,espi-flash";
 				reg = <2>;
 				linux,modalias = "fsl_m25p80";
-				spi-max-frequency = <50000000>;
+				spi-max-frequency = <40000000>;
 			};
 			fsl_m25p80@3 {
 				compatible = "fsl,espi-flash";
 				reg = <3>;
 				linux,modalias = "fsl_m25p80";
-				spi-max-frequency = <50000000>;
+				spi-max-frequency = <40000000>;
 			};
 		};
 
-- 
1.6.3.1

