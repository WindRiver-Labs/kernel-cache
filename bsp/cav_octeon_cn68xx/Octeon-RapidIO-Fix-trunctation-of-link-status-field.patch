From 66773cc42f1e4bb2e77069985e79470140ba3ed0 Mon Sep 17 00:00:00 2001
From: Chad Reese <kreese@caviumnetworks.com>
Date: Mon, 29 Nov 2010 14:34:08 -0800
Subject: [PATCH 44/97] Octeon: RapidIO: Fix trunctation of link status field

Source: Cavium SDK 2.1.0-407

Signed-off-by: Chad Reese <kreese@caviumnetworks.com>
Integrated-by: Phil Staub <Phil.Staub@windriver.com>
---
 drivers/rapidio/devices/cn6xxx.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/rapidio/devices/cn6xxx.c b/drivers/rapidio/devices/cn6xxx.c
index 4921581..068addd 100644
--- a/drivers/rapidio/devices/cn6xxx.c
+++ b/drivers/rapidio/devices/cn6xxx.c
@@ -66,7 +66,7 @@ static int cn6xxx_probe(struct rio_dev *dev, const struct rio_device_id *id)
 
 	if (rio_read_config_32(dev, CVMX_SRIOMAINTX_IR_PI_PHY_STAT(0), &data))
 		return -1;
-	switch (data & 0x3f) {
+	switch (data & 0x3ff) {
 		case 0x0:
 			state = "Silent";
 			break;
-- 
1.7.0

