From 274f368bec5c3ad3ac9880e0c55bfdedf1dc3335 Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Tue, 16 Jul 2013 14:09:39 +0800
Subject: [PATCH 06/20] ARM: LPAE: define ARCH_LOW_ADDRESS_LIMIT for bootmem

Commit 83799b8f3e37ababdbaf77b5df17608456d96ddd from arago tree
git://arago-project.org/git/projects/linux-keystone.git releases/03.00.00.11/master

This patch adds an architecture defined override for ARCH_LOW_ADDRESS_LIMIT.
On PAE systems, the absence of this override causes bootmem to incorrectly
limit itself to 32-bit addressable physical memory.

Signed-off-by: Cyril Chemparathy <cyril@ti.com>
Signed-off-by: Vitaly Andrianov <vitalya@ti.com>
Signed-off-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 arch/arm/include/asm/memory.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/arm/include/asm/memory.h b/arch/arm/include/asm/memory.h
index 00c7ef3..3f62878 100644
--- a/arch/arm/include/asm/memory.h
+++ b/arch/arm/include/asm/memory.h
@@ -304,6 +304,8 @@ static inline __deprecated void *bus_to_virt(unsigned long x)
 }
 #endif
 
+#define ARCH_LOW_ADDRESS_LIMIT		PHYS_MASK
+
 /*
  * Conversion between a struct page and a physical address.
  *
-- 
1.8.4.93.g57e4c17

