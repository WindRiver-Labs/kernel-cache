From c1ab945d98e1452a03c697eaeb49b34f3a61a4e0 Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Tue, 16 Jul 2013 15:43:22 +0800
Subject: [PATCH 09/20] keystone: export __pv_offset symbol

Commit 17358541b5f0361c47a0a196168619dc24da83ba from arago tree
git://arago-project.org/git/projects/linux-keystone.git releases/03.00.00.11/master

When CONFIG_ARM_PATCH_PHYS_VIRT is set the inline __virt_to_phys()
uses __pv_offset variable. Using the function in kernel modules
requires export of the __pv_offset.

Signed-off-by: Vitaly Andrianov <vitalya@ti.com>
Signed-off-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 arch/arm/kernel/setup.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/arm/kernel/setup.c b/arch/arm/kernel/setup.c
index c7e5696..a980d72 100644
--- a/arch/arm/kernel/setup.c
+++ b/arch/arm/kernel/setup.c
@@ -154,7 +154,7 @@ DEFINE_PER_CPU(struct cpuinfo_arm, cpu_data);
 unsigned long __pv_offset = 0xdeadbeef;
 phys_addr_t	__pv_phys_offset = 0xdeadbeef;
 EXPORT_SYMBOL(__pv_phys_offset);
-
+EXPORT_SYMBOL(__pv_offset);
 #endif
 
 /*
-- 
1.8.4.93.g57e4c17

