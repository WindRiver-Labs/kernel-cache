From 9b7a2f007611f70772e4c2b3e8daed03d44b5db7 Mon Sep 17 00:00:00 2001
From: Kim Phillips <kim.phillips@freescale.com>
Date: Wed, 4 Apr 2012 18:46:21 -0500
Subject: [PATCH 07/23] powerpc/p5040: SEC v5.2 updates

the P5040 has a SEC v5.2; add a dtsi file for it, and correct
the p5040si file.

Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso ISO image.
Patch p5040ds.dts directly instead of creating qoriq-sec5.2-0.dtsi]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/boot/dts/p5040ds.dts |   31 ++++++++++++++++++++-----------
 1 files changed, 20 insertions(+), 11 deletions(-)

diff --git a/arch/powerpc/boot/dts/p5040ds.dts b/arch/powerpc/boot/dts/p5040ds.dts
index 075f627..7bc5076 100644
--- a/arch/powerpc/boot/dts/p5040ds.dts
+++ b/arch/powerpc/boot/dts/p5040ds.dts
@@ -953,7 +953,7 @@
 		};
 
 		crypto: crypto@300000 {
-			compatible = "fsl,sec-v4.2", "fsl,sec-v4.0";
+			compatible = "fsl,sec-v5.2", "fsl,sec-v5.0", "fsl,sec-v4.0";
 			#address-cells = <1>;
 			#size-cells = <1>;
 			reg		 = <0x300000 0x10000>;
@@ -961,35 +961,40 @@
 			interrupts	 = <92 2 0 0>;
 
 			sec_jr0: jr@1000 {
-				compatible = "fsl,sec-v4.2-job-ring",
+				compatible = "fsl,sec-v5.2-job-ring",
+					     "fsl,sec-v5.0-job-ring",
 					     "fsl,sec-v4.0-job-ring";
 				reg = <0x1000 0x1000>;
 				interrupts = <88 2 0 0>;
 			};
 
 			sec_jr1: jr@2000 {
-				compatible = "fsl,sec-v4.2-job-ring",
+				compatible = "fsl,sec-v5.2-job-ring",
+					     "fsl,sec-v5.0-job-ring",
 					     "fsl,sec-v4.0-job-ring";
 				reg = <0x2000 0x1000>;
 				interrupts = <89 2 0 0>;
 			};
 
 			sec_jr2: jr@3000 {
-				compatible = "fsl,sec-v4.2-job-ring",
+				compatible = "fsl,sec-v5.2-job-ring",
+					     "fsl,sec-v5.0-job-ring",
 					     "fsl,sec-v4.0-job-ring";
 				reg = <0x3000 0x1000>;
 				interrupts = <90 2 0 0>;
 			};
 
 			sec_jr3: jr@4000 {
-				compatible = "fsl,sec-v4.2-job-ring",
+				compatible = "fsl,sec-v5.2-job-ring",
+					     "fsl,sec-v5.0-job-ring",
 					     "fsl,sec-v4.0-job-ring";
 				reg = <0x4000 0x1000>;
 				interrupts = <91 2 0 0>;
 			};
 
 			rtic@6000 {
-				compatible = "fsl,sec-v4.2-rtic",
+				compatible = "fsl,sec-v5.2-rtic",
+					     "fsl,sec-v5.0-rtic",
 					     "fsl,sec-v4.0-rtic";
 				#address-cells = <1>;
 				#size-cells = <1>;
@@ -997,25 +1002,29 @@
 				ranges = <0x0 0x6100 0xe00>;
 
 				rtic_a: rtic-a@0 {
-					compatible = "fsl,sec-v4.2-rtic-memory",
+					compatible = "fsl,sec-v5.2-rtic-memory",
+						     "fsl,sec-v5.0-rtic-memory",
 						     "fsl,sec-v4.0-rtic-memory";
 					reg = <0x00 0x20 0x100 0x80>;
 				};
 
 				rtic_b: rtic-b@20 {
-					compatible = "fsl,sec-v4.2-rtic-memory",
+					compatible = "fsl,sec-v5.2-rtic-memory",
+						     "fsl,sec-v5.0-rtic-memory",
 						     "fsl,sec-v4.0-rtic-memory";
 					reg = <0x20 0x20 0x200 0x80>;
 				};
 
 				rtic_c: rtic-c@40 {
-					compatible = "fsl,sec-v4.2-rtic-memory",
+					compatible = "fsl,sec-v5.2-rtic-memory",
+						     "fsl,sec-v5.0-rtic-memory",
 						     "fsl,sec-v4.0-rtic-memory";
 					reg = <0x40 0x20 0x300 0x80>;
 				};
 
 				rtic_d: rtic-d@60 {
-					compatible = "fsl,sec-v4.2-rtic-memory",
+					compatible = "fsl,sec-v5.2-rtic-memory",
+						     "fsl,sec-v5.0-rtic-memory",
 						     "fsl,sec-v4.0-rtic-memory";
 					reg = <0x60 0x20 0x500 0x80>;
 				};
@@ -1023,7 +1032,7 @@
 		};
 
 		sec_mon: sec_mon@314000 {
-			compatible = "fsl,sec-v4.2-mon", "fsl,sec-v4.0-mon";
+			compatible = "fsl,sec-v5.2-mon", "fsl,sec-v5.0-mon", "fsl,sec-v4.0-mon";
 			reg = <0x314000 0x1000>;
 			interrupts = <93 2 0 0>;
 		};
-- 
1.7.0

