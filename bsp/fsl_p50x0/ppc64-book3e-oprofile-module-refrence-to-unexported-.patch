From 35ec68134a64d28d0c960ca66b858caa5b3b6fb7 Mon Sep 17 00:00:00 2001
From: Yongli He <yongli.he@windriver.com>
Date: Wed, 23 Nov 2011 15:15:34 +0800
Subject: [PATCH 3/3] ppc64/book3e: oprofile module refrence to unexported symbol

export following symbol for oprofile module:
vdso32_sigtramp, vdso32_rt_sigtramp,vdso64_rt_sigtramp

Signed-off-by: Yongli He <yongli.he@windriver.com>
---
 arch/powerpc/kernel/vdso.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/kernel/vdso.c b/arch/powerpc/kernel/vdso.c
index fffe873..5643a1c 100644
--- a/arch/powerpc/kernel/vdso.c
+++ b/arch/powerpc/kernel/vdso.c
@@ -61,12 +61,16 @@ static struct page **vdso32_pagelist;
 unsigned long vdso32_sigtramp;
 unsigned long vdso32_rt_sigtramp;
 
+EXPORT_SYMBOL(vdso32_sigtramp);
+EXPORT_SYMBOL(vdso32_rt_sigtramp);
+
 #ifdef CONFIG_PPC64
 extern char vdso64_start, vdso64_end;
 static void *vdso64_kbase = &vdso64_start;
 static unsigned int vdso64_pages;
 static struct page **vdso64_pagelist;
 unsigned long vdso64_rt_sigtramp;
+EXPORT_SYMBOL(vdso64_rt_sigtramp);
 #endif /* CONFIG_PPC64 */
 
 static int vdso_ready;
-- 
1.7.0

