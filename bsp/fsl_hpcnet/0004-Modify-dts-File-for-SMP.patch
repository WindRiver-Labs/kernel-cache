From 48cbdb77a6fba46d7c533d6afde43bc9ec19620d Mon Sep 17 00:00:00 2001
From: Li Wang <li.wang@windriver.com>
Date: Thu, 6 Nov 2008 16:01:41 +0800
Subject: [PATCH] Change Back dts File for Freescale HPCNET

Revert changes to the HPC-NET DTS from commit
bebfa06c61da6246d4aab38efa06a460eb3db4ed;
That commit incorrectly changed from i8259 to mpic, which
results in an oops and non functional peripherals. This
changes it back.

Signed-off-by: Li Wang <li.wang@windriver.com>
---
 arch/powerpc/boot/dts/mpc8641_hpcn.dts |  128 ++++++++++++++++----------------
 1 files changed, 64 insertions(+), 64 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc8641_hpcn.dts b/arch/powerpc/boot/dts/mpc8641_hpcn.dts
index d665e76..663d6ac 100644
--- a/arch/powerpc/boot/dts/mpc8641_hpcn.dts
+++ b/arch/powerpc/boot/dts/mpc8641_hpcn.dts
@@ -312,100 +312,100 @@
 		interrupt-map-mask = <0xff00 0 0 7>;
 		interrupt-map = <
 			/* IDSEL 0x11 func 0 - PCI slot 1 */
-			0x8800 0 0 1 &mpic 2 1
-			0x8800 0 0 2 &mpic 3 1
-			0x8800 0 0 3 &mpic 4 1
-			0x8800 0 0 4 &mpic 1 1
+			0x8800 0 0 1 &i8259 9 2
+			0x8800 0 0 2 &i8259 10 2
+			0x8800 0 0 3 &i8259 11 2
+			0x8800 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x11 func 1 - PCI slot 1 */
-			0x8900 0 0 1 &mpic 2 1
-			0x8900 0 0 2 &mpic 3 1
-			0x8900 0 0 3 &mpic 4 1
-			0x8900 0 0 4 &mpic 1 1
+			0x8900 0 0 1 &i8259 9 2
+			0x8900 0 0 2 &i8259 10 2
+			0x8900 0 0 3 &i8259 11 2
+			0x8900 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x11 func 2 - PCI slot 1 */
-			0x8a00 0 0 1 &mpic 2 1
-			0x8a00 0 0 2 &mpic 3 1
-			0x8a00 0 0 3 &mpic 4 1
-			0x8a00 0 0 4 &mpic 1 1
+			0x8a00 0 0 1 &i8259 9 2
+			0x8a00 0 0 2 &i8259 10 2
+			0x8a00 0 0 3 &i8259 11 2
+			0x8a00 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x11 func 3 - PCI slot 1 */
-			0x8b00 0 0 1 &mpic 2 1
-			0x8b00 0 0 2 &mpic 3 1
-			0x8b00 0 0 3 &mpic 4 1
-			0x8b00 0 0 4 &mpic 1 1
+			0x8b00 0 0 1 &i8259 9 2
+			0x8b00 0 0 2 &i8259 10 2
+			0x8b00 0 0 3 &i8259 11 2
+			0x8b00 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x11 func 4 - PCI slot 1 */
-			0x8c00 0 0 1 &mpic 2 1
-			0x8c00 0 0 2 &mpic 3 1
-			0x8c00 0 0 3 &mpic 4 1
-			0x8c00 0 0 4 &mpic 1 1
+			0x8c00 0 0 1 &i8259 9 2
+			0x8c00 0 0 2 &i8259 10 2
+			0x8c00 0 0 3 &i8259 11 2
+			0x8c00 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x11 func 5 - PCI slot 1 */
-			0x8d00 0 0 1 &mpic 2 1
-			0x8d00 0 0 2 &mpic 3 1
-			0x8d00 0 0 3 &mpic 4 1
-			0x8d00 0 0 4 &mpic 1 1
+			0x8d00 0 0 1 &i8259 9 2
+			0x8d00 0 0 2 &i8259 10 2
+			0x8d00 0 0 3 &i8259 11 2
+			0x8d00 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x11 func 6 - PCI slot 1 */
-			0x8e00 0 0 1 &mpic 2 1
-			0x8e00 0 0 2 &mpic 3 1
-			0x8e00 0 0 3 &mpic 4 1
-			0x8e00 0 0 4 &mpic 1 1
+			0x8e00 0 0 1 &i8259 9 2
+			0x8e00 0 0 2 &i8259 10 2
+			0x8e00 0 0 3 &i8259 11 2
+			0x8e00 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x11 func 7 - PCI slot 1 */
-			0x8f00 0 0 1 &mpic 2 1
-			0x8f00 0 0 2 &mpic 3 1
-			0x8f00 0 0 3 &mpic 4 1
-			0x8f00 0 0 4 &mpic 1 1
+			0x8f00 0 0 1 &i8259 9 2
+			0x8f00 0 0 2 &i8259 10 2
+			0x8f00 0 0 3 &i8259 11 2
+			0x8f00 0 0 4 &i8259 12 2
 
 			/* IDSEL 0x12 func 0 - PCI slot 2 */
-			0x9000 0 0 1 &mpic 3 1
-			0x9000 0 0 2 &mpic 4 1
-			0x9000 0 0 3 &mpic 1 1
-			0x9000 0 0 4 &mpic 2 1
+			0x9000 0 0 1 &i8259 10 2
+			0x9000 0 0 2 &i8259 11 2
+			0x9000 0 0 3 &i8259 12 2
+			0x9000 0 0 4 &i8259 9 2
 
 			/* IDSEL 0x12 func 1 - PCI slot 2 */
-			0x9100 0 0 1 &mpic 3 1
-			0x9100 0 0 2 &mpic 4 1
-			0x9100 0 0 3 &mpic 1 1
-			0x9100 0 0 4 &mpic 2 1
+			0x9100 0 0 1 &i8259 10 2
+			0x9100 0 0 2 &i8259 11 2
+			0x9100 0 0 3 &i8259 12 2
+			0x9100 0 0 4 &i8259 9 2
 
 			/* IDSEL 0x12 func 2 - PCI slot 2 */
-			0x9200 0 0 1 &mpic 3 1
-			0x9200 0 0 2 &mpic 4 1
-			0x9200 0 0 3 &mpic 1 1
-			0x9200 0 0 4 &mpic 2 1
+			0x9200 0 0 1 &i8259 10 2
+			0x9200 0 0 2 &i8259 11 2
+			0x9200 0 0 3 &i8259 10 2
+			0x9200 0 0 4 &i8259 9 2
 
 			/* IDSEL 0x12 func 3 - PCI slot 2 */
-			0x9300 0 0 1 &mpic 3 1
-			0x9300 0 0 2 &mpic 4 1
-			0x9300 0 0 3 &mpic 1 1
-			0x9300 0 0 4 &mpic 2 1
+			0x9300 0 0 1 &i8259 10 2
+			0x9300 0 0 2 &i8259 11 2
+			0x9300 0 0 3 &i8259 12 2
+			0x9300 0 0 4 &i8259 9 2
 
 			/* IDSEL 0x12 func 4 - PCI slot 2 */
-			0x9400 0 0 1 &mpic 3 1
-			0x9400 0 0 2 &mpic 4 1
-			0x9400 0 0 3 &mpic 1 1
-			0x9400 0 0 4 &mpic 2 1
+			0x9400 0 0 1 &i8259 10 2
+			0x9400 0 0 2 &i8259 11 2
+			0x9400 0 0 3 &i8259 12 2
+			0x9400 0 0 4 &i8259 9 2
 
 			/* IDSEL 0x12 func 5 - PCI slot 2 */
-			0x9500 0 0 1 &mpic 3 1
-			0x9500 0 0 2 &mpic 4 1
-			0x9500 0 0 3 &mpic 1 1
-			0x9500 0 0 4 &mpic 2 1
+			0x9500 0 0 1 &i8259 10 2
+			0x9500 0 0 2 &i8259 11 2
+			0x9500 0 0 3 &i8259 12 2
+			0x9500 0 0 4 &i8259 9 2
 
 			/* IDSEL 0x12 func 6 - PCI slot 2 */
-			0x9600 0 0 1 &mpic 3 1
-			0x9600 0 0 2 &mpic 4 1
-			0x9600 0 0 3 &mpic 1 1
-			0x9600 0 0 4 &mpic 2 1
+			0x9600 0 0 1 &i8259 10 2
+			0x9600 0 0 2 &i8259 11 2
+			0x9600 0 0 3 &i8259 12 2
+			0x9600 0 0 4 &i8259 9 2
 
 			/* IDSEL 0x12 func 7 - PCI slot 2 */
-			0x9700 0 0 1 &mpic 3 1
-			0x9700 0 0 2 &mpic 4 1
-			0x9700 0 0 3 &mpic 1 1
-			0x9700 0 0 4 &mpic 2 1
+			0x9700 0 0 1 &i8259 10 2
+			0x9700 0 0 2 &i8259 11 2
+			0x9700 0 0 3 &i8259 12 2
+			0x9700 0 0 4 &i8259 9 2
 
 			// IDSEL 0x1c  USB
 			0xe000 0 0 1 &i8259 12 2
-- 
1.5.5.1

