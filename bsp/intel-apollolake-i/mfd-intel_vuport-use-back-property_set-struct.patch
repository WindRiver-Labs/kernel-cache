From 449e2f7fc8a917c1a28fe49c5a46d2e0e1347967 Mon Sep 17 00:00:00 2001
From: Wan Ahmad Zainie <wan.ahmad.zainie.wan.mohamad@intel.com>
Date: Tue, 19 Jul 2016 16:16:00 +0800
Subject: [PATCH 0151/2508] mfd: intel_vuport: use back property_set struct
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

commit def9808ebb9b125538b1fc378313a47de1e6149a from
https://github.com/01org/linux-apollolake-i

Fix for this compilation error,

drivers/mfd/intel-vuport.c:38:3:
error: unknown field ‘properties’ specified in initializer
   .properties = reg_properties,

due to missing commit f4d052660323 ("device property: don't bother the
drivers with struct property_set") from mainline.

Signed-off-by: Wan Ahmad Zainie <wan.ahmad.zainie.wan.mohamad@intel.com>
Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
---
 drivers/mfd/intel-vuport.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/drivers/mfd/intel-vuport.c b/drivers/mfd/intel-vuport.c
index f04e6fb..fa84ed7 100644
--- a/drivers/mfd/intel-vuport.c
+++ b/drivers/mfd/intel-vuport.c
@@ -31,11 +31,15 @@ static struct property_entry reg_properties[] = {
 	{ },
 };
 
+static const struct property_set reg_properties_pset = {
+	.properties = reg_properties,
+};
+
 static const struct mfd_cell intel_vuport_mfd_cells[] = {
 	{ .name = "extcon-usb-gpio", },
 	{
 		.name = "reg-fixed-voltage",
-		.properties = reg_properties,
+		.pset = &reg_properties_pset,
 	},
 	{ .name = "intel-mux-gpio", },
 };
-- 
1.7.5.4

