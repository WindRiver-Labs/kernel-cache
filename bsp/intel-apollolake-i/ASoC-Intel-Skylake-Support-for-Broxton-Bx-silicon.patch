From 66fb763ef90192aa416576aa9c9cf73f29a7f658 Mon Sep 17 00:00:00 2001
From: "Pawse, GuruprasadX" <guruprasadx.pawse@intel.com>
Date: Wed, 30 Dec 2015 11:46:00 +0530
Subject: [PATCH 1863/2508] ASoC: Intel: Skylake: Support for Broxton Bx
 silicon

commit 2cb373810cc3994f232f110b8ac493366155b9b4 from
https://github.com/01org/linux-apollolake-i

Change-Id: I6fd44989ac8b68e9eda8e5eae0720262f1272b4c
Signed-off-by: Pawse, GuruprasadX <guruprasadx.pawse@intel.com>
Tracked-On: https://jira01.devtools.intel.com/browse/OAM-15919
Signed-off-by: Andy Ross <andrew.j.ross@intel.com>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/8197
Reviewed-by: Babu, Ramesh <ramesh.babu@intel.com>
Tested-by: Babu, Ramesh <ramesh.babu@intel.com>
---
 sound/soc/intel/skylake/skl-messages.c |    1 +
 sound/soc/intel/skylake/skl.c          |    3 +++
 2 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/sound/soc/intel/skylake/skl-messages.c b/sound/soc/intel/skylake/skl-messages.c
index 4d6f316..2d2cde7 100644
--- a/sound/soc/intel/skylake/skl-messages.c
+++ b/sound/soc/intel/skylake/skl-messages.c
@@ -221,6 +221,7 @@ static const struct skl_dsp_ops dsp_ops[] = {
 {.id = 0x0a98, .loader_ops = bxt_get_loader_ops, .init = bxt_sst_dsp_init, .cleanup = bxt_sst_dsp_cleanup},
 {.id = 0x5a98, .loader_ops = bxt_get_loader_ops, .init = bxt_sst_dsp_init, .cleanup = bxt_sst_dsp_cleanup},
 {.id = 0x9df0, .loader_ops = bxt_get_loader_ops, .init = cnl_sst_dsp_init, .cleanup = cnl_sst_dsp_cleanup},
+{.id = 0x1a98, .loader_ops = bxt_get_loader_ops, .init = bxt_sst_dsp_init, .cleanup = bxt_sst_dsp_cleanup},
 {}
 };
 
diff --git a/sound/soc/intel/skylake/skl.c b/sound/soc/intel/skylake/skl.c
index 5ec4046..977fd59 100644
--- a/sound/soc/intel/skylake/skl.c
+++ b/sound/soc/intel/skylake/skl.c
@@ -748,6 +748,9 @@ static const struct pci_device_id skl_ids[] = {
 	/* CNL */
 	{ PCI_DEVICE(0x8086, 0x9df0),
 		.driver_data = (unsigned long)&sst_cnl_devdata},
+	/* BXT-Bx silicon */
+	{ PCI_DEVICE(0x8086, 0x1a98),
+		.driver_data = (unsigned long)&sst_bxt_devdata},
 	{ 0, }
 };
 MODULE_DEVICE_TABLE(pci, skl_ids);
-- 
1.7.5.4

