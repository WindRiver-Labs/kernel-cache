From c301e293585f69bee0709bd9de0cf8adfc6d081c Mon Sep 17 00:00:00 2001
From: Jeeja KP <jeeja.kp@intel.com>
Date: Sat, 1 Aug 2015 19:40:40 +0530
Subject: [PATCH 1582/2508] ASoC: Intel: Skylake: Use acpi header for NHLT
 header

commit aba3dd5ace59d038a9d69e0f5319b6fec61012c8 upstream

Instead of defining own acpi header, use the available acpi
header defined in acpi framework.

Signed-off-by: Jeeja KP <jeeja.kp@intel.com>
Signed-off-by: Vinod Koul <vinod.koul@intel.com>
Signed-off-by: Mark Brown <broonie@kernel.org>
---
 sound/soc/intel/skylake/skl-nhlt.c |    1 -
 sound/soc/intel/skylake/skl-nhlt.h |   14 ++------------
 2 files changed, 2 insertions(+), 13 deletions(-)

diff --git a/sound/soc/intel/skylake/skl-nhlt.c b/sound/soc/intel/skylake/skl-nhlt.c
index a14009b..13036b1 100644
--- a/sound/soc/intel/skylake/skl-nhlt.c
+++ b/sound/soc/intel/skylake/skl-nhlt.c
@@ -17,7 +17,6 @@
  * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  *
  */
-#include <linux/acpi.h>
 #include "skl.h"
 
 /* Unique identification for getting NHLT blobs */
diff --git a/sound/soc/intel/skylake/skl-nhlt.h b/sound/soc/intel/skylake/skl-nhlt.h
index b0e2e4d..3769f9f 100644
--- a/sound/soc/intel/skylake/skl-nhlt.h
+++ b/sound/soc/intel/skylake/skl-nhlt.h
@@ -20,17 +20,7 @@
 #ifndef __SKL_NHLT_H__
 #define __SKL_NHLT_H__
 
-struct acpi_desc_header {
-	u32  signature;
-	u32  length;
-	u8   revision;
-	u8   checksum;
-	u8   oem_id[6];
-	u64  oem_table_id;
-	u32  oem_revision;
-	u32  creator_id;
-	u32  creator_revision;
-} __packed;
+#include <linux/acpi.h>
 
 struct wav_fmt {
 	u16 fmt_tag;
@@ -98,7 +88,7 @@ struct nhlt_endpoint {
 } __packed;
 
 struct nhlt_acpi_table {
-	struct acpi_desc_header header;
+	struct acpi_table_header header;
 	u8 endpoint_count;
 	struct nhlt_endpoint desc[0];
 } __packed;
-- 
1.7.5.4

