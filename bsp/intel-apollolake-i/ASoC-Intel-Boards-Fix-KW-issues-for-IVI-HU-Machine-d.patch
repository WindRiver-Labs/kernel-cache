From 84c4239afe13dc286844847918ab4da278893b53 Mon Sep 17 00:00:00 2001
From: Pardha Saradhi K <pardha.saradhi.kesapragada@intel.com>
Date: Mon, 21 Mar 2016 17:41:27 +0530
Subject: [PATCH 1913/2508] ASoC: Intel: Boards: Fix KW issues for IVI HU
 Machine driver

commit 65e229155697cd9c27a0be569683a5be20755abf from
https://github.com/01org/linux-apollolake-i

Change-Id: I02b863d8b956cf4c31e5a02d2aa885993e4e5eae
Signed-off-by: Pardha Saradhi K <pardha.saradhi.kesapragada@intel.com>
---
 sound/soc/intel/boards/bxtp_ivi_hu_rt298.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/sound/soc/intel/boards/bxtp_ivi_hu_rt298.c b/sound/soc/intel/boards/bxtp_ivi_hu_rt298.c
index eb7b8e4..ac63150 100644
--- a/sound/soc/intel/boards/bxtp_ivi_hu_rt298.c
+++ b/sound/soc/intel/boards/bxtp_ivi_hu_rt298.c
@@ -104,6 +104,10 @@ static int bxtp_ssp0_gpio_init(struct snd_soc_pcm_runtime *rtd)
 	u32 gpio_value2 = 0x44000600;
 
 	gpio_addr = (void *)ioremap_nocache(0xd0c40610, 0x30);
+        if (gpio_addr == NULL) {
+                printk("failed to remap the address for SSP0\n");
+                return(-EIO);
+        }
 
 	memcpy_toio(gpio_addr + 0x8, &gpio_value1, sizeof(gpio_value1));
 	memcpy_toio(gpio_addr + 0x10, &gpio_value2, sizeof(gpio_value2));
-- 
1.7.5.4

