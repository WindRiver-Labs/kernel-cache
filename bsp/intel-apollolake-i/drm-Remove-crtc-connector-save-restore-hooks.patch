From a06a148e8ee29d6db729c4160e6655e7564a1f79 Mon Sep 17 00:00:00 2001
From: Daniel Vetter <daniel.vetter@ffwll.ch>
Date: Fri, 4 Dec 2015 09:45:55 +0100
Subject: [PATCH 0490/2508] drm: Remove crtc/connector->save/restore hooks

commit 813b0f3e00d402279718403aeb621c965f97180e upstream

They're not how system suspend/resume should be done with atomic
(there's new helpers for that developed by Thierry Reding), and for
legacy drivers this really should be a helper hook and not a core one.

But there's not even helper code to use them, and only 2 drivers
(which now have their own private hooks) set them. Ditch them.

Saves me typing some kerneldoc, too ;-)

Signed-off-by: Daniel Vetter <daniel.vetter@intel.com>
Link: http://patchwork.freedesktop.org/patch/msgid/1449218769-16577-15-git-send-email-daniel.vetter@ffwll.ch
Reviewed-by: Thierry Reding <treding@nvidia.com>
---
 include/drm/drm_crtc.h |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

diff --git a/include/drm/drm_crtc.h b/include/drm/drm_crtc.h
index 1bcfa09..e75b06b 100644
--- a/include/drm/drm_crtc.h
+++ b/include/drm/drm_crtc.h
@@ -320,8 +320,6 @@ struct drm_crtc_state {
 
 /**
  * struct drm_crtc_funcs - control CRTCs for a given device
- * @save: save CRTC state
- * @restore: restore CRTC state
  * @cursor_set: setup the cursor
  * @cursor_set2: setup the cursor with hotspot, superseeds @cursor_set if set
  * @cursor_move: move the cursor
@@ -339,11 +337,6 @@ struct drm_crtc_state {
  * bus accessors.
  */
 struct drm_crtc_funcs {
-	/* Save CRTC state */
-	void (*save)(struct drm_crtc *crtc); /* suspend? */
-	/* Restore CRTC state */
-	void (*restore)(struct drm_crtc *crtc); /* resume? */
-
 	/**
 	 * @reset:
 	 *
@@ -625,8 +618,6 @@ struct drm_connector_state {
 /**
  * struct drm_connector_funcs - control connectors on a given device
  * @dpms: set power state
- * @save: save connector state
- * @restore: restore connector state
  * @detect: is this connector active?
  * @fill_modes: fill mode list for this connector
  * @force: notify the driver that the connector is forced on
@@ -637,8 +628,6 @@ struct drm_connector_state {
  */
 struct drm_connector_funcs {
 	int (*dpms)(struct drm_connector *connector, int mode);
-	void (*save)(struct drm_connector *connector);
-	void (*restore)(struct drm_connector *connector);
 
 	/**
 	 * @reset:
-- 
1.7.5.4

