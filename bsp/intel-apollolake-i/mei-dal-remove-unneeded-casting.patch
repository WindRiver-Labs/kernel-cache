From 39166685be2e42e8c278cf373e02f15344b2b004 Mon Sep 17 00:00:00 2001
From: Yael Samet <yael.samet@intel.com>
Date: Mon, 16 Jan 2017 10:43:36 +0200
Subject: [PATCH 4668/4706] mei: dal: remove unneeded casting

commit c70fdd7057c539735c7743ee215fb944d84c3ccb from
git://git.yoctoproject.org/linux-yocto-4.1

Change-Id: Idc9abe690d4d7cd0e49def3decf96ab66f36bde7
Signed-off-by: Yael Samet <yael.samet@intel.com>
Signed-off-by: Tomas Winkler <tomas.winkler@intel.com>
---
 drivers/misc/mei/dal/bhp_impl.c    |    4 ++--
 drivers/misc/mei/dal/bhp_impl_ta.c |   26 ++++++++++++--------------
 2 files changed, 14 insertions(+), 16 deletions(-)

diff --git a/drivers/misc/mei/dal/bhp_impl.c b/drivers/misc/mei/dal/bhp_impl.c
index 48b2b59..d0fd932 100644
--- a/drivers/misc/mei/dal/bhp_impl.c
+++ b/drivers/misc/mei/dal/bhp_impl.c
@@ -433,7 +433,7 @@ static int bh_send_message(int conn_idx, void *cmd, unsigned int clen,
 
 	ret = bh_transport_send(conn_idx, cmd, clen, seq);
 	if (!ret && dlen > 0)
-		ret = bh_transport_send(conn_idx, (void *)data, dlen, seq);
+		ret = bh_transport_send(conn_idx, data, dlen, seq);
 
 	if (ret)
 		rrmap_remove(conn_idx, seq, false);
@@ -453,7 +453,7 @@ static int bh_recv_message(int conn_idx, u64 *seq)
 	struct bh_response_record *rr = NULL;
 	int session_killed;
 
-	ret = bh_transport_recv(conn_idx, (char *)head,
+	ret = bh_transport_recv(conn_idx, head,
 				sizeof(struct bhp_response_header));
 	if (ret)
 		return ret;
diff --git a/drivers/misc/mei/dal/bhp_impl_ta.c b/drivers/misc/mei/dal/bhp_impl_ta.c
index 2b8aebb..63a9c8e 100644
--- a/drivers/misc/mei/dal/bhp_impl_ta.c
+++ b/drivers/misc/mei/dal/bhp_impl_ta.c
@@ -201,9 +201,8 @@ static int bh_proxy_get_sd_by_ta(uuid_be taid, uuid_be *sdid)
 	h->id = BHP_CMD_GET_SD_BY_TA;
 	cmd->taid = taid;
 
-	ret = bh_cmd_transfer(CONN_IDX_SDM, (char *)h,
-			      sizeof(*h) + sizeof(*cmd), NULL, 0,
-			      rrmap_add(CONN_IDX_SDM, &rr));
+	ret = bh_cmd_transfer(CONN_IDX_SDM, h, sizeof(*h) + sizeof(*cmd), NULL,
+			      0, rrmap_add(CONN_IDX_SDM, &rr));
 
 	if (!ret)
 		ret = rr.code;
@@ -242,9 +241,8 @@ static int bh_proxy_check_svl_ta_blocked_state(uuid_be taid)
 	memcpy(&cmd->taid, &taid,
 	       sizeof(struct bhp_check_svl_ta_blocked_state_cmd));
 
-	ret = bh_cmd_transfer(CONN_IDX_SDM, (char *)h,
-			      sizeof(*h) + sizeof(*cmd), NULL, 0,
-			      rrmap_add(CONN_IDX_SDM, &rr));
+	ret = bh_cmd_transfer(CONN_IDX_SDM, h, sizeof(*h) + sizeof(*cmd), NULL,
+			      0, rrmap_add(CONN_IDX_SDM, &rr));
 	if (!ret)
 		ret = rr.code;
 
@@ -278,8 +276,8 @@ static int bh_proxy_listJTAPackages(int conn_idx, int *count,
 
 	h->id = BHP_CMD_LIST_TA_PACKAGES;
 
-	ret = bh_cmd_transfer(conn_idx, (char *)h, sizeof(*h),
-			      NULL, 0, rrmap_add(conn_idx, &rr));
+	ret = bh_cmd_transfer(conn_idx, h, sizeof(*h), NULL, 0,
+			      rrmap_add(conn_idx, &rr));
 	if (!ret)
 		ret = rr.code;
 	if (ret)
@@ -341,8 +339,8 @@ static int bh_proxy_download_javata(int conn_idx,
 	h->id = BHP_CMD_DOWNLOAD_JAVATA;
 	cmd->appid = ta_id;
 
-	ret = bh_cmd_transfer(conn_idx, (char *)h, sizeof(*h) + sizeof(*cmd),
-			      ta_pkg, pkg_len, rrmap_add(conn_idx, &rr));
+	ret = bh_cmd_transfer(conn_idx, h, sizeof(*h) + sizeof(*cmd), ta_pkg,
+			      pkg_len, rrmap_add(conn_idx, &rr));
 
 	if (!ret)
 		ret = rr.code;
@@ -556,8 +554,8 @@ int bhp_send_and_recv(const u64 handle, int command_id,
 	cmd->command = command_id;
 	cmd->outlen = *output_length;
 
-	ret = bh_cmd_transfer(conn_idx, (char *)h, sizeof(*h) + sizeof(*cmd),
-			      (char *)input, length, seq);
+	ret = bh_cmd_transfer(conn_idx, h, sizeof(*h) + sizeof(*cmd), input,
+			      length, seq);
 	if (!ret)
 		ret = rr->code;
 
@@ -634,8 +632,8 @@ int bhp_close_ta_session(const u64 handle)
 	h->id = BHP_CMD_CLOSE_JTASESSION;
 	cmd->ta_session_id = rr->addr;
 
-	ret = bh_cmd_transfer(conn_idx, (char *)h, sizeof(*h) + sizeof(*cmd),
-			      NULL, 0, seq);
+	ret = bh_cmd_transfer(conn_idx, h, sizeof(*h) + sizeof(*cmd), NULL, 0,
+			      seq);
 
 	if (!ret)
 		ret = rr->code;
-- 
1.7.5.4

