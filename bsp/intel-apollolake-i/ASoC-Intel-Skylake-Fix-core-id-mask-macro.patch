From d21def3c831faffbb9e73631a9923e2ec58ecc5c Mon Sep 17 00:00:00 2001
From: Ramesh Babu <ramesh.babu@intel.com>
Date: Thu, 25 Feb 2016 10:22:20 +0530
Subject: [PATCH 1964/2508] ASoC: Intel: Skylake: Fix core id mask macro

commit 90a0c0112e6a60974fe15a236fadc4c523424b4e from
https://github.com/01org/linux-apollolake-i

Broxton audio firmware uses 4 bits for representing
dsp cores, however skylake seem to use 5 bits.

Correct the core id mask to 4 bits, instead
of 5 bits.

Change-Id: Ia8e52c8afa7578362dd080813dc24c62414ed116
Tracked-On: https://jira01.devtools.intel.com/browse/OAM-17748
Signed-off-by: Ramesh Babu <ramesh.babu@intel.com>
Reviewed-on: https://android.intel.com:443/474456
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/9067
---
 sound/soc/intel/skylake/skl-sst-ipc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/sound/soc/intel/skylake/skl-sst-ipc.c b/sound/soc/intel/skylake/skl-sst-ipc.c
index c7411b8..0c44689 100644
--- a/sound/soc/intel/skylake/skl-sst-ipc.c
+++ b/sound/soc/intel/skylake/skl-sst-ipc.c
@@ -112,7 +112,7 @@
 					<< IPC_PPL_INSTANCE_ID_SHIFT)
 
 #define IPC_CORE_ID_SHIFT		24
-#define IPC_CORE_ID_MASK		0x1F
+#define IPC_CORE_ID_MASK		0xF
 #define IPC_CORE_ID(x)			(((x) & IPC_CORE_ID_MASK) \
 					<< IPC_CORE_ID_SHIFT)
 
-- 
1.7.5.4

