From 0d4a4548f00e6310e76292928cc29b70ea0d06e1 Mon Sep 17 00:00:00 2001
From: Ramesh Babu <ramesh.babu@intel.com>
Date: Fri, 9 Oct 2015 01:16:39 +0530
Subject: [PATCH 1767/2508] ASoC: rt298: add platform data for acpi device

commit 658671773beae0216ff3b2164eb3a88c36defac4 from
https://github.com/01org/linux-apollolake-i

Change-Id: I7b4d8f96b596386cb2575562b4bf11849053ed0c
Signed-off-by: Ramesh Babu <ramesh.babu@intel.com>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/7511
---
 sound/soc/codecs/rt298.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

diff --git a/sound/soc/codecs/rt298.c b/sound/soc/codecs/rt298.c
index 141037f..83e49b6 100644
--- a/sound/soc/codecs/rt298.c
+++ b/sound/soc/codecs/rt298.c
@@ -1130,8 +1130,13 @@ static const struct i2c_device_id rt298_i2c_id[] = {
 };
 MODULE_DEVICE_TABLE(i2c, rt298_i2c_id);
 
+static struct rt298_platform_data rt298_acpi_data = {
+        .cbj_en = true,
+        .gpio2_en = false,
+};
+
 static const struct acpi_device_id rt298_acpi_match[] = {
-	{ "INT343A", 0 },
+	{ "INT343A", (unsigned long)&rt298_acpi_data},
 	{},
 };
 MODULE_DEVICE_TABLE(acpi, rt298_acpi_match);
-- 
1.7.5.4

