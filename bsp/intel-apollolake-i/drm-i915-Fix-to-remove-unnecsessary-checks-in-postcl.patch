From fbba2751a56e6a0321db034b9527be1249073253 Mon Sep 17 00:00:00 2001
From: Namrta Salonie <namrta.salonie@intel.com>
Date: Thu, 19 Nov 2015 16:57:30 +0530
Subject: [PATCH 0464/2508] drm/i915 : Fix to remove unnecsessary checks in
 postclose function.

commit bf68dc9dce6cf6a21300f5dac5bea8bbe1051e78 upstream

    Found by static analysis tool.

Signed-off-by: Namrta Salonie <namrta.salonie@intel.com>
Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
---
 drivers/gpu/drm/i915/i915_dma.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/i915/i915_dma.c b/drivers/gpu/drm/i915/i915_dma.c
index a7289be..a81c766 100644
--- a/drivers/gpu/drm/i915/i915_dma.c
+++ b/drivers/gpu/drm/i915/i915_dma.c
@@ -1262,8 +1262,6 @@ void i915_driver_postclose(struct drm_device *dev, struct drm_file *file)
 {
 	struct drm_i915_file_private *file_priv = file->driver_priv;
 
-	if (file_priv && file_priv->bsd_ring)
-		file_priv->bsd_ring = NULL;
 	kfree(file_priv);
 }
 
-- 
1.7.5.4

