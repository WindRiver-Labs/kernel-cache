From d2d769f01c37fdaade79426d09524c13eb4e6bab Mon Sep 17 00:00:00 2001
From: Liu Ying <gnuiyl@gmail.com>
Date: Mon, 18 Jan 2016 11:36:35 +0800
Subject: [PATCH 2257/4706] drm/atomic-helper: Remove redundant local var
 old_crtc_state in disable_outputs

commit c6c5c7fa7f3ec7d35541e9e4c6feb4ccd6cca7c9 upstream

One of the two local variables old_crtc_state is redundantly defined in the
function disable_outputs().  It has only a scope partway through the block
for_each_connector_in_state.  So, let's remove it and use the one which
has the scope within the function disable_outputs().

Signed-off-by: Liu Ying <gnuiyl@gmail.com>
Link: http://patchwork.freedesktop.org/patch/msgid/1453088195-2564-1-git-send-email-gnuiyl@gmail.com
Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
---
 drivers/gpu/drm/drm_atomic_helper.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/drivers/gpu/drm/drm_atomic_helper.c b/drivers/gpu/drm/drm_atomic_helper.c
index 4f2d3e1..158441d 100644
--- a/drivers/gpu/drm/drm_atomic_helper.c
+++ b/drivers/gpu/drm/drm_atomic_helper.c
@@ -617,7 +617,6 @@ disable_outputs(struct drm_device *dev, struct drm_atomic_state *old_state)
 	for_each_connector_in_state(old_state, connector, old_conn_state, i) {
 		const struct drm_encoder_helper_funcs *funcs;
 		struct drm_encoder *encoder;
-		struct drm_crtc_state *old_crtc_state;
 
 		/* Shut down everything that's in the changeset and currently
 		 * still on. So need to check the old, saved state. */
-- 
1.7.5.4

