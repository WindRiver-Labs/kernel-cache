From a1f1f17e85dbdc1d94fd3008933a4ef536e26db8 Mon Sep 17 00:00:00 2001
From: Mousumi Jana <mousumix.jana@intel.com>
Date: Wed, 27 Apr 2016 23:09:29 +0530
Subject: [PATCH 1952/2508] ASoC: Intel: Boards: Add probe DAI Link in IVI RSE
 Machine driver.

commit 7aabfcd9470b4d38822d323bd3db691a288523e9 from
https://github.com/01org/linux-apollolake-i

Introduce the DAI Link for probe in RSE machine driver.

Change-Id: I07e395a1f1b4d4c4b9d623d5a671d0d567d2302c
Signed-off-by: Mousumi Jana <mousumix.jana@intel.com>
---
 sound/soc/intel/boards/bxtp_ivi_rse_rt298.c |   37 +++++++++++---------------
 1 files changed, 16 insertions(+), 21 deletions(-)

diff --git a/sound/soc/intel/boards/bxtp_ivi_rse_rt298.c b/sound/soc/intel/boards/bxtp_ivi_rse_rt298.c
index ea76450..34d4209 100644
--- a/sound/soc/intel/boards/bxtp_ivi_rse_rt298.c
+++ b/sound/soc/intel/boards/bxtp_ivi_rse_rt298.c
@@ -32,8 +32,6 @@ static const struct snd_soc_dapm_widget broxton_widgets[] = {
 	SND_SOC_DAPM_SPK("Speaker2", NULL),
 	SND_SOC_DAPM_SPK("Speaker3", NULL),
 	SND_SOC_DAPM_MIC("DMIC2", NULL),
-	SND_SOC_DAPM_SIGGEN("probe source"),
-	SND_SOC_DAPM_SINK("probe sink"),
 };
 
 static const struct snd_soc_dapm_route broxton_rt298_map[] = {
@@ -52,8 +50,6 @@ static const struct snd_soc_dapm_route broxton_rt298_map[] = {
 	{ "ssp1 Tx", NULL, "codec3_out"},
 	{ "hdmi_ssp0_in", NULL, "ssp0 Rx" },
 	{ "ssp0 Rx", NULL, "Dummy Capture1" },
-	{ "extractor cpr 8", NULL, "probe source"},
-	{ "probe sink", NULL, "injector cpr 9"},
 };
 
 static int bxtp_ssp0_gpio_init(struct snd_soc_pcm_runtime *rtd)
@@ -297,31 +293,30 @@ static struct snd_soc_dai_link broxton_rt298_dais[] = {
 		.capture_only = true,
 		.ignore_suspend = 1,
 	},
-        {
-                .name = "Bxt Probe playback",
-                .stream_name = "Probe Playback",
-                .cpu_dai_name = "Probe0 Pin",
-                .codec_name = "snd-soc-dummy",
-                .codec_dai_name = "snd-soc-dummy-dai",
-                .platform_name = "0000:00:0e.0",
-                .init = NULL,
-                .ignore_suspend = 1,
-                .nonatomic = 1,
-        },
-        {
-                .name = "Bxt Probe capture",
-                .stream_name = "Probe Capture",
-                .cpu_dai_name = "Probe1 Pin",
-                .codec_name = "snd-soc-dummy",
+	{
+		.name = "Bxt Compress Probe playback",
+		.stream_name = "Probe Playback",
+		.cpu_dai_name = "Compress Probe0 Pin",
+		.codec_name = "snd-soc-dummy",
+		.codec_dai_name = "snd-soc-dummy-dai",
+		.platform_name = "0000:00:0e.0",
+		.init = NULL,
+		.nonatomic = 1,
+	},
+	{
+		.name = "Bxt Compress Probe capture",
+		.stream_name = "Probe Capture",
+		.cpu_dai_name = "Compress Probe1 Pin",
+		.codec_name = "snd-soc-dummy",
                 .codec_dai_name = "snd-soc-dummy-dai",
                 .platform_name = "0000:00:0e.0",
                 .init = NULL,
-                .ignore_suspend = 1,
                 .nonatomic = 1,
         },
 
 
 
+
 	/* Back End DAI links */
 	{
 		/* SSP0 - Codec - for HDMI MCH */
-- 
1.7.5.4

