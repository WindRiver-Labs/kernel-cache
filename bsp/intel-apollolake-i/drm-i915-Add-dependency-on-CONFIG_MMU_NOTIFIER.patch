From b5a7c6d0ae66cfe6c3be74629567cd5d034e48b6 Mon Sep 17 00:00:00 2001
From: Matt Roper <matthew.d.roper@intel.com>
Date: Mon, 16 May 2016 15:25:39 -0700
Subject: [PATCH 1380/2508] drm/i915: Add dependency on CONFIG_MMU_NOTIFIER

commit 9f9b3018cc10e6d3e16207964e4c46cac86d5f81 from
https://github.com/01org/linux-apollolake-i

The OpenCL team indicates that this is important for their component, so
ensure we build with it turned on.

Reported-by: Jacek Danecki <jacek.danecki@intel.com>
Signed-off-by: Matt Roper <matthew.d.roper@intel.com>
(cherry picked from commit 8f4a7a362f1e787829516c2fa60b4dba48f6f148)
Signed-off-by: Matt Roper <matthew.d.roper@intel.com>
---
 drivers/gpu/drm/i915/Kconfig |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/gpu/drm/i915/Kconfig b/drivers/gpu/drm/i915/Kconfig
index 29a32b1..02732ce 100644
--- a/drivers/gpu/drm/i915/Kconfig
+++ b/drivers/gpu/drm/i915/Kconfig
@@ -18,6 +18,8 @@ config DRM_I915
 	select INPUT if ACPI
 	select ACPI_VIDEO if ACPI
 	select ACPI_BUTTON if ACPI
+	# Needed by OpenCL
+	select MMU_NOTIFIER
 	help
 	  Choose this option if you have a system that has "Intel Graphics
 	  Media Accelerator" or "HD Graphics" integrated graphics,
-- 
1.7.5.4

