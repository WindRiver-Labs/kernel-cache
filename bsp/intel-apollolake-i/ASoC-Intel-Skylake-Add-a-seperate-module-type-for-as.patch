From c380095bfe7893eb953fa5a492ce8f96a35921bf Mon Sep 17 00:00:00 2001
From: Pardha Saradhi K <pardha.saradhi.kesapragada@intel.com>
Date: Mon, 11 Jul 2016 16:09:53 +0530
Subject: [PATCH 2134/2508] ASoC: Intel: Skylake: Add a seperate module type
 for asrc algo

commit 36e5b14ae510f418c636017a4821b5e50268a6dd from
https://github.com/01org/linux-apollolake-i

ASRC algorithm has the same interfaces like the SRC algorithm.
This patch distinguishes both of them with similar names
so as to enable using them in the same topology

Change-Id: I69fcc5cba93d91d65e0256cda85555d709f03cf4
Signed-off-by: Pardha Saradhi K <pardha.saradhi.kesapragada@intel.com>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/10161
Reviewed-by: Babu, Ramesh <ramesh.babu@intel.com>
Tested-by: Jayanti, Satya Charitardha <satya.charitardha.jayanti@intel.com>
---
 sound/soc/intel/skylake/skl-messages.c       |    2 ++
 sound/soc/intel/skylake/skl-tplg-interface.h |    1 +
 2 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/sound/soc/intel/skylake/skl-messages.c b/sound/soc/intel/skylake/skl-messages.c
index 2071a00f..78670c2 100644
--- a/sound/soc/intel/skylake/skl-messages.c
+++ b/sound/soc/intel/skylake/skl-messages.c
@@ -732,6 +732,7 @@ static u16 skl_get_module_param_size(struct skl_sst *ctx,
 		return sizeof(struct skl_probe_cfg);
 
 	case SKL_MODULE_TYPE_SRCINT:
+	case SKL_MODULE_TYPE_ASRC:
 		return sizeof(struct skl_src_module_cfg);
 
 	case SKL_MODULE_TYPE_UPDWMIX:
@@ -791,6 +792,7 @@ static int skl_set_module_format(struct skl_sst *ctx,
 		break;
 
 	case SKL_MODULE_TYPE_SRCINT:
+	case SKL_MODULE_TYPE_ASRC:
 		skl_set_src_format(ctx, module_config, *param_data);
 		break;
 
diff --git a/sound/soc/intel/skylake/skl-tplg-interface.h b/sound/soc/intel/skylake/skl-tplg-interface.h
index bcfd5a1..cecf806 100644
--- a/sound/soc/intel/skylake/skl-tplg-interface.h
+++ b/sound/soc/intel/skylake/skl-tplg-interface.h
@@ -92,6 +92,7 @@ enum skl_module_type {
 	SKL_MODULE_TYPE_MIC_SELECT,
 	SKL_MODULE_TYPE_GAIN,
 	SKL_MODULE_TYPE_PROBE,
+	SKL_MODULE_TYPE_ASRC,
 };
 
 enum skl_core_affinity {
-- 
1.7.5.4

