From 9b5a0506fd3c4890b63b42a0d27d5e632c34411f Mon Sep 17 00:00:00 2001
From: Mousumi Jana <mousumix.jana@intel.com>
Date: Sun, 8 Nov 2015 19:41:23 +0530
Subject: [PATCH 1815/2508] ASoC: Intel: Skylake: Fix Broxton mailbox offsets

commit 8b8f5d88e70bcf5937940fe9def61728d6d67c4b from
https://github.com/01org/linux-apollolake-i

Change-Id: Ied6395ec585f8a174b0dd9826fc5afec236a0492
Signed-off-by: Mousumi Jana <mousumix.jana@intel.com>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/7599
Reviewed-by: Babu, Ramesh <ramesh.babu@intel.com>
Tested-by: Babu, Ramesh <ramesh.babu@intel.com>
---
 sound/soc/intel/skylake/bxt-sst.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/sound/soc/intel/skylake/bxt-sst.c b/sound/soc/intel/skylake/bxt-sst.c
index 29590c6..ea4ae0f 100644
--- a/sound/soc/intel/skylake/bxt-sst.c
+++ b/sound/soc/intel/skylake/bxt-sst.c
@@ -46,7 +46,10 @@
 #define BXT_INSTANCE_ID 0
 #define BXT_BASE_FW_MODULE_ID 0
 
-#define BXT_HDA_ADSP_SRAM0_BASE	0x80000
+#define BXT_ADSP_SRAM1_BASE	0xA0000
+#define BXT_ADSP_W0_STAT_SZ	0x800
+#define BXT_ADSP_W0_UP_SZ	0x800
+#define BXT_ADSP_W1_SZ  0x1000
 
 static int bxt_load_base_firmware(struct sst_dsp *ctx);
 static int bxt_set_dsp_D0(struct sst_dsp *ctx);
@@ -108,8 +111,8 @@ int bxt_sst_dsp_init(struct device *dev, void __iomem *mmio_base, int irq,
 	sst->addr.lpe = mmio_base;
 	sst->addr.shim = mmio_base;
 
-	sst_dsp_mailbox_init(sst, (BXT_ADSP_SRAM0_BASE + SKL_ADSP_W0_STAT_SZ),
-			SKL_ADSP_W0_UP_SZ, BXT_HDA_ADSP_SRAM0_BASE + SKL_ADSP_W1_SZ, SKL_ADSP_W1_SZ);
+	sst_dsp_mailbox_init(sst, (BXT_ADSP_SRAM0_BASE + BXT_ADSP_W0_STAT_SZ),
+			BXT_ADSP_W0_UP_SZ, BXT_ADSP_SRAM1_BASE, BXT_ADSP_W1_SZ);
 
 	ret = skl_ipc_init(dev, skl);
 	if (ret)
-- 
1.7.5.4

