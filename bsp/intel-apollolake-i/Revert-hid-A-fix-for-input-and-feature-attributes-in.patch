From 17b6df1b31954ba2eaf2999f97a856e6edbff91b Mon Sep 17 00:00:00 2001
From: "Ooi, Joyce" <joyce.ooi@intel.com>
Date: Thu, 8 Dec 2016 16:14:17 +0800
Subject: [PATCH 4574/4706] Revert "hid: A fix for input and feature
 attributes in HID sensor custom sysfs interface"

commit 3860d191f60013068155b763544bef0947ab33ea from
git://git.yoctoproject.org/linux-yocto-4.1

This reverts commit 4e45ecf38908 ("hid: A fix for input and feature
attributes in HID sensor custom sysfs interface").
This patch is reverted to pick up the upstream version.

Signed-off-by: Ooi, Joyce <joyce.ooi@intel.com>
---
 drivers/hid/hid-sensor-custom.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/hid/hid-sensor-custom.c b/drivers/hid/hid-sensor-custom.c
index 3a84aaf..5614fee 100644
--- a/drivers/hid/hid-sensor-custom.c
+++ b/drivers/hid/hid-sensor-custom.c
@@ -292,11 +292,11 @@ static ssize_t show_value(struct device *dev, struct device_attribute *attr,
 	bool input = false;
 	int value = 0;
 
-	if (sscanf(attr->attr.name, "feature-%x-%x-%s", &index, &usage,
+	if (sscanf(attr->attr.name, "feature-%d-%x-%s", &index, &usage,
 		   name) == 3) {
 		feature = true;
 		field_index = index + sensor_inst->input_field_count;
-	} else if (sscanf(attr->attr.name, "input-%x-%x-%s", &index, &usage,
+	} else if (sscanf(attr->attr.name, "input-%d-%x-%s", &index, &usage,
 		   name) == 3) {
 		input = true;
 		field_index = index;
@@ -398,7 +398,7 @@ static ssize_t store_value(struct device *dev, struct device_attribute *attr,
 	char name[HID_CUSTOM_NAME_LENGTH];
 	int value;
 
-	if (sscanf(attr->attr.name, "feature-%x-%x-%s", &index, &usage,
+	if (sscanf(attr->attr.name, "feature-%d-%x-%s", &index, &usage,
 		   name) == 3) {
 		field_index = index + sensor_inst->input_field_count;
 	} else
-- 
1.7.5.4

