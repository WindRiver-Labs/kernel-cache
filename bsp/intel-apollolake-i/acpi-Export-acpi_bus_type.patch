From 9efaf444d7281d7b99d5ff4e3c7bc14b12de20b2 Mon Sep 17 00:00:00 2001
From: Ankitprasad Sharma <ankitprasad.r.sharma@intel.com>
Date: Tue, 30 Aug 2016 09:49:05 -0700
Subject: [PATCH 56/68] acpi: Export acpi_bus_type

commit b85468f0c5b48105df613e725aea216c7e44cdba from
git://git.yoctoproject.org/linux-yocto-4.1

Some modules, like i915.ko, needs to detect when certain ACPI features are
active inorder to prevent corruption on contended resources.
In particular, use of BIOS RapidStart Technology may corrupt the contents of
the reserved graphics memory, due to unalarmed hibernation. In which case
i915.ko cannot assume that it (reserved gfx memory) remains unmodified and
must recreate the contents and importantly not use it to store unrecoverable
user data.

Signed-off-by: Ankitprasad Sharma <ankitprasad.r.sharma@intel.com>
Cc: "Rafael J. Wysocki" <rjw@rjwysocki.net>
Cc: Len Brown <lenb@kernel.org>
Cc: linux-acpi@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
Signed-off-by: Bob Paauwe <bob.j.paauwe@intel.com>
---
 drivers/acpi/scan.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/acpi/scan.c b/drivers/acpi/scan.c
index 01136b8..87bc20c 100644
--- a/drivers/acpi/scan.c
+++ b/drivers/acpi/scan.c
@@ -1661,6 +1661,7 @@ static const struct acpi_device_id generic_device_ids[] = {
 	{ACPI_DT_NAMESPACE_HID, },
 	{"", },
 };
+EXPORT_SYMBOL_GPL(acpi_bus_type);
 
 static int acpi_generic_device_attach(struct acpi_device *adev,
 				      const struct acpi_device_id *not_used)
-- 
1.7.5.4

