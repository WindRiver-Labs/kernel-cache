From 0f465843a49bb9bf4c395857206ba574a354b00f Mon Sep 17 00:00:00 2001
From: "Panwar, Ashish" <ashish.panwar@intel.com>
Date: Wed, 23 Mar 2016 11:45:30 +0530
Subject: [PATCH 1919/2508] Sound: Fix for a few klocwork issues.

commit 009fd722e8c5e77067fc94c5510c9490ec7191fa from
https://github.com/01org/linux-apollolake-i

Change-Id: I50796881542a33fd7228037baba2cf71fad74171
Signed-off-by: Panwar, Ashish <ashish.panwar@intel.com>
[Kevin: Remove the part for hdac_ext_compr_stream.c]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 sound/soc/soc-pcm.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/sound/soc/soc-pcm.c b/sound/soc/soc-pcm.c
index 52fe7eb..eeb8d01 100644
--- a/sound/soc/soc-pcm.c
+++ b/sound/soc/soc-pcm.c
@@ -564,7 +564,7 @@ codec_dai_err:
 		platform->driver->ops->close(substream);
 
 platform_err:
-	if (cpu_dai->driver->ops->shutdown)
+	if (cpu_dai->driver->ops && cpu_dai->driver->ops->shutdown)
 		cpu_dai->driver->ops->shutdown(substream, cpu_dai);
 out:
 	mutex_unlock(&rtd->pcm_mutex);
-- 
1.7.5.4

