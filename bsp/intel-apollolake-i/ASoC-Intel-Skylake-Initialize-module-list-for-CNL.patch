From 0bd943a4c4a308ad1234ae92d3d499eb58989a31 Mon Sep 17 00:00:00 2001
From: "Kranthikumar, GudishaX" <gudishax.kranthikumar@intel.com>
Date: Mon, 18 Jul 2016 18:27:25 +0530
Subject: [PATCH 2129/2508] ASoC: Intel: Skylake: Initialize module list for
 CNL

commit fab8512e9d18fe1e9f7e952d2f8c79c181f14f09 from
https://github.com/01org/linux-apollolake-i

The module list was not initialized for Canonlake DSP code, so
initialize it.

Change-Id: I79677ccfc39d472a8328ce19c1b5e4582ff59898
Signed-off-by: Kranthikumar, GudishaX <gudishax.kranthikumar@intel.com>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/10362
Reviewed-by: B, Jayachandran <jayachandran.b@intel.com>
Reviewed-by: Babu, Ramesh <ramesh.babu@intel.com>
Reviewed-by: Shah, Hardik T <hardik.t.shah@intel.com>
Tested-by: Shah, Hardik T <hardik.t.shah@intel.com>
---
 sound/soc/intel/skylake/cnl-sst.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/sound/soc/intel/skylake/cnl-sst.c b/sound/soc/intel/skylake/cnl-sst.c
index 74399a0..699d79b 100644
--- a/sound/soc/intel/skylake/cnl-sst.c
+++ b/sound/soc/intel/skylake/cnl-sst.c
@@ -746,6 +746,7 @@ int cnl_sst_dsp_init_hw(struct device *dev, void __iomem *mmio_base, int irq,
 		dev_err(dev, "FW tracing init failed : %x", ret);
 		return ret;
 	}
+	INIT_LIST_HEAD(&sst->module_list);
 	ret = cnl_ipc_init(dev, cnl);
 	if (ret)
 		return ret;
-- 
1.7.5.4

