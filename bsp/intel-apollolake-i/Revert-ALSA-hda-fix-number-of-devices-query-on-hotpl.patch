From 9ab9464a2a5c2ad29dd9b6f2980a7b5d9cfce98a Mon Sep 17 00:00:00 2001
From: "SengKai,Tan" <seng.kai.tan@intel.com>
Date: Wed, 15 Jun 2016 16:54:49 +0800
Subject: [PATCH 0068/2508] Revert "ALSA: hda - fix number of devices query on
 hotplug"

commit 5071699f19080f27a00bc7ba727a5e932dbc05bf from
https://github.com/01org/linux-apollolake-i

This reverts commit 132bd96bc56f9cafd24b71de389984d0e83a0956.

Revert this changes to let subsequence cherry-pick's patch
go in smoothly

Signed-off-by: SengKai,Tan <seng.kai.tan@intel.com>
Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
---
 sound/pci/hda/hda_codec.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/sound/pci/hda/hda_codec.c b/sound/pci/hda/hda_codec.c
index 57197be..52689d3 100644
--- a/sound/pci/hda/hda_codec.c
+++ b/sound/pci/hda/hda_codec.c
@@ -436,7 +436,7 @@ static unsigned int get_num_devices(struct hda_codec *codec, hda_nid_t nid)
 	    get_wcaps_type(wcaps) != AC_WID_PIN)
 		return 0;
 
-	parm = snd_hdac_read_parm_uncached(&codec->core, nid, AC_PAR_DEVLIST_LEN);
+	parm = snd_hda_param_read(codec, nid, AC_PAR_DEVLIST_LEN);
 	if (parm == -1 && codec->bus->rirb_error)
 		parm = 0;
 	return parm & AC_DEV_LIST_LEN_MASK;
-- 
1.7.5.4

