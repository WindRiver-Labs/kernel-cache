From 362658500e6fff3d6f96f24597f83e55860f8cc3 Mon Sep 17 00:00:00 2001
From: Mousumi Jana <mousumix.jana@intel.com>
Date: Sun, 8 Nov 2015 19:58:40 +0530
Subject: [PATCH 1816/2508] ASoC: Intel: Skylake: fix for mailbox size
 hardcoding

commit b48dd25bee8df71466c89dd982841b170cd0a9aa from
https://github.com/01org/linux-apollolake-i

This patch added for fixing the mailbox inbox size in both
skylake and broxton platform.

Change-Id: I8036291fd2ec014ea341839ab9320ab68926c225
Signed-off-by: Mousumi Jana <mousumix.jana@intel.com>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/7600
Reviewed-by: Babu, Ramesh <ramesh.babu@intel.com>
Tested-by: Babu, Ramesh <ramesh.babu@intel.com>
---
 sound/soc/intel/skylake/skl-sst-ipc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/sound/soc/intel/skylake/skl-sst-ipc.c b/sound/soc/intel/skylake/skl-sst-ipc.c
index 8287de0..87c2e00 100644
--- a/sound/soc/intel/skylake/skl-sst-ipc.c
+++ b/sound/soc/intel/skylake/skl-sst-ipc.c
@@ -509,7 +509,7 @@ int skl_ipc_init(struct device *dev, struct skl_sst *skl)
 	ipc->dev = dev;
 
 	ipc->tx_data_max_size = SKL_ADSP_W1_SZ;
-	ipc->rx_data_max_size = SKL_ADSP_W0_UP_SZ;
+	ipc->rx_data_max_size = skl->dsp->mailbox.in_size;
 
 	err = sst_ipc_init(ipc);
 	if (err)
-- 
1.7.5.4

