From 1a678db5ed1afa085661351c7d56264f043d4198 Mon Sep 17 00:00:00 2001
From: Ramesh Babu <ramesh.babu@intel.com>
Date: Fri, 20 May 2016 14:48:02 +0530
Subject: [PATCH 1989/2508] ASoC: pcm: add support appl_ptr_update callback

commit 25662d481762f23787b93361612a336ae3cfc68a from
https://github.com/01org/linux-apollolake-i

snd_pcm_ops supports appl_ptr_update callback
for notifying driver when app pointer gets modified.

This patch adds support for appl_ptr_update in
SoC PCM.

Change-Id: I1e70757647534f8ec3d7d6c6f6d51e432352fff7
Signed-off-by: Ramesh Babu <ramesh.babu@intel.com>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/9563
---
 sound/soc/soc-pcm.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/sound/soc/soc-pcm.c b/sound/soc/soc-pcm.c
index 3b9ea8c..227d782 100644
--- a/sound/soc/soc-pcm.c
+++ b/sound/soc/soc-pcm.c
@@ -2553,6 +2553,7 @@ int soc_new_pcm(struct snd_soc_pcm_runtime *rtd, int num)
 		rtd->ops.silence	= platform->driver->ops->silence;
 		rtd->ops.page		= platform->driver->ops->page;
 		rtd->ops.mmap		= platform->driver->ops->mmap;
+		rtd->ops.appl_ptr_update = platform->driver->ops->appl_ptr_update;
 	}
 
 	if (playback)
-- 
1.7.5.4

