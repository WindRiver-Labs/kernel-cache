From 96d6d6280e7967dab8c22e5aca72d7835d712282 Mon Sep 17 00:00:00 2001
From: Jeeja KP <jeeja.kp@intel.com>
Date: Fri, 16 Oct 2015 18:57:57 +0530
Subject: [PATCH 1690/2508] ASoC: Intel: board: skl_rt286: Correct the SSP0
 Fmt fixup to 24 bit

commit 16e3817f531088581fc70240feea286267cf007f from
https://github.com/01org/linux-apollolake-i

SSP0 FMT used is 24 bit, This patch updates the fmt to 24 bit.

Signed-off-by: Jeeja KP <jeeja.kp@intel.com>

Conflicts:
	sound/soc/intel/boards/skl_rt286.c

Change-Id: I771ef22393dc5249786df7fe5cc0b248ebf268bd
---
 sound/soc/intel/boards/skl_rt286.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/sound/soc/intel/boards/skl_rt286.c b/sound/soc/intel/boards/skl_rt286.c
index 7f51f9f..6ac0480 100644
--- a/sound/soc/intel/boards/skl_rt286.c
+++ b/sound/soc/intel/boards/skl_rt286.c
@@ -113,12 +113,16 @@ static int skylake_ssp0_fixup(struct snd_soc_pcm_runtime *rtd,
 			SNDRV_PCM_HW_PARAM_RATE);
 	struct snd_interval *channels = hw_param_interval(params,
 						SNDRV_PCM_HW_PARAM_CHANNELS);
+	struct snd_mask *fmt = hw_param_mask(params, SNDRV_PCM_HW_PARAM_FORMAT);
 
 	/* The output is 48KHz, stereo, 16bits */
 	rate->min = rate->max = 48000;
 	channels->min = channels->max = 2;
 	params_set_format(params, SNDRV_PCM_FORMAT_S16_LE);
 
+	/* set SSP0 to 24 bit */
+	snd_mask_none(fmt);
+	snd_mask_set(fmt, SNDRV_PCM_FORMAT_S24_LE);
 	return 0;
 }
 
-- 
1.7.5.4

