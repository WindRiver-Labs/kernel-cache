From 2c06202b82aede3a871b8e6e03fcdfcf6fd4a8ce Mon Sep 17 00:00:00 2001
From: Axel Lin <axel.lin@ingics.com>
Date: Tue, 20 Oct 2015 19:13:45 +0800
Subject: [PATCH 1640/2508] ASoC: Intel: Skylake: Convert to
 devm_snd_soc_register_card

commit 4901aa065bced55be5ae55b58fc032bfc727fdda upstream

Signed-off-by: Axel Lin <axel.lin@ingics.com>
Signed-off-by: Mark Brown <broonie@kernel.org>
---
 sound/soc/intel/boards/skl_rt286.c |    9 +--------
 1 files changed, 1 insertions(+), 8 deletions(-)

diff --git a/sound/soc/intel/boards/skl_rt286.c b/sound/soc/intel/boards/skl_rt286.c
index 488c98e..a73a431 100644
--- a/sound/soc/intel/boards/skl_rt286.c
+++ b/sound/soc/intel/boards/skl_rt286.c
@@ -240,18 +240,11 @@ static int skylake_audio_probe(struct platform_device *pdev)
 {
 	skylake_rt286.dev = &pdev->dev;
 
-	return snd_soc_register_card(&skylake_rt286);
-}
-
-static int skylake_audio_remove(struct platform_device *pdev)
-{
-	snd_soc_unregister_card(&skylake_rt286);
-	return 0;
+	return devm_snd_soc_register_card(&pdev->dev, &skylake_rt286);
 }
 
 static struct platform_driver skylake_audio = {
 	.probe = skylake_audio_probe,
-	.remove = skylake_audio_remove,
 	.driver = {
 		.name = "skl_alc286s_i2s",
 	},
-- 
1.7.5.4

