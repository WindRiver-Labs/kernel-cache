From d7f3985341ea9bc731e136a46bc4385195ed3782 Mon Sep 17 00:00:00 2001
From: Vinod Koul <vinod.koul@intel.com>
Date: Tue, 14 Jun 2016 21:33:44 +0530
Subject: [PATCH 2126/2508] ASoC: Intel: Skylake: Initialize module list for
 Broxton

commit e9cad05dcbff26f7a24a7476d56e4edfc5a0ceca from
https://github.com/01org/linux-apollolake-i

The module list was not initialized for Broxton DSP code, so
initialize it.

Change-Id: Ia45d17220fcab791d0882fcb561b536d99004f31
Signed-off-by: Vinod Koul <vinod.koul@intel.com>
Signed-off-by: Mark Brown <broonie@kernel.org>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/10302
Reviewed-by: Jayanti, Satya Charitardha <satya.charitardha.jayanti@intel.com>
Tested-by: Jayanti, Satya Charitardha <satya.charitardha.jayanti@intel.com>
---
 sound/soc/intel/skylake/bxt-sst.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/sound/soc/intel/skylake/bxt-sst.c b/sound/soc/intel/skylake/bxt-sst.c
index 3de94e4..6922f05 100644
--- a/sound/soc/intel/skylake/bxt-sst.c
+++ b/sound/soc/intel/skylake/bxt-sst.c
@@ -145,6 +145,7 @@ int bxt_sst_dsp_init_hw(struct device *dev, void __iomem *mmio_base, int irq,
 		return ret;
 	}
 
+	INIT_LIST_HEAD(&sst->module_list);
 	ret = skl_ipc_init(dev, skl);
 	if (ret)
 		return ret;
-- 
1.7.5.4

