From 4034c92b2425eb3b682f4bf68b95db1ecd2a3183 Mon Sep 17 00:00:00 2001
From: Senthilnathan Veppur <senthilnathanx.veppur@intel.com>
Date: Mon, 21 Mar 2016 18:47:27 +0530
Subject: [PATCH 1914/2508] ASoC: Fix memory leak

commit 468857fa91ef27afdd537b34454881c0aaa6c981 from
https://github.com/01org/linux-apollolake-i

Change-Id: If622edea918a5d147806b5f55bfe0951c046bfe6
Signed-off-by: Senthilnathan Veppur <senthilnathanx.veppur@intel.com>
---
 sound/soc/soc-dapm.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/sound/soc/soc-dapm.c b/sound/soc/soc-dapm.c
index 739289c..addff17 100644
--- a/sound/soc/soc-dapm.c
+++ b/sound/soc/soc-dapm.c
@@ -3607,6 +3607,7 @@ static int snd_soc_dai_link_event(struct snd_soc_dapm_widget *w,
 
 	default:
 		WARN(1, "Unknown event %d\n", event);
+		kfree(params);
 		return -EINVAL;
 	}
 
-- 
1.7.5.4

