From 2bea2a69fc26c00c59fe5cc908560b378b7b004e Mon Sep 17 00:00:00 2001
From: "Yong, Jonathan" <jonathan.yong@intel.com>
Date: Tue, 28 Jun 2016 01:28:25 +0000
Subject: [PATCH 0104/2508] x86: Add platform:apl_gpio alias to
 pinctrl-broxton

commit 0a4ccb244ef6e3138f01d6fdc8b3038c11caa733 from
https://github.com/01org/linux-apollolake-i

This should allow it to load as a platform driver in non-ACPI
mode.

Signed-off-by: Yong, Jonathan <jonathan.yong@intel.com>
Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
---
 drivers/pinctrl/intel/pinctrl-broxton.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/drivers/pinctrl/intel/pinctrl-broxton.c b/drivers/pinctrl/intel/pinctrl-broxton.c
index 27855a5..4d15694 100644
--- a/drivers/pinctrl/intel/pinctrl-broxton.c
+++ b/drivers/pinctrl/intel/pinctrl-broxton.c
@@ -1085,3 +1085,7 @@ module_exit(bxt_pinctrl_exit);
 MODULE_AUTHOR("Mika Westerberg <mika.westerberg@linux.intel.com>");
 MODULE_DESCRIPTION("Intel Broxton SoC pinctrl/GPIO driver");
 MODULE_LICENSE("GPL v2");
+
+#ifdef CONFIG_PINCTRL_APL_DEVICE
+MODULE_ALIAS("platform:apl_gpio");
+#endif
-- 
1.7.5.4

