From 575bb68eaae2dde35f9e95d795dbc2d2f9649776 Mon Sep 17 00:00:00 2001
From: Geliang Tang <geliangtang@163.com>
Date: Mon, 28 Dec 2015 22:47:13 +0800
Subject: [PATCH 2092/2508] ASoC: hdac_hdmi: use dev_to_hdac_dev and
 to_ehdac_device

commit 25dff667439e107cff4fa059ac6a9353bf40dfe1 from
https://github.com/01org/linux-apollolake-i

Use dev_to_hdac_dev() and to_ehdac_device() instead of open-coding.

Change-Id: Idceedae321f1df5ad2812aabcdda0ecf7bacb110
Signed-off-by: Geliang Tang <geliangtang@163.com>
Reviewed-by: Vinod Koul <vinod.koul@intel.com>
Signed-off-by: Mark Brown <broonie@kernel.org>
Reviewed-on: https://git-gar-1.devtools.intel.com/gerrit/10075
Reviewed-by: Jayanti, Satya Charitardha <satya.charitardha.jayanti@intel.com>
Tested-by: Jayanti, Satya Charitardha <satya.charitardha.jayanti@intel.com>
---
 sound/soc/codecs/hdac_hdmi.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/sound/soc/codecs/hdac_hdmi.c b/sound/soc/codecs/hdac_hdmi.c
index 157aaf1..921e1ef 100644
--- a/sound/soc/codecs/hdac_hdmi.c
+++ b/sound/soc/codecs/hdac_hdmi.c
@@ -67,8 +67,9 @@ struct hdac_hdmi_priv {
 
 static inline struct hdac_ext_device *to_hda_ext_device(struct device *dev)
 {
-	struct hdac_device *hdac = container_of(dev, struct hdac_device, dev);
-	return container_of(hdac, struct hdac_ext_device, hdac);
+	struct hdac_device *hdac = dev_to_hdac_dev(dev);
+
+	return to_ehdac_device(hdac);
 }
 
 static int hdac_hdmi_setup_stream(struct hdac_ext_device *hdac, hda_nid_t cvt_nid,
-- 
1.7.5.4

