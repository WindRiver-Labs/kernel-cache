From 51eeb7f543efc9f74fec328fc4661df6e8f6f8d3 Mon Sep 17 00:00:00 2001
From: Liang Li <liang.li@windriver.com>
Date: Wed, 12 Jan 2011 19:54:01 +0800
Subject: [PATCH] wrhv/8572ds: enable 8572 GOS setup pci law

We have wrhv_pci_law kernel cmdline option to enable/disable
GOS setup PCI LAW. On fsl_8572ds, ideally we won't worry about
setup PCI LAW since hyp should handle that according to XML
configure. However, keep our flexibility in GOS is also
necessary in case wrhv may have mistakes.

Signed-off-by: Liang Li <liang.li@windriver.com>
---
 arch/powerpc/platforms/85xx/wrhv_8572ds.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/platforms/85xx/wrhv_8572ds.c b/arch/powerpc/platforms/85xx/wrhv_8572ds.c
index c395eb0..52bf014 100644
--- a/arch/powerpc/platforms/85xx/wrhv_8572ds.c
+++ b/arch/powerpc/platforms/85xx/wrhv_8572ds.c
@@ -118,6 +118,7 @@ static void __init mpc85xx_ds_setup_arch(void)
 			max = min(max, hose->dma_window_base_cur +
 					hose->dma_window_size);
 
+			ppc_setup_pci_law(np);
 		}
 	}
 
-- 
1.6.5.2

