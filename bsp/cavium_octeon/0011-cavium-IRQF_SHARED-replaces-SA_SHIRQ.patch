From b1380a2f1a7fb4e30f5ee8112642af8e9ba87c4c Mon Sep 17 00:00:00 2001
From: Wally Gleemer <Wally.Gleemer@windriver.com>
Date: Tue, 25 Mar 2008 16:21:34 -0700
Subject: [PATCH] cavium: IRQF_SHARED replaces SA_SHIRQ

Replace the old SA_SHIRQ with IRQF_SHARED in cavium smp.c

Signed-off-by: Wally Gleemer <Wally.Gleemer@windriver.com>
---
 arch/mips/cavium-octeon/smp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/cavium-octeon/smp.c b/arch/mips/cavium-octeon/smp.c
index eb646c9..3f34d1d 100644
--- a/arch/mips/cavium-octeon/smp.c
+++ b/arch/mips/cavium-octeon/smp.c
@@ -145,7 +145,7 @@ void plat_prepare_cpus(unsigned int max_cpus)
 	/* This irq register is just a placeholder. For speed, the low level
 	   interrupt handler calls mailbox_interrupt directly. This just lets
 	   the normal interrupt handling stuff know */
-	request_irq(3, (irq_handler_t) plat_irq_dispatch, SA_SHIRQ, "IPC",
+	request_irq(3, (irq_handler_t) plat_irq_dispatch, IRQF_SHARED, "IPC",
 		    plat_irq_dispatch);
 
 	/* Enable Mailbox interrupts to this core. These are the only
-- 
1.5.5.1

