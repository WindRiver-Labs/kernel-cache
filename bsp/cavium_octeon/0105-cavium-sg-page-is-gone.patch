From c7fb143604a2feb2b11b4e20a514e9edccb1cdba Mon Sep 17 00:00:00 2001
From: Wally Gleemer <Wally.Gleemer@windriver.com>
Date: Thu, 13 Mar 2008 22:57:38 -0700
Subject: [PATCH] cavium: sg->page is gone

There is no longer a sg->page -- it is replaced with sg_page(sg)

Signed-off-by: Wally Gleemer <Wally.Gleemer@windriver.com>
---
 arch/mips/cavium-octeon/dma-octeon.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/mips/cavium-octeon/dma-octeon.c b/arch/mips/cavium-octeon/dma-octeon.c
index a609baf..b54dcfe 100644
--- a/arch/mips/cavium-octeon/dma-octeon.c
+++ b/arch/mips/cavium-octeon/dma-octeon.c
@@ -17,6 +17,7 @@
 #include <linux/string.h>
 #include <linux/dma-mapping.h>
 #include <linux/platform_device.h>
+#include <linux/scatterlist.h>
 
 #include <asm/cache.h>
 #include <asm/io.h>
@@ -360,7 +361,7 @@ int dma_map_sg(struct device *dev, struct scatterlist *sg, int nents,
 	int i;
 	for (i = 0; i < nents; i++, sg++)
 		sg->dma_address =
-			dma_map_page(dev, sg->page, sg->offset, sg->length,
+			dma_map_page(dev, sg_page(sg), sg->offset, sg->length,
 				     direction);
 
 	return nents;
-- 
1.5.5.1

