From 5393c847e7c0672a2f8d6aac06fff9dc3c283ae9 Mon Sep 17 00:00:00 2001
From: Wally Gleemer <Wally.Gleemer@windriver.com>
Date: Thu, 13 Mar 2008 22:55:03 -0700
Subject: [PATCH] cavium: Another bad variable type hoses timer events

Git commit from kernel.org 42f77542 introduces yet another bad
variable type which will break the generation of timer interrupts
on mips64.  Also select CEVT_R4K on Cavium to enable building of
the clockevents code.

Signed-off-by: Wally Gleemer <Wally.Gleemer@windriver.com>
---
 arch/mips/kernel/cevt-r4k.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/kernel/cevt-r4k.c b/arch/mips/kernel/cevt-r4k.c
index 49e1e66..d141ed7 100644
--- a/arch/mips/kernel/cevt-r4k.c
+++ b/arch/mips/kernel/cevt-r4k.c
@@ -180,7 +180,7 @@ static int c0_compare_int_pending(void)
 static int c0_compare_int_usable(void)
 {
 	unsigned int delta;
-	unsigned int cnt;
+	unsigned long cnt;
 
 	/*
 	 * IP7 already pending?  Try to clear it by acking the timer.
-- 
1.5.5.1

