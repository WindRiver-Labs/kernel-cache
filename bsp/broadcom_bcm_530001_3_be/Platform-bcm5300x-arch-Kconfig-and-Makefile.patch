From e3157f92165c95acc1009367792bc316b1e7937c Mon Sep 17 00:00:00 2001
From: Liu Changhui <changhui.liu@windriver.com>
Date: Sun, 6 Jun 2010 13:48:47 +0800
Subject: [PATCH 01/21] Platform bcm5300x arch Kconfig and Makefile

Add bcm5300x arch Kconfig and Makefile support
Source: from broadcom SDK

Signed-off-by: Liu Changhui <changhui.liu@windriver.com>
---
 arch/mips/Kconfig  |   17 +++++++++++++++++
 arch/mips/Makefile |   14 +++++++++++++-
 2 files changed, 30 insertions(+), 1 deletions(-)

diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index 9f2bea3..96aa6a3 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -567,6 +567,23 @@ config SNI_RM
 	  Technology and now in turn merged with Fujitsu.  Say Y here to
 	  support this machine type.
 
+config BCM53000
+        bool "Support for Broadcom BCM53000"
+        select HW_HAS_PCI
+        select DMA_NONCOHERENT
+        select IRQ_CPU
+        select CEVT_R4K
+        select CSRC_R4K
+        select SYS_HAS_CPU_MIPS32_R1
+        select SYS_HAS_CPU_MIPS32_R2
+        select SYS_SUPPORTS_32BIT_KERNEL
+        select SYS_SUPPORTS_BIG_ENDIAN
+        select SYS_SUPPORTS_LITTLE_ENDIAN
+        select SYS_R4K_CVET_HWTIMER
+        select CFE
+        help
+          Support Broadcom BCM53000 board
+
 config MACH_TX39XX
 	bool "Toshiba TX39 series based machines"
 
diff --git a/arch/mips/Makefile b/arch/mips/Makefile
index f6b98c7..310a353 100644
--- a/arch/mips/Makefile
+++ b/arch/mips/Makefile
@@ -533,7 +533,19 @@ load-$(CONFIG_SIBYTE_BIGSUR)	:= 0xffffffff80100000
 core-$(CONFIG_BCM47XX)		+= arch/mips/bcm47xx/
 cflags-$(CONFIG_BCM47XX)	+= -Iinclude/asm-mips/mach-bcm47xx
 load-$(CONFIG_BCM47XX)		:= 0xffffffff80001000
-
+#
+# Broadcom BCM53000 board
+core-$(CONFIG_BCM53000)         += arch/mips/bcm53000/
+cflags-$(CONFIG_BCM53000)       += -Iinclude/asm-mips/mach-bcm5300x -Iinclude/asm-mips/bcmsi -DBCMDRIVER
+load-$(CONFIG_BCM53000)         += 0xffffffff80001000
+ifdef CONFIG_BCM53000
+ifdef CONFIG_CPU_BIG_ENDIAN
+cflags-$(CONFIG_BCM53000)       += -DIL_BIGENDIAN
+endif
+ifdef CONFIG_QT
+cflags-$(CONFIG_BCM53000)       += -DCFG_QUICKTURN
+endif
+endif
 #
 # SNI RM
 #
-- 
1.7.0.4

