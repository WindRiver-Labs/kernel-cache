From 29d68c353737bfe716dea7518e5d25826914b9b1 Mon Sep 17 00:00:00 2001
From: Liming Wang <liming.wang@windriver.com>
Date: Wed, 29 Jun 2011 16:45:42 +0800
Subject: [PATCH 016/108] arm: omap4: pandaboard: add usb host/otg support

add host/otg mode support

Signed-off-by: Jingdong Lu <jingdong.lu@windriver.com>
Signed-off-by: Liming Wang <liming.wang@windriver.com>
---
 arch/arm/mach-omap2/board-omap4panda.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/board-omap4panda.c b/arch/arm/mach-omap2/board-omap4panda.c
index b59a945..73b8a66 100644
--- a/arch/arm/mach-omap2/board-omap4panda.c
+++ b/arch/arm/mach-omap2/board-omap4panda.c
@@ -144,7 +144,13 @@ error1:
 
 static struct omap_musb_board_data musb_board_data = {
 	.interface_type		= MUSB_INTERFACE_UTMI,
-	.mode			= MUSB_PERIPHERAL,
+#ifdef CONFIG_USB_MUSB_OTG
+        .mode                   = MUSB_OTG,
+#elif defined(CONFIG_USB_MUSB_HDRC_HCD)
+        .mode                   = MUSB_HOST,
+#elif defined(CONFIG_USB_GADGET_MUSB_HDRC)
+        .mode                   = MUSB_PERIPHERAL,
+#endif
 	.power			= 100,
 };
 
-- 
1.7.4.1

