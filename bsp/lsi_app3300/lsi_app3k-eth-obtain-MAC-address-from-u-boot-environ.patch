From 5dff48b0c8843d23ee76baadb1a62d06f0a34dc3 Mon Sep 17 00:00:00 2001
From: Tonyliu <Bo.Liu@windriver.com>
Date: Tue, 20 Jul 2010 01:43:27 -0700
Subject: [PATCH] lsi_app3k: eth obtain MAC address from u-boot environment

index needs to be cleared explicitly to save MAC address at
the beginning of the array.

Signed-off-by: Tonyliu <Bo.Liu@windriver.com>
---
 drivers/net/arm/appnic.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/net/arm/appnic.c b/drivers/net/arm/appnic.c
index 14a472a..4c12618 100644
--- a/drivers/net/arm/appnic.c
+++ b/drivers/net/arm/appnic.c
@@ -1834,6 +1834,7 @@ int appnic_setup(struct net_device *device)
 		ret = -EBUSY;
 		goto free;
 	} else {
+		index = 0;
 		string = ethaddr_string;
 
 		while ((0 != string) && (6 > index)) {
-- 
1.6.5.2

