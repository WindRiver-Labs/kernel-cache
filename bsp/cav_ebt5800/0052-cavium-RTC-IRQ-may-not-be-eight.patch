From 81a6c3c9b00e42878132c10546f30f00117119da Mon Sep 17 00:00:00 2001
From: auto commit <unknown@unknown>
Date: Fri, 24 Oct 2008 12:22:45 -0700
Subject: [PATCH] cavium: RTC IRQ may not be eight.

Only force the RTC IRQ value to be eight (ISA default from
approx 1986) if we haven't already specified it elsewhere.

Signed-off-by: Tomaso Paoletti <tpaoletti@caviumnetworks.com>
Signed-off-by: Paul Gortmaker <Paul.Gortmaker@windriver.com>
---
 include/asm-mips/mach-generic/mc146818rtc.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/include/asm-mips/mach-generic/mc146818rtc.h b/include/asm-mips/mach-generic/mc146818rtc.h
index 0b9a942..0c8359e 100644
--- a/include/asm-mips/mach-generic/mc146818rtc.h
+++ b/include/asm-mips/mach-generic/mc146818rtc.h
@@ -13,7 +13,9 @@
 #include <asm/io.h>
 
 #define RTC_PORT(x)	(0x70 + (x))
+#ifndef RTC_IRQ
 #define RTC_IRQ		8
+#endif
 
 static inline unsigned char CMOS_READ(unsigned long addr)
 {
-- 
1.5.5.1

