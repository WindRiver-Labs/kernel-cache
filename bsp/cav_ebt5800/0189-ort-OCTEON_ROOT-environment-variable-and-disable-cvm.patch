From 2587d733e38a8ef79c860bf8f8297f294bafffb3 Mon Sep 17 00:00:00 2001
From: auto commit <unknown@unknown>
Date: Fri, 24 Oct 2008 12:23:19 -0700
Subject: [PATCH] ort OCTEON_ROOT environment variable and disable cvmx-config

since there is no cvmx-config script.

Signed-off-by: Yang Shi <yang.shi@windriver.com>
---
 arch/mips/cavium-octeon/gpl-executive/Makefile |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/arch/mips/cavium-octeon/gpl-executive/Makefile b/arch/mips/cavium-octeon/gpl-executive/Makefile
index 8e6cdf6..7515e3a 100644
--- a/arch/mips/cavium-octeon/gpl-executive/Makefile
+++ b/arch/mips/cavium-octeon/gpl-executive/Makefile
@@ -8,6 +8,7 @@
 #
 # Copyright (C) 2005-2007 Cavium Networks
 #
+export OCTEON_ROOT = $(srctree)/arch/mips/cavium-octeon
 
 source:=$(srctree)/$(src)
 
@@ -54,8 +55,8 @@ cvmx-linux-kernel-exports.o $(executive-src-files): $(obj)/config/cvmx-config.h
 $(executive-src-files):
 	$(Q)ln -fs $(@:$(obj)/%.c=$(OCTEON_ROOT)/executive/%.c) $@
 
-$(obj)/config/cvmx-config.h: $(source)/config/executive-config.h
-	cd $(obj) && cvmx-config $< 
+#$(obj)/config/cvmx-config.h: $(source)/config/executive-config.h
+#	cd $(obj) && cvmx-config $< 
 
 clean:
 	rm -f *.o $(executive-src-files)
-- 
1.5.5.1

