From 0c701a77bd6268965a93a4531575cd4dda99766b Mon Sep 17 00:00:00 2001
From: Alexander Smirnov <asmirnov@embeddedalley.com>
Date: Mon, 29 Dec 2008 18:56:25 +0300
Subject: [PATCH 23/77] i.MX Framebuffer: fix margins

The upper/lower and left/right margins are mixed up in the driver.
Fix it

Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
Signed-off-by: Alexander Smirnov <asmirnov@embeddedalley.com>

Merged from pengutronix.com
---
 drivers/video/imxfb.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/video/imxfb.c b/drivers/video/imxfb.c
index 1bccf5a..feaae73 100644
--- a/drivers/video/imxfb.c
+++ b/drivers/video/imxfb.c
@@ -410,13 +410,13 @@ static int imxfb_activate_var(struct fb_var_screeninfo *var, struct fb_info *inf
 #endif
 
 	writel(HCR_H_WIDTH(var->hsync_len) |
-		HCR_H_WAIT_1(var->left_margin) |
-		HCR_H_WAIT_2(var->right_margin),
+		HCR_H_WAIT_1(var->right_margin) |
+		HCR_H_WAIT_2(var->left_margin),
 		fbi->regs + LCDC_HCR);
 
 	writel(VCR_V_WIDTH(var->vsync_len) |
-		VCR_V_WAIT_1(var->upper_margin) |
-		VCR_V_WAIT_2(var->lower_margin),
+		VCR_V_WAIT_1(var->lower_margin) |
+		VCR_V_WAIT_2(var->upper_margin),
 		fbi->regs + LCDC_VCR);
 
 	writel(SIZE_XMAX(var->xres) | SIZE_YMAX(var->yres),
-- 
1.6.3.1

