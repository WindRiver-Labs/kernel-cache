From bd73389872cde0113097d94d1dcc53320d283a45 Mon Sep 17 00:00:00 2001
From: Wang Hui <Hui.Wang@windriver.com>
Date: Thu, 4 Feb 2010 19:11:26 +0800
Subject: [PATCH] mx27/mach: add registration of VPU driver

Add VPU driver registration. Implement two functions which are needed
by VPU driver, these two functions are only meaningful on mx32 and
mx51 platforms, so here implementing as empty functions.

Signed-off-by: Wang Hui <Hui.Wang@windriver.com>
---
 arch/arm/mach-mx2/mx27ads.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-mx2/mx27ads.c b/arch/arm/mach-mx2/mx27ads.c
index 1945cfe..c22faf1 100644
--- a/arch/arm/mach-mx2/mx27ads.c
+++ b/arch/arm/mach-mx2/mx27ads.c
@@ -1939,6 +1939,16 @@ static inline int mxc_init_extuart(void)
 }
 #endif
 
+void mxc_pg_enable(struct platform_device *pdev)
+{
+}
+EXPORT_SYMBOL(mxc_pg_enable);
+
+void mxc_pg_disable(struct platform_device *pdev)
+{
+}
+EXPORT_SYMBOL(mxc_pg_disable);
+
 static void __init mx27ads_board_init(void)
 {
 	gpio_fec_active();
@@ -2045,6 +2055,10 @@ static void __init mx27ads_board_init(void)
 	mxc_register_device(&mxc_sdhc_device0, &sdhc1_pdata);
         mxc_register_device(&mxc_sdhc_device1, &sdhc2_pdata);
 #endif
+
+#ifdef CONFIG_MXC_VPU
+	platform_device_register(&mxc_vpu_device);
+#endif
 	platform_add_devices(platform_devices, ARRAY_SIZE(platform_devices));
 }
 
-- 
1.6.0.4

