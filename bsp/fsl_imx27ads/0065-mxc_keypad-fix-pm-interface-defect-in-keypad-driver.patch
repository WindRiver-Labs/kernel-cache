From 1212d32a44514b814a49635d75590251d9b34f0c Mon Sep 17 00:00:00 2001
From: Wang Hui <Hui.Wang@windriver.com>
Date: Wed, 27 May 2009 09:58:46 +0800
Subject: [PATCH 65/77] mxc_keypad: fix pm interface defect in keypad driver

Remove the redundant call to init_timer in keypad_resume
because the timer is already initialized elsewhere when the
driver is loaded.  The init_timer need only be called once;
it does not need to be called after every use of del_timer_sync
(which is used in the keypad_suspend function).

Signed-off-by: Wang Hui <Hui.Wang@windriver.com>
---
 drivers/input/keyboard/mxc-keypad.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/drivers/input/keyboard/mxc-keypad.c b/drivers/input/keyboard/mxc-keypad.c
index 6931a8c..fd89804 100644
--- a/drivers/input/keyboard/mxc-keypad.c
+++ b/drivers/input/keyboard/mxc-keypad.c
@@ -128,8 +128,6 @@ static int mxckeypad_resume(struct platform_device *pdev)
 		enable_irq(mxckeypad->irq);
 	}
 
-	init_timer(&mxckeypad->timer);
-
 	return 0;
 }
 #else
-- 
1.6.3.1

