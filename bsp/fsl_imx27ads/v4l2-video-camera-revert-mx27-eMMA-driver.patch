From f1682febf885d344c0e5f44a6b7d1dee90b6e3b2 Mon Sep 17 00:00:00 2001
From: Wang Hui <Hui.Wang@windriver.com>
Date: Thu, 4 Feb 2010 19:11:28 +0800
Subject: [PATCH] v4l2/video/camera: revert mx27 eMMA driver

Because we introduce full-function eMMA driver, we have to revert
this driver. This action will revert partial content of commit
501a44c.

Signed-off-by: Wang Hui <Hui.Wang@windriver.com>
---
 drivers/media/video/mx27_camera.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

diff --git a/drivers/media/video/mx27_camera.c b/drivers/media/video/mx27_camera.c
index ab34a4a..b61dec1 100644
--- a/drivers/media/video/mx27_camera.c
+++ b/drivers/media/video/mx27_camera.c
@@ -717,7 +717,7 @@ static int mx27_camera_set_fmt_cap(struct soc_camera_device *icd,
 static int mx27_camera_try_fmt_cap(struct soc_camera_device *icd,
 				  struct v4l2_format *f)
 {
-	return icd->ops->try_fmt_cap(icd, f);
+	return 0;
 }
 
 static int mx27_camera_querycap(struct soc_camera_host *ici,
@@ -1069,11 +1069,7 @@ static int mx27_camera_probe(struct platform_device *pdev)
 	pcdev->base_csi = base_csi;
 	pcdev->dev = &pdev->dev;
 
-	err = pcdev->pdata->init(pdev);
-	if (err) {
-		dev_err(pcdev->dev, "Camera platform init failed \n");
-		goto exit_iounmap;
-	}
+	pcdev->pdata->init(pdev);
 
 	err = request_irq(pcdev->irq_csi, mx27_camera_irq, 0, MX27_CAM_DRV_NAME,
 			  pcdev);
-- 
1.6.0.4

