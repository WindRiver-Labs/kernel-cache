From 0898f0cda6dba86b82d8a1925d06c2794c48748b Mon Sep 17 00:00:00 2001
From: Vladimir Barinov <vbarinov@embeddedalley.com>
Date: Tue, 3 Feb 2009 18:49:58 +0300
Subject: [PATCH] MX2 USB fixes

IMX2: 1) fix usbotg irq resource typo
      2) change the name of platform_device to match FSL ARC OTG UDC driver name.
	 Currently the name was taken arbitrary without any driver supported. This
	 came from penqutronix.de patchset. So it's safe to make this change
	 in MX2 platform code.

Signed-off-by: Vladimir Barinov <vbarinov@embeddedalley.com>
---
 arch/arm/mach-mx2/devices.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-mx2/devices.c b/arch/arm/mach-mx2/devices.c
index 156f666..305e340 100644
--- a/arch/arm/mach-mx2/devices.c
+++ b/arch/arm/mach-mx2/devices.c
@@ -530,13 +530,13 @@ static struct resource mxc_otg_resources[] = {
 		.end   = OTG_BASE_ADDR + 0x1ff,
 		.flags = IORESOURCE_MEM,
 	}, {
-		.start = MXC_INT_USB1,
+		.start = MXC_INT_USB3,
 		.flags = IORESOURCE_IRQ,
 	},
 };
 
 struct platform_device mxc_otg = {
-	.name = "mxc-ehci",
+	.name = "fsl-usb2-udc",
 	.id = 0,
 	.dev = {
 		.coherent_dma_mask = 0xffffffff,
-- 
1.5.5.1

