From 6995fb76c7142f557c320f5bdd566ce64599ea2f Mon Sep 17 00:00:00 2001
From: Alexander Smirnov <asmirnov@embeddedalley.com>
Date: Tue, 9 Dec 2008 21:54:26 +0300
Subject: [PATCH] Add several important defines for i.MX27

Signed-off-by: Alexander Smirnov <asmirnov@embeddedalley.com>
---
 arch/arm/plat-mxc/include/mach/iomux-mx1-mx2.h |    1 +
 arch/arm/plat-mxc/include/mach/mx27.h          |   25 +++++++++++++++++++++--
 2 files changed, 23 insertions(+), 3 deletions(-)

diff --git a/arch/arm/plat-mxc/include/mach/iomux-mx1-mx2.h b/arch/arm/plat-mxc/include/mach/iomux-mx1-mx2.h
index 076d37b..d3827cb 100644
--- a/arch/arm/plat-mxc/include/mach/iomux-mx1-mx2.h
+++ b/arch/arm/plat-mxc/include/mach/iomux-mx1-mx2.h
@@ -300,6 +300,7 @@ extern int mxc_gpio_setup_multiple_pins(const int *pin_list, unsigned count,
 #define PB31_AF_UART4_RXD	(GPIO_PORTB | GPIO_IN  | GPIO_AF | 31)
 #define PC5_PF_I2C2_SDA		(GPIO_PORTC | GPIO_IN  | GPIO_PF | 5)
 #define PC6_PF_I2C2_SCL		(GPIO_PORTC | GPIO_IN  | GPIO_PF | 6)
+#define PC15_PF_TIN		(GPIO_PORTC | GPIO_IN  | GPIO_PF | 15)
 #define PC16_PF_SSI4_FS		(GPIO_PORTC | GPIO_IN  | GPIO_PF | 16)
 #define PC17_PF_SSI4_RXD	(GPIO_PORTC | GPIO_IN  | GPIO_PF | 17)
 #define PC18_PF_SSI4_TXD	(GPIO_PORTC | GPIO_IN  | GPIO_PF | 18)
diff --git a/arch/arm/plat-mxc/include/mach/mx27.h b/arch/arm/plat-mxc/include/mach/mx27.h
index 212ecc2..fb51821 100644
--- a/arch/arm/plat-mxc/include/mach/mx27.h
+++ b/arch/arm/plat-mxc/include/mach/mx27.h
@@ -121,6 +121,7 @@
 #define CS5_BASE_ADDR           0xD6000000
 #define PCMCIA_MEM_BASE_ADDR    0xDC000000
 
+#define CS4_BASE_ADDR_VIRT	0xEB000000
 /*
  * This macro defines the physical to virtual address mapping for all the
  * peripheral modules. It is used by passing in the physical address as x
@@ -219,6 +220,27 @@
 #define MXC_INT_GPT6		2
 #define MXC_INT_I2C2		1
 
+#define MXC_GPIO_BASE		(MXC_MAX_INT_LINES)
+#define MXC_GPIO_INT_BASE	MXC_MAX_INT_LINES
+
+/* max interrupt lines count */
+#define MXC_MAX_VIRTUAL_INTS	16
+
+#define NR_IRQS			(MXC_MAX_INT_LINES + \
+				MXC_MAX_GPIO_LINES + \
+				MXC_MAX_VIRTUAL_INTS)
+
+/*!
+ * Number of GPIO port as defined in the IC Spec
+ */
+#define GPIO_PORT_NUM		6
+/*!
+ * Number of GPIO pins per port
+ */
+#define GPIO_NUM_PIN		32
+
+#define MXC_MAX_GPIO_LINES	(GPIO_NUM_PIN * GPIO_PORT_NUM)
+
 /* fixed DMA request numbers */
 #define DMA_REQ_NFC             37
 #define DMA_REQ_SDHC3           36
@@ -293,9 +315,6 @@ extern int mx27_revision(void);
 /* Start of RAM */
 #define PHYS_OFFSET		SDRAM_BASE_ADDR
 
-/* max interrupt lines count */
-#define NR_IRQS			256
-
 /* count of internal interrupt sources */
 #define MXC_MAX_INT_LINES	64
 
-- 
1.6.0.2.GIT

