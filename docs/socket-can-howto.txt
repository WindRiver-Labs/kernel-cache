[Socketcan-users] Very NEWBIE needs help
Oliver Hartkopp socketcan at hartkopp.net
Tue Aug 14 20:34:34 CEST 2007

    * Previous message: [Socketcan-users] Very NEWBIE needs help
    * Next message: [Socketcan-users] Very NEWBIE needs help
    * Messages sorted by: [ date ] [ thread ] [ subject ] [ author ]

>> In order to verify that everything is ok I only need to execute the
>> programs
>> contained in the "test" dir, right?
>>     

Hi Fabrizio,

René is right. If you want the modules to be loaded _automatically_ his
described way is needed (and recommended).
For a simple test, the modules like e.g. can.ko can also be loaded with
"modprobe can" (when the modules are installed in
/lib/modules/2.6.xx/... and the depmod worked well).

To test the basic CAN functionality, you can use the applications in
trunk/can-utils, as the stuff below trunk/test is mainly for testing the
CAN kernel modules and to give some examples how to write your own
applications.

For a simple test you can say ...

"ifconfig vcan0 up" to enable the vcan0 netdevice interface.
"cangen vcan0" to send some random data on vcan0

In a *different* Terminal type "candump any" to display 'any'
CAN-traffic on your linux box (candump can also be used with a specific
CAN interface - see 'candump -?' for help).

When you can see CAN traffic at least the vcan driver, the CAN core
(can.ko) and the CAN RAW socket (can-raw.ko) is working fine and you
might see several information in /proc/net/can/* or the standard netdev
statistics in /proc/net/dev .
And then it's time to get any real CAN-hardware :-)

Have fun and feel free to ask more of these questions ;-)

Best regards,
Oliver

ps. When you are running the Kernel 2.6.23 there are no vcanX-devices
created at vcan.ko module loading time as there is a recommended
netlink-interface for creating software network devices in Kernel
2.6.23. In this case use the "trunk/can-utils/vcan" tool to create
yourself as many vcans as you need.

