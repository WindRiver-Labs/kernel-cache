From 9096028e3c6d7ca3f51041d3d87b2f147563bdb6 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 18 Nov 2009 10:07:29 -0500
Subject: [PATCH 39/80] vbiVmmuConfig --> vbi_config_vmmu

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/kernel/vbi/syscalls.S |    8 ++++----
 arch/powerpc/kernel/vbi/util.c     |    2 +-
 include/vbi/syscall.h              |    2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/arch/powerpc/kernel/vbi/syscalls.S b/arch/powerpc/kernel/vbi/syscalls.S
index 8250be8..ceb7f29 100644
--- a/arch/powerpc/kernel/vbi/syscalls.S
+++ b/arch/powerpc/kernel/vbi/syscalls.S
@@ -56,7 +56,7 @@ FUNC_EXPORT(vbi_set_exc_offset)
 FUNC_EXPORT(vbi_get_exc_offset)
 FUNC_EXPORT(vbi_set_mem_attr)
 FUNC_EXPORT(vbi_get_mem_attr)
-FUNC_EXPORT(vbiVmmuConfig)
+FUNC_EXPORT(vbi_config_vmmu)
 FUNC_EXPORT(vbiVmmuEnable)
 FUNC_EXPORT(vbiVmmuDisable)
 FUNC_EXPORT(vbiVmmuTlbLoad)
@@ -571,17 +571,17 @@ FUNC_LABEL(vbi_update_text_cache)
 FUNC_END(vbi_update_text_cache)
 
 /*
- * vbiVmmuConfig - configure the hypervisor virtual MMU
+ * vbi_config_vmmu - configure the hypervisor virtual MMU
  *
  * This system call configures the context's virtual MMU within the hypervisor.
  *
  */
-FUNC_LABEL(vbiVmmuConfig)
+FUNC_LABEL(vbi_config_vmmu)
 	lis r0, HI(VBI_SYS_vmmu_config)
 	ori r0, r0, LO(VBI_SYS_vmmu_config)
 	HCALL
 	blr
-FUNC_END(vbiVmmuConfig)
+FUNC_END(vbi_config_vmmu)
 
 /*
  * vbiVmmuEnable - enables the virtual MMU
diff --git a/arch/powerpc/kernel/vbi/util.c b/arch/powerpc/kernel/vbi/util.c
index 19804bf..82a8d93 100644
--- a/arch/powerpc/kernel/vbi/util.c
+++ b/arch/powerpc/kernel/vbi/util.c
@@ -101,7 +101,7 @@ int vb_context_mmu_on(int pid,	/* context id */
 	vmmu_cfg.contextId = pid;
 	vmmu_cfg.vmmuNum = 0;	/* only vmmu 0 is support for the time being */
 
-	if ((vbiVmmuConfig(&vmmu_cfg)) != 0)
+	if ((vbi_config_vmmu(&vmmu_cfg)) != 0)
 		return -1;
 
 	if (debug) {
diff --git a/include/vbi/syscall.h b/include/vbi/syscall.h
index 7dc935e..69a1004 100644
--- a/include/vbi/syscall.h
+++ b/include/vbi/syscall.h
@@ -114,7 +114,7 @@ extern vbiStatus_t vbi_flush_dcache(void *saddr, size_t size);
 extern vbiStatus_t vbi_flush_icache(void *saddr, size_t size);
 extern asmlinkage vbiStatus_t vbi_kputs(const char *s);
 extern asmlinkage vbiStatus_t vbi_kputc(int c);
-extern vbiStatus_t vbiVmmuConfig(struct vmmuConfig * config);
+extern vbiStatus_t vbi_config_vmmu(struct vmmuConfig * config);
 extern vbiStatus_t vbiVmmuEnable(uint32_t  vmmu_num);
 extern vbiStatus_t vbiVmmuDisable(uint32_t vmmu_num);
 extern vbiStatus_t vbiNsRegister(char  *name, uint32_t  revision);
-- 
1.6.5.2

