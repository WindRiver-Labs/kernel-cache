From 8e81fd68fd82a2b2b15730284eb1f143c77f0656 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 2 Dec 2009 14:02:21 -0500
Subject: [PATCH 16/43] vbi: vbiCoreSet_t --> uint32_t

for i in `git grep -l  vbiCoreSet_t` ; do mv $i $i~ ; cat $i~|sed 's/vbiCoreSet_t/uint32_t/' > $i ; done

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h   |    1 +
 include/vbi/core_set.h |    2 +-
 include/vbi/types.h    |    6 ------
 include/vbi/vbi.h      |    2 +-
 kernel/vbi/io_apic.c   |    2 +-
 5 files changed, 4 insertions(+), 9 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index 2f2516e..b0fcc21 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -55,6 +55,7 @@
 #define vbiIntState_t		int32_t
 #define vbiMemAttr_t		int32_t
 #define vbiVector_t		int32_t
+#define vbiCoreSet_t		uint32_t
 
 /*
  * struct fields and similar
diff --git a/include/vbi/core_set.h b/include/vbi/core_set.h
index b629dfc..18d8a34 100644
--- a/include/vbi/core_set.h
+++ b/include/vbi/core_set.h
@@ -1,5 +1,5 @@
 /*
- * core_set.h - macros to manipulate vbiCoreSet_t type
+ * core_set.h - macros to manipulate uint32_t type
  *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
diff --git a/include/vbi/types.h b/include/vbi/types.h
index ecffd50..b367c43 100644
--- a/include/vbi/types.h
+++ b/include/vbi/types.h
@@ -32,10 +32,4 @@
 
 #include <vbi/cpu_types.h>	/* for PENTIUM, PPC85XX, etc */
 
-#ifndef _ASMLANGUAGE
-
-typedef uint32_t vbiCoreSet_t;
-
-#endif	/* _ASMLANGUAGE */
-
 #endif  /* _VBI_TYPES_H */
diff --git a/include/vbi/vbi.h b/include/vbi/vbi.h
index 99e10fe..73c2dd3 100644
--- a/include/vbi/vbi.h
+++ b/include/vbi/vbi.h
@@ -530,7 +530,7 @@ extern int32_t vbi_send_vioapic_irq(uint32_t irq, uint32_t filter,
 extern int32_t vbi_send_vioapic_irq(uint32_t irq, uint32_t filter, 
 				     uint32_t vb);
 extern int32_t vbi_redir_vioapic_irq(uint32_t irq, int32_t tCore);
-extern int32_t vbi_send_vcore_vioapic_irq(uint32_t irq, vbiCoreSet_t vcoreSet, 
+extern int32_t vbi_send_vcore_vioapic_irq(uint32_t irq, uint32_t vcoreSet, 
 					  uint32_t options);
 extern int32_t vbi_get_guest_dma_addr(void *gaddr, uint64_t *paddr);
 extern int32_t vbi_guest_phys_to_phys(void *gaddr, uint64_t *paddr);
diff --git a/kernel/vbi/io_apic.c b/kernel/vbi/io_apic.c
index 7e84a16..469b1bc 100644
--- a/kernel/vbi/io_apic.c
+++ b/kernel/vbi/io_apic.c
@@ -339,7 +339,7 @@ EXPORT_SYMBOL(vbi_send_vioapic_irq);
  * VBI_IOAPICSEND_VCORE_NONE.
  *
  */
-int32_t vbi_send_vcore_vioapic_irq(uint32_t irq, vbiCoreSet_t coreSet,
+int32_t vbi_send_vcore_vioapic_irq(uint32_t irq, uint32_t coreSet,
 			uint32_t options)
 {
 	return vbi_io_apic_op(VBI_IOAPICIOCTL_VCORE_SEND, irq, coreSet, options);
-- 
1.6.5.2

