From 038ca068f1bc00c60027615d924a4d4f28b2d725 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 2 Dec 2009 15:39:38 -0500
Subject: [PATCH 18/43] vbiVersionM* --> vbi_version_m*

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h  |    4 ++++
 include/vbi/version.h |    6 +++---
 kernel/vbi/lib.c      |    4 ++--
 kernel/vbi/version.c  |    6 +++---
 4 files changed, 12 insertions(+), 8 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index b0fcc21..1eb1fb1 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -153,6 +153,10 @@
 #define vbiStatusShow		vbi_show_stat
 #define vbiStsRegsDisplay	vbi_disp_status_regs
 
+#define vbiVersionMajor		vbi_version_major
+#define vbiVersionMinor		vbi_version_minor
+#define vbiVersionMaint		vbi_version_maint
+
 #define vbiExcStub		vbi_exc_stub
 #define vbiGuestDmaAddrGet	vbi_get_guest_dma_addr
 #define vbiGuestPhysToPhysAddr	vbi_guest_phys_to_phys
diff --git a/include/vbi/version.h b/include/vbi/version.h
index 4da7205..d7c8906 100644
--- a/include/vbi/version.h
+++ b/include/vbi/version.h
@@ -36,9 +36,9 @@ extern const char *vbiRuntimeVersion;
 extern const char *vbiRuntimeName;
 extern const char *vbiVersion;
 
-extern const uint32_t vbiVersionMajor;
-extern const uint32_t vbiVersionMinor;
-extern const uint32_t vbiVersionMaint;
+extern const uint32_t vbi_version_major;
+extern const uint32_t vbi_version_minor;
+extern const uint32_t vbi_version_maint;
 #endif	/* __ASMLANGUAGE */
 
 #endif	/* _VBI_VERSION_H */
diff --git a/kernel/vbi/lib.c b/kernel/vbi/lib.c
index 9698b06..21574af 100644
--- a/kernel/vbi/lib.c
+++ b/kernel/vbi/lib.c
@@ -187,8 +187,8 @@ void vbi_init(struct vb_config *config)
 	 * validate the vbi version; minor and maintenance should be backward
 	 * compatible.
 	 */
-	if ((config->major != vbiVersionMajor) ||
-					 (config->minor < vbiVersionMinor))
+	if ((config->major != vbi_version_major) ||
+					 (config->minor < vbi_version_minor))
 		vbi_panic("Invalid vbi version");
 #endif
 	wr_vb_config = config;
diff --git a/kernel/vbi/version.c b/kernel/vbi/version.c
index 69c5f83..8c08c78 100644
--- a/kernel/vbi/version.c
+++ b/kernel/vbi/version.c
@@ -31,9 +31,9 @@ building all hypervisor executables.
 #include <vbi/version.h>
 
 /* numerical values for vbi version */
-const uint32_t vbiVersionMajor = VBI_VERSION_MAJOR;
-const uint32_t vbiVersionMinor = VBI_VERSION_MINOR;
-const uint32_t vbiVersionMaint = VBI_VERSION_MAINT;
+const uint32_t vbi_version_major = VBI_VERSION_MAJOR;
+const uint32_t vbi_version_minor = VBI_VERSION_MINOR;
+const uint32_t vbi_version_maint = VBI_VERSION_MAINT;
 
 /* string identifiers for vbi version */
 const char *vbiRuntimeName = VBI_RUNTIME_NAME;
-- 
1.6.5.2

