From 0e5b9e459e2a05e6cd2fbe8da3f605f82aff6fc5 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Tue, 15 Dec 2009 10:42:24 -0500
Subject: [PATCH 6/8] typedef VIOAPIC_VERSION --> union vioapic_version

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h  |    1 +
 include/vbi/io_apic.h |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index 9b6d2dd..76a6399 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -54,6 +54,7 @@
 #define VB_ARCH_STATUS_REGS	struct vb_arch_stat_regs
 
 #define VIOAPIC_ID		union vioapic_id
+#define VIOAPIC_VERSION		union vioapic_version
 
 #define VB_TIMESTAMP		uint64_t
 #define vbiStatus_t		int32_t
diff --git a/include/vbi/io_apic.h b/include/vbi/io_apic.h
index 34cf5de..308b64a 100644
--- a/include/vbi/io_apic.h
+++ b/include/vbi/io_apic.h
@@ -36,7 +36,7 @@ union vioapic_id
 
 /* IO APIC Version Register */
 
-typedef union
+union vioapic_version
 {
 	struct
 	{
@@ -48,7 +48,7 @@ typedef union
 	} field;
 
 	uint32_t value;
-} VIOAPIC_VERSION;
+};
 
 /* Virtual IO APIC redirection table entry. Split into high/low 32 */
 
@@ -91,7 +91,7 @@ typedef struct vioapicEntry
 typedef struct vioapic
 {
 	union vioapic_id id;
-	VIOAPIC_VERSION version;
+	union vioapic_version version;
 	uint32_t arb;
 	uint32_t boot;
 	uint32_t reserved[6];
-- 
1.6.5.2

