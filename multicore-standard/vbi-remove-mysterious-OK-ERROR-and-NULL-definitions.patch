From 2b1f44ad6cfdc2627182d7ddc6facb7774f65f40 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Mon, 26 Oct 2009 10:46:35 -0400
Subject: [PATCH 1/3] vbi: remove mysterious OK, ERROR and NULL definitions

These aren't specific to vbi in any way, and they don't
belong here.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/platforms/85xx/wrhv_8572ds.c |    4 ++--
 include/vbi/vbi.h                         |   10 ----------
 kernel/vbi/ns.c                           |    6 +++---
 3 files changed, 5 insertions(+), 15 deletions(-)

diff --git a/arch/powerpc/platforms/85xx/wrhv_8572ds.c b/arch/powerpc/platforms/85xx/wrhv_8572ds.c
index ba82143..954265f 100644
--- a/arch/powerpc/platforms/85xx/wrhv_8572ds.c
+++ b/arch/powerpc/platforms/85xx/wrhv_8572ds.c
@@ -73,7 +73,7 @@ static int get_bsp_clock_freq(void)
 
 	rc = vbiNsLookup ("bspServer", 0, &serviceHandle);
 
-	if (rc != OK) {
+	if (rc != 0) {
 		printk ("bspServer lookup returned error code: %d\n", rc);
 		return 0;
 	}
@@ -83,7 +83,7 @@ static int get_bsp_clock_freq(void)
 	rc = vbiSend (serviceHandle, &clk_msg,
 		sizeof(clk_msg), &clk_reply, sizeof(clk_reply), NULL, NULL);
 
-	if (rc != OK) {
+	if (rc != 0) {
 		printk("vbiSend to the bspServer returned error code: %d\n",
 			rc);
 		return 0;
diff --git a/include/vbi/vbi.h b/include/vbi/vbi.h
index 91931a7..1f74013 100644
--- a/include/vbi/vbi.h
+++ b/include/vbi/vbi.h
@@ -523,16 +523,6 @@ various data structures.
         	vbiPanic("unhandled exception");		\
 }							 
 
-#ifndef ERROR
-#define ERROR	(-1)
-#endif
-#ifndef OK
-#define OK	0
-#endif
-#ifndef NULL
-#define NULL	0
-#endif
-
 /* typedefs */
 typedef struct vbiClkHook
 {
diff --git a/kernel/vbi/ns.c b/kernel/vbi/ns.c
index 4e07216..79662d7 100644
--- a/kernel/vbi/ns.c
+++ b/kernel/vbi/ns.c
@@ -81,7 +81,7 @@ vbiStatus_t vbiNsRegister
     /* sanity check */
 
     if (name == NULL)
-	return ERROR;
+	return -1;
 
     return (vbiNsOp (VBI_NS_REGISTER, name, revision, NULL));
     }
@@ -120,7 +120,7 @@ vbiStatus_t vbiNsUnregister
     /* sanity check */
 
     if (name == NULL)
-	return ERROR;
+	return -1;
     
     return (vbiNsOp (VBI_NS_UNREGISTER, name, revision, NULL));
     }
@@ -161,7 +161,7 @@ vbiStatus_t vbiNsLookup
     /* sanity check */
 
     if (name == NULL || handle == NULL)
-	return ERROR;
+	return -1;
 
     return (vbiNsOp (VBI_NS_LOOKUP , name, revision, handle));
     }
-- 
1.6.5.rc3

