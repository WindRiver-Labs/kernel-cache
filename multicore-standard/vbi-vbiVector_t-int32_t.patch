From fd839cb1332af0e26a5119211ecae17418f1bdd9 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 2 Dec 2009 13:59:51 -0500
Subject: [PATCH 15/43] vbi: vbiVector_t --> int32_t

for i in `git grep -l  vbiVector_t` ; do mv $i $i~ ; cat $i~|sed 's/vbiVector_t/int32_t/' > $i ; done

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h |    1 +
 include/vbi/types.h  |    1 -
 include/vbi/vbi.h    |    4 ++--
 kernel/vbi/io_apic.c |    6 +++---
 4 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index aa1965c..2f2516e 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -54,6 +54,7 @@
 #define vbiGuestPhysAddr_t	void *
 #define vbiIntState_t		int32_t
 #define vbiMemAttr_t		int32_t
+#define vbiVector_t		int32_t
 
 /*
  * struct fields and similar
diff --git a/include/vbi/types.h b/include/vbi/types.h
index f36cac3..ecffd50 100644
--- a/include/vbi/types.h
+++ b/include/vbi/types.h
@@ -34,7 +34,6 @@
 
 #ifndef _ASMLANGUAGE
 
-typedef int32_t vbiVector_t;
 typedef uint32_t vbiCoreSet_t;
 
 #endif	/* _ASMLANGUAGE */
diff --git a/include/vbi/vbi.h b/include/vbi/vbi.h
index ee655bb..aa459fe 100644
--- a/include/vbi/vbi.h
+++ b/include/vbi/vbi.h
@@ -526,8 +526,8 @@ extern void vbi_exc_stub(void);
 extern void ASSERT_FN(const char *, const char *, int);
 extern void vbi_idle(uint64_t);
 extern void *vbi_get_vioapic_addr(void);
-extern int32_t vbi_set_vioapic_vec(uint32_t irq, vbiVector_t vector); 
-extern vbiVector_t vbi_get_vioapic_vec(uint32_t irq);
+extern int32_t vbi_set_vioapic_vec(uint32_t irq, int32_t vector); 
+extern int32_t vbi_get_vioapic_vec(uint32_t irq);
 extern int32_t vbi_unmask_vioapic_irq(uint32_t irq);
 extern int32_t vbi_mask_vioapic_irq(uint32_t irq);
 extern int32_t vbi_ack_vioapic_irq(uint32_t irq);
diff --git a/kernel/vbi/io_apic.c b/kernel/vbi/io_apic.c
index 478e7fe..7e84a16 100644
--- a/kernel/vbi/io_apic.c
+++ b/kernel/vbi/io_apic.c
@@ -155,7 +155,7 @@ void *vbi_get_vioapic_addr(void)
  * This routine is currently not supported for PPC.
  *
  */
-int32_t vbi_set_vioapic_vec(uint32_t irq, vbiVector_t vector)
+int32_t vbi_set_vioapic_vec(uint32_t irq, int32_t vector)
 {
 	volatile VIOAPIC *pVioapic = (volatile VIOAPIC *)VBI_VIOAPIC_BASE_GET();
 
@@ -185,10 +185,10 @@ int32_t vbi_set_vioapic_vec(uint32_t irq, vbiVector_t vector)
  * This routine is currently not supported for PPC
  *
  */
-vbiVector_t vbi_get_vioapic_vec(uint32_t irq)
+int32_t vbi_get_vioapic_vec(uint32_t irq)
 {
 	volatile VIOAPIC *pVioapic = (volatile VIOAPIC *)VBI_VIOAPIC_BASE_GET();
-	vbiVector_t vector;
+	int32_t vector;
 
 	if (pVioapic == NULL)
 		return VBI_VIOAPIC_NULL;
-- 
1.6.5.2

