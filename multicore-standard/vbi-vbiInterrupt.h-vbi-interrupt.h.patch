From eef4ed37e8e2d3a16f44a38e51f81d4fed13c1b0 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 14 Oct 2009 19:51:37 -0400
Subject: [PATCH 06/23] vbi/vbiInterrupt.h --> vbi/interrupt.h

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/kernel/wrhv.c    |    4 +-
 arch/powerpc/sysdev/fsl_soc.c |    2 +-
 include/vbi/interrupt.h       |   44 +++++++++++++++++++++++++++++++++++++++++
 include/vbi/vbi.h             |    4 +-
 include/vbi/vbiInterrupt.h    |   44 -----------------------------------------
 5 files changed, 49 insertions(+), 49 deletions(-)
 create mode 100644 include/vbi/interrupt.h
 delete mode 100644 include/vbi/vbiInterrupt.h

diff --git a/arch/powerpc/kernel/wrhv.c b/arch/powerpc/kernel/wrhv.c
index 2e29ebd..7ed0f42 100644
--- a/arch/powerpc/kernel/wrhv.c
+++ b/arch/powerpc/kernel/wrhv.c
@@ -19,7 +19,7 @@
 #include <linux/wrhv.h>
 #include <linux/interrupt.h>
 #include <vbi/vbInterface.h>
-#include <vbi/vbiInterrupt.h>
+#include <vbi/interrupt.h>
 #include <vbi/errors.h>
 
 #include <asm/page.h>
@@ -587,7 +587,7 @@ int __init wrhv_gfar_of_init(void)
                 /* If we aren't the FEC we have multiple interrupts */
                 if (model && strcasecmp(model, "FEC")) {
 #if defined(CONFIG_WRHV)
-#include <vbi/vbiInterrupt.h>
+#include <vbi/interrupt.h>
                         int vector;
                         char eTsec_tx[10];
                         char eTsec_rx[10];
diff --git a/arch/powerpc/sysdev/fsl_soc.c b/arch/powerpc/sysdev/fsl_soc.c
index d3a1d7d..88bb42a 100644
--- a/arch/powerpc/sysdev/fsl_soc.c
+++ b/arch/powerpc/sysdev/fsl_soc.c
@@ -323,7 +323,7 @@ int __init native_gfar_of_init(void)
 		/* If we aren't the FEC we have multiple interrupts */
 		if (model && strcasecmp(model, "FEC")) {
 #if defined(CONFIG_WRHV)
-#include <vbi/vbiInterrupt.h>
+#include <vbi/interrupt.h>
 			int vector;
 			char eTsec_tx[10];
 			char eTsec_rx[10];
diff --git a/include/vbi/interrupt.h b/include/vbi/interrupt.h
new file mode 100644
index 0000000..c13bfdf
--- /dev/null
+++ b/include/vbi/interrupt.h
@@ -0,0 +1,44 @@
+/* interrupt.h - utility functions to read interrupt configuration data*/
+
+/* Copyright 2007 Wind River Systems, Inc. */
+
+/*
+modification history
+--------------------
+01i,02jul09,mmi  fix return type
+01h,18jun09,mmi  rename the file
+01g,31mar09,mmi  change interrupt direction flags
+01f,26feb09,mmi  change vbiIntVecFind definition to return vector
+01e,17dec08,mmi  rename vbiIntCtrlFindVector
+01d,20nov08,mmi  adopt new naming convention
+01c,04sep08,dcc  modified vbiIntCtrlConnect() signature
+01b,27nov07,foo  fix parameter
+01a,25may07,foo  written
+*/
+
+/*
+DESCRIPTION
+
+This header file declares the vbi API for utility functions for reading the 
+interrupts configuration data.
+
+*/
+
+#ifndef __INCinterrupth
+#define __INCinterrupth
+
+#ifdef __cplusplus
+extern "C" {
+#endif /* __cplusplus */
+
+#ifndef	_ASMLANGUAGE
+
+extern vbiIrq_t vbiIntVecFind (char * intName, int32_t intDirection);
+
+#endif /* _ASMLANGUAGE */
+
+#ifdef __cplusplus
+}
+#endif /* __cplusplus */
+
+#endif  /* __INCinterrupth */
diff --git a/include/vbi/vbi.h b/include/vbi/vbi.h
index 99fb8d2..66b79a0 100644
--- a/include/vbi/vbi.h
+++ b/include/vbi/vbi.h
@@ -53,7 +53,7 @@ modification history
 #include "vbi/arch.h"
 #include "vbInterface.h"
 #include "vbiSyscall.h"
-#include "vbiInterrupt.h"
+#include "vbi/interrupt.h"
 #include "vbiShmem.h"
 #else
 #include <stdlib.h>
@@ -63,7 +63,7 @@ modification history
 #include <vbi/arch.h>
 #include <vbInterface.h>
 #include <vbiSyscall.h>
-#include <vbiInterrupt.h>
+#include <vbi/interrupt.h>
 #include <vbiShmem.h>
 #endif /* CONFIG_WRHV */
 
diff --git a/include/vbi/vbiInterrupt.h b/include/vbi/vbiInterrupt.h
deleted file mode 100644
index 7d721d1..0000000
--- a/include/vbi/vbiInterrupt.h
+++ /dev/null
@@ -1,44 +0,0 @@
-/* vbiInterrupt.h - utility functions to read interrupt configuration data*/
-
-/* Copyright 2007 Wind River Systems, Inc. */
-
-/*
-modification history
---------------------
-01i,02jul09,mmi  fix return type
-01h,18jun09,mmi  rename the file
-01g,31mar09,mmi  change interrupt direction flags
-01f,26feb09,mmi  change vbiIntVecFind definition to return vector
-01e,17dec08,mmi  rename vbiIntCtrlFindVector
-01d,20nov08,mmi  adopt new naming convention
-01c,04sep08,dcc  modified vbiIntCtrlConnect() signature
-01b,27nov07,foo  fix parameter
-01a,25may07,foo  written
-*/
-
-/*
-DESCRIPTION
-
-This header file declares the vbi API for utility functions for reading the 
-interrupts configuration data.
-
-*/
-
-#ifndef __INCinterrupth
-#define __INCinterrupth
-
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
-#ifndef	_ASMLANGUAGE
-
-extern vbiIrq_t vbiIntVecFind (char * intName, int32_t intDirection);
-
-#endif /* _ASMLANGUAGE */
-
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
-
-#endif  /* __INCinterrupth */
-- 
1.6.3.3

