From 5ffa9bcc6fc1605305c102633b1f3d556d223491 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 18 Nov 2009 10:07:19 -0500
Subject: [PATCH 27/80] vbiPanic --> vbi_panic

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/kernel/vbi/syscalls.S |    8 ++++----
 arch/x86/kernel/vbi/syscalls.S     |    6 +++---
 include/vbi/syscall.h              |    2 +-
 include/vbi/vbi.h                  |    2 +-
 kernel/vbi/lib.c                   |    2 +-
 5 files changed, 10 insertions(+), 10 deletions(-)

diff --git a/arch/powerpc/kernel/vbi/syscalls.S b/arch/powerpc/kernel/vbi/syscalls.S
index 51bdacd..a11b07f 100644
--- a/arch/powerpc/kernel/vbi/syscalls.S
+++ b/arch/powerpc/kernel/vbi/syscalls.S
@@ -44,7 +44,7 @@ FUNC_EXPORT(vbi_flush_icache)
 FUNC_EXPORT(vbi_flush_dcache)
 FUNC_EXPORT(vbi_update_text_cache)
 FUNC_EXPORT(vbi_flush_tlb)
-FUNC_EXPORT(vbiPanic)
+FUNC_EXPORT(vbi_panic)
 FUNC_EXPORT(vbiPs)
 FUNC_EXPORT(vbiKputs)
 FUNC_EXPORT(vbiKputc)
@@ -316,7 +316,7 @@ FUNC_LABEL(vbiKputc)
 FUNC_END(vbiKputc)
 
 /*
- * vbiPanic - halt the system and dump debug info
+ * vbi_panic - halt the system and dump debug info
  *
  * This routine makes a hypercall in order to halt the system and display debug
  * information on hypervisor console. If hypervisor is configured with
@@ -327,12 +327,12 @@ FUNC_END(vbiKputc)
  * is sent to the the debug manager.
  *
  */
-FUNC_LABEL(vbiPanic)
+FUNC_LABEL(vbi_panic)
 	lis r0, HI(VBI_SYS_panic)
 	ori r0, r0, LO(VBI_SYS_panic)
 	HCALL
 	blr
-FUNC_END(vbiPanic)
+FUNC_END(vbi_panic)
 
 /*
  * vbi_shell_start_debug - start the hypervisor debug shell
diff --git a/arch/x86/kernel/vbi/syscalls.S b/arch/x86/kernel/vbi/syscalls.S
index e4a3403..49cf420 100644
--- a/arch/x86/kernel/vbi/syscalls.S
+++ b/arch/x86/kernel/vbi/syscalls.S
@@ -36,7 +36,7 @@
 .globl vbi_rx_op
 .globl vbi_reply
 .globl vbi_flush_tlb
-.globl vbiPanic
+.globl vbi_panic
 .globl vbiPs
 .globl vbiKputs
 .globl vbiKputc
@@ -143,7 +143,7 @@ vbiKputc:
 
 
 /*
- * vbiPanic - panic the system and halt all activity
+ * vbi_panic - panic the system and halt all activity
  *
  * This system call causes the hypervisor to enter a panic state and display
  * various pieces of information on the system console.  The hypervisor
@@ -152,7 +152,7 @@ vbiKputc:
  * Returns: does not return
  *
  */
-vbiPanic:
+vbi_panic:
 	movl $VBI_SYS_panic,%eax
 	push $1
 	vmcall
diff --git a/include/vbi/syscall.h b/include/vbi/syscall.h
index 15b2b7e..4bee829 100644
--- a/include/vbi/syscall.h
+++ b/include/vbi/syscall.h
@@ -109,7 +109,7 @@ extern vbiStatus_t vbiReceive(void *rmsg, uint32_t rlen, VBI_MSG_INFO *info,
 extern asmlinkage int32_t vbi_reply(vbiCtx_t id, void *smsg, size_t slen, 
 				VBI_MSG_CTL *ctl);
 
-extern asmlinkage vbiStatus_t vbiPanic(const char *msg);
+extern asmlinkage vbiStatus_t vbi_panic(const char *msg);
 extern vbiStatus_t vbi_flush_dcache(void *saddr, size_t size);
 extern vbiStatus_t vbi_flush_icache(void *saddr, size_t size);
 extern asmlinkage vbiStatus_t vbiKputs(const char *s);
diff --git a/include/vbi/vbi.h b/include/vbi/vbi.h
index f9269ca..6fb35ab 100644
--- a/include/vbi/vbi.h
+++ b/include/vbi/vbi.h
@@ -501,7 +501,7 @@ various data structures.
 	printk("core%d: unhandled exception: 0x%x\n",		\
 		wrhvVbConfig->coreId, vector);			\
 	if (halt)						\
-        	vbiPanic("unhandled exception");		\
+        	vbi_panic("unhandled exception");		\
 }							 
 
 struct vbi_clk_hook
diff --git a/kernel/vbi/lib.c b/kernel/vbi/lib.c
index ffbaa57..28f3f4e 100644
--- a/kernel/vbi/lib.c
+++ b/kernel/vbi/lib.c
@@ -190,7 +190,7 @@ void vbiInit(struct vb_config *config)
 	 */
 	if ((config->major != vbiVersionMajor) ||
 					 (config->minor < vbiVersionMinor))
-		vbiPanic("Invalid vbi version");
+		vbi_panic("Invalid vbi version");
 
 	wrhvVbConfig = config;
 	wrhvVbControl = wrhvVbConfig->vbControl;
-- 
1.6.5.2

