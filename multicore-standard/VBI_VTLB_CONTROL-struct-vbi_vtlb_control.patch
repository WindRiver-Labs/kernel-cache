From e973d8d370a79847e598ed18de2906c789d98b27 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Thu, 3 Dec 2009 15:07:23 -0500
Subject: [PATCH 39/43] VBI_VTLB_CONTROL --> struct vbi_vtlb_control

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/x86/kernel/vbi/wrhv.c |    2 +-
 include/vbi/compat.h       |    1 +
 include/vbi/syscalls.h     |    4 ++--
 3 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/arch/x86/kernel/vbi/wrhv.c b/arch/x86/kernel/vbi/wrhv.c
index 5646cbb..c687982 100644
--- a/arch/x86/kernel/vbi/wrhv.c
+++ b/arch/x86/kernel/vbi/wrhv.c
@@ -51,7 +51,7 @@ extern void (*pcibios_disable_irq)(struct pci_dev *dev);
 #endif
 
 static unsigned long cr3_val[NR_CPUS];
-static VBI_VTLB_CONTROL	vtlb_ctrl[NR_CPUS];
+static struct vbi_vtlb_control vtlb_ctrl[NR_CPUS];
 static unsigned long is_cr3_cache_enabled[NR_CPUS];
 static unsigned long is_vtlb_optim_enabled[NR_CPUS];
 static unsigned long is_vtlb_ops_cache_enabled[NR_CPUS];
diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index a730b9d..fa43096 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -44,6 +44,7 @@
 
 #define VBI_CTX_STATS		struct vbi_ctx_stats
 #define VBI_VTLB_OP		struct vbi_vtlb_op
+#define VBI_VTLB_CONTROL	struct vbi_vtlb_control
 
 #define VBI_CLK_HOOK_INFO	struct vbi_clk_hook
 #define VBI_CLK_HOOK_INFO_PTR	struct vbi_clk_hook *
diff --git a/include/vbi/syscalls.h b/include/vbi/syscalls.h
index 262c445..8ee3bcf 100644
--- a/include/vbi/syscalls.h
+++ b/include/vbi/syscalls.h
@@ -270,7 +270,7 @@ typedef struct vbi_vtlb_cr3_cache
 	uint32_t host_cr3;	/* Host CR3 register */
 } VBI_VTLB_CR3_CACHE;
 	
-typedef struct vbi_vtlb_control
+struct vbi_vtlb_control
 {
 	uint32_t size;		/* VTLB Control structure size */
 	uint32_t mode;		/* VTLB module */
@@ -279,7 +279,7 @@ typedef struct vbi_vtlb_control
 	uint32_t cr3_cache_ix;	/* CR3 cache index */
 				/* cr3 cache*/
 	VBI_VTLB_CR3_CACHE cr3_cache[VBI_VTLB_OP_CR3_CACHE_ENTRIES];
-} VBI_VTLB_CONTROL;
+};
 
 /*
  * Control structure used by vbi_vb_mgmt for commands memory read, memory write, 
-- 
1.6.5.2

