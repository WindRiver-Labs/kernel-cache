From c3ae7a70eaf94dafdcba663d772b009cfa4e65b5 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 18 Nov 2009 10:07:10 -0500
Subject: [PATCH 16/80] vbiIoapicOp --> vbi_io_apic_op

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/kernel/vbi/syscalls.S |    8 ++++----
 arch/x86/kernel/vbi/syscalls.S     |    6 +++---
 include/vbi/private.h              |    2 +-
 kernel/vbi/io_apic.c               |    8 ++++----
 4 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/arch/powerpc/kernel/vbi/syscalls.S b/arch/powerpc/kernel/vbi/syscalls.S
index 3b11ab3..61f051c 100644
--- a/arch/powerpc/kernel/vbi/syscalls.S
+++ b/arch/powerpc/kernel/vbi/syscalls.S
@@ -33,7 +33,7 @@ FUNC_EXPORT(vbi_vb_read_mem)
 FUNC_EXPORT(vbi_vb_write_mem)
 FUNC_EXPORT(vbi_vb_read_reg)
 FUNC_EXPORT(vbi_vb_write_reg)
-FUNC_EXPORT(vbiIoapicOp)
+FUNC_EXPORT(vbi_io_apic_op)
 FUNC_EXPORT(vbiIoapicIoctl)
 FUNC_EXPORT(vbiHyIoctl)
 FUNC_EXPORT(vbiCtxctl)
@@ -802,7 +802,7 @@ FUNC_LABEL(vbi_vb_write_mem)
 FUNC_END(vbi_vb_write_mem)
 
 /*
- * vbiIoapicOp - virtual IO APIC operation
+ * vbi_io_apic_op - virtual IO APIC operation
  *
  * This system call interfaces to the virtual IO APIC ioctl
  * function.
@@ -813,12 +813,12 @@ FUNC_END(vbi_vb_write_mem)
  *     VBI_IOAPICIOCTL_MASK
  *
  */
-FUNC_LABEL(vbiIoapicOp)
+FUNC_LABEL(vbi_io_apic_op)
 	lis r0, HI(VBI_SYS_vIoapicIoctl)
 	ori r0, r0, LO(VBI_SYS_vIoapicIoctl)
 	HCALL
 	blr
-FUNC_END(vbiIoapicOp)
+FUNC_END(vbi_io_apic_op)
 
 /*
  * vbi_vb_read_reg - Read a remote core's registers
diff --git a/arch/x86/kernel/vbi/syscalls.S b/arch/x86/kernel/vbi/syscalls.S
index f8fed24..5182550 100644
--- a/arch/x86/kernel/vbi/syscalls.S
+++ b/arch/x86/kernel/vbi/syscalls.S
@@ -28,7 +28,7 @@
 .globl vbi_shell_start_debug
 .globl vbi_vb_write_mem
 .globl vbi_vb_read_mem
-.globl vbiIoapicOp
+.globl vbi_io_apic_op
 .globl vbiIoapicIoctl
 .globl vbiHyIoctl
 .globl vbiCtxctl
@@ -428,7 +428,7 @@ vbiIoapicIoctl:
 	ret
 
 /*
- * vbiIoapicOp - virtual IO APIC ioctl call
+ * vbi_io_apic_op - virtual IO APIC ioctl call
  *
  * This system call interfaces to the virtual IO APIC.
  *
@@ -442,7 +442,7 @@ vbiIoapicIoctl:
  * Returns: ioctl specific value
  *
  */
-vbiIoapicOp:
+vbi_io_apic_op:
 	movl $VBI_SYS_vIoapicIoctl,%eax
 	push $4
 	vmcall
diff --git a/include/vbi/private.h b/include/vbi/private.h
index 3bd86af..f36162d 100644
--- a/include/vbi/private.h
+++ b/include/vbi/private.h
@@ -26,7 +26,7 @@
 #ifndef _ASMLANGUAGE
 
 /* private ioapic operator */
-extern asmlinkage vbiStatus_t vbiIoapicOp (uint32_t ioctl, vbiIrq_t irq, uint32_t filter, vbiVb_t vbId);
+extern asmlinkage vbiStatus_t vbi_io_apic_op (uint32_t ioctl, vbiIrq_t irq, uint32_t filter, vbiVb_t vbId);
 
 /* private interrupt redirection operator */
 extern asmlinkage vbiStatus_t vbi_vcore_irq_redirect(vbiIrq_t irq, vbiCore_t CoreId);
diff --git a/kernel/vbi/io_apic.c b/kernel/vbi/io_apic.c
index 649ab40..f4fd915 100644
--- a/kernel/vbi/io_apic.c
+++ b/kernel/vbi/io_apic.c
@@ -228,7 +228,7 @@ vbiStatus_t vbiVioapicIntUnmask(vbiIrq_t irq)
 	if (irq > VIOAPIC_MAX_REDTABLE_ENTRIES-1)
 		return VBI_VIOAPIC_IRQ_OUTBOUND;
 
-	return vbiIoapicOp(VBI_IOAPICIOCTL_UNMASK, irq, 0, 0);
+	return vbi_io_apic_op(VBI_IOAPICIOCTL_UNMASK, irq, 0, 0);
 }
 EXPORT_SYMBOL(vbiVioapicIntUnmask);
 
@@ -274,7 +274,7 @@ vbiStatus_t vbiVioapicIntAck(vbiIrq_t irq)
 	if (irq > VIOAPIC_MAX_REDTABLE_ENTRIES-1)
 		return VBI_VIOAPIC_IRQ_OUTBOUND;
 
-	return vbiIoapicOp(VBI_IOAPICIOCTL_EOI, irq, 0, 0);
+	return vbi_io_apic_op(VBI_IOAPICIOCTL_EOI, irq, 0, 0);
 }
 
 /*
@@ -320,7 +320,7 @@ vbiStatus_t vbiVioapicIntAck(vbiIrq_t irq)
  */
 vbiStatus_t vbiVioapicIntSend(vbiIrq_t irq, uint32_t filter, vbiVb_t target)
 {
-	return vbiIoapicOp(VBI_IOAPICIOCTL_SEND, irq, filter, target);
+	return vbi_io_apic_op(VBI_IOAPICIOCTL_SEND, irq, filter, target);
 }
 EXPORT_SYMBOL(vbiVioapicIntSend);
 
@@ -342,7 +342,7 @@ EXPORT_SYMBOL(vbiVioapicIntSend);
 vbiStatus_t vbiVioapicVcoreIntSend(vbiIrq_t irq, vbiCoreSet_t coreSet,
 			uint32_t options)
 {
-	return vbiIoapicOp(VBI_IOAPICIOCTL_VCORE_SEND, irq, coreSet, options);
+	return vbi_io_apic_op(VBI_IOAPICIOCTL_VCORE_SEND, irq, coreSet, options);
 }
 
 /*
-- 
1.6.5.2

