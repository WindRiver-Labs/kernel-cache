From 04a89a006f2263517377ae0329c8ef9b814448c0 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Thu, 3 Dec 2009 14:56:58 -0500
Subject: [PATCH 38/43] VBI_VTLB_OP --> struct vbi_vtlb_op

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h   |    1 +
 include/vbi/syscalls.h |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index fd02b9b..a730b9d 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -43,6 +43,7 @@
 #define VBI_MEM_CTL		struct vbi_mem_ctl
 
 #define VBI_CTX_STATS		struct vbi_ctx_stats
+#define VBI_VTLB_OP		struct vbi_vtlb_op
 
 #define VBI_CLK_HOOK_INFO	struct vbi_clk_hook
 #define VBI_CLK_HOOK_INFO_PTR	struct vbi_clk_hook *
diff --git a/include/vbi/syscalls.h b/include/vbi/syscalls.h
index 6f1517c..262c445 100644
--- a/include/vbi/syscalls.h
+++ b/include/vbi/syscalls.h
@@ -256,13 +256,13 @@ struct vbi_ctx_stats
 };
 
 /* VTLB operation structures (x86 specific) */
-typedef struct vbi_vtlb_op
+struct vbi_vtlb_op
 {
 	uint32_t op;		/* VTLB operation id */
 	uint32_t arg1;		/* VTLB operation arg 1 */
 	uint32_t arg2;		/* VTLB operation arg 2 */
 	uint32_t arg3;		/* VTLB operation arg 3 */
-} VBI_VTLB_OP;
+};
 
 typedef struct vbi_vtlb_cr3_cache
 {
@@ -275,7 +275,7 @@ typedef struct vbi_vtlb_control
 	uint32_t size;		/* VTLB Control structure size */
 	uint32_t mode;		/* VTLB module */
 	uint32_t vtlb_ops_ix;	/* VTLB operation index */
-	VBI_VTLB_OP vtlb_ops[VBI_VTLB_OP_MAX_OPS];	/* VTLB ops array */
+	struct vbi_vtlb_op vtlb_ops[VBI_VTLB_OP_MAX_OPS]; /* VTLB ops array */
 	uint32_t cr3_cache_ix;	/* CR3 cache index */
 				/* cr3 cache*/
 	VBI_VTLB_CR3_CACHE cr3_cache[VBI_VTLB_OP_CR3_CACHE_ENTRIES];
-- 
1.6.5.2

