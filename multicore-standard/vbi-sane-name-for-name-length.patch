From e8d32b52f4b4fd2d7d37eb3df3ded064c758e6eb Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Thu, 29 Oct 2009 22:59:31 -0400
Subject: [PATCH 13/26] vbi: sane name for name length

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/interface.h |    4 ++--
 kernel/vbi/interrupt.c  |    2 +-
 kernel/vbi/shmem.c      |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/include/vbi/interface.h b/include/vbi/interface.h
index fa5462d..4713662 100644
--- a/include/vbi/interface.h
+++ b/include/vbi/interface.h
@@ -127,10 +127,10 @@ identity mapped.
 #define VB_MAX_CORES			8
 
 /* Type definitions for all name identifer strings in the hypervisor */
-#define VB_MAX_WRHV_NAME_LENGTH		64
+#define VB_NAMELEN		64
 
 #ifndef	_ASMLANGUAGE
-typedef int8_t VB_WRHV_NAME[VB_MAX_WRHV_NAME_LENGTH];
+typedef int8_t VB_WRHV_NAME[VB_NAMELEN];
 
 #define VB_MAX_BOOTLINE_LENGTH		256
 
diff --git a/kernel/vbi/interrupt.c b/kernel/vbi/interrupt.c
index 88ddbc6..acef2a0 100644
--- a/kernel/vbi/interrupt.c
+++ b/kernel/vbi/interrupt.c
@@ -56,7 +56,7 @@ vbiIrq_t vbiIntVecFind(char *intName, int32_t intDirection)
 			continue;
 
 		if (!strncmp((char *)intName, (char *)info->intName,
-				VB_MAX_WRHV_NAME_LENGTH)) {
+				VB_NAMELEN)) {
 
 		        /* Found */
 	        	return (int32_t)info->intNumber;
diff --git a/kernel/vbi/shmem.c b/kernel/vbi/shmem.c
index d9947c1..2c8d847 100644
--- a/kernel/vbi/shmem.c
+++ b/kernel/vbi/shmem.c
@@ -61,7 +61,7 @@ vbiStatus_t vbiShmemRegionFind(int8_t *smName, void **addr,
 	for (i = 0; i < num; i++, info++)
         {
 		if (!strncmp((char *)smName, (char *)info->name,
-				VB_MAX_WRHV_NAME_LENGTH)) {
+				VB_NAMELEN)) {
 			/* Found */
 			*addr   = info->addr;
 			*length = info->length;
@@ -96,7 +96,7 @@ vbiStatus_t vbiMemRegionFind(int8_t *name, void **addr,
 	for (i = 0; i < num; i++, info++)
 	{
 		if (!strncmp((char *)name, (char *)info->name,
-			VB_MAX_WRHV_NAME_LENGTH)) {
+			VB_NAMELEN)) {
 			/* Found */
 			*addr   = info->addr;
 			*length = info->length;
-- 
1.6.5.2

