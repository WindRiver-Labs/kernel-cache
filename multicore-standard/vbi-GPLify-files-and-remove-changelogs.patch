From ff800250b8160d87578742996aff424ba959b3be Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Tue, 20 Oct 2009 17:24:56 -0400
Subject: [PATCH 25/27] vbi: GPLify files and remove changelogs

There is no runtime impact here; all changes are to update
to a compatible license, and to remove the old changelog
data.  If there was a content-free description, those were
removed as well.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/kernel/vbi/ppc_doc.txt    |   31 +++++---------
 arch/powerpc/kernel/vbi/show.c         |   30 +++++---------
 arch/powerpc/kernel/vbi/syscalls.S     |   66 +++++-------------------------
 arch/powerpc/kernel/vbi/util.c         |   23 +++++-----
 arch/powerpc/kernel/vbi/vmmu_display.c |   27 +++++-------
 arch/x86/kernel/vbi/syscalls.S         |   52 +++++------------------
 include/vbi/arch.h                     |   28 ++++++------
 include/vbi/errors.h                   |   28 +++++-------
 include/vbi/interface.h                |   67 +++++-------------------------
 include/vbi/interrupt.h                |   29 ++++++-------
 include/vbi/io_apic.h                  |   29 +++++--------
 include/vbi/private.h                  |   25 +++++------
 include/vbi/shmem.h                    |   29 +++++++------
 include/vbi/syscall.h                  |   67 +++++-------------------------
 include/vbi/syscalls.h                 |   70 +++++---------------------------
 include/vbi/types.h                    |   26 +++++-------
 include/vbi/vbi.h                      |   50 +++++------------------
 include/vbi/version.h                  |   26 +++++------
 include/vbi/vmmu.h                     |   26 ++++++-----
 kernel/vbi/idle.c                      |   30 +++++---------
 kernel/vbi/interrupt.c                 |   34 +++++----------
 kernel/vbi/io_apic.c                   |   44 +++++---------------
 kernel/vbi/lib.c                       |   38 +++++------------
 kernel/vbi/msg.c                       |   31 +++++---------
 kernel/vbi/ns.c                        |   28 +++++--------
 kernel/vbi/paddr.c                     |   31 +++++---------
 kernel/vbi/shmem.c                     |   34 +++++----------
 kernel/vbi/show.c                      |   33 +++++----------
 kernel/vbi/version.c                   |   29 ++++++-------
 29 files changed, 337 insertions(+), 724 deletions(-)

diff --git a/arch/powerpc/kernel/vbi/ppc_doc.txt b/arch/powerpc/kernel/vbi/ppc_doc.txt
index b688a33..67ad2b4 100644
--- a/arch/powerpc/kernel/vbi/ppc_doc.txt
+++ b/arch/powerpc/kernel/vbi/ppc_doc.txt
@@ -1,29 +1,20 @@
-/* ppc_doc.txt - Virtual Board Interface APIs supplement for PPC */
-
 /*
+ * ppc_doc.txt - Virtual Board Interface APIs supplement for PPC
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind RIver License agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01j,24sep09,mpk  updates docs for vbiVbRegisterRead
-01i,10sep09,mmi  update ppc header file path
-01h,10sep09,mmi  update ppc docs
-01g,31jul09,mpk  update comments for vbiVbRegisterRead, vbiVbRegisterWrite
-01f,18jul09,mmi  fix example for mdio
-01e,18jul09,mmi  update info about sending message to bspserver
-01d,07jul09,mmi  fix int lock macro comments
-01c,12jun09,mmi  remove vioapic from here
-01b,26may09,mmi  ensure that vbiIntCoreLock returns the previous state
-01a,12may09,mmi written
-*/
-
-/*
 DESCRIPTION
 The module contains the VBI PowerPc architecture supplement. The APIs described
 below are either available only for PPC platforms or their behaviour is architecture
diff --git a/arch/powerpc/kernel/vbi/show.c b/arch/powerpc/kernel/vbi/show.c
index db61a75..273bb87 100644
--- a/arch/powerpc/kernel/vbi/show.c
+++ b/arch/powerpc/kernel/vbi/show.c
@@ -1,27 +1,19 @@
-/* vbiPpcShow.c - vbi PowerPC show routines */
-
 /*
+ * show.c - vbi PowerPC show routines
+ *
  * Copyright (c) 2008 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-01d,15jun09,mmi  update vb regs
-01c,07feb09,mmi  fix build errors
-01b,22jan09,mmi  change vbCtrlRegsDisplay to vbiCrlRegsDisplay()
-01a,22jan09,mmi created
-*/
-
-/*
-This module provides the PowerPC show routines for the Virtual Board running
-on Wind River hypervisor.
-*/
-
 #ifdef CONFIG_WRHV
 #include <linux/kernel.h>
 #include <vbi/vbi.h>
diff --git a/arch/powerpc/kernel/vbi/syscalls.S b/arch/powerpc/kernel/vbi/syscalls.S
index fd22b69..e4bc2f8 100644
--- a/arch/powerpc/kernel/vbi/syscalls.S
+++ b/arch/powerpc/kernel/vbi/syscalls.S
@@ -1,63 +1,19 @@
-/* vbiSyscalls.s - hypervisor system calls */
-
 /*
+ * syscalls.s - hypervisor system calls
+ *
  * Copyright (c) 2007-2008 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-02j,03sep09,dtr  Fixed vbExcBaseSet.Added vbiExcOffsetsSet/Get.
-02i,02sep09,mmi  rename vbiReceive to vbiReceiveOp
-02h,27aug09,mmi  fix defect WIND00178035
-02g,06jul09,mmi  update vb mangement syscall numbers, memory read/write,
-		 registers read/write, interrupt direct op, debug shell start
-02f,26jun09,mmi  add vbiIoapicOp
-02e,23jun09,mmi  add vbi 2.0 apis
-02d,11jun09,mmi  update interrupts apis according to vbi2.0
-02c,10jun09,mmi  remove VxWorks consideration
-02b,28feb09,mmi  add vbiNsOp
-02a,09feb09,mmi  add vbMgmt API
-01z,27jan09,mmi  include vbi.h header file
-01y,23jan09,mmi  update vbiSyscall prototype in comments
-01x,18jan09,mmi  fix vbiIoapicIoctl, remove vbiShelf
-01w,12dec08,md   rename header files
-01v,11dec08,mmi  change name of VB structure pointers
-01u,02dec08,mmi  remove obsolete API's
-01t,19nov08,mmi  adopt new naming convention for vbi API's
-01s,04sep08,dcc  added vdkIoapicIoctl
-01r,20jun08,md   fix header file inclusion
-01q,19jun08,md   change VxWorks define
-01p,28nov07,foo  vdk doc
-01o,21nov07,md   include VxWorks header files if being compiled in a project
-01o,21nov07,foo  vdk interrupts
-01n,25oct07,foo  added vdkIntControllerDone, vdkIntEnable, vdkShelf	
-01m,05oct07,md   remove vxworks header files
-01l,10sep07,md   re-number hypervisor system calls
-01k,05jul07,foo  added vdkBspIoctl	
-01j,04jun07,md   added vdkHyCtxctl, vdkMmuPageProtect and vdkMmuPageUnprotect
-01i,24may07,ymz  added port system calls.
-01h,18may07,md   added vdkHyIoctl
-01g,20apr07,md   add vmmu system calls
-01f,18apr07,md   renamed syscalls to start with vdk
-01e,10apr07,md   split kprintf into kputs and kputc
-01d,02apr07,md   header file re-org
-01c,19mar07,foo	 fix macro names
-01b,15mar07,md   added hyInt, hyIntDone
-01a,11mar07,md   written
-*/
-
-/*
-DESCRIPTION
-
-This file implements the hypervisor system call stubs for the hypervisor.
-
-*/
-
 #define _ASMLANGUAGE
 
 #ifdef CONFIG_WRHV
diff --git a/arch/powerpc/kernel/vbi/util.c b/arch/powerpc/kernel/vbi/util.c
index a8bfc20..08db41d 100644
--- a/arch/powerpc/kernel/vbi/util.c
+++ b/arch/powerpc/kernel/vbi/util.c
@@ -1,21 +1,20 @@
-/* vbi/vbiUtil.c - utilities routines for guest OS para-virtualization */
-
 /*
+ * util.c - utilities routines for guest OS para-virtualization
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01a,17jul07, ymz written
-02a,08nov07, mb  moved wrhv_int_lock and friends from init/main.c; formatting fixes
-*/
-
-/*
 This module implements a library which is handy for para-virtualized
 guest os to use. The routines are developed based on the need while
 para-virtualize linux, therefore, may need some tweaks to be generic.
diff --git a/arch/powerpc/kernel/vbi/vmmu_display.c b/arch/powerpc/kernel/vbi/vmmu_display.c
index 669fece..da13daf 100644
--- a/arch/powerpc/kernel/vbi/vmmu_display.c
+++ b/arch/powerpc/kernel/vbi/vmmu_display.c
@@ -1,24 +1,19 @@
-/* vbi/vmmuDisplay.c - hypervisor VMMU operations */
-
 /*
+ * vmmu_display.c - hypervisor VMMU operations
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-01b,03may07,md   removed vxWorks.h
-01a,19apr07,md   written
-*/
-
-/*
-This module displays the contents of a VMMU page table
-*/
-
 #include <linux/kernel.h>
 #include <vbi/interface.h>
 #include <vbi/vmmu.h>
diff --git a/arch/x86/kernel/vbi/syscalls.S b/arch/x86/kernel/vbi/syscalls.S
index 25392f6..7a04594 100644
--- a/arch/x86/kernel/vbi/syscalls.S
+++ b/arch/x86/kernel/vbi/syscalls.S
@@ -1,49 +1,19 @@
-/* syscalls.S - hypervisor system calls */
-
 /*
+ * syscalls.S - hypervisor system calls
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-01v,09sep09,mmi  add vbiVtlb stub
-01u,02sep09,mmi  rename vbiReceive to vbiReceiveOp
-01t,01sep09,mmi  update asm.h path
-01s,25aug09,mmi  remove bspIoctl
-01r,13aug09,dtr  Update to vbiHyIoctl.
-01q,06jul09,mmi  added vbi 2.0 vbMgmt api, interrupt redirect op,
-		 registers read/write, memory read/write, 
-01p,02jul09,mmi  add interrupt send syscall stub
-01o,27jun09,mmi  fix stack adjustment for vbiReply
-01n,23jun09,mmi  add vbi 2.0 API's
-01m,18jun09,mmi  changed vbiIntVCoreUnlock not expect a flag
-01l,12jun09,mmi  introduce vbiIntVCoreLock/Unlock APIs
-01k,26feb09,mmi  add name service hypercall
-01j,12feb09,mmi  update API descriptions, descriptions, fix vbiReply #arg pushed
-		 to the stack 
-01i,08feb09,mmi  fix vbiIntEnable/vbiIntDisable routines, remove vbiInt
-01h,23jan09,mmi  update vbiSend/vbiReceive and vbiReply comments
-01g,05dec08,mes  Replaced vbiShelf with vbiVbMgmt
-01f,02dec08,mmi  remove obsolete API's
-01e,20nov08,mmi  adopt vbi naming
-01d,04sep08,dcc  modified vdkInt() to call vdkIoapicIoctl()
-01c,19may08,gws  add vdkIoapicIoctl
-01b,18apr08,md   add extra arg to vdkHyIoctl
-01a,03mar08,md   written
-*/
-
-/*
-DESCRIPTION
-
-This file implements the hypervisor system call stubs for the Razor hypervisor.
-
-*/
-
 #define _ASMLANGUAGE
 
 #ifdef CONFIG_WRHV
diff --git a/include/vbi/arch.h b/include/vbi/arch.h
index f7118b8..93ead40 100644
--- a/include/vbi/arch.h
+++ b/include/vbi/arch.h
@@ -1,18 +1,18 @@
-/* vbi/arch.h - vbi architecture specific definitions */
-
-/* Copyright 2008 Wind River Systems, Inc. */
-
 /*
-modification history
---------------------
-01g,28aug09,mmi  adjust arch header files path
-01f,15jul09,dtr  Add CPU PPCE500MC.
-01e,25may09,md   add endian order type defines
-01d,17mar09,mpk  Cavium OCTEON MIPS64 port for hypervisor
-01c,29jan09,mmi  add vbi/ to the header files path
-01b,28jan09,mmi  check PENTIUM4 and PENTIUM, consider error case
-01a,21jan08,mmi  written.
-*/
+ * arch.h - vbi architecture specific definitions
+ *
+ * Copyright 2008 Wind River Systems, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
+ */
 
 #ifndef __INCvbiArchh
 #define __INCvbiArchh
diff --git a/include/vbi/errors.h b/include/vbi/errors.h
index d8bf8cd..8c4458e 100644
--- a/include/vbi/errors.h
+++ b/include/vbi/errors.h
@@ -1,23 +1,19 @@
-/* vbi/VbiErrors.h - vbi errors */
-
-/* 
+/*
+ * errors.h - vbi errors
+ * 
  * Copyright (c) 2009 Wind River Systems, Inc. 
  *
- * The right to copy, distribute, modify or otherwise make use 
- * of this software may be licensed only pursuant to the terms 
- * of an applicable Wind River license agreement. 
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-01e,14jul09,mmi  add vbi memory errors
-01d,07jul09,mmi  add vbMgmt error numbers
-01c,17jun09,mmi  add VBI_VIOAPIC_NULL
-01b,11jun09,mmi  add VBI_EXCBASE_SET_ERROR
-01a,16apr0r9,mmi written
-*/
-
 #ifndef __INCvbiErrorsh
 #define __INCvbiErrorsh
 
diff --git a/include/vbi/interface.h b/include/vbi/interface.h
index dc26c4a..a7282be 100644
--- a/include/vbi/interface.h
+++ b/include/vbi/interface.h
@@ -1,65 +1,20 @@
-/* interface.h - virtual board interface header file */
-
 /*
+ * interface.h - virtual board interface header file
+ *
  * Copyright (c) 2007-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-02r,09sep09,mmi  include vbi types header file
-02q,28aug09,mmi  use a different wrapper header arch.h for VBI and HV
-02p,26aug09,mmi  fix WIND00178026: update copyright dates
-02o,06aug09,dtr  Modify status intPending to intPendingType as per docs.
-02n,03jul09,mmi  rename version flags
-02m,16jun09,mmi  make vioapic field a pointer, move bootCount field to VB_STATUS
-02l,08jun09,mmi  fix apigen syntax
-02k,08jun09,mmi  update descriptions
-02j,22may09,md   adjust fields for 64-bit
-02i,22may09,mpk  use exception Stack for running Privileged VBI calls
-02h,14may09,md   add per-core private memory page
-02g,18may09,mpk  64-bit hypervisor, 32-bit Virtual Board
-02f,29apr09,mpk  move syscalls.h include to vbi.h
-02e,27apr09,mpk  Supervisor Syscall Interface for Privileged Guest OS
-02d,21apr09,md   add SMP guest information
-02d,17apr09,mpk  64-bit hypervisor, and supervisor vbi calls
-02c,29jan09,dtr  Fix reg offset macros.
-02b,28jan09,mmi  merge arch registers in vb status struct, use arch specific
-		 define for vioapic size, put regs struct at the beginning
-02a,22jan09,mmi  add ctypes.h
-01z,22jan09,mmi  abstract arch specific registers
-01y,23dec08,mmi  move vb function prototypes to vbMgr.h
-01x,14dec08,mmi  define VB_PRINTF to printf for vxWorks
-01w,12dec08,mmi  replace RAZOR name reference to WRHV
-01v,11dec08,mmi  use typedef instead of native types
-01u,02dec08,mmi  remove obsolete API definitions
-01t,19nov08,dtr  Remove interrupt controller.
-01s,03oct08,dbt  Added tickCount to VB_STATUS.
-01r,01aug08,md   add tracking of region data type
-01q,19may08,gws  add virtual IO APIC
-01p,23nov07,foo  add boot defines
-01o,08nov07,md   add bootline support
-01n,09nov07,foo  remove includes
-01m,25oct07,foo  updated for hardware interrupts
-01l,09oct07,md   add emulated srr1 register
-01k,04oct07,md   include sys/cpu_types.h
-01j,11sep07,md   added emulated MSR register for PPC
-01i,23aug07,md   added vmmu and PPC volatile regs to control page
-01h,25jul07,md   added memory aliasing information
-01g,29may07,ymz  added port support.
-01f,25may07,foo  updated for inter-board interrupts
-01e,17may07,foo  updated for improved interrupt delivery
-01d,23apr07,foo  added fields for user mode virtual boards and interrupts
-01c,16mar07,foo  renamed RAZOR_CPU to CPU 
-01b,16mar07,foo  update for generalized interface and interrupt delivery
-01a,15feb07,foo  written
-*/
-
-/*
 DESCRIPTION
 This module defines the data structures used for information flow between
 wind river Hypervisor and a Virtual Board. There are three structures employed
diff --git a/include/vbi/interrupt.h b/include/vbi/interrupt.h
index c13bfdf..c29c5ee 100644
--- a/include/vbi/interrupt.h
+++ b/include/vbi/interrupt.h
@@ -1,20 +1,17 @@
-/* interrupt.h - utility functions to read interrupt configuration data*/
-
-/* Copyright 2007 Wind River Systems, Inc. */
-
 /*
-modification history
---------------------
-01i,02jul09,mmi  fix return type
-01h,18jun09,mmi  rename the file
-01g,31mar09,mmi  change interrupt direction flags
-01f,26feb09,mmi  change vbiIntVecFind definition to return vector
-01e,17dec08,mmi  rename vbiIntCtrlFindVector
-01d,20nov08,mmi  adopt new naming convention
-01c,04sep08,dcc  modified vbiIntCtrlConnect() signature
-01b,27nov07,foo  fix parameter
-01a,25may07,foo  written
-*/
+ * interrupt.h - utility functions to read interrupt configuration data
+ *
+ * Copyright 2007 Wind River Systems, Inc.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
+ */
 
 /*
 DESCRIPTION
diff --git a/include/vbi/io_apic.h b/include/vbi/io_apic.h
index 8b0751b..26dca0a 100644
--- a/include/vbi/io_apic.h
+++ b/include/vbi/io_apic.h
@@ -1,23 +1,18 @@
-/* vIoapic.h - virtual IO APIC definitions */
-
 /*
+ * io_apic.h - virtual IO APIC definitions
+ *
  * Copyright (c) 2008 Wind River Systems, Inc.
  *
- * The right to copy, distribute or otherwise make use of this software
- * may be licensed only pursuant to the terms of an applicable Wind River
- * license agreement. 
-*/
-
-/*
-modification history
---------------------
-01f,13jul09,mmi  adjust max ioapic entries
-01e,17jun09,mmi  create a vioapic structure
-01d,14apr09,mpk  use uint32_t instead of long
-01c,12dec08,md   rename header files
-01b,09dec08,md   fix reg set/get macros
-01a,14apr08,gws  written
-*/
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
+ */
 
 #ifndef	__INCVIOAPICh
 #define	__INCVIOAPICh
diff --git a/include/vbi/private.h b/include/vbi/private.h
index 90a2fdb..59be6ac 100644
--- a/include/vbi/private.h
+++ b/include/vbi/private.h
@@ -1,23 +1,20 @@
-/* private.h - virtual board interface private definitions */
-
 /*
+ * private.h - virtual board interface private definitions
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 
-/*
-modification history
---------------------
-01d,03sep09,mmi  add inlined strncmp() for vbi library
-01c,02sep09,mmi  add vbiReceiveOp
-01b,03jul09,mmi  add vbiNsOp
-01a,03jul09,mmi  written
-*/
-
 #ifndef __INCvbiPrvh
 #define __INCvbiPrvh
 
diff --git a/include/vbi/shmem.h b/include/vbi/shmem.h
index 85468b3..3a90b32 100644
--- a/include/vbi/shmem.h
+++ b/include/vbi/shmem.h
@@ -1,18 +1,19 @@
-/* shmem.h - Virtual Interface memory utility functions */
-
-/* Copyright 2008 Wind River Systems, Inc. */
-
 /*
-modification history
---------------------
-01g,14jul09,mmi  update with vbiStatus_t return type
-01f,03jul09,mmi  add private memory function
-01e,12dec08,mmi  replace razor with wrhv
-01d,11dec08,mmi  use typedef's instead natives
-01c,20nov08,mmi  adopt new naming convention
-01b,26nov07,foo  update prototype
-01a,25may07,foo  written
-*/
+ * shmem.h - Virtual Interface memory utility functions
+ *
+ * Copyright 2008 Wind River Systems, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
+ */
+
 
 /*
 DESCRIPTION
diff --git a/include/vbi/syscall.h b/include/vbi/syscall.h
index 8289fa1..4d2c3ac 100644
--- a/include/vbi/syscall.h
+++ b/include/vbi/syscall.h
@@ -1,64 +1,19 @@
-/* syscall.h - hypervisor system calls */
-
 /*
+ * syscall.h - hypervisor system calls
+ *
  * Copyright (c) 2007-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-02s,02sep09,mmi  apply patch
-02r,31aug09,mmi  use VBI_HREG_SET instead of VB_HREG_SET
-02q,26aug09,mmi  Fix defect WIND00178030: add vbiKputc proto
-02p,12aug09,dtr  Update vbiHyIoctl API to add additional argument.
-02o,22jul09,mpk  support vbi register read, write
-02n,03jul09,mmi  move vbiNsOp to private header file, add
-		 vbiVbRegRead/Write
-02m,02jul09,mmi  add one more parameter to vbiIoapicIoctl
-02l,23jun09,mmi  add vbi2.0 apis
-02k,11jun09,mmi  update interrupts api protortype
-02j,10jun09,mmi  update hypercall interface according to vbi 2.0 spec
-02i,26feb09,mmi  add vbiNs
-02h,24feb09,mmi  remove duplicate defines already in syscalls.h
-02g,06feb09,mmi  include vbiMsg.h
-02f,19jan09,mmi  update msg API prototypes
-02e,12jan09,dtr  Add driver ioctl calls, remove legacy interrupt defns.
-02d,12dec08,md   rename header files
-02c,05dec08,mes  Removed shelf macros, added vbMgmt macros
-02b,01dec08,md   add VBI_IOAPICIOCTL_SEND options
-02a,21nov08,md   remove port and ED&R syscalls
-01z,20nov08,mmi  adtopt new naming convention
-01y,31oct08,dbt  Added vdkVtlbMmuOp hypercall.
-01x,16jun08,mmi  fix vdkBspIoctl prototype
-01w,19may08,gws  add vIoapicIoctl
-01v,18apr08,md   add extra arg to vdkHyioctl
-01u,11apr08,md   add EOI ioctl
-01t,06mar08,md   add debug shell ioctl
-01s,06dec07,foo  update hw ints
-01r,23nov07,foo  fix prototype, use basic types
-01q,25oct07,foo  updated with new vdk functions
-01p,27sep07,md   added exception profiling fields
-01o,26sep07,md   added profiling statistics and stats ioctl
-01n,10sep07,md   re-number hypervisor system calls
-01m,21aug07,md   added VDK_SYS_ctx_load_vmmu
-01l,05jul07,foo  added bspIoctl calls and defines
-01k,04jun07,md   added ctxctl and mmu system calls
-01j,17may07,ymz  added port syscall.
-01i,28may07,foo  update vdkInt prototype
-01h,18may07,md   add hypervisor ioctl
-01g,20apr07,md   add vmmu system calls
-01f,18apr07,md   renamed to vdk
-01e,10apr07,md   replace kprintf syscall with kputs and kputc
-01d,19mar07,foo  fix macro
-01c,17mar07,foo  modify definitions to all start with HY
-01b,15mar07,md   added interrupt system calls
-01a,09mar07,md   written
-*/
-
 #ifndef __INCvbiSyscallh
 #define __INCvbiSyscallh
 
diff --git a/include/vbi/syscalls.h b/include/vbi/syscalls.h
index 72588e2..e9e8f25 100644
--- a/include/vbi/syscalls.h
+++ b/include/vbi/syscalls.h
@@ -1,67 +1,19 @@
-/* syscalls.h - hypervisor system calls */
-
 /*
+ * syscalls.h - hypervisor system calls
+ *
  * Copyright (c) 2007-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-02v,04sep09,dtr  Add additional type of hyioctl call.
-02u,12aug09,dtr  Add defines for additional arg to vbiHyIoctl.
-02t,13jul09,dbt  stop using long for VTLB VBI system calls
-02s,16jul09,mmi  change NO_RESET to RESET and NO_DOWNLOAD to DOWNLOAD
-02r,13jul09,mmi  fix reset flag reset
-02q,13jul09,mmi  add VBI_VBMGMT_RESET_DOWNLOAD
-02p,06jul09,mmi  add vb managment syscall numbers
-02o,02jul09,mmi  update the interrupt sending options, fix textUpdate
-		 fast syscall number
-02n,23jun09,mmi  add VBI_VBMGM_RESTART
-02m,10jun09,mmi  add cache text update fast system call
-02l,29may09,mes  Fixed VBI_CTX_STATS to match HY_CTX_STATS
-02k,27apr09,mpk  Supervisor Syscall Interface for Privileged Guest OS
-02j,19mar09,mes  Fixed type of VBI_ERROR_CODE
-02i,02feb09,mmi  add name service system call
-02h,02mar09,mmi  fix header name define
-02g,24feb09,mmi  decouple vbi definitions from internal data, add vbMgmt API
-02f,19jan09,mmi  update msg API prototypes
-02e,12jan09,dtr  Add driver ioctl calls, remove legacy interrupt defns.
-02d,12dec08,md   rename header files
-02c,05dec08,mes  Removed shelf macros, added vbMgmt macros
-02b,01dec08,md   add VBI_IOAPICIOCTL_SEND options
-02a,21nov08,md   remove port and ED&R syscalls
-01z,20nov08,mmi  adtopt new naming convention
-01y,31oct08,dbt  Added vdkVtlbMmuOp hypercall.
-01x,16jun08,mmi  fix vdkBspIoctl prototype
-01w,19may08,gws  add vIoapicIoctl
-01v,18apr08,md   add extra arg to vdkHyioctl
-01u,11apr08,md   add EOI ioctl
-01t,06mar08,md   add debug shell ioctl
-01s,06dec07,foo  update hw ints
-01r,23nov07,foo  fix prototype, use basic types
-01q,25oct07,foo  updated with new vdk functions
-01p,27sep07,md   added exception profiling fields
-01o,26sep07,md   added profiling statistics and stats ioctl
-01n,10sep07,md   re-number hypervisor system calls
-01m,21aug07,md   added VDK_SYS_ctx_load_vmmu
-01l,05jul07,foo  added bspIoctl calls and defines
-01k,04jun07,md   added ctxctl and mmu system calls
-01j,17may07,ymz  added port syscall.
-01i,28may07,foo  update vdkInt prototype
-01h,18may07,md   add hypervisor ioctl
-01g,20apr07,md   add vmmu system calls
-01f,18apr07,md   renamed to vdk
-01e,10apr07,md   replace kprintf syscall with kputs and kputc
-01d,19mar07,foo  fix macro
-01c,17mar07,foo  modify definitions to all start with HY
-01b,15mar07,md   added interrupt system calls
-01a,09mar07,md   written
-*/
-
 #ifndef __INCsyscallsh
 #define __INCsyscallsh
 
diff --git a/include/vbi/types.h b/include/vbi/types.h
index d064a7e..515d686 100644
--- a/include/vbi/types.h
+++ b/include/vbi/types.h
@@ -1,24 +1,20 @@
-/* types.h - virtual board interfaces types definitions */
-
 /*
+ * types.h - virtual board interfaces types definitions
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 
-/*
-modification history
---------------------
-01e,09sep09,mmi  change vbiIrq_t to unsigned type
-01d,12aug09,dtr  ADd vbiGuestPhysAddr type.
-01c,02jul09,mmi  fixe vbiIrq_t and vbiVector_t types
-01b,11jun09,mmi  add vbiIntState_t, vbiMemAttr_t, etc..
-01a,09jun09,mmi  written
-*/
-
 #ifndef __INCvbiTypesh
 #define __INCvbiTypesh
 
diff --git a/include/vbi/vbi.h b/include/vbi/vbi.h
index 37a6d1b..edf1360 100644
--- a/include/vbi/vbi.h
+++ b/include/vbi/vbi.h
@@ -1,48 +1,20 @@
-/* vbi.h - virtual board support definitions */
-
 /*
+ * vbi.h - virtual board support definitions
+ *
  * Copyright (c) 2007 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 
-/*
-modification history
---------------------
-01y,12aug09,dtr  Add standard address translation functions.
-01x,06aug09,dtr  Update VBI_INT_VCORE_PENDING docs and status->intPending
-                 to intPendingType.
-01w,14jul09,mmi  VBI_OLD_INT_DISABLE_GET() renamed to
-                 VB_INT_CORE_PREVSTATE_GET()
-01v,13jul09,mmi  fix mem alias address get macro
-01u,13jul09,mmi  fix VIOAPIC base address macro
-01t,03jul09,mmi  add vbi private memory base address get macro
-01s,12jun09,mmi  update macro's and comments
-01r,11jun09,mmi  update interrupt macros
-01q,09jun09,mmi  put back wrhvVbIntNested
-01p,08jun09,mmi  vbi 2.0 update
-01p,08jun09,md   add core number to panic message
-01o,26may09,mmi  add apigen description
-01n,07apr09,mpk  MIPS64 hypervisor, mips-wrs-linux-gnu compiler support
-01m,25feb09,mmi  remove vbiMsg.h
-01l,29jan09,mmi  add VB_PANIC
-01k,23jan09,mmi  add vbiMsg.h
-01j,23dec08,mmi  fix vbiVioapicIntSend() prototype, added show routines
-01i,19dec08,mmi  add VBI show routine function prototypes
-01h,14dec08,mmi  move printing function prototypes to interface.h
-01g,13dec08,mmi  change vbiSyscalls.h to syscall.h
-01f,12dec08,mmi  rename RAZOR to WRHV
-01e,11dec08,mmi  replace razor with wrhv prefix, add access macros, moved
-		 razorvxworks.h contents to this file
-01d,10dec08,mmi  add VIOAPIC API prototypes
-01c,05dec08,mmi  add ctypes header file
-01b,20nov08,mmi  adopt new naming convention
-01a,20nov07,foo  written
-*/
-
 #ifndef __INCvbih
 #define __INCvbih
 
diff --git a/include/vbi/version.h b/include/vbi/version.h
index bf5bf29..c068fa4 100644
--- a/include/vbi/version.h
+++ b/include/vbi/version.h
@@ -1,21 +1,19 @@
-/* vbi/version.h - vbi version information */
-
-/* 
+/*
+ * version.h - vbi version information
+ * 
  * Copyright (c) 2009 Wind River Systems, Inc. 
  *
- * The right to copy, distribute, modify or otherwise make use 
- * of this software may be licensed only pursuant to the terms 
- * of an applicable Wind River license agreement. 
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-01c,26aug09,mmi  Fix defect WIND00178026: update vbi version comment
-01b,02jul09,mmi  update version number
-01a,16apr0r9,mmi written
-*/
-
 #ifndef __INCvbiVersionh
 #define __INCvbiVersionh
 
diff --git a/include/vbi/vmmu.h b/include/vbi/vmmu.h
index 6ecd491..4b4e181 100644
--- a/include/vbi/vmmu.h
+++ b/include/vbi/vmmu.h
@@ -1,16 +1,18 @@
-/* sys/vmmu.h - hypervisor virtual MMU structure definitions */
-
-/* Copyright 2007 Wind River Systems, Inc. */
-
 /*
-modification history
---------------------
-01e,12dec08,md   rename header files
-01d,21aug07,md   removed vxWorks.h
-01c,16may07,md   update defines and comments to match structure layout
-01b,24apr07,md   adjust fields to better match e500 pte
-01a,19apr07,md   written
-*/
+ * vmmu.h - hypervisor virtual MMU structure definitions
+ *
+ * Copyright 2007 Wind River Systems, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
+ */
 
 #ifndef __INCvmmuh
 #define __INCvmmuh
diff --git a/kernel/vbi/idle.c b/kernel/vbi/idle.c
index f41f4dd..de9781f 100644
--- a/kernel/vbi/idle.c
+++ b/kernel/vbi/idle.c
@@ -1,27 +1,19 @@
-/* vbiIdle.c - context idle code */
-
-/*
+/* idle.c - context idle code 
+ *
  * Copyright (c) 2007-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01h,26aug09,mmi  fix WIND00178026: update copyright
-01g,25may09,mmi  introduce a new type vbiTicks_t
-01f,15may09,mmi  fix apigen errors
-01e,11dec08,mmi  alwasy include vbi.h
-01d,19nov08,mmi  adopt new naming convention vbi...
-01c,02jul08,md   fix parameter ordering
-01b,21nov07,foo  idle parameter
-01a,04jun07,md   written
-*/
-
-/*
 DESCRIPTION
 This module provides an interface to put the currently running virtual board
 into the idle state.
diff --git a/kernel/vbi/interrupt.c b/kernel/vbi/interrupt.c
index abf6da3..8c331fb 100644
--- a/kernel/vbi/interrupt.c
+++ b/kernel/vbi/interrupt.c
@@ -1,32 +1,20 @@
-/* vbiInterrupt.c - virtual board interrupt configuration utility */
-
 /*
+ * interrupt.c - virtual board interrupt configuration utility
+ *
  * Copyright (c) 2007-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01m,03sep09,mmi  fix depency to vba library for comparing strings
-01l,26aug09,mmi  fix WIND00178026: update copyright
-01k,03jul09,mmi  update description
-01j,19jun09,mmi  revert to previous name for this file
-01i,26feb09,mmi  change vbiIntVecFind definition to return vector
-01h,17dec08,mmi  rename vbiIntCtrlFindVector with vbiIntVecFind
-01g,13dec08,mmi  remove razorVxWorks.h 
-01f,21nov08,mmi  include vbi.h instead of vdk.h
-01e,19nov08,mmi  change API's names to vbiXXX and miscl. cleanup
-01d,10sep08,md   fix vbiIntCtlrConnect parameters
-01c,23nov07,foo  fix includes
-01b,25oct07,foo  update for real hardware interrupt implementation
-01a,09may07,foo  written
-*/
-
-/*
  * This module contains the code for accessing the the interrupts configuration
  * of the virtual board.
  */
diff --git a/kernel/vbi/io_apic.c b/kernel/vbi/io_apic.c
index c6fc95c..4bcab59 100644
--- a/kernel/vbi/io_apic.c
+++ b/kernel/vbi/io_apic.c
@@ -1,41 +1,19 @@
-/* vbiVioapic.c - Virtual IO APIC library */
-
 /*
+ * io_apic.c - Virtual IO APIC library
+ *
  * Copyright (c) 2008-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-01o,26aug09,mmi  fix WIND00178023: vioapic unmask routine
-01n,13aug09,dtr  Update vbiVioapicIntAck docs and API.
-01m,18jul09,mmi  remove X86 from unmask
-01l,07jul09,mmi  turn off debugging by default
-01k,02jul09,mmi  update send api
-01j,16jun09,mmi  create vioapic structure
-01i,09jun09,mmi  update macros to access config structure
-01h,29mar09,mmi  set MASK properly
-01g,09apr09,mpk  hypervisor 64 bit changes to support mips cavium-octeon bsp
-01f,19mar09,mes  Fixed return values of VBI functions
-01e,24feb09,mmi  include syscall.h
-01d,22dec09,mmi  fix send function proto
-01c,13dec08,mmi  define structures locally
-01b,11dec08,mmi  replace razor with wrhvVb
-01a,10dec08,mmi created base on x86 version
-*/
-
-/* 
-DESCRIPTION 
-
-This module implements the Virtual IO APIC library
-*/
-
-/* includes */
-
 #ifdef CONFIG_WRHV
 #include <linux/types.h>
 #include <linux/module.h>
diff --git a/kernel/vbi/lib.c b/kernel/vbi/lib.c
index 9773564..180c060 100644
--- a/kernel/vbi/lib.c
+++ b/kernel/vbi/lib.c
@@ -1,36 +1,20 @@
-/* vbiLib.c - virtual Board Interface Library */
-
-
 /*
+ * lib.c - virtual Board Interface Library
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01p,02sep09,mmi  mov message API descriptions to vbiMsg.c
-01o,15aug09,rdd  Fixing typo breaking file
-01n,14aug09,mpk  update vbi documentation
-01m,18jul09,mmi  remove flags
-01l,17jul09,mmi  fix description
-01k,16jul09,mpk  update VBI with mips64 support information
-01j,03jul09,mmi  add vbiInterrupt to docs
-01i,12jun09,mmi  append interface.h for apigen
-01h,09jun09,mmi  put back wrhvVbIntNested
-01g,25may09,mmi  Update API descriptions
-01f,12may09,mmi  fix apigen errors and update for VBI 2.0
-01e,11dec08,mmi  replace razor with wrhv prefix
-01d,20nov08,mmi  adopt vbi naming convention
-01c,30sep08,md   update docs
-01b,28nov07,foo  vdk doc
-01a,20nov07,foo  written
-*/
-
-/*
 
 DESCRIPTION
 The vbi library (Virtual board interface) provides support functionality for
diff --git a/kernel/vbi/msg.c b/kernel/vbi/msg.c
index cfe58db..59ec876 100644
--- a/kernel/vbi/msg.c
+++ b/kernel/vbi/msg.c
@@ -1,28 +1,19 @@
-/* vbiMsg.c - vbi Message library */
-
-
 /*
+ * msg.c - vbi Message library
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
-/*
-modification history
---------------------
-01b,08sep09,mmi  update comments
-01a,2sep09,mmi written
-*/
-
-/*
-
-DESCRIPTION
-VBI message library routines.
-
-*/
-
 #ifdef CONFIG_WRHV
 #include <linux/types.h>
 #include <vbi/private.h>
diff --git a/kernel/vbi/ns.c b/kernel/vbi/ns.c
index 0f3f868..dcb55b0 100644
--- a/kernel/vbi/ns.c
+++ b/kernel/vbi/ns.c
@@ -1,26 +1,20 @@
-/* wrhvNs.c - hypervisor naming service, client side interface */
-
 /*
+ * ns.c - hypervisor naming service, client side interface
+ *
  * Copyright (c) 2008 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01g,18jul09,mmi  fix return types in vbNsXX() definition and comments
-01f,06jul09,mmi  add private.h
-01e,21may09,mmi  update api descriptions
-01d,11dec08,md   rename header files
-01c,11dec08,md   rename of ns header files
-01b,19nov08,md   change in message passing API
-01a,03nov08,md   written
-*/
-
-/*
 DESCRIPTION
 
 This module implements a the client side of a simple naming service for the
diff --git a/kernel/vbi/paddr.c b/kernel/vbi/paddr.c
index 5fc903a..d970f06 100644
--- a/kernel/vbi/paddr.c
+++ b/kernel/vbi/paddr.c
@@ -1,29 +1,20 @@
-/* vbiPaddr.c - translate virtual address to a physical address */
-
 /*
+ * paddr.c - translate virtual address to a physical address
+ *
  * Copyright (c) 2008 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01h,12aug09,dtr  Add vbiGuestDmaAddrGet and change name of vbiVirtToPhys to be
-                 vbiGuestPhysToPhys.
-01g,09jun09,mmi  rename physAddr_t to vbiPhysAddr_t
-01f,25may09,mmi  fix function prototype to use  physAddr_t for the physical
-                 address
-01e,15may09,mmi  fix apigen errors
-01d,23jan09,mmi  fix included header file
-01c,13dec08,mmi  replace vbiSyscalls.h with syscall.h
-01b,19nov08,mmi  introduced the VBI terminology
-01a,18apr08,md   written
-*/
-
-/*
 DESCRIPTION
 These modules provide interfaces to translate the current context's guest
 physical address into the physical machine address. vbiGuestDmaAddrGet is 
diff --git a/kernel/vbi/shmem.c b/kernel/vbi/shmem.c
index b4e8fd9..5f7b990 100644
--- a/kernel/vbi/shmem.c
+++ b/kernel/vbi/shmem.c
@@ -1,32 +1,20 @@
-/* vbiShmem.c - shared memory utility functions */
-
 /*
+ * shmem.c - shared memory utility functions
+ *
  * Copyright (c) 2007-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01m,03sep09,mmi  use _vbiStrncmp() for comparing strings
-01l,26aug09,mmi  fix WIND00178026: update copyright date
-01k,14jul09,mmi  fix private memory base get
-01j,03jul09,mmi  add private memory utility function
-01i,25may09,mmi  introduce vbiAttr_t for memory region attributes
-01h,22may09,mmi  revert to previous type function argument
-01g,15may09,mmi  fix apigen errors
-01f,17dec08,mmi  Use the correct number of memory region
-01e,12dec08,mmi  replace VB_MAX_RAZOR with VB_MAX_WRHV
-01d,11dec08,mmi  include vbi.h by default
-01c,19nov08,mmi  removed duplicate definition and rename functions to vbiXXX
-01b,23nov07,foo  fix includes
-01a,09may07,foo  written
-*/
-
-/*
 DESCRIPTION
 This module contains the code for retriving the memory regions assigned to
 a virtual board. The information is passed in to the virtual board via the
diff --git a/kernel/vbi/show.c b/kernel/vbi/show.c
index c0a7111..36388ff 100644
--- a/kernel/vbi/show.c
+++ b/kernel/vbi/show.c
@@ -1,31 +1,20 @@
-/* vbiShow.c - virtual board data show functions */
-
 /*
+ * show.c - virtual board data show functions
+ *
  * Copyright (c) 2007-2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River license agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01l,06aug09,dtr  Modify status intPending to intPendingType.
-01k,04jun09,md   add core number to interrupt display
-01j,25may09,mmi  vbiShow should be the only published API
-01i,20may09,mmi  update function headers
-01h,29apr09,mpk  add Privileged OS VBI support
-01g,27apr09,mpk  Supervisor Syscall Interface for Privileged Guest OS
-01f,17apr09,mpk  supervisor VBI calls
-01e,11mar09,mmi  fix defect WIND00158420
-01d,22jan09,mmi  call show routines only if available
-01c,23dec08,mmi  call show routines for access registers
-01b,23dec08,mmi  make vbiMemoryShow non-static
-01a,19dec08,mmi  created based on vbShow version 01j
-*/
-
-/*
 DESCRIPTION
 
 The Virtual Board show functions display virtual board status,
diff --git a/kernel/vbi/version.c b/kernel/vbi/version.c
index 0555de1..cc4963d 100644
--- a/kernel/vbi/version.c
+++ b/kernel/vbi/version.c
@@ -1,21 +1,20 @@
-/* vbiVersion.c - creation version/date/time module */
-
 /*
+ * version.c - creation version/date/time module
+ *
  * Copyright (c) 2009 Wind River Systems, Inc.
  *
- * The right to copy, distribute, modify or otherwise make use
- * of this software may be licensed only pursuant to the terms
- * of an applicable Wind River License agreement.
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+ * See the GNU General Public License for more details.
+ *
  */
 
 /*
-modification history
---------------------
-01b,03jul09,mmi  rename VB_VERSION_XX
-01a,16apr09,mmi  written 
-*/
-
-/*
 This module is always built with each executable image.  It provides
 the VBI version id, and the time and date it was built.
 
@@ -44,9 +43,9 @@ const uint32_t vbiVersionMaint = VBI_VERSION_MAINT;
 
 /* string identifiers for vbi version */
 
-const char *vbiRuntimeName       = VBI_RUNTIME_NAME;
-const char *vbiRuntimeVersion    = VBI_RUNTIME_VERSION;
-const char *vbiVersion		 = VBI_VERSION;
+const char *vbiRuntimeName = VBI_RUNTIME_NAME;
+const char *vbiRuntimeVersion = VBI_RUNTIME_VERSION;
+const char *vbiVersion = VBI_VERSION;
 
 #ifdef VBI_RUNTIME_CREATION_DATE
 const char *vbiCreationDate = VBI_RUNTIME_CREATION_DATE;
-- 
1.6.3.3

