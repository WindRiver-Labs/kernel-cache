From 3963e49275c04a474d3792e6a9dd1aa478abcf2c Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 2 Dec 2009 19:07:03 -0500
Subject: [PATCH 24/43] vbi: intLevelDisable --> level_irq_disable

for i in `git grep -l  intLevelDisable` ; do mv $i $i~ ; cat $i~|sed 's/intLevelDisable/level_irq_disable/' > $i ; done

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h    |    1 +
 include/vbi/interface.h |    2 +-
 kernel/vbi/show.c       |    2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index ed586b4..c0c5df8 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -89,6 +89,7 @@
 #define intDisable		irq_disable
 #define newIntDisable		next_irq_disable
 #define oldIntDisable		prev_irq_disable
+#define intLevelDisable		level_irq_disable
 #define intName			irq_name
 #define intNumber		irq_num
 #define intDirection		irq_dir
diff --git a/include/vbi/interface.h b/include/vbi/interface.h
index dd6d0f3..745c483 100644
--- a/include/vbi/interface.h
+++ b/include/vbi/interface.h
@@ -317,7 +317,7 @@ struct vb_control
 					/*  3: VMMU 1 table for ctxt switch */
 	VB_ALIGN_FIELD_64 (void *vmmu1, pad2);
 
-	uint32_t intLevelDisable;	/* interrupt level enabling */
+	uint32_t level_irq_disable;	/* interrupt level enabling */
 
 					/* Virtual I/O APIC */
 	VB_ALIGN_FIELD_64 (void *vIoapic, pad3);
diff --git a/kernel/vbi/show.c b/kernel/vbi/show.c
index 2181eab..186ad58 100644
--- a/kernel/vbi/show.c
+++ b/kernel/vbi/show.c
@@ -145,7 +145,7 @@ void vbi_show_ctrl(void)
 
 	printk("  Disabled interrupts:");
 	for (i=0; i < VB_MAX_INTERRUPTS; i++) {
-		if ((p->intLevelDisable & (1 << (32 - i))) != 0)
+		if ((p->level_irq_disable & (1 << (32 - i))) != 0)
 			printk(" %d", i);
 	}
 	printk("\n");
-- 
1.6.5.2

