From dbeb774cd62b8f1ab62be919835c0c933e392963 Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Mon, 30 Nov 2009 00:46:52 -0800
Subject: [PATCH] fsl_8572ds: task migration 'call Trace'

Remove a CPU definition node in DTB to suppress the periodic
'Call Trace' in console which is spit out after fsl_8572ds
 kernel boot successfully.

Align the number of CPU definition nodes in DTB with that
in VBI linux.xml, thus can avoid creating per-cpu kernel
threads for unexisted CPU from VBI perspective, and finally
kernel will not print out:

INFO: task migration/1:6 blocked for more than 120 seconds.
"echo 0 > /proc/sys/kernel/hung_task_timeout_secs" disables this message.
 Call Trace:
 [c7833f20] [c000860c] __switch_to+0x98/0x12c
 [c7833f40] [c035afd8] schedule+0x2cc/0x83c
 [c7833fd0] [c0055330] kthread+0x40/0xa0
 [c7833ff0] [c000fea8] original_kernel_thread+0x44/0x60

and so on.

Signed-off-by: Andrew Liu <shengping.liu@windriver.com>
---
 arch/powerpc/boot/dts/mpc8572ds.dts |   13 -------------
 1 files changed, 0 insertions(+), 13 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc8572ds.dts b/arch/powerpc/boot/dts/mpc8572ds.dts
index 61f547c..b4c7a9e 100644
--- a/arch/powerpc/boot/dts/mpc8572ds.dts
+++ b/arch/powerpc/boot/dts/mpc8572ds.dts
@@ -41,19 +41,6 @@
 			clock-frequency = <0>;
 			next-level-cache = <&L2>;
 		};
-
-		PowerPC,8572@1 {
-			device_type = "cpu";
-			reg = <0x1>;
-			d-cache-line-size = <32>;	// 32 bytes
-			i-cache-line-size = <32>;	// 32 bytes
-			d-cache-size = <0x8000>;		// L1, 32K
-			i-cache-size = <0x8000>;		// L1, 32K
-			timebase-frequency = <0>;
-			bus-frequency = <0>;
-			clock-frequency = <0>;
-			next-level-cache = <&L2>;
-		};
 	};
 
 	memory {
-- 
1.6.5.2

