From c6af07a092460e95ba81fd76e7f583e3844d6958 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Mon, 14 Dec 2009 18:26:37 -0500
Subject: [PATCH 5/8] vbi: VIOAPIC_ID --> vioapic_id

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h  |    2 ++
 include/vbi/io_apic.h |    6 +++---
 2 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index 8f9aebf..9b6d2dd 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -53,6 +53,8 @@
 #define VB_ARCH_CONTROL_REGS	struct vb_arch_ctrl_regs
 #define VB_ARCH_STATUS_REGS	struct vb_arch_stat_regs
 
+#define VIOAPIC_ID		union vioapic_id
+
 #define VB_TIMESTAMP		uint64_t
 #define vbiStatus_t		int32_t
 #define vbiIrq_t		uint32_t
diff --git a/include/vbi/io_apic.h b/include/vbi/io_apic.h
index f38cd72..34cf5de 100644
--- a/include/vbi/io_apic.h
+++ b/include/vbi/io_apic.h
@@ -22,7 +22,7 @@
 /* data structures */
 
 /* IO APIC ID register */
-typedef union
+union vioapic_id
 {
 	struct
 	{
@@ -31,7 +31,7 @@ typedef union
 		uint32_t reserved2:4;	/* reserved bits */
 	} field;
 	uint32_t value;
-} VIOAPIC_ID;
+};
 
 
 /* IO APIC Version Register */
@@ -90,7 +90,7 @@ typedef struct vioapicEntry
 
 typedef struct vioapic
 {
-	VIOAPIC_ID id;
+	union vioapic_id id;
 	VIOAPIC_VERSION version;
 	uint32_t arb;
 	uint32_t boot;
-- 
1.6.5.2

