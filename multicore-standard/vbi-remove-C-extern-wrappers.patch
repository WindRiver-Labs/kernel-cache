From 9927433835f2635e8ed473ae6c1bab778dc036b7 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Tue, 20 Oct 2009 17:37:38 -0400
Subject: [PATCH 26/27] vbi: remove C++ extern wrappers

The kernel dabbled in C++ once back about 15 years ago; it
isn't ever going to happen again.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/errors.h    |   11 +----------
 include/vbi/interface.h |    8 --------
 include/vbi/interrupt.h |    8 --------
 include/vbi/io_apic.h   |    9 ---------
 include/vbi/private.h   |    9 ---------
 include/vbi/shmem.h     |    8 --------
 include/vbi/syscall.h   |    9 +--------
 include/vbi/syscalls.h  |   12 +-----------
 include/vbi/types.h     |   10 +---------
 include/vbi/vbi.h       |   10 +---------
 include/vbi/version.h   |   12 ++----------
 include/vbi/vmmu.h      |    8 --------
 12 files changed, 7 insertions(+), 107 deletions(-)

diff --git a/include/vbi/errors.h b/include/vbi/errors.h
index 8c4458e..555631a 100644
--- a/include/vbi/errors.h
+++ b/include/vbi/errors.h
@@ -17,11 +17,7 @@
 #ifndef __INCvbiErrorsh
 #define __INCvbiErrorsh
 
-#ifdef __cplusplus
-extern "C" {
-#endif
-
-#define VBI_ERRORS_START		(0)
+#define VBI_ERRORS_START		0
 
 /* generic vbi errors */
 
@@ -51,9 +47,4 @@ extern "C" {
 #define VBI_ERR_VBGMT_RESET_FAILED	VBI_VBMGMT_ERROR_START +    (-3)
 #define VBI_ERR_VBMGMT_CTX_INVALID	VBI_VBMGMT_ERROR_START +    (-4)
 
-
-#ifdef __cplusplus
-}
-#endif
-
 #endif /* __INCvbiVersionh */
diff --git a/include/vbi/interface.h b/include/vbi/interface.h
index a7282be..d4ef0df 100644
--- a/include/vbi/interface.h
+++ b/include/vbi/interface.h
@@ -93,10 +93,6 @@ files where the data structrures layout is defined.
 #include <vbi/arch.h>
 #endif /* CONFIG_WRHV */
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 /* VB versioning information */
 
 #define	VBI_VERSION_MAJOR	2	/* major version */
@@ -784,8 +780,4 @@ extern int printf (const char *, ...);
 
 #endif /*_ASMLANGUAGE */
 
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
-
 #endif  /* __INCvbInterfaceh */
diff --git a/include/vbi/interrupt.h b/include/vbi/interrupt.h
index c29c5ee..4e020d5 100644
--- a/include/vbi/interrupt.h
+++ b/include/vbi/interrupt.h
@@ -24,18 +24,10 @@ interrupts configuration data.
 #ifndef __INCinterrupth
 #define __INCinterrupth
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 #ifndef	_ASMLANGUAGE
 
 extern vbiIrq_t vbiIntVecFind (char * intName, int32_t intDirection);
 
 #endif /* _ASMLANGUAGE */
 
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
-
 #endif  /* __INCinterrupth */
diff --git a/include/vbi/io_apic.h b/include/vbi/io_apic.h
index 26dca0a..43c269a 100644
--- a/include/vbi/io_apic.h
+++ b/include/vbi/io_apic.h
@@ -21,10 +21,6 @@
 #include <sys/types.h>
 #include <vbMgr.h>
 
-#ifdef __cplusplus
-extern "C" {
-#endif
-
 /* define 128 entries for all platforms */
 
 #define VIOAPIC_REDTABLE_ENTRIES	(128)	
@@ -117,11 +113,6 @@ extern void vIoapicSetMask (HY_CTX * ctx, uint32_t irq, uint32_t mask);
 
 #endif /* _ASMLANGUAGE */
 
-
-#ifdef __cplusplus
-}
-#endif
-
 #endif	/* __INCVIOAPICh */
 
 
diff --git a/include/vbi/private.h b/include/vbi/private.h
index 59be6ac..7b83be0 100644
--- a/include/vbi/private.h
+++ b/include/vbi/private.h
@@ -18,11 +18,6 @@
 #ifndef __INCvbiPrvh
 #define __INCvbiPrvh
 
-
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 #ifdef CONFIG_WRHV
 #define _WRS_INLINE     static __inline__
 #define EOS     '\0'    /* C string terminator */
@@ -83,8 +78,4 @@ extern LINKAGE vbiStatus_t vbiReceiveOp
 
 #endif
 
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
-
 #endif  /* __INCvbih */
diff --git a/include/vbi/shmem.h b/include/vbi/shmem.h
index 3a90b32..15a7617 100644
--- a/include/vbi/shmem.h
+++ b/include/vbi/shmem.h
@@ -25,10 +25,6 @@ This header file declares the vbi API for managing memory regions
 #ifndef __INCvbiShmemh
 #define __INCvbiShmemh
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 #ifndef	_ASMLANGUAGE
 
 extern vbiStatus_t vbiShmemRegionFind
@@ -53,8 +49,4 @@ extern vbiStatus_t vbiCorePrvMemFind (void * * addr, size_t *  length);
 
 #endif /* _ASMLANGUAGE */
 
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
-
 #endif  /* __INCvbiShmemh */
diff --git a/include/vbi/syscall.h b/include/vbi/syscall.h
index 4d2c3ac..742c64d 100644
--- a/include/vbi/syscall.h
+++ b/include/vbi/syscall.h
@@ -17,10 +17,6 @@
 #ifndef __INCvbiSyscallh
 #define __INCvbiSyscallh
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 #ifdef CONFIG_WRHV
 #define LINKAGE asmlinkage
 #include <linux/linkage.h>
@@ -180,9 +176,6 @@ extern LINKAGE vbiStatus_t vbiVbRegisterWrite (VBI_HREG_SET *regCtl,
  */
 
 
-#endif
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
+#endif	/* _ASMLANGUAGE */
 
 #endif  /* __INCvbiSyscallh */
diff --git a/include/vbi/syscalls.h b/include/vbi/syscalls.h
index e9e8f25..af8cd1d 100644
--- a/include/vbi/syscalls.h
+++ b/include/vbi/syscalls.h
@@ -17,13 +17,7 @@
 #ifndef __INCsyscallsh
 #define __INCsyscallsh
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 /*
- *
- *
  * System call number encoding:
  *
  * 31                                                                        0
@@ -334,10 +328,6 @@ typedef struct vbMgmtCtl
 typedef uint32_t VBMGMT_HANDLE;
 typedef uint32_t VBI_NS_HANDLE;
 
-#endif
-
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
+#endif	/* _ASMLANGUAGE */
 
 #endif  /* __INCsyscallsh */
diff --git a/include/vbi/types.h b/include/vbi/types.h
index 515d686..cb96980 100644
--- a/include/vbi/types.h
+++ b/include/vbi/types.h
@@ -32,10 +32,6 @@
 #endif /* CONFIG_PPC */
 #endif /* CONFIG_WRHV */
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 #ifndef _ASMLANGUAGE
 
 typedef uint32_t		vbiVb_t;
@@ -49,10 +45,6 @@ typedef int32_t			vbiMemAttr_t;
 typedef int32_t			vbiVector_t;		
 typedef uint32_t		vbiIrq_t;		
 
-#endif
-
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
+#endif	/* _ASMLANGUAGE */
 
 #endif  /* __INCvbiTypesh */
diff --git a/include/vbi/vbi.h b/include/vbi/vbi.h
index edf1360..35610f0 100644
--- a/include/vbi/vbi.h
+++ b/include/vbi/vbi.h
@@ -39,10 +39,6 @@
 #include <vbi/shmem.h>
 #endif /* CONFIG_WRHV */
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 #ifndef _ASMLANGUAGE
 /*
 DESCRIPTION
@@ -978,10 +974,6 @@ extern void vbiMemoryShow  ( VB_CONFIG * config);
 extern void vbiStsRegsDisplay (void);
 extern void vbiCtrlRegsDisplay (void);
 
-#endif
-
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
+#endif	/* _ASMLANGUAGE */
 
 #endif  /* __INCvbih */
diff --git a/include/vbi/version.h b/include/vbi/version.h
index c068fa4..a8646fa 100644
--- a/include/vbi/version.h
+++ b/include/vbi/version.h
@@ -17,10 +17,6 @@
 #ifndef __INCvbiVersionh
 #define __INCvbiVersionh
 
-#ifdef __cplusplus
-extern "C" {
-#endif
-
 /*
  * Release identification, major, minor, and maintenance numbers.
  * 
@@ -43,10 +39,6 @@ extern const char *vbiVersion;
 extern const uint32_t vbiVersionMajor;
 extern const uint32_t vbiVersionMinor;
 extern const uint32_t vbiVersionMaint;
-#endif
-
-#ifdef __cplusplus
-}
-#endif
+#endif	/* __ASMLANGUAGE */
 
-#endif /* __INCvbiVersionh */
+#endif	/* __INCvbiVersionh */
diff --git a/include/vbi/vmmu.h b/include/vbi/vmmu.h
index 4b4e181..838dd6f 100644
--- a/include/vbi/vmmu.h
+++ b/include/vbi/vmmu.h
@@ -17,10 +17,6 @@
 #ifndef __INCvmmuh
 #define __INCvmmuh
 
-#ifdef __cplusplus
-extern "C" {
-#endif /* __cplusplus */
-
 /*
 
 The vmmu virtual address space is restricted to 32 bits and is decoded using
@@ -297,8 +293,4 @@ typedef struct vmmuConfig
 #define	VMMU_PTE_REF_MASK	0x00000080	/* page referenced bit */
 #define	VMMU_PTE_RPN_MASK	0xfffff000	/* real page number */
 
-#ifdef __cplusplus
-}
-#endif /* __cplusplus */
-
 #endif  /* __INCvmmuh */
-- 
1.6.3.3

