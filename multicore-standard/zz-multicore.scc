# Goal is to migrate all this to standard kernel, once it has
# passed an audit for impact on existing non-mc support.  Files
# marked "MMM" have moved already.

# see upstream 5e696617c425eb97bd943d781f3941fb1e8f0e5b; not a drop-in
# but a basis.  MarkA has already deployed this in master of the kk.
# MMM patch smp-support-for-mmu-context.patch

# Start VBI core patches
# MMM patch vbi-introduce-the-vitrual-board-interface-core.patch
# MMM patch wrhv-introduce-the-core-WR-hypervisor-support.patch
# MMM patch x86-wrhv-x86-specifics-of-the-WR-guest-support.patch
# MMM patch powerpc-wrhv-introduce-powerpc-specifics-of-WR-guest.patch
# ---- Split for easy migration from mc to mainline
# MMM patch smp-reloc.patch
# MMM patch ppc-module.patch
# MMM patch wrhv-hrt.patch
# MMM patch hypervisor-boilerplate.patch
# MMM patch hypervisor-dma-changes-for-hypervisor-guest.patch
# ----

patch x86-core-x86-changes-for-hypervisor-guest.patch

patch powerpc-ppc-core-changes-for-guest-support.patch
patch mpc8572-board-specific-changes-for-guest-hypervisor.patch
# MMM patch drivers-changes-to-various-drivers-for-hypervisor-gu.patch

# don't fold the below stub patch; we may simply drop it
patch paravirt-stubs-that-aren-t-used-for-WRHV.patch

# should this be a core patch? It doesn't bump into anything.
# MMM patch documentation-creating-initial-feature-removal-file.patch

# Anything below (MILS exluded) is a fold candidate
patch vbi-powerpc-use-correct-VBI-to-flush-cache.patch

# Keep all MILS at the bottom so that it can be easily popped for
# merging in VBI updates, and so it can be dropped as required.
patch MILS-Introduce-VDK-to-VBI-translation-layer-aka.-SHI.patch
patch vdk-Introduce-new-vdk_virt_to_phys.patch
# end MILS patches

patch powerpc-kgdb-Disable-preempt-in-KGDB-single-step.patch
