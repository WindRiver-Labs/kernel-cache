From 313fa2ac07582a9bce72f3c9262ff8e87bbbfb80 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 18 Nov 2009 10:07:32 -0500
Subject: [PATCH 43/80] vbiVmmuTlbFlush --> vbi_tlb_flush_vmmu

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/include/asm/pgtable-ppc32.h |    2 +-
 arch/powerpc/kernel/vbi/syscalls.S       |    8 ++++----
 include/vbi/syscall.h                    |    2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/arch/powerpc/include/asm/pgtable-ppc32.h b/arch/powerpc/include/asm/pgtable-ppc32.h
index fd20ca6..bef47c3 100644
--- a/arch/powerpc/include/asm/pgtable-ppc32.h
+++ b/arch/powerpc/include/asm/pgtable-ppc32.h
@@ -723,7 +723,7 @@ static inline int __ptep_test_and_clear_young(mm_context_t * ctx,
 	unsigned long old;
 	old = pte_update(ptep, _PAGE_ACCESSED, 0);
 #if 0 
-        vbiVmmuTlbFlush (&vmmu_cfg, &addr, 1);
+        vbi_tlb_flush_vmmu (&vmmu_cfg, &addr, 1);
 #endif
 	return (old & _PAGE_ACCESSED) != 0;
 }
diff --git a/arch/powerpc/kernel/vbi/syscalls.S b/arch/powerpc/kernel/vbi/syscalls.S
index 1a9d673..d09b6e9 100644
--- a/arch/powerpc/kernel/vbi/syscalls.S
+++ b/arch/powerpc/kernel/vbi/syscalls.S
@@ -60,7 +60,7 @@ FUNC_EXPORT(vbi_config_vmmu)
 FUNC_EXPORT(vbi_enable_vmmu)
 FUNC_EXPORT(vbi_disable_vmmu)
 FUNC_EXPORT(vbi_tlb_load_vmmu)
-FUNC_EXPORT(vbiVmmuTlbFlush)
+FUNC_EXPORT(vbi_tlb_flush_vmmu)
 FUNC_EXPORT(vbiVbMgmt)
 FUNC_EXPORT(vbiNsOp)
 FUNC_EXPORT(vbi_vb_suspend)
@@ -627,18 +627,18 @@ FUNC_END(vbi_tlb_load_vmmu)
 
 /*
  *
- * vbiVmmuTlbFlush - load a TLB entry into the virtual MMU
+ * vbi_tlb_flush_vmmu - load a TLB entry into the virtual MMU
  *
  * This system call flushes the TLB entries for the specified address range
  * from the virtual MMU.
  *
  */
-FUNC_LABEL(vbiVmmuTlbFlush)
+FUNC_LABEL(vbi_tlb_flush_vmmu)
 	lis r0, HI(VBI_SYS_vmmu_tlbflush)
 	ori r0, r0, LO(VBI_SYS_vmmu_tlbflush)
 	HCALL
 	blr
-FUNC_END(vbiVmmuTlbFlush)
+FUNC_END(vbi_tlb_flush_vmmu)
 
 
 /*
diff --git a/include/vbi/syscall.h b/include/vbi/syscall.h
index ccabe23..0538673 100644
--- a/include/vbi/syscall.h
+++ b/include/vbi/syscall.h
@@ -120,7 +120,7 @@ extern vbiStatus_t vbi_disable_vmmu(uint32_t vmmu_num);
 extern vbiStatus_t vbiNsRegister(char  *name, uint32_t  revision);
 extern vbiStatus_t vbiNsUnRegister(char *name, uint32_t  revision);
 extern vbiStatus_t vbiNsLookup(char *name, uint32_t  rev, VBI_NS_HANDLE *pHandle);
-extern vbiStatus_t vbiVmmuTlbFlush(struct vmmuConfig * config, void *addr, size_t len);
+extern vbiStatus_t vbi_tlb_flush_vmmu(struct vmmuConfig * config, void *addr, size_t len);
 
 
 /* Prior to vbi 2.0 these api were vbiMmuAttrSet/Get */
-- 
1.6.5.2

