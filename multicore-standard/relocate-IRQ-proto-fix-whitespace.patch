From 6f97b5958d753005d3bd19c02bf9e6d72d8c3f3f Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Sun, 28 Mar 2010 13:41:16 -0400
Subject: [PATCH] relocate IRQ proto, fix whitespace

To be folded into the MILS IRQ patch.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/platforms/85xx/wrhv_sbc8548.c |    4 ----
 include/vbi/interrupt.h                    |   14 ++++++++------
 2 files changed, 8 insertions(+), 10 deletions(-)

diff --git a/arch/powerpc/platforms/85xx/wrhv_sbc8548.c b/arch/powerpc/platforms/85xx/wrhv_sbc8548.c
index 250cab1..b09609d 100644
--- a/arch/powerpc/platforms/85xx/wrhv_sbc8548.c
+++ b/arch/powerpc/platforms/85xx/wrhv_sbc8548.c
@@ -148,10 +148,6 @@ static int __init sbc8548_probe(void)
         return of_flat_dt_is_compatible(root, "SBC8548");
 }
 
-#ifdef CONFIG_WRHV_MILS
-extern unsigned int vdk_int_controller_get_irq(void);
-#endif
-
 define_machine(sbc8548) {
 	.name		= "WRHV_SBC8548",
 	.probe		= sbc8548_probe,
diff --git a/include/vbi/interrupt.h b/include/vbi/interrupt.h
index 3e31ba9..d255db1 100644
--- a/include/vbi/interrupt.h
+++ b/include/vbi/interrupt.h
@@ -35,14 +35,16 @@ interrupts configuration data.
 
 #define VDK_SCHED_START_INT_NAME "vbScheduleStartInt"
 
-extern void vdkIntControllerInit (void);
+extern void vdkIntControllerInit(void);
 extern irqreturn_t vdkIntControllerHandle(int irq, void *dev_id);
-extern void vdkIntControllerConnect (int vector,
+extern void vdkIntControllerConnect(int vector,
                                      void (* handler)(void *, void *),
-                                     void * param);
-extern void vdkIntControllerDisconnect (int vector);
-extern void vdkIntControllerFindVector (char * intName, int inputInterrupt,
-                                        int * vector);
+                                     void *param);
+extern void vdkIntControllerDisconnect(int vector);
+extern void vdkIntControllerFindVector(char *intName, int inputInterrupt,
+                                        int *vector);
+extern unsigned int vdk_int_controller_get_irq(void);
+
 #endif /* CONFIG_WRHV_MILS */
 
 extern uint32_t vbi_find_irq(char *irq_name, int32_t irq_dir);
-- 
1.7.0

