From b61b6f5043a67ff8ff24efe00ba3e95da65ebf50 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Thu, 3 Dec 2009 15:11:12 -0500
Subject: [PATCH 40/43] VBI_VTLB_CR3_CACHE --> struct vbi_vtlb_cr3_cache

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/vbi/compat.h   |    1 +
 include/vbi/syscalls.h |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/include/vbi/compat.h b/include/vbi/compat.h
index fa43096..e6c2203 100644
--- a/include/vbi/compat.h
+++ b/include/vbi/compat.h
@@ -45,6 +45,7 @@
 #define VBI_CTX_STATS		struct vbi_ctx_stats
 #define VBI_VTLB_OP		struct vbi_vtlb_op
 #define VBI_VTLB_CONTROL	struct vbi_vtlb_control
+#define VBI_VTLB_CR3_CACHE	struct vbi_vtlb_cr3_cache
 
 #define VBI_CLK_HOOK_INFO	struct vbi_clk_hook
 #define VBI_CLK_HOOK_INFO_PTR	struct vbi_clk_hook *
diff --git a/include/vbi/syscalls.h b/include/vbi/syscalls.h
index 8ee3bcf..7483f6d 100644
--- a/include/vbi/syscalls.h
+++ b/include/vbi/syscalls.h
@@ -264,11 +264,11 @@ struct vbi_vtlb_op
 	uint32_t arg3;		/* VTLB operation arg 3 */
 };
 
-typedef struct vbi_vtlb_cr3_cache
+struct vbi_vtlb_cr3_cache
 {
 	uint32_t guest_cr3;	/* Guest CR3 register */
 	uint32_t host_cr3;	/* Host CR3 register */
-} VBI_VTLB_CR3_CACHE;
+};
 	
 struct vbi_vtlb_control
 {
@@ -278,7 +278,7 @@ struct vbi_vtlb_control
 	struct vbi_vtlb_op vtlb_ops[VBI_VTLB_OP_MAX_OPS]; /* VTLB ops array */
 	uint32_t cr3_cache_ix;	/* CR3 cache index */
 				/* cr3 cache*/
-	VBI_VTLB_CR3_CACHE cr3_cache[VBI_VTLB_OP_CR3_CACHE_ENTRIES];
+	struct vbi_vtlb_cr3_cache cr3_cache[VBI_VTLB_OP_CR3_CACHE_ENTRIES];
 };
 
 /*
-- 
1.6.5.2

