From ba704b8a94318e0001afcda9a8ae05a54ce143b8 Mon Sep 17 00:00:00 2001
From: jack.tan@windriver.com <jack.tan@windriver.com>
Date: Tue, 6 Jul 2010 17:10:46 +0800
Subject: [PATCH] MIPS: N32: Use compat version for sys_ppoll.

commit 46afb8296c2494bfce17064124b253eb9b176ef9 upstream

The sys_ppoll() takes struct 'struct timespec'. This is different for the
N32 and N64 ABIs. Use the compat version to do the proper conversions.

Signed-off-by: David Daney <ddaney@caviumnetworks.com>
Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
Integrated-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/kernel/scall64-n32.S |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/kernel/scall64-n32.S b/arch/mips/kernel/scall64-n32.S
index 082128d..745ffd9 100644
--- a/arch/mips/kernel/scall64-n32.S
+++ b/arch/mips/kernel/scall64-n32.S
@@ -387,7 +387,7 @@ EXPORT(sysn32_call_table)
 	PTR	sys_fchmodat
 	PTR	sys_faccessat
 	PTR	compat_sys_pselect6
-	PTR	sys_ppoll			/* 6265 */
+	PTR	compat_sys_ppoll		/* 6265 */
 	PTR	sys_unshare
 	PTR	sys_splice
 	PTR	sys_sync_file_range
-- 
1.7.0.4

