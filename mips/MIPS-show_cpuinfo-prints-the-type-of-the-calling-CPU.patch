From 1feb8fdc183506f95786d37bc0ab017aefac4655 Mon Sep 17 00:00:00 2001
From: Johannes Dickgreber <tanzy@gmx.de>
Date: Mon, 13 Oct 2008 19:36:21 +0200
Subject: [PATCH 001/117] MIPS: show_cpuinfo prints the type of the calling CPU

commit 1feb8fdc183506f95786d37bc0ab017aefac4655 from linux-mips

It should print the type of the Nth processor.

Signed-off-by: Johannes Dickgreber <tanzy@gmx.de>
Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
(cherry picked from commit ae39d1e5d0cb9758eb4af5de1debe819ff85101d)
---
 arch/mips/kernel/proc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/kernel/proc.c b/arch/mips/kernel/proc.c
index 36f0653..98b38f6 100644
--- a/arch/mips/kernel/proc.c
+++ b/arch/mips/kernel/proc.c
@@ -38,7 +38,7 @@ static int show_cpuinfo(struct seq_file *m, void *v)
 	seq_printf(m, "processor\t\t: %ld\n", n);
 	sprintf(fmt, "cpu model\t\t: %%s V%%d.%%d%s\n",
 	        cpu_data[n].options & MIPS_CPU_FPU ? "  FPU V%d.%d" : "");
-	seq_printf(m, fmt, __cpu_name[smp_processor_id()],
+	seq_printf(m, fmt, __cpu_name[n],
 	                           (version >> 4) & 0x0f, version & 0x0f,
 	                           (fp_vers >> 4) & 0x0f, fp_vers & 0x0f);
 	seq_printf(m, "BogoMIPS\t\t: %lu.%02lu\n",
-- 
1.7.0

