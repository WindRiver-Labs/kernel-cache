From 7a7fcc471834dfcdf655c6e3784907ed2d55cc24 Mon Sep 17 00:00:00 2001
From: David Daney <ddaney@caviumnetworks.com>
Date: Fri, 31 Oct 2008 11:23:09 -0700
Subject: [PATCH 014/117] MIPS: Return ENOSYS from sys32_syscall on 64bit kernels like elsewhere.

commit 7a7fcc471834dfcdf655c6e3784907ed2d55cc24 from linux-mips

When the o32 errno was changed to ENOSYS, we forgot to update the code
for 64bit kernels.

Signed-off-by: David Daney <ddaney@caviumnetworks.com>
Acked-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
(cherry picked from commit f18d0b1993f31e28eaf0e3b7e415788052985f95)
---
 arch/mips/kernel/scall64-o32.S |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/kernel/scall64-o32.S b/arch/mips/kernel/scall64-o32.S
index ef6596b..59bd2c4 100644
--- a/arch/mips/kernel/scall64-o32.S
+++ b/arch/mips/kernel/scall64-o32.S
@@ -196,7 +196,7 @@ LEAF(sys32_syscall)
 	jr	t2
 	/* Unreached */
 
-einval:	li	v0, -EINVAL
+einval:	li	v0, -ENOSYS
 	jr	ra
 	END(sys32_syscall)
 
-- 
1.7.0

