From f1f6ec3de665ce40d0f12e1d5ad22861a90b2bf1 Mon Sep 17 00:00:00 2001
From: Ralf Baechle <ralf@linux-mips.org>
Date: Tue, 28 Apr 2009 19:38:35 +0200
Subject: [PATCH 047/117] MIPS: Set compiler options only after the compiler prefix has ben set.

commit f1f6ec3de665ce40d0f12e1d5ad22861a90b2bf1 from linux-mips

Otherwise indigestable options might be passed to the host compiler.

Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
(cherry picked from commit d874029fc1f36b42a725c77750c2aca543cfc579)
---
 arch/mips/Makefile |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/mips/Makefile b/arch/mips/Makefile
index 9aab51c..8649da7 100644
--- a/arch/mips/Makefile
+++ b/arch/mips/Makefile
@@ -14,8 +14,6 @@
 
 KBUILD_DEFCONFIG := ip22_defconfig
 
-cflags-y := -ffunction-sections
-
 #
 # Select the object file format to substitute into the linker script.
 #
@@ -50,6 +48,8 @@ ifneq ($(SUBARCH),$(ARCH))
   endif
 endif
 
+cflags-y := -ffunction-sections
+
 ifdef CONFIG_32BIT
 ld-emul			= $(32bit-emul)
 vmlinux-32		= vmlinux
-- 
1.7.0

