From ef73d3eabf8f07dc1693901e3e7feb2039437eb5 Mon Sep 17 00:00:00 2001
From: Andreas Herrmann <andreas.herrmann@calxeda.com>
Date: Fri, 17 Jan 2014 12:08:30 +0100
Subject: [PATCH 284/430] of: Increase MAX_PHANDLE_ARGS

arm-smmu driver uses of_parse_phandle_with_args when parsing DT
information to determine stream IDs for a master device.
Thus the number of stream IDs per master device is bound by
MAX_PHANDLE_ARGS.

To support Calxeda ECX-2000 hardware arm-smmu driver requires a
slightly higher value for MAX_PHANDLE_ARGS as this hardware has 10
stream IDs for one master device.

Increasing it to 16 seems a reasonable choice.

Cc: Grant Likely <grant.likely@linaro.org>
Cc: Rob Herring <robh+dt@kernel.org>
Cc: devicetree@vger.kernel.org
Cc: Andreas Herrmann <herrmann.der.user@googlemail.com>
Acked-by: Rob Herring <robh@kernel.org>
Signed-off-by: Andreas Herrmann <andreas.herrmann@calxeda.com>
Signed-off-by: Grant Likely <grant.likely@linaro.org>
(cherry picked from commit b66548e2a9baf65ccebeb3750f0ab9ddbef500f6)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 include/linux/of.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/include/linux/of.h b/include/linux/of.h
index d1f8ab5..25a3f0a 100644
--- a/include/linux/of.h
+++ b/include/linux/of.h
@@ -67,7 +67,7 @@ struct device_node {
 #endif
 };
 
-#define MAX_PHANDLE_ARGS 8
+#define MAX_PHANDLE_ARGS 16
 struct of_phandle_args {
 	struct device_node *np;
 	int args_count;
-- 
1.7.5.4

