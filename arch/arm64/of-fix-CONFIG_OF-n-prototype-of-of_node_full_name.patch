From 380fa1c8ccaf80a91aaf831793ad4560d21549c9 Mon Sep 17 00:00:00 2001
From: Stephen Rothwell <sfr@canb.auug.org.au>
Date: Thu, 15 May 2014 14:44:30 +1000
Subject: [PATCH 286/430] of: fix CONFIG_OF=n prototype of of_node_full_name()

Make the CONFIG_OF=n prototpe of of_node_full_name() mateh the CONFIG_OF=y
version.

Fixes compile warnings like this:

sound/soc/soc-core.c: In function 'soc_check_aux_dev':
sound/soc/soc-core.c:1667:3: warning: passing argument 1 of 'of_node_full_name' discards 'const' qualifier from pointer target type [enabled by default]
   codecname = of_node_full_name(aux_dev->codec_of_node);

when CONFIG_OF is not defined.

Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
Signed-off-by: Grant Likely <grant.likely@linaro.org>
(cherry picked from commit 4c358e15553ed88bf2ddae422624624e1dd663d1)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 include/linux/of.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/include/linux/of.h b/include/linux/of.h
index 2eae536..4f5a092 100644
--- a/include/linux/of.h
+++ b/include/linux/of.h
@@ -356,7 +356,7 @@ bool of_console_check(struct device_node *dn, char *name, int index);
 
 #else /* CONFIG_OF */
 
-static inline const char* of_node_full_name(struct device_node *np)
+static inline const char* of_node_full_name(const struct device_node *np)
 {
 	return "<no-node>";
 }
-- 
1.7.5.4

