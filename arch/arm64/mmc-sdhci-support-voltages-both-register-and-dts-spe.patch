From fd93bc0fb48d7a16b92c9c3abbf5cdd80a12aab8 Mon Sep 17 00:00:00 2001
From: Yangbo Lu <yangbo.lu@freescale.com>
Date: Thu, 23 Apr 2015 10:32:57 +0800
Subject: [PATCH 124/132] mmc: sdhci: support voltages both register and dts
 specify

Signed-off-by: Yangbo Lu <yangbo.lu@freescale.com>
Change-Id: Ifcd24c129eb621d61df3c6c02013acd748adb29f
Reviewed-on: http://git.am.freescale.net:8181/35448
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Xiaobo Xie <X.Xie@freescale.com>
Reviewed-by: Stuart Yoder <stuart.yoder@freescale.com>
[Original patch from FSL LS2085 SDK EAR4.0]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/mmc/host/sdhci.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/mmc/host/sdhci.c b/drivers/mmc/host/sdhci.c
index 83370312..f86cac4 100644
--- a/drivers/mmc/host/sdhci.c
+++ b/drivers/mmc/host/sdhci.c
@@ -3136,7 +3136,7 @@ int sdhci_add_host(struct sdhci_host *host)
 	}
 
 	if (host->ocr_mask)
-		ocr_avail = host->ocr_mask;
+		ocr_avail |= host->ocr_mask;
 
 	mmc->ocr_avail = ocr_avail;
 	mmc->ocr_avail_sdio = ocr_avail;
-- 
1.7.5.4

