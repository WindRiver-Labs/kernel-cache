From c7b4e2e38a21ff15d3687fff22fcd41063f89d33 Mon Sep 17 00:00:00 2001
From: Jack Tan <jack.tan@windriver.com>
Date: Wed, 26 Jan 2011 16:20:09 +0800
Subject: [PATCH 1/4] CFI flash support for fsl_mpc8360e

Adding CFI flash device tree node and partition map for the
Freescale MPC8360e MDS board.

Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/powerpc/boot/dts/mpc836x_mds.dts |   32 ++++++++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc836x_mds.dts b/arch/powerpc/boot/dts/mpc836x_mds.dts
index 45cfa1c..9fb9536 100644
--- a/arch/powerpc/boot/dts/mpc836x_mds.dts
+++ b/arch/powerpc/boot/dts/mpc836x_mds.dts
@@ -66,6 +66,38 @@
 			reg = <0 0 0x2000000>;
 			bank-width = <2>;
 			device-width = <1>;
+
+			partition@0 {
+				label = "U-Boot";
+				reg = <0x00000000 0x00100000>;
+				read-only;
+			};
+
+			partition@100000 {
+				label = "JFFS2";
+				reg = <0x00100000 0x00800000>;
+			};
+
+			partition@900000 {
+				label = "Ramdisk";
+				reg = <0x00900000 0x00400000>;
+			};
+
+			partition@d00000 {
+				label = "Reserved";
+				reg = <0x00d00000 0x01000000>;
+				read-only;
+			};
+
+			partition@1d00000 {
+				label = "Kernel";
+				reg = <0x01d00000 0x00200000>;
+			};
+
+			partition@1f00000 {
+				label = "dtb";
+				reg = <0x01f00000 0x00100000>;
+			};
 		};
 
 		bcsr@1,0 {
-- 
1.7.0.4

