From 381646c82c81e6e36f869592d717123bb11c7503 Mon Sep 17 00:00:00 2001
From: Stanley.Miao <stanley.miao@windriver.com>
Date: Wed, 20 Apr 2011 09:36:37 +0800
Subject: [PATCH 092/108] OMAP:DSS2: Kconfig option added for selection between SVIDEO and CVBS

commit c28da9ecb11df4474ca8be3702f4a1d9b28f9037 from
the branch origin/OMAPPSP_03.00.01.06 of
git://arago-project.org/git/projects/linux-omap3.git

Config option added to arch/arm/plat-omap/Kconfig for selection
of S-Video and Composite output interfaces. The default configuration would
be S-Video.

Signed-off-by: Vaibhav Hiremath <hvaibhav@ti.com>
Integrated-by: Stanley.Miao <stanley.miao@windriver.com>
---
 arch/arm/mach-omap2/board-omap3evm.c |    4 ++++
 drivers/video/omap2/dss/Kconfig      |   15 +++++++++++++++
 2 files changed, 19 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-omap2/board-omap3evm.c b/arch/arm/mach-omap2/board-omap3evm.c
index 8c2498f..43cb9d0 100644
--- a/arch/arm/mach-omap2/board-omap3evm.c
+++ b/arch/arm/mach-omap2/board-omap3evm.c
@@ -438,7 +438,11 @@ static struct omap_dss_device omap3_evm_tv_device = {
 	.name			= "tv",
 	.driver_name		= "venc",
 	.type			= OMAP_DISPLAY_TYPE_VENC,
+#if defined(CONFIG_OMAP2_VENC_OUT_TYPE_SVIDEO)
 	.phy.venc.type		= OMAP_DSS_VENC_TYPE_SVIDEO,
+#elif defined(CONFIG_OMAP2_VENC_OUT_TYPE_COMPOSITE)
+	.phy.venc.type		= OMAP_DSS_VENC_TYPE_COMPOSITE,
+#endif
 	.platform_enable	= omap3_evm_enable_tv,
 	.platform_disable	= omap3_evm_disable_tv,
 };
diff --git a/drivers/video/omap2/dss/Kconfig b/drivers/video/omap2/dss/Kconfig
index 87afb81..8fe3c9a 100644
--- a/drivers/video/omap2/dss/Kconfig
+++ b/drivers/video/omap2/dss/Kconfig
@@ -53,6 +53,21 @@ config OMAP2_DSS_VENC
         default y
 	help
 	  OMAP Video Encoder support for S-Video and composite TV-out.
+choice
+	prompt OMAP2_VENC_OUT_TYPE
+	depends on OMAP2_DSS_VENC
+	default OMAP2_VENC_OUT_TYPE_SVIDEO
+
+config OMAP2_VENC_OUT_TYPE_SVIDEO
+	bool "Use S-Video output interface"
+	help
+	  Select this option if you want to choose TV out over S-Video
+
+config OMAP2_VENC_OUT_TYPE_COMPOSITE
+	bool "Use Composite output interface"
+	help
+	  Select this option if you want to choose TV out over Composite
+endchoice
 
 config OMAP2_DSS_SDI
 	bool "SDI support"
-- 
1.7.0.4

