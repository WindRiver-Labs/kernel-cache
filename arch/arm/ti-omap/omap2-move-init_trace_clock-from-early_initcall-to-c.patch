From d4d352ea25c2f4b84386f7e9f33f14a8533c5f3b Mon Sep 17 00:00:00 2001
From: Stanley.Miao <stanley.miao@windriver.com>
Date: Wed, 6 Apr 2011 17:46:04 +0800
Subject: [PATCH 085/108] omap2: move init_trace_clock() from early_initcall to core_initcall

init_trace_clock() calls cpufreq_register_notifier() at early_initcall stage,
while cpufreq driver initializes at pure_initcall stage which is after
early_initcall. In order to solve this issue, we move init_trace_clock()
from early_initcall stage to core_initcall stage.

Signed-off-by: Stanley.Miao <stanley.miao@windriver.com>
---
 arch/arm/mach-omap2/trace-clock.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/trace-clock.c b/arch/arm/mach-omap2/trace-clock.c
index 31e50b4..2583104 100644
--- a/arch/arm/mach-omap2/trace-clock.c
+++ b/arch/arm/mach-omap2/trace-clock.c
@@ -706,4 +706,4 @@ static __init int init_trace_clock(void)
 				  CPUFREQ_TRANSITION_NOTIFIER);
 	return 0;
 }
-__initcall(init_trace_clock);
+core_initcall(init_trace_clock);
-- 
1.7.0.4

