From 237404040741c688a90524626eae91b8317d40f2 Mon Sep 17 00:00:00 2001
From: Liming Wang <liming.wang@windriver.com>
Date: Thu, 6 Sep 2012 11:23:31 -0400
Subject: [PATCH] stm-spear13xx: drop warning: unused variable 'hpriv'

struct ahci_host_priv *hpriv is only used when CONFIG_HAVE_CLK is set,
so wrap it in #ifdef to drop the warning.

Signed-off-by: Liming Wang <liming.wang@windriver.com>
Signed-off-by: Michel Thebeau <michel.thebeau@windriver.com>
---
 drivers/ata/ahci_platform.c |    2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/ata/ahci_platform.c b/drivers/ata/ahci_platform.c
index 9bde1fe..ff53db3 100644
--- a/drivers/ata/ahci_platform.c
+++ b/drivers/ata/ahci_platform.c
@@ -224,7 +224,9 @@ static int __devexit ahci_remove(struct platform_device *pdev)
 	struct device *dev = &pdev->dev;
 	struct ahci_platform_data *pdata = dev_get_platdata(dev);
 	struct ata_host *host = dev_get_drvdata(dev);
+#ifdef CONFIG_HAVE_CLK 
 	struct ahci_host_priv *hpriv = host->private_data;
+#endif 
 
 	ata_host_detach(host);
 
-- 
1.7.9.7

