From b9a6b4b1c4abba06fd102201fb5f856e658e0d2f Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Fri, 9 Nov 2012 11:07:20 +0800
Subject: [PATCH 13/28] drivers: vexpress: add drivers infrastructure

Commit 195d7d059481310ddc8fff7076f584922bc0eb66 from
git://git.linaro.org/kernel/linux-linaro-tracking.git

This patch provides the new kernel infrastructure needed by versatile
express boards. Drivers are moved to drivers/misc/vexpress directory,
where Kconfig and Makefile are created. A coalesced include file is
created to cater for all versatile express required function declarations.

Signed-off-by: Lorenzo Pieralisi <lorenzo.pieralisi@arm.com>
[with context adjust]
Signed-off-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 drivers/misc/Kconfig     |    1 +
 drivers/misc/Makefile    |    1 +
 include/linux/vexpress.h |    9 +++++++++
 3 files changed, 11 insertions(+)
 create mode 100644 include/linux/vexpress.h

diff --git a/drivers/misc/Kconfig b/drivers/misc/Kconfig
index 396f69f..4c203f3 100644
--- a/drivers/misc/Kconfig
+++ b/drivers/misc/Kconfig
@@ -509,4 +509,5 @@ source "drivers/misc/ti-st/Kconfig"
 source "drivers/misc/lis3lv02d/Kconfig"
 source "drivers/misc/carma/Kconfig"
 source "drivers/misc/altera-stapl/Kconfig"
+source "drivers/misc/vexpress/Kconfig"
 endmenu
diff --git a/drivers/misc/Makefile b/drivers/misc/Makefile
index 3fab162..d468803 100644
--- a/drivers/misc/Makefile
+++ b/drivers/misc/Makefile
@@ -50,3 +50,4 @@ obj-$(CONFIG_USB_SWITCH_FSA9480) += fsa9480.o
 obj-$(CONFIG_ALTERA_STAPL)	+=altera-stapl/
 obj-$(CONFIG_MAX8997_MUIC)	+= max8997-muic.o
 obj-$(CONFIG_ARM_CCI)		+= arm-cci.o
+obj-$(CONFIG_ARCH_VEXPRESS)	+= vexpress/
diff --git a/include/linux/vexpress.h b/include/linux/vexpress.h
new file mode 100644
index 0000000..def9f78
--- /dev/null
+++ b/include/linux/vexpress.h
@@ -0,0 +1,9 @@
+/*
+ * Copyright (C) 2012 ARM Limited
+ *
+ * This file is subject to the terms and conditions of the GNU General Public
+ * License.  See the file COPYING in the main directory of this archive
+ * for more details.
+ *
+ * Versatile Express register definitions and exported functions
+ */
-- 
1.7.9.7

