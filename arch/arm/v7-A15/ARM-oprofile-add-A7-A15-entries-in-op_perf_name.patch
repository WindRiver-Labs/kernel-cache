From d0ae4507e2b691c37bdc8588f90d88a6b1eb7143 Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Mon, 12 Nov 2012 17:40:08 +0800
Subject: [PATCH 28/28] ARM: oprofile: add A7/A15 entries in op_perf_name

Add related name for A7/A15 which are consistent with the OProfile user ABI,
otherwise opcontrol only works with timer mode.

Signed-off-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 arch/arm/oprofile/common.c |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/arch/arm/oprofile/common.c b/arch/arm/oprofile/common.c
index 4e0a371..91387f7 100644
--- a/arch/arm/oprofile/common.c
+++ b/arch/arm/oprofile/common.c
@@ -36,10 +36,14 @@ char *op_name_from_perf_id(void)
 		return "arm/armv6";
 	case ARM_PERF_PMU_ID_V6MP:
 		return "arm/mpcore";
+	case ARM_PERF_PMU_ID_CA7:
+		return "arm/armv7-ca7";
 	case ARM_PERF_PMU_ID_CA8:
 		return "arm/armv7";
 	case ARM_PERF_PMU_ID_CA9:
 		return "arm/armv7-ca9";
+	case ARM_PERF_PMU_ID_CA15:
+		return "arm/armv7-ca15";
 	default:
 		return NULL;
 	}
-- 
1.7.9.7

