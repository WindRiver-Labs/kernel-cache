From a0581f70f2a8b1cdd5705d31b86481f75529df2a Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Thu, 10 Jan 2013 11:23:38 +0800
Subject: [PATCH 18/23] net/fec: set irq num for fec controller

The irq num need to be set otherwise fec's poll function can't work
well.

Signed-off-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 drivers/net/ethernet/freescale/fec.c |    1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/net/ethernet/freescale/fec.c b/drivers/net/ethernet/freescale/fec.c
index 4fcba48..7278838 100644
--- a/drivers/net/ethernet/freescale/fec.c
+++ b/drivers/net/ethernet/freescale/fec.c
@@ -1633,6 +1633,7 @@ fec_probe(struct platform_device *pdev)
 			}
 			goto failed_irq;
 		}
+		fep->irq[i] = irq;
 	}
 
 	fep->clk = clk_get(&pdev->dev, NULL);
-- 
1.7.9.7

