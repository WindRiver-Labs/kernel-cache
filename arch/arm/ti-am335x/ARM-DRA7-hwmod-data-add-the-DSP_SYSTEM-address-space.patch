From 2142f4d1fe0dadc1a28a4fc37498509be27c963f Mon Sep 17 00:00:00 2001
From: Suman Anna <s-anna@ti.com>
Date: Wed, 17 Jul 2013 18:49:28 -0500
Subject: [PATCH 0684/1115] ARM: DRA7: hwmod data: add the DSP_SYSTEM address
 space

The DSP MMUs on DRA7xx SoC requires configuring an additional
MMU_CONFIG register present in the DSP_SYSTEM address space.
This setting dictates whether the DSP Core's MDMA and EDMA
traffic is routed through the respective MMU or not.

This DSP_SYSTEM address space info is added to each of
the DSP MMUs. The presence of this address space will
be used in the driver to program the corresponding
DSP_SYS_MMU_CONFIG register.

Signed-off-by: Suman Anna <s-anna@ti.com>
(cherry picked from commit 71ab5ce8fbf674c6e9647093586f9ff04da928bb)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/mach-omap2/omap_hwmod_7xx_data.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-omap2/omap_hwmod_7xx_data.c b/arch/arm/mach-omap2/omap_hwmod_7xx_data.c
index dfb3231..689a24d 100644
--- a/arch/arm/mach-omap2/omap_hwmod_7xx_data.c
+++ b/arch/arm/mach-omap2/omap_hwmod_7xx_data.c
@@ -2529,6 +2529,12 @@ static struct omap_hwmod_addr_space dra7xx_mmu0_dsp1_addrs[] = {
 		.pa_end		= 0x40d010ff,
 		.flags		= ADDR_TYPE_RT,
 	},
+	{
+		.name		= "dsp_system",
+		.pa_start	= 0x40d00000,
+		.pa_end		= 0x40d000ff,
+		.flags		= ADDR_TYPE_RT,
+	},
 	{ }
 };
 
@@ -2547,6 +2553,12 @@ static struct omap_hwmod_addr_space dra7xx_mmu1_dsp1_addrs[] = {
 		.pa_end		= 0x40d020ff,
 		.flags		= ADDR_TYPE_RT,
 	},
+	{
+		.name		= "dsp_system",
+		.pa_start	= 0x40d00000,
+		.pa_end		= 0x40d000ff,
+		.flags		= ADDR_TYPE_RT,
+	},
 	{ }
 };
 
@@ -2565,6 +2577,12 @@ static struct omap_hwmod_addr_space dra7xx_mmu0_dsp2_addrs[] = {
 		.pa_end		= 0x415010ff,
 		.flags		= ADDR_TYPE_RT,
 	},
+	{
+		.name		= "dsp_system",
+		.pa_start	= 0x41500000,
+		.pa_end		= 0x415000ff,
+		.flags		= ADDR_TYPE_RT,
+	},
 	{ }
 };
 
@@ -2583,6 +2601,12 @@ static struct omap_hwmod_addr_space dra7xx_mmu1_dsp2_addrs[] = {
 		.pa_end		= 0x415020ff,
 		.flags		= ADDR_TYPE_RT,
 	},
+	{
+		.name		= "dsp_system",
+		.pa_start	= 0x41500000,
+		.pa_end		= 0x415000ff,
+		.flags		= ADDR_TYPE_RT,
+	},
 	{ }
 };
 
-- 
1.7.5.4

