From 0310354c44c615ce2b7c9354762d2467ea0c7e5d Mon Sep 17 00:00:00 2001
From: Balaji T K <balajitk@ti.com>
Date: Mon, 25 Nov 2013 23:01:50 +0530
Subject: [PATCH 1101/1115] mmc: omap_hsmmc: enable uhs support

Enable UHS support

Signed-off-by: Balaji T K <balajitk@ti.com>
(cherry picked from commit 224657fadc34deda0c0012f03cb77410a2013d14)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/mmc/host/omap_hsmmc.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/drivers/mmc/host/omap_hsmmc.c b/drivers/mmc/host/omap_hsmmc.c
index 35f6160..558f593 100644
--- a/drivers/mmc/host/omap_hsmmc.c
+++ b/drivers/mmc/host/omap_hsmmc.c
@@ -2310,6 +2310,9 @@ static int omap_hsmmc_probe(struct platform_device *pdev)
 	if ((revision >> OMAP_HSMMC_REV_SHIFT) >= OMAP_HSMMC_REV_33) {
 		mmc->caps |= MMC_CAP_CMD23;
 		host->flags |= AUTO_CMD23;
+		if (host->vcc_aux)
+			mmc->caps |= MMC_CAP_UHS_SDR12 | MMC_CAP_UHS_SDR25
+				| MMC_CAP_UHS_DDR50;
 	}
 
 	mmc->ocr_avail = mmc_slot(host).ocr_mask;
-- 
1.7.5.4

