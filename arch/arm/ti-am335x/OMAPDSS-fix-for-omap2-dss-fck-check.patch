From 87e3d6cb944d0ba2aee24b25536b87a7dd10ad11 Mon Sep 17 00:00:00 2001
From: Tomi Valkeinen <tomi.valkeinen@ti.com>
Date: Fri, 4 Oct 2013 16:13:09 +0300
Subject: [PATCH 0550/1115] OMAPDSS: fix for omap2 dss fck check

This check in AM43xx DSS is not valid

Signed-off-by: Sathya Prakash M R <sathyap@ti.com>
(cherry picked from commit 89b09da8c0289346492308ada0789b34a89da43f)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/video/omap2/dss/dss.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/video/omap2/dss/dss.c b/drivers/video/omap2/dss/dss.c
index fd74dda..0ca3ced 100644
--- a/drivers/video/omap2/dss/dss.c
+++ b/drivers/video/omap2/dss/dss.c
@@ -490,7 +490,7 @@ int dss_calc_clock_rates(struct dss_clock_info *cinfo)
 		cinfo->fck = prate / cinfo->fck_div *
 			dss.feat->dss_fck_multiplier;
 	} else {
-		if (cinfo->fck_div != 0)
+		if (cinfo->fck_div != 1)
 			return -EINVAL;
 		cinfo->fck = clk_get_rate(dss.dss_clk);
 	}
@@ -553,7 +553,7 @@ int dss_set_clock_div(struct dss_clock_info *cinfo)
 		if (r)
 			return r;
 	} else {
-		if (cinfo->fck_div != 0)
+		if (cinfo->fck_div != 1)
 			return -EINVAL;
 	}
 
-- 
1.7.5.4

