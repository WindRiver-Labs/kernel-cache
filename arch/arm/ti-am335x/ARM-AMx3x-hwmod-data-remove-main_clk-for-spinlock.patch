From d0c537c684236dfdd85b64b4b841f78a2d366e90 Mon Sep 17 00:00:00 2001
From: Suman Anna <s-anna@ti.com>
Date: Tue, 10 Dec 2013 14:32:13 -0600
Subject: [PATCH 0710/1115] ARM: AMx3x: hwmod data: remove main_clk for
 spinlock

There is no separate functional clock that needs to be enabled
for the hardware spinlock module in AM33xx & AM43xx, like in other
OMAP SoCs. The L4PER_CLK interface clock serves as both the
functional and interface clock to the module, and is defined
through the associated omap_hwmod_ocp_if definition, so remove
the main_clk field from the hwmod definition.

This is inline with the hwmod definition on newer OMAP SoCs,
and also fixes the warning trace:
"platform 480ca000.spinlock: FIXME: clock-name 'fck' DOES NOT exist in dt!"

Signed-off-by: Suman Anna <s-anna@ti.com>
(cherry picked from commit edae5a5661c9c7d12c1f889a1c6b5a4de327b395)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/mach-omap2/omap_hwmod_33xx_data.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/omap_hwmod_33xx_data.c b/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
index cedf135..8dc522b 100644
--- a/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
+++ b/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
@@ -1203,7 +1203,6 @@ static struct omap_hwmod am33xx_spinlock_hwmod = {
 	.name		= "spinlock",
 	.class		= &am33xx_spinlock_hwmod_class,
 	.clkdm_name	= "l4ls_clkdm",
-	.main_clk	= "l4ls_gclk",
 	.prcm		= {
 		.omap4	= {
 			.modulemode	= MODULEMODE_SWCTRL,
-- 
1.7.5.4

