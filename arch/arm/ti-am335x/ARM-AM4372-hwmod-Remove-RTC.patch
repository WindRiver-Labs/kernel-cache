From 716267449df40ef157133f4fa43e512ec181242f Mon Sep 17 00:00:00 2001
From: Lokesh Vutla <lokeshvutla@ti.com>
Date: Tue, 22 Oct 2013 14:03:43 +0530
Subject: [PATCH 0626/1115] ARM: AM4372: hwmod: Remove RTC

On EPOS EVM RTC is not powered (VDDS_RTC grounded to 0) and so RTC registers are
inaccessible. During boot hwmod tries to access these registers causing an abort.
So removing rtc from AM43x hwmod database.

Signed-off-by: Lokesh Vutla <lokeshvutla@ti.com>
(cherry picked from commit 8e1020daec9543e8d54155e424d2f978f7e80c47)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/mach-omap2/omap_hwmod_33xx_data.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/omap_hwmod_33xx_data.c b/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
index 9d0e500..5a5a3d8 100644
--- a/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
+++ b/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
@@ -2992,6 +2992,7 @@ static struct omap_hwmod_ocp_if *am33xx_hwmod_ocp_ifs[] __initdata = {
 	&am33xx_l4_hs__pruss,
 	&am33xx_l3_main__lcdc,
 	&am33xx_l3_s__usbss,
+	&am33xx_l4_wkup__rtc,
 	NULL,
 };
 
@@ -3014,7 +3015,6 @@ static struct omap_hwmod_ocp_if *amx3xx_hwmod_ocp_ifs[] __initdata = {
 	&am33xx_l4_wkup__smartreflex1,
 	&am33xx_l4_wkup__uart1,
 	&am33xx_l4_wkup__timer1,
-	&am33xx_l4_wkup__rtc,
 	&am33xx_l4_wkup__i2c1,
 	&am33xx_l4_wkup__gpio0,
 	&am33xx_l4_wkup__adc_tsc,
-- 
1.7.5.4

