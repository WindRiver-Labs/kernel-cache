From 8556a9627e01db22314aca2b276764597bc926fe Mon Sep 17 00:00:00 2001
From: Sathya Prakash M R <sathyap@ti.com>
Date: Thu, 21 Nov 2013 14:24:03 +0000
Subject: [PATCH 0614/1115] ARM: dra7: Add delay values for Pin control

To Guarantee IO timings on certain pins of dra7, we need to add a
specific delay to each corresponding control register. This delay
configuration support for vin1a_fld0 port is added. Delay can be
configured at the time pinmux is configured for vin1a_fld0.

DSS_VOUT3 muxed from this pin is not used currently. When we need
to use this pin for DSS_VOUT3 clock, this additional configuration
is is to be written to the pin's control register.

Signed-off-by: Sathya Prakash M R <sathyap@ti.com>
Signed-off-by: Darren Etheridge <detheridge@ti.com>
(cherry picked from commit a568245f04d06a95443ce33265d28e99ece940ad)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 include/dt-bindings/pinctrl/dra7xx.h |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

diff --git a/include/dt-bindings/pinctrl/dra7xx.h b/include/dt-bindings/pinctrl/dra7xx.h
index bcd5e4d..238b277 100644
--- a/include/dt-bindings/pinctrl/dra7xx.h
+++ b/include/dt-bindings/pinctrl/dra7xx.h
@@ -29,6 +29,22 @@
 #define WAKEUP_EN		(1 << 24)
 #define WAKEUP_EVENT		(1 << 25)
 
+/*
+ * Delay value - to be added to control module register to some pins
+ * to garuntee IO timings. Add delay mode select
+ * and delay value for respective pins.
+ */
+
+#define DELAYMODE_SELECT	(1 << 8)
+
+/*
+ * DSS_VOUT3 is not timing closed wrt clock on vin1a_fld0 port.
+ * To mux vin1a_fld0 to DSS_VOUT3, we need to add delay.
+ * Below delay value ensure the timing is closed
+ */
+
+#define DELAY_VIN1A		(15 << 4)
+
 /* Active pin states */
 #define PIN_OUTPUT		0
 #define PIN_OUTPUT_PULLUP	(PIN_OUTPUT | PULL_ENA | PULL_UP)
-- 
1.7.5.4

