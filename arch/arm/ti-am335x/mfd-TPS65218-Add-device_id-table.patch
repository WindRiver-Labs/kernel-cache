From 03dae1715cb25d61f603606151dae4f383378af6 Mon Sep 17 00:00:00 2001
From: Keerthy <j-keerthy@ti.com>
Date: Wed, 6 Nov 2013 10:11:34 +0530
Subject: [PATCH 0654/1115] mfd: TPS65218: Add device_id table

Add device_id table. The I2C child drivers need device_id table
to be populated.

Signed-off-by: Keerthy <j-keerthy@ti.com>
(cherry picked from commit c95e434e374cb2342c13eb71bbc4d1b0dc28ae82)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/mfd/tps65218.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

diff --git a/drivers/mfd/tps65218.c b/drivers/mfd/tps65218.c
index db36cae..79c8ae0 100644
--- a/drivers/mfd/tps65218.c
+++ b/drivers/mfd/tps65218.c
@@ -258,6 +258,11 @@ static int tps65218_remove(struct i2c_client *client)
 	return 0;
 }
 
+static const struct i2c_device_id tps65218_id_table[] = {
+	{"tps65218", TPS65218},
+};
+MODULE_DEVICE_TABLE(i2c, tps65218_id_table);
+
 static struct i2c_driver tps65218_driver = {
 	.driver		= {
 		.name	= "tps65218",
@@ -266,6 +271,7 @@ static struct i2c_driver tps65218_driver = {
 	},
 	.probe		= tps65218_probe,
 	.remove		= tps65218_remove,
+	.id_table       = tps65218_id_table,
 };
 
 module_i2c_driver(tps65218_driver);
-- 
1.7.5.4

