From d5dd3e6fe68abdc4f8a6a6c76134469d1d8c19b4 Mon Sep 17 00:00:00 2001
From: Dave Gerlach <d-gerlach@ti.com>
Date: Wed, 11 Dec 2013 01:47:15 +0000
Subject: [PATCH 0718/1115] ARM: OMAP2+: AM43XX: Adjust sram size to 64k

Adjust AM43xx SRAM size down from 256k to 64k to match AM33xx. Because
AM43xx separates SRAM into 64k + 192k chunks, only use the first 64k so
that the second chunk can be powered off during suspend while keeping
the first in retention.

Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
Acked-by: Russ Dill <russ.dill@ti.com>
(cherry picked from commit fee13d1cdf1d4d776597857ce9d8adf7ed3789f5)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/mach-omap2/sram.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/sram.c b/arch/arm/mach-omap2/sram.c
index 3bc1804..13cf863 100644
--- a/arch/arm/mach-omap2/sram.c
+++ b/arch/arm/mach-omap2/sram.c
@@ -121,7 +121,7 @@ static void __init omap_detect_sram(void)
 			omap_sram_size = 0x10000; /* 64K */
 		} else if (soc_is_am43xx()) {
 			omap_sram_start = AM33XX_SRAM_PA;
-			omap_sram_size = SZ_256K;
+			omap_sram_size = SZ_64K;
 		} else if (cpu_is_omap34xx()) {
 			omap_sram_start = OMAP3_SRAM_PA;
 			omap_sram_size = 0x10000; /* 64K */
-- 
1.7.5.4

