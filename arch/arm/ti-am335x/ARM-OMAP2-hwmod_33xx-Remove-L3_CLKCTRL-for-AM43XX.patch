From 39e9655319187c86a614b654ba8ff5d2f1c593a9 Mon Sep 17 00:00:00 2001
From: Dave Gerlach <d-gerlach@ti.com>
Date: Wed, 11 Dec 2013 07:29:40 -0600
Subject: [PATCH 0719/1115] ARM: OMAP2+: hwmod_33xx: Remove L3_CLKCTRL for
 AM43XX

Remove linkage of AM43XX_CM_PER_L3_CLKCTRL_OFFSET to l3_hwmod on
AM43XX to prevent driver bound to L3 from attempting to idle clock
at suspend time as this must be handled later by CM3 in suspend path
or system will hang.

Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
(cherry picked from commit 067c0e4c4585f97ea79a4128a846216638b50cd1)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/mach-omap2/omap_hwmod_33xx_data.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/omap_hwmod_33xx_data.c b/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
index 550c24b..4acc43c 100644
--- a/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
+++ b/arch/arm/mach-omap2/omap_hwmod_33xx_data.c
@@ -3034,7 +3034,6 @@ static void am43xx_hwmod_clkctrl(void)
 	CLKCTRL(am33xx_mcasp0_hwmod, AM43XX_CM_PER_MCASP0_CLKCTRL_OFFSET);
 	CLKCTRL(am33xx_mcasp1_hwmod, AM43XX_CM_PER_MCASP1_CLKCTRL_OFFSET);
 	CLKCTRL(am33xx_l4_ls_hwmod, AM43XX_CM_PER_L4LS_CLKCTRL_OFFSET);
-	CLKCTRL(am33xx_l3_main_hwmod, AM43XX_CM_PER_L3_CLKCTRL_OFFSET);
 	CLKCTRL(am33xx_tpcc_hwmod, AM43XX_CM_PER_TPCC_CLKCTRL_OFFSET);
 	CLKCTRL(am33xx_tptc0_hwmod, AM43XX_CM_PER_TPTC0_CLKCTRL_OFFSET);
 	CLKCTRL(am33xx_tptc1_hwmod, AM43XX_CM_PER_TPTC1_CLKCTRL_OFFSET);
-- 
1.7.5.4

