From 7226bbbe45bb68733f9b6647f9bc42fae8d1d247 Mon Sep 17 00:00:00 2001
From: Guoqing Jiang <Guoqing.Jiang@windriver.com>
Date: Fri, 1 Apr 2011 17:15:35 +0800
Subject: [PATCH 01/21] TI 816x: add config and compile support for TI816x platform

Add config and compile support for TI816x platform.

Signed-off-by: Guoqing Jiang <Guoqing.Jiang@windriver.com>
---
 arch/arm/Makefile          |    1 +
 arch/arm/plat-omap/Kconfig |   10 ++++++++--
 2 files changed, 9 insertions(+), 2 deletions(-)

diff --git a/arch/arm/Makefile b/arch/arm/Makefile
index a615385..39d99cf 100644
--- a/arch/arm/Makefile
+++ b/arch/arm/Makefile
@@ -173,6 +173,7 @@ machine-$(CONFIG_ARCH_SHARK)		:= shark
 machine-$(CONFIG_ARCH_SHMOBILE) 	:= shmobile
 machine-$(CONFIG_ARCH_STMP378X)		:= stmp378x
 machine-$(CONFIG_ARCH_STMP37XX)		:= stmp37xx
+machine-$(CONFIG_ARCH_TI816X)           := omap2
 machine-$(CONFIG_ARCH_U300)		:= u300
 machine-$(CONFIG_ARCH_U8500)		:= ux500
 machine-$(CONFIG_ARCH_VERSATILE)	:= versatile
diff --git a/arch/arm/plat-omap/Kconfig b/arch/arm/plat-omap/Kconfig
index ba4ea51..8d7bfa7 100644
--- a/arch/arm/plat-omap/Kconfig
+++ b/arch/arm/plat-omap/Kconfig
@@ -16,10 +16,10 @@ config ARCH_OMAP1
 	  "Systems based on omap7xx, omap15xx or omap16xx"
 
 config ARCH_OMAP2PLUS
-	bool "TI OMAP2/3/4"
+	bool "TI OMAP2/3/4, TI816X"
 	select COMMON_CLKDEV
 	help
-	  "Systems based on omap24xx, omap34xx or omap44xx"
+	  "Systems based on omap24xx, omap34xx, omap44xx or ti816x"
 
 config ARCH_OMAP2
 	bool "TI OMAP2"
@@ -44,6 +44,12 @@ config ARCH_OMAP4
 	select CPU_V7
 	select ARM_GIC
 
+config ARCH_TI816X
+	bool "TI816X"
+	depends on ARCH_OMAP2PLUS
+	select CPU_V7
+	select ARCH_SUPPORTS_MSI
+
 endchoice
 
 comment "OMAP Feature Selections"
-- 
1.7.0.2

