From bbd21f2793c6caf5cc759390bcd7979652f054f3 Mon Sep 17 00:00:00 2001
From: Jeffrey Ladouceur <Jeffrey.Ladouceur@freescale.com>
Date: Wed, 21 Oct 2009 16:29:23 -0400
Subject: [PATCH 058/252] pme: Turn down PME verbosity level by default

The pme driver was printing way too much by default.
Also removed pr_info() in database and scan driver.

Signed-off-by: Jeffrey Ladouceur <Jeffrey.Ladouceur@freescale.com>
[Applied FSL SDK 2.0.3 patch
"kernel-2.6.30-pme-Turn-down-PME-verbosity-level-by-default.patch"]
Integrated-by: Yuri Nedel <Yuri.Nedel@windriver.com>
---
 drivers/match/Kconfig        |    2 +-
 drivers/match/pme2_db.c      |    1 -
 drivers/match/pme2_private.h |    1 -
 drivers/match/pme2_scan.c    |    1 -
 4 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/drivers/match/Kconfig b/drivers/match/Kconfig
index 477427c..6629283 100644
--- a/drivers/match/Kconfig
+++ b/drivers/match/Kconfig
@@ -227,7 +227,7 @@ config FSL_PME2_SCAN
 
 config FSL_PME2_SCAN_DEBUG
         bool "Debug Statements"
-        default y
+        default n
         depends on FSL_PME2_SCAN
         ---help---
           The PME2_SCAN driver can optionally trace with more verbosity
diff --git a/drivers/match/pme2_db.c b/drivers/match/pme2_db.c
index 42fdad4..1ea7427 100644
--- a/drivers/match/pme2_db.c
+++ b/drivers/match/pme2_db.c
@@ -80,7 +80,6 @@ static void ctrl_cb(struct pme_ctx *ctx, const struct qm_fd *fd,
 		struct pme_ctx_ctrl_token *token)
 {
 	struct ctrl_op *ctrl = (struct ctrl_op *)token;
-	pr_info("pme2_test_high: ctrl_cb() invoked, fd;!\n");
 	ctrl->cmd_status = pme_fd_res_status(fd);
 	ctrl->res_flag = pme_fd_res_flags(fd);
 	complete(&ctrl->cb_done);
diff --git a/drivers/match/pme2_private.h b/drivers/match/pme2_private.h
index 07a26c0..4d3ae3b 100644
--- a/drivers/match/pme2_private.h
+++ b/drivers/match/pme2_private.h
@@ -33,7 +33,6 @@
 #include "pme2_sys.h"
 #include <linux/fsl_pme.h>
 
-#define PME2_DEBUG
 
 #ifdef PME2_DEBUG
 #define PMEPRINFO(fmt, args...) pr_info("PME2: %s: " fmt, __func__, ## args)
diff --git a/drivers/match/pme2_scan.c b/drivers/match/pme2_scan.c
index de38ffa..ba27c86 100644
--- a/drivers/match/pme2_scan.c
+++ b/drivers/match/pme2_scan.c
@@ -91,7 +91,6 @@ static void ctrl_cb(struct pme_ctx *ctx, const struct qm_fd *fd,
 		struct pme_ctx_ctrl_token *token)
 {
 	struct ctrl_op *ctrl = (struct ctrl_op *)token;
-	pr_info("pme2_test_high: ctrl_cb() invoked, fd;!\n");
 	ctrl->cmd_status = pme_fd_res_status(fd);
 	ctrl->res_flag = pme_fd_res_flags(fd);
 	complete(&ctrl->cb_done);
-- 
1.6.5.2

