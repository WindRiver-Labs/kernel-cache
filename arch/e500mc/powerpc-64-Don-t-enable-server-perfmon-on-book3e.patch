From 63ea64dfa3bf34f81ccd1e8d4e356cb492bf4e0f Mon Sep 17 00:00:00 2001
From: Scott Wood <scottwood@freescale.com>
Date: Thu, 26 May 2011 11:42:33 -0500
Subject: [PATCH 063/233] powerpc/64: Don't enable server perfmon on book3e

Extracted from vendor drop QorIQ-DPAA-SDK-V1-20110609-systembuilder.iso
0206-powerpc-64-Don-t-enable-server-perfmon-on-book3e.patch

It doesn't exist on all (any?) book3e chips, and this allows other
implementations such as the FSL embedded perfmon to be selected.

Signed-off-by: Scott Wood <scottwood@freescale.com>
Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
---
 arch/powerpc/platforms/Kconfig.cputype |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/powerpc/platforms/Kconfig.cputype b/arch/powerpc/platforms/Kconfig.cputype
index 1c30966..5fe4a84 100644
--- a/arch/powerpc/platforms/Kconfig.cputype
+++ b/arch/powerpc/platforms/Kconfig.cputype
@@ -1,7 +1,7 @@
 config PPC64
 	bool "64-bit kernel"
 	default n
-	select PPC_HAVE_PMU_SUPPORT
+	select PPC_HAVE_PMU_SUPPORT if !PPC_BOOK3E
 	help
 	  This option selects whether a 32-bit or a 64-bit kernel
 	  will be built.
-- 
1.7.0.4

