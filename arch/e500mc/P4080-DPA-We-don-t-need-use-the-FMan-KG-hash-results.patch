From 92b14e6e0f83b77b3eb5bc9cbb9e04c75457de2f Mon Sep 17 00:00:00 2001
From: Emil Medve <Emilian.Medve@freescale.com>
Date: Thu, 11 Feb 2010 13:32:38 -0600
Subject: [PATCH 109/252] P4080/DPA: We don't need/use the FMan KG hash results

Signed-off-by: Emil Medve <Emilian.Medve@Freescale.com>
[Cleanly applied the FSL SDK 2.0.3 patch:
"kernel-2.6.30-P4080-DPA-We-don-t-need-use-the-FMan-KG-hash.patch"]
Integrated-by: Yuri Nedel <Yuri.Nedel@windriver.com>
---
 drivers/net/dpa/dpa.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/drivers/net/dpa/dpa.c b/drivers/net/dpa/dpa.c
index 6200ba2..85d3d46 100644
--- a/drivers/net/dpa/dpa.c
+++ b/drivers/net/dpa/dpa.c
@@ -2267,8 +2267,12 @@ dpa_init_probe(struct of_device *_of_dev)
 	rx_port_param.defq	= ingress_fqids[RX][1];
 	tx_port_param.defq	= ingress_fqids[TX][1];
 
-	rx_port_param.priv_data_size	= tx_port_param.priv_data_size	= 32;
-	rx_port_param.parse_results	= tx_port_param.parse_results	= true;
+	rx_port_param.priv_data_size	=
+		tx_port_param.priv_data_size	= 32;
+	rx_port_param.parse_results	=
+		tx_port_param.parse_results	= true;
+	rx_port_param.hash_results	=
+		tx_port_param.hash_results	= false;
 
 	fm_set_rx_port_params(mac_dev->port_dev[RX], &rx_port_param);
 
@@ -2785,6 +2789,8 @@ dpa_probe(struct of_device *_of_dev)
 			 tx_port_param.priv_data_size = 32;
 		rx_port_param.parse_results =
 			tx_port_param.parse_results = true;
+		rx_port_param.hash_results	=
+			tx_port_param.hash_results	= false;
 
 		fm_set_rx_port_params(priv->mac_dev->port_dev[RX],
 			&rx_port_param);
-- 
1.6.5.2

