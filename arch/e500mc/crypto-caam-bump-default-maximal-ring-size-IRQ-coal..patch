From 627acad1957add38dd7f19740ae951a8a6773296 Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Fri, 10 Sep 2010 11:25:46 +0800
Subject: [PATCH 187/252] crypto: caam - bump default maximal ring size, IRQ coal. count threshold

Patch taken from FSL vendor SDK 2.1.

On a pktgen-based, 60 byte ipsec packet, 1 core smp kernel (with tiger
networking patches, because base caam.git tree networking is still too slow and
unreliable) test, performance increases ~37% with these new default tuning
parameters:  before: 73198kpps avg. after: 100070kpps avg.

Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
Integrated-by: Andrew Liu <shengping.liu@windriver.com>
---
 drivers/crypto/caam/Kconfig |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/crypto/caam/Kconfig b/drivers/crypto/caam/Kconfig
index f764317..f322e1a 100644
--- a/drivers/crypto/caam/Kconfig
+++ b/drivers/crypto/caam/Kconfig
@@ -10,7 +10,7 @@ config CRYPTO_DEV_FSL_CAAM_RINGSIZE
 	int "Job Queue ring size"
 	depends on CRYPTO_DEV_FSL_CAAM
 	range 2 9
-	default "8"
+	default "9"
 	help
 	  Select size of Job Queue rings as a power of 2, within the
 	  range 2-9 (ring size 4-512).
@@ -36,7 +36,7 @@ config CRYPTO_DEV_FSL_CAAM_INTC_COUNT_THLD
 	int "Job Queue interrupt coalescing count threshold"
 	depends on CRYPTO_DEV_FSL_CAAM_INTC
 	range 1 255
-	default 8
+	default 255
 	help
 	  Select number of descriptor completions to queue before
 	  raising an interrupt, in the range 1-255. Note that a selection
@@ -47,7 +47,7 @@ config CRYPTO_DEV_FSL_CAAM_INTC_TIME_THLD
 	int "Job Queue interrupt coalescing timer threshold"
 	depends on CRYPTO_DEV_FSL_CAAM_INTC
 	range 1 65535
-	default 8
+	default 255
 	help
 	  Select number of bus clocks/64 to timeout in the case that one or
 	  more descriptor completions are queued without reaching the count
-- 
1.6.5.2

