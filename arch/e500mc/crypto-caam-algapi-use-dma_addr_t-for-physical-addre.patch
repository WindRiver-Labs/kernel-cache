From e0c73fbc404af5952e6ec3fbd60384b3f0c694d7 Mon Sep 17 00:00:00 2001
From: Andrew Liu <shengping.liu@windriver.com>
Date: Fri, 10 Sep 2010 10:45:06 +0800
Subject: [PATCH 184/252] crypto: caam/algapi - use dma_addr_t for physical addresses

Patch taken from FSL vendor SDK 2.1.

Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
Integrated-by: Andrew Liu <shengping.liu@windriver.com>
---
 drivers/crypto/caam/algapi.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/drivers/crypto/caam/algapi.c b/drivers/crypto/caam/algapi.c
index 99f6e53..c8a96f7 100644
--- a/drivers/crypto/caam/algapi.c
+++ b/drivers/crypto/caam/algapi.c
@@ -95,14 +95,14 @@ struct caam_ctx {
 	int class1_alg_type;
 	int class2_alg_type;
 	u8 key[CAAM_MAX_KEY_SIZE];
-	u32 key_phys; /* FIXME: dma_addr_t */
+	dma_addr_t key_phys;
 	unsigned int keylen;
 	unsigned int enckeylen;
 	unsigned int authkeylen;
 	unsigned int split_key_len;
 	unsigned int authsize;
 	u32 *shared_desc;
-	u32 shared_desc_phys; /* FIXME: dma_addr_t */
+	dma_addr_t shared_desc_phys;
 	int shared_desc_len;
 	spinlock_t first_lock;
 };
@@ -118,6 +118,7 @@ struct ipsec_deco_dpovrd {
 	u8 next_header;	/* reserved if decap */
 } __packed;
 
+
 static DEFINE_PER_CPU(int, cpu_to_job_queue);
 
 static int aead_authenc_setauthsize(struct crypto_aead *authenc,
-- 
1.6.5.2

