From f1d65c65c2cdd59316b785d3f730735884ce292f Mon Sep 17 00:00:00 2001
From: Kumar Gala <galak@kernel.crashing.org>
Date: Tue, 9 Mar 2010 14:15:05 -0600
Subject: [PATCH 116/233] phy: hack to make sure order of init for mdio bus happens as we need it

Extracted from vendor drop QorIQ-DPAA-SDK-V1-20110609-systembuilder.iso
0146-phy-hack-to-make-sure-order-of-init-for-mdio-bus-hap.patch

Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
---
 drivers/net/fsl_pq_mdio.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/fsl_pq_mdio.c b/drivers/net/fsl_pq_mdio.c
index 3d489ad..210757d 100644
--- a/drivers/net/fsl_pq_mdio.c
+++ b/drivers/net/fsl_pq_mdio.c
@@ -502,7 +502,7 @@ int __init fsl_pq_mdio_init(void)
 {
 	return of_register_platform_driver(&fsl_pq_mdio_driver);
 }
-module_init(fsl_pq_mdio_init);
+subsys_initcall_sync(fsl_pq_mdio_init);
 
 void fsl_pq_mdio_exit(void)
 {
-- 
1.7.0.4

