# patches are for everyone, but the kconfig data is just for MIPS builds.
if [ "$KARCH" = "mips" ]; then
	kconf hardware mips.cfg
	include cfg/timer/hz_100.scc
fi

patch malta-uhci-quirks-make-allowance-for-slow-4k-e-c.patch
patch 4kc-cache-tlb-hazard-tlbp-cache-coherency.patch
patch mips-support-preemptible-kernel.patch
# merged upstream
# patch MIPS-Malta-Fix-crash-SMP-kernel-on-non-CMP-systems.patch
# patch MIPS-Add-uasm-UASM_i_SRL_SAFE-macro.patch
# patch MIPS-Close-races-in-TLB-modify-handlers.patch

#conflicts with upstream
#patch mips-sibyte-Add-missing-irq_mask-function.patch

# merged upstream for 3.1
# patch mips-Enable-interrupts-in-do_signal.patch
# patch MIPS-Make-the-die_lock-be-raw.patch
# patch MIPS-Mark-cascade-and-low-level-interrupts-IRQF_NO_T.patch
# patch MIPS-Loongson-Mark-cascade-interrupts-IRQF_NO_THREAD.patch
# patch mips-Allow-forced-irq-threading.patch

# the change is upstream
#patch MIPS-ARC-Fix-build-of-firmware-library-on.patch
