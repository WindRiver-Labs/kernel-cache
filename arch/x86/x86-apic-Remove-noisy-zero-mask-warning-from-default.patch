From 6b1e46d562909034f8ab2af3c157fbfea171c820 Mon Sep 17 00:00:00 2001
From: guolijun <Lijun.Guo@windriver.com>
Date: Fri, 21 Nov 2014 13:12:48 +0800
Subject: [PATCH] x86/apic: Remove noisy zero-mask warning from
 default_send_IPI_mask_logical()

e3f0f36ddf1b2743a0d4ea312996536a9c37e1c7 upstream

Since circa 3.5, we've had dozens of reports of people hitting
this warning. Forwarded reports have been met with silence, so
just remove the warning if no-one cares.

Example reports:

https://bugzilla.redhat.com/show_bug.cgi?id=797687
https://bugzilla.redhat.com/show_bug.cgi?id=867174
https://bugzilla.redhat.com/show_bug.cgi?id=894865

Signed-off-by: Dave Jones <davej@redhat.com>
Cc: Andrew Morton <akpm@linux-foundation.org>
Link: http://lkml.kernel.org/r/20130118175847.GA27662@redhat.com
Signed-off-by: Ingo Molnar <mingo@kernel.org>

Signed-off-by: guolijun <Lijun.Guo@windriver.com>
---
 arch/x86/kernel/apic/ipi.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/x86/kernel/apic/ipi.c b/arch/x86/kernel/apic/ipi.c
index cce91bf..7434d85 100644
--- a/arch/x86/kernel/apic/ipi.c
+++ b/arch/x86/kernel/apic/ipi.c
@@ -106,7 +106,7 @@ void default_send_IPI_mask_logical(const struct cpumask *cpumask, int vector)
 	unsigned long mask = cpumask_bits(cpumask)[0];
 	unsigned long flags;
 
-	if (WARN_ONCE(!mask, "empty IPI mask"))
+	if (!mask)
 		return;
 
 	local_irq_save(flags);
-- 
1.7.5.4

