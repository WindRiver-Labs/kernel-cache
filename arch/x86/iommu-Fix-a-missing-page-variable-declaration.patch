From 589ee4eb20f29c11d80d5b65b5862fabbd64f58b Mon Sep 17 00:00:00 2001
From: chunguang yang <chunguang.yang@windriver.com>
Date: Fri, 31 Oct 2014 09:53:22 +0000
Subject: [PATCH] iommu: Fix a missing page variable declaration

Fix the missing changes when merge upstream commit:

367464362591d89b371e2a690638e9bc899d8ebb

This patch should be part of the that merge, can be squash it to that commit.

Signed-off-by: Chunguang Yang <cyang@windriver.com>
---
 drivers/iommu/intel-iommu.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/iommu/intel-iommu.c b/drivers/iommu/intel-iommu.c
index c101d7a..3eedd2d 100644
--- a/drivers/iommu/intel-iommu.c
+++ b/drivers/iommu/intel-iommu.c
@@ -2962,7 +2962,7 @@ static void *intel_alloc_coherent(struct device *hwdev, size_t size,
 				  dma_addr_t *dma_handle, gfp_t flags,
 				  struct dma_attrs *attrs)
 {
-	void *vaddr;
+	struct page *page = NULL;
 	int order;
 
 	size = PAGE_ALIGN(size);
-- 
1.7.5.4

