From 89e1a63a401996fdf3e626a3ce640fd3176b70c2 Mon Sep 17 00:00:00 2001
From: Yong Zhang <yong.zhang@windriver.com>
Date: Thu, 12 Nov 2009 12:51:48 +0800
Subject: [PATCH] Revert "SIGFPE and SPE"

This reverts commit b9ba5f2c63a67f6de618d9d92547347b7d55bafb.
[
	SIGFPE and SPE
	You don't want sigfpe handling if you only have SPE
	enabled. You need both SPE and math emulation. Otherwise
	you'll get an unresolved symbol

	Signed-off-by: <bruce.ashfield@windriver.com>
]

unresolved symbol is resolved in arch/powerpc/Makefile, so the
condition checking for CONFIG_MATH_EMULATION is not needed any
more. Also SPE runs well with MATH_EMULATION disabled.

Signed-off-by: Yong Zhang <yong.zhang@windriver.com>
---
 arch/powerpc/sysdev/Makefile |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/sysdev/Makefile b/arch/powerpc/sysdev/Makefile
index 1bd4125..ee10990 100644
--- a/arch/powerpc/sysdev/Makefile
+++ b/arch/powerpc/sysdev/Makefile
@@ -24,9 +24,7 @@ obj-$(CONFIG_MV64X60)		+= $(mv64x60-y) mv64x60_pic.o mv64x60_dev.o \
 				   mv64x60_udbg.o
 obj-$(CONFIG_RTC_DRV_CMOS)	+= rtc_cmos_setup.o
 obj-$(CONFIG_AXON_RAM)		+= axonram.o
-ifeq ($(CONFIG_MATH_EMULATION),y)
 obj-$(CONFIG_SPE)              += sigfpe_handler.o
-endif
 
 obj-$(CONFIG_PPC_INDIRECT_PCI)	+= indirect_pci.o
 obj-$(CONFIG_PPC_I8259)		+= i8259.o
-- 
1.6.5.2

