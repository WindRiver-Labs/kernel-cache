From 0fea0535a804288a113f2458630998738fc07d17 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Thu, 31 Oct 2013 10:25:01 -0400
Subject: [PATCH 554/625] Update RCU instrumentation to Linux 3.12

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Signed-off-by: Jianchuan Wang <jianchuan.wang@windriver.com>
---
 drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h b/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h
index ec541ba..1220fb7 100644
--- a/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h
+++ b/drivers/staging/lttng2/instrumentation/events/lttng-module/rcu.h
@@ -20,7 +20,11 @@
  */
 TRACE_EVENT(rcu_utilization,
 
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(3,12,0))
+	TP_PROTO(const char *s),
+#else /* #if (LINUX_VERSION_CODE >= KERNEL_VERSION(3,12,0)) */
 	TP_PROTO(char *s),
+#endif /* #else #if (LINUX_VERSION_CODE >= KERNEL_VERSION(3,12,0)) */
 
 	TP_ARGS(s),
 
-- 
2.0.2

