From f2e0652e8956c91b7c1e5e869791982536242787 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Mon, 27 Apr 2015 17:02:06 -0400
Subject: [PATCH 724/757] Fix: compilation warnings on 4.1-rc1 kernel

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
---
 .../instrumentation/events/lttng-module/irq.h      | 20 ++----------
 .../instrumentation/events/lttng-module/v4l2.h     | 38 +---------------------
 2 files changed, 3 insertions(+), 55 deletions(-)

diff --git a/drivers/staging/lttng/instrumentation/events/lttng-module/irq.h b/drivers/staging/lttng/instrumentation/events/lttng-module/irq.h
index 8517414..d42dbbd 100644
--- a/drivers/staging/lttng/instrumentation/events/lttng-module/irq.h
+++ b/drivers/staging/lttng/instrumentation/events/lttng-module/irq.h
@@ -12,20 +12,6 @@
 struct irqaction;
 struct softirq_action;
 
-#define softirq_name(sirq) { sirq##_SOFTIRQ, #sirq }
-#define show_softirq_name(val)				\
-	__print_symbolic(val,				\
-			 softirq_name(HI),		\
-			 softirq_name(TIMER),		\
-			 softirq_name(NET_TX),		\
-			 softirq_name(NET_RX),		\
-			 softirq_name(BLOCK),		\
-			 softirq_name(BLOCK_IOPOLL),	\
-			 softirq_name(TASKLET),		\
-			 softirq_name(SCHED),		\
-			 softirq_name(HRTIMER),		\
-			 softirq_name(RCU))
-
 #endif /* _TRACE_IRQ_DEF_ */
 
 /**
@@ -104,8 +90,7 @@ LTTNG_TRACEPOINT_EVENT_CLASS(softirq,
 		tp_assign(vec, vec_nr)
 	),
 
-	TP_printk("vec=%u [action=%s]", __entry->vec,
-		  show_softirq_name(__entry->vec))
+	TP_printk()
 )
 
 /**
@@ -164,8 +149,7 @@ LTTNG_TRACEPOINT_EVENT_CLASS(softirq,
 		tp_assign(vec, (int)(h - vec))
 	),
 
-	TP_printk("vec=%u [action=%s]", __entry->vec,
-		  show_softirq_name(__entry->vec))
+	TP_printk()
 )
 
 /**
diff --git a/drivers/staging/lttng/instrumentation/events/lttng-module/v4l2.h b/drivers/staging/lttng/instrumentation/events/lttng-module/v4l2.h
index 03ab58a..9461565 100644
--- a/drivers/staging/lttng/instrumentation/events/lttng-module/v4l2.h
+++ b/drivers/staging/lttng/instrumentation/events/lttng-module/v4l2.h
@@ -6,19 +6,6 @@
 
 #include "../../../probes/lttng-tracepoint-event.h"
 
-#define show_field(field)						\
-	__print_symbolic(field,						\
-		{ V4L2_FIELD_ANY,		"ANY" },		\
-		{ V4L2_FIELD_NONE,		"NONE" },		\
-		{ V4L2_FIELD_TOP,		"TOP" },		\
-		{ V4L2_FIELD_BOTTOM,		"BOTTOM" },		\
-		{ V4L2_FIELD_INTERLACED,	"INTERLACED" },		\
-		{ V4L2_FIELD_SEQ_TB,		"SEQ_TB" },		\
-		{ V4L2_FIELD_SEQ_BT,		"SEQ_BT" },		\
-		{ V4L2_FIELD_ALTERNATE,		"ALTERNATE" },		\
-		{ V4L2_FIELD_INTERLACED_TB,	"INTERLACED_TB" },      \
-		{ V4L2_FIELD_INTERLACED_BT,	"INTERLACED_BT" })
-
 #define show_timecode_type(type)					\
 	__print_symbolic(type,						\
 		{ V4L2_TC_TYPE_24FPS,		"24FPS" },		\
@@ -108,30 +95,7 @@
 			tp_assign(sequence, buf->sequence);		\
 		),							\
 									\
-		TP_printk("minor = %d, index = %u, type = %s, "		\
-			  "bytesused = %u, flags = %s, "		\
-			  "field = %s, timestamp = %llu, timecode = { "	\
-			  "type = %s, flags = %s, frames = %u, "	\
-			  "seconds = %u, minutes = %u, hours = %u, "	\
-			  "userbits = { %u %u %u %u } }, "		\
-			  "sequence = %u", __entry->minor,		\
-			  __entry->index, show_type(__entry->type),	\
-			  __entry->bytesused,				\
-			  show_flags(__entry->flags),			\
-			  show_field(__entry->field),			\
-			  __entry->timestamp,				\
-			  show_timecode_type(__entry->timecode_type),	\
-			  show_timecode_flags(__entry->timecode_flags),	\
-			  __entry->timecode_frames,			\
-			  __entry->timecode_seconds,			\
-			  __entry->timecode_minutes,			\
-			  __entry->timecode_hours,			\
-			  __entry->timecode_userbits0,			\
-			  __entry->timecode_userbits1,			\
-			  __entry->timecode_userbits2,			\
-			  __entry->timecode_userbits3,			\
-			  __entry->sequence				\
-		)							\
+		TP_printk()						\
 	)
 
 LTTNG_TRACEPOINT_EVENT_V4L2(v4l2_dqbuf)
-- 
2.0.2

