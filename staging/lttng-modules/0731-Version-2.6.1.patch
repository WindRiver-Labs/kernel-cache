From e09d4690126ca21a34773172fbef3603b25ba069 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Wed, 29 Apr 2015 11:08:56 -0400
Subject: [PATCH 731/757] Version 2.6.1

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
---
 drivers/staging/lttng/ChangeLog      | 32 ++++++++++++++++++++++++++++++++
 drivers/staging/lttng/lttng-tracer.h |  2 +-
 2 files changed, 33 insertions(+), 1 deletion(-)

diff --git a/drivers/staging/lttng/ChangeLog b/drivers/staging/lttng/ChangeLog
index ff77e50..9e17f3f 100644
--- a/drivers/staging/lttng/ChangeLog
+++ b/drivers/staging/lttng/ChangeLog
@@ -1,3 +1,35 @@
+2015-04-29 LTTng modules 2.6.1
+	* Fix: regmap build against kernel 4.0 kernel headers
+	* Fix: mmutrace warnings about redefined macros
+	* Fix: add missing x86 mmutrace kernel header include
+	* Fix: x86 mmutrace event extra field for kernels >= 3.11
+	* Fix: remove execute flag from kvm.h file
+	* Fix: build x86 kvm probes on kernels >= 4.1-rc1
+	* Fix: compilation warnings on 4.1-rc1 kernel
+	* Fix: compilation on 4.1-rc1 kernel, remove unused WB_WORK_REASON
+	* Fix: 4.1-rc1 Linux build and regmap instrumentation
+	* Fix: don't clash with older Debian kernel versions
+	* Fix: update get_pfnblock_flags_mask wrapper for debian kernels
+	* Fix: discover Debian API
+	* Fix: Update README.md to match reality: kernels >= 2.6.36 are supported
+	* Fix: add struct file_handle forward declaration
+	* Fix: atomic.h wrapper for kernels < 2.6.37
+	* Fix: disable x86 kvm instrumentation for kernels < 2.6.38
+	* Fix: check that class and instance prototype match
+	* Fix: lttng-events.h check function takes void
+	* Update regmap instrumentation for Linux 3.19.4 and 4.0
+	* Fix: kernels >= 2.6.33 put utsrelease.h in generated/
+	* Fix: Include utsrelease.h in lttng-kernel-version.h
+	* Fix: old kernels need module.h included before vermagic.h
+	* Fix: version condition in makefile
+	* Implement wrapper around get_pfnblock_flags_mask
+	* Fix: Support 4.x kernel versions in Makefile
+	* Fix: mm_page_alloc_extfrag instrumentation for kernel 3.14.36
+	* Fix: update writeback instrumentation for kernel 4.0+
+	* Fix: compaction mm_compaction_isolate_template update for Linux 4.0+
+	* Fix: kmem instrumentation update for mm_page_alloc_extfrag kernel 3.19.2+
+	* Fix: kmem instrumentation: mm_page_alloc extfrag change_ownership field
+
 2015-01-26 LTTng modules 2.6.0
 	* Fix: missing parenthesis in offset_align_floor
 	* Fix: implement time.h wrapper for FD_ISSET
diff --git a/drivers/staging/lttng/lttng-tracer.h b/drivers/staging/lttng/lttng-tracer.h
index f658c8e..c1241e9 100644
--- a/drivers/staging/lttng/lttng-tracer.h
+++ b/drivers/staging/lttng/lttng-tracer.h
@@ -41,7 +41,7 @@
 
 #define LTTNG_MODULES_MAJOR_VERSION 2
 #define LTTNG_MODULES_MINOR_VERSION 6
-#define LTTNG_MODULES_PATCHLEVEL_VERSION 0
+#define LTTNG_MODULES_PATCHLEVEL_VERSION 1
 #define LTTNG_MODULES_EXTRAVERSION ""
 
 #define LTTNG_VERSION_NAME		"Gaia"
-- 
2.0.2

