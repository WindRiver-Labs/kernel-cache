From 7778e611b37858acce57056c544ee8fc111461d3 Mon Sep 17 00:00:00 2001
From: Lans Zhang <jia.zhang@windriver.com>
Date: Tue, 24 Aug 2010 10:44:16 +0800
Subject: [PATCH 2/3] audit: add NR_syscalls for mips

We need a NR_syscalls macro for mips under cgl configuration, because the
check is placed at common area and other architectures all have NR_syscalls.

Signed-off-by: Lans Zhang <jia.zhang@windriver.com>
---
 arch/mips/include/asm/unistd.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/mips/include/asm/unistd.h b/arch/mips/include/asm/unistd.h
index ca1799d..dc42b54 100644
--- a/arch/mips/include/asm/unistd.h
+++ b/arch/mips/include/asm/unistd.h
@@ -1057,5 +1057,7 @@
  */
 #define cond_syscall(x) asm(".weak\t" #x "\n" #x "\t=\tsys_ni_syscall")
 
+#define NR_syscalls		__NR_Linux_syscalls
+
 #endif /* __KERNEL__ */
 #endif /* _ASM_UNISTD_H */
-- 
1.6.5.2

