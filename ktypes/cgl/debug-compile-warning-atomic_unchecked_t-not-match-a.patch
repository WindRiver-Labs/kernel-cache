From 6ce714e58b6dba1052633a8076b24f43664bdee2 Mon Sep 17 00:00:00 2001
From: Li Wang <li.wang@windriver.com>
Date: Fri, 5 Jul 2013 13:24:26 +0800
Subject: [PATCH 1/8] debug: compile warning: atomic_unchecked_t not match
 atomic_read()

warning: passing argument 1 of 'atomic_read' from incompatible pointer type [enabled by default]
note: expected 'const struct atomic_t *' but argument is of type 'struct atomic_unchecked_t *'

Signed-off-by: Li Wang <li.wang@windriver.com>
---
 kernel/debug/debug_core.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/kernel/debug/debug_core.c b/kernel/debug/debug_core.c
index c868e65..4aa3a8d 100644
--- a/kernel/debug/debug_core.c
+++ b/kernel/debug/debug_core.c
@@ -897,7 +897,7 @@ EXPORT_SYMBOL_GPL(kgdb_schedule_breakpoint);
 
 int kgdb_is_waiting_on_breakpoint(void)
 {
-	return atomic_read(&kgdb_break_tasklet_var);
+	return atomic_read_unchecked(&kgdb_break_tasklet_var);
 }
 EXPORT_SYMBOL_GPL(kgdb_is_waiting_on_breakpoint);
 
-- 
1.7.5.4

