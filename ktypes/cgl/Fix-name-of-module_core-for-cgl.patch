From 15c96d7c6316293b1a335517a394a81b9a809240 Mon Sep 17 00:00:00 2001
From: Michel Thebeau <michel.thebeau@windriver.com>
Date: Wed, 25 May 2011 12:16:45 -0400
Subject: [PATCH] Fix name of module_core for cgl

Cgl redefines module_core to module_core_rx.

Signed-off-by: Michel Thebeau <michel.thebeau@windriver.com>
---
 kernel/debug/kdb/kdb_main.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/kernel/debug/kdb/kdb_main.c b/kernel/debug/kdb/kdb_main.c
index a0e8b97..11e4479 100644
--- a/kernel/debug/kdb/kdb_main.c
+++ b/kernel/debug/kdb/kdb_main.c
@@ -2000,7 +2000,7 @@ static int kdb_lsmod(int argc, const char **argv)
 			kdb_printf(" (Loading)");
 		else
 			kdb_printf(" (Live)");
-		kdb_printf(" 0x%p", mod->module_core);
+		kdb_printf(" 0x%p", mod->module_core_rx);
 
 #ifdef CONFIG_MODULE_UNLOAD
 		{
-- 
1.7.0.4

