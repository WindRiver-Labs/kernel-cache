From 3bb1af54aadea6f0cf4a4b58891fa08348c57233 Mon Sep 17 00:00:00 2001
From: Lans Zhang <jia.zhang@windriver.com>
Date: Tue, 24 Aug 2010 10:45:53 +0800
Subject: [PATCH 1/3] audit/arm: fix a compiling error when AUDITSYSCALL is enabled

Signed-off-by: Lans Zhang <jia.zhang@windriver.com>
---
 arch/arm/kernel/entry-common.S |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/kernel/entry-common.S b/arch/arm/kernel/entry-common.S
index 8041d5c..35656da 100644
--- a/arch/arm/kernel/entry-common.S
+++ b/arch/arm/kernel/entry-common.S
@@ -79,8 +79,8 @@ ENTRY(ret_from_fork)
 	get_thread_info tsk
 	ldr	r1, [tsk, #TI_FLAGS]		@ check for syscall tracing
 	mov	why, #1
-	tst	r1, #_TIF_SYSCALL_TRACE | _TIF_KERNEL_TRACE
-	beq	ret_slow_syscall	| _TIF_SYSCALL_AUDIT	@ are we tracing syscalls?
+	tst	r1, #_TIF_SYSCALL_TRACE | _TIF_KERNEL_TRACE | _TIF_SYSCALL_AUDIT
+	beq	ret_slow_syscall		@ are we tracing syscalls?
 	mov	r1, sp
 	mov	r0, #1				@ trace exit [IP = 1]
 	bl	syscall_trace
-- 
1.6.5.2

