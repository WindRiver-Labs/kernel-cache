From 10f51c6bfa8bf4017734b5e21e9ae048ace97e38 Mon Sep 17 00:00:00 2001
From: Ming Liu <ming.liu@windriver.com>
Date: Wed, 17 Jul 2013 17:03:00 +0800
Subject: [PATCH] x86/paravirt: fix a incomplete commit

This completes commit 7ad0908564a3554f9b13258a7927411af62bf3bc.

commit 7ad09085 was not applied completely for some unknow reason, cause
a compiling error.

Signed-off-by: Ming Liu <ming.liu@windriver.com>
---
 arch/x86/kernel/paravirt.c |   12 ------------
 1 files changed, 0 insertions(+), 12 deletions(-)

diff --git a/arch/x86/kernel/paravirt.c b/arch/x86/kernel/paravirt.c
index 6460e11..076ca67 100644
--- a/arch/x86/kernel/paravirt.c
+++ b/arch/x86/kernel/paravirt.c
@@ -313,18 +313,6 @@ enum paravirt_lazy_mode paravirt_get_lazy_mode(void)
 	return percpu_read(paravirt_lazy_mode);
 }
 
-void arch_flush_lazy_mmu_mode(void)
-{
-	preempt_disable();
-
-	if (paravirt_get_lazy_mode() == PARAVIRT_LAZY_MMU) {
-		arch_leave_lazy_mmu_mode();
-		arch_enter_lazy_mmu_mode();
-	}
-
-	preempt_enable();
-}
-
 struct pv_info pv_info __read_only = {
 	.name = "bare hardware",
 	.paravirt_enabled = 0,
-- 
1.7.5.4

