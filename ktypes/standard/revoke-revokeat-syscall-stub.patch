From 1a79481b3c50a5f3cf78d336c11ada8a85b4f21b Mon Sep 17 00:00:00 2001
From: Michel Thebeau <michel.thebeau@windriver.com>
Date: Thu, 11 Aug 2011 11:58:01 -0400
Subject: [PATCH] revoke: revokeat syscall stub

Allow syscall to be added to standard for revokeat.

Signed-off-by: Michel Thebeau <michel.thebeau@windriver.com>
---
 fs/Makefile |    1 +
 fs/revoke.c |    8 ++++++++
 2 files changed, 9 insertions(+), 0 deletions(-)
 create mode 100644 fs/revoke.c

diff --git a/fs/Makefile b/fs/Makefile
index a0b2b6c..914f239 100644
--- a/fs/Makefile
+++ b/fs/Makefile
@@ -19,6 +19,7 @@ else
 obj-y +=	no-block.o
 endif
 
+obj-$(CONFIG_MMU)		+= revoke.o
 obj-$(CONFIG_BLK_DEV_INTEGRITY) += bio-integrity.o
 obj-y				+= notify/
 obj-$(CONFIG_EPOLL)		+= eventpoll.o
diff --git a/fs/revoke.c b/fs/revoke.c
new file mode 100644
index 0000000..1cb732a
--- /dev/null
+++ b/fs/revoke.c
@@ -0,0 +1,8 @@
+#include <linux/linkage.h>
+#include <linux/errno.h>
+
+asmlinkage long sys_revokeat(int dfd, const char __user *filename)
+{
+	return -ENOSYS;
+}
+
-- 
1.7.0.2

