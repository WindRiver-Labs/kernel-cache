From 7d5eb79eb924c06f9d179113931a1f979f001b05 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Sun, 20 Feb 2011 00:24:01 -0500
Subject: [PATCH] power-traces: does not require full <slab.h> to compile.

There was a detanglement of kernel headers (and specifically
relating to slab.h) during the 33 --> 34 kernel development
cycle between the rev list ^9e74e7c b66696e that breaks compile
of RT with implicit function decls.  While re-adding slab.h
will fix it, it is overkill, as only perf_event.h is required.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

diff --git a/kernel/trace/power-traces.c b/kernel/trace/power-traces.c
index 9f4f565..1f2d92a 100644
--- a/kernel/trace/power-traces.c
+++ b/kernel/trace/power-traces.c
@@ -9,7 +9,7 @@
 #include <linux/workqueue.h>
 #include <linux/sched.h>
 #include <linux/module.h>
-#include <linux/slab.h>
+#include <linux/perf_event.h>
 
 #define CREATE_TRACE_POINTS
 #include <trace/events/power.h>
-- 
1.7.4

