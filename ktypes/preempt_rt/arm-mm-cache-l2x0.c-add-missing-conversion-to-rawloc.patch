From bfe89e83e4636c8c9eed10b871aba0d83b72dda0 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 2 Mar 2011 15:37:14 -0500
Subject: [PATCH] arm: mm/cache-l2x0.c add missing conversion to rawlock

As seen in commit 8f99f8234c61662e7040f7840eef8e0ccd2544ec in tip.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/arm/mm/cache-l2x0.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mm/cache-l2x0.c b/arch/arm/mm/cache-l2x0.c
index da80bc0..3b3e1a7 100644
--- a/arch/arm/mm/cache-l2x0.c
+++ b/arch/arm/mm/cache-l2x0.c
@@ -50,7 +50,7 @@ static inline void cache_wait(void __iomem *reg, unsigned long mask)
 
 #define cache_wait			cache_wait_always
 
-static DEFINE_SPINLOCK(l2x0_lock);
+static DEFINE_RAW_SPINLOCK(l2x0_lock);
 #define _l2x0_lock(lock, flags)		raw_spin_lock_irqsave(lock, flags)
 #define _l2x0_unlock(lock, flags)	raw_spin_unlock_irqrestore(lock, flags)
 
-- 
1.7.4

