From e8d40cb143d2d929022d7877df025274653f2bc1 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig?= <u.kleine-koenig@pengutronix.de>
Date: Sun, 9 Aug 2009 11:36:38 +0200
Subject: [PATCH] mm: include linux/interrupt.h in mm/bounce.c
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

commit f0a70874ec0f4d70e53e19b50922cb24a9e80008 in tip.

This fixes a a build failure for 2.6.31-rc4-rt1 (ARCH=arm,
mv78xx0_defconfig and others):

mm/bounce.c: In function 'bounce_copy_vec':
mm/bounce.c:52: error: implicit declaration of function 'local_irq_save_nort'
mm/bounce.c:56: error: implicit declaration of function 'local_irq_restore_nort'

Signed-off-by: Uwe Kleine-KÃ¶nig <u.kleine-koenig@pengutronix.de>
Cc: Jens Axboe <jens.axboe@oracle.com>
Cc: Li Zefan <lizf@cn.fujitsu.com>
LKML-Reference: <1249810600-21946-1-git-send-email-u.kleine-koenig@pengutronix.de>
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

diff --git a/mm/bounce.c b/mm/bounce.c
index 1d3e04d..4969c28 100644
--- a/mm/bounce.c
+++ b/mm/bounce.c
@@ -15,6 +15,7 @@
 #include <linux/hash.h>
 #include <linux/highmem.h>
 #include <linux/biotrack.h>
+#include <linux/interrupt.h>
 #include <asm/tlbflush.h>
 
 #include <trace/events/block.h>
-- 
1.7.1.1

