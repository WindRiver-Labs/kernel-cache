From 68ad10c1a6e37532f130bd9d142f5bc389d7e6b7 Mon Sep 17 00:00:00 2001
From: Thomas Gleixner <tglx@linutronix.de>
Date: Mon, 14 Jun 2010 18:21:50 +0200
Subject: [PATCH] powerpc: Disable sparse irq for RT

commit cee9ee0e090b22eadba9f6e8134dbd5cbf9aab61 in tip.

sparse irq does not yet work with RT. Disable it.

Reported-by: Will Schmidt <will_schmidt@vnet.ibm.com>
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/powerpc/Kconfig |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/Kconfig b/arch/powerpc/Kconfig
index acef6fd..8db2fd8 100644
--- a/arch/powerpc/Kconfig
+++ b/arch/powerpc/Kconfig
@@ -400,6 +400,7 @@ config IRQ_ALL_CPUS
 
 config SPARSE_IRQ
 	bool "Support sparse irq numbering"
+	depends on !PREEMPT_RT
 	default y
 	help
 	  This enables support for sparse irqs. This is useful for distro
-- 
1.7.0.4

