From 04152ea82d9c66b68e08f2789c73a6374a81fa89 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Sat, 19 Feb 2011 13:05:25 -0500
Subject: [PATCH] fork: cosmetic deschedt --> cpu_desched_task to match upstream

Use the name as per what is used in upstream/RT to avoid
the diff noise during comparisons.  Also makes it clear that
the task is a percpu var.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

diff --git a/kernel/fork.c b/kernel/fork.c
index d377bc8..0c3a73b 100644
--- a/kernel/fork.c
+++ b/kernel/fork.c
@@ -1830,14 +1830,14 @@ static int mmdrop_complete(void)
  */
 void  __mmdrop_delayed(struct mm_struct *mm)
 {
-	struct task_struct *deschedt;
+	struct task_struct *cpu_desched_task;
 	struct list_head *head;
 
 	head = &get_cpu_var(delayed_drop_list);
 	list_add_tail(&mm->delayed_drop, head);
-	deschedt = __get_cpu_var(desched_task);
-	if (deschedt)
-		wake_up_process(deschedt);
+	cpu_desched_task = __get_cpu_var(desched_task);
+	if (cpu_desched_task)
+		wake_up_process(cpu_desched_task);
 	put_cpu_var(delayed_drop_list);
 }
 
-- 
1.7.0

