From 66a198960484b2020cc673357200f96a5056dcdc Mon Sep 17 00:00:00 2001
From: Darren Hart <dvhart@linux.intel.com>
Date: Mon, 8 Aug 2011 21:08:31 -0700
Subject: [PATCH] fix KM_TYPE_NR undeclared in sched.h on 32 bit x86
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Patch peter_zijlstra-re-_3_0-rt4.patch causes 32 bit compilations to fail with:
sched.h:1592:17: error: ‘KM_TYPE_NR’ undeclared here (not in a function)

Including asm/kmap_types in sched.h resolves the issue.

Signed-off-by: Darren Hart <dvhart@linux.intel.com>
CC: Peter Zijlstra <peterz@infradead.org>
CC: Bruce Ashfield <bruce.ashfield@windriver.com>
---
 include/linux/sched.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/include/linux/sched.h b/include/linux/sched.h
index 4912daa..f23fb0b 100644
--- a/include/linux/sched.h
+++ b/include/linux/sched.h
@@ -63,6 +63,7 @@ struct sched_param {
 #include <linux/nodemask.h>
 #include <linux/mm_types.h>
 
+#include <asm/kmap_types.h>
 #include <asm/system.h>
 #include <asm/page.h>
 #include <asm/ptrace.h>
-- 
1.7.4.1

