From d59871be2cff603cf28c4ad5561da6fc33ebf97e Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Mon, 2 Nov 2015 08:50:16 +0800
Subject: [PATCH 38/38] coresight: replicator: fix a compiling error

drivers/hwtracing/coresight/coresight-replicator.c:186:1: warning: data definition has no type or storage class
 builtin_platform_driver(replicator_driver);
 ^
drivers/hwtracing/coresight/coresight-replicator.c:186:1: error: type defaults to 'int' in declaration of 'builtin_platform_driver' [-Werror=implicit-int]
drivers/hwtracing/coresight/coresight-replicator.c:186:1: warning: parameter names (without types) in function declaration
drivers/hwtracing/coresight/coresight-replicator.c:176:31: warning: 'replicator_driver' defined but not used [-Wunused-variable]
 static struct platform_driver replicator_driver = {
                               ^

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/hwtracing/coresight/coresight-replicator.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/hwtracing/coresight/coresight-replicator.c b/drivers/hwtracing/coresight/coresight-replicator.c
index 963ac19..f333647 100644
--- a/drivers/hwtracing/coresight/coresight-replicator.c
+++ b/drivers/hwtracing/coresight/coresight-replicator.c
@@ -183,7 +183,7 @@ static struct platform_driver replicator_driver = {
 	},
 };
 
-builtin_platform_driver(replicator_driver);
+module_platform_driver(replicator_driver);
 
 MODULE_LICENSE("GPL v2");
 MODULE_DESCRIPTION("CoreSight Replicator driver");
-- 
2.0.2

