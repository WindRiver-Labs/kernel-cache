From 35a2e575d9dbacd1fdd88ca6c032d9c87de43622 Mon Sep 17 00:00:00 2001
From: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date: Mon, 2 Jul 2012 22:30:53 +0200
Subject: dma: move shdma driver to an own directory

The shdma driver is going to be split into multiple files. To make this more
convenient move it to an own directory.

Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Signed-off-by: Vinod Koul <vinod.koul@linux.intel.com>
(cherry picked from commit e95be94b8c25220aca09ed78c176f9b55a1482c8)

Signed-off-by: Simon Horman <horms@verge.net.au>
---
 drivers/dma/Makefile         | 2 +-
 drivers/dma/sh/Makefile      | 1 +
 drivers/dma/{ => sh}/shdma.c | 2 +-
 drivers/dma/{ => sh}/shdma.h | 0
 4 files changed, 3 insertions(+), 2 deletions(-)
 create mode 100644 drivers/dma/sh/Makefile
 rename drivers/dma/{ => sh}/shdma.c (99%)
 rename drivers/dma/{ => sh}/shdma.h (100%)

diff --git a/drivers/dma/Makefile b/drivers/dma/Makefile
index 86b795b..59c10e5 100644
--- a/drivers/dma/Makefile
+++ b/drivers/dma/Makefile
@@ -14,7 +14,7 @@ obj-$(CONFIG_DW_DMAC) += dw_dmac.o
 obj-$(CONFIG_AT_HDMAC) += at_hdmac.o
 obj-$(CONFIG_MX3_IPU) += ipu/
 obj-$(CONFIG_TXX9_DMAC) += txx9dmac.o
-obj-$(CONFIG_SH_DMAE) += shdma.o
+obj-$(CONFIG_SH_DMAE) += sh/
 obj-$(CONFIG_COH901318) += coh901318.o coh901318_lli.o
 obj-$(CONFIG_AMCC_PPC440SPE_ADMA) += ppc4xx/
 obj-$(CONFIG_IMX_SDMA) += imx-sdma.o
diff --git a/drivers/dma/sh/Makefile b/drivers/dma/sh/Makefile
new file mode 100644
index 0000000..ad4981a
--- /dev/null
+++ b/drivers/dma/sh/Makefile
@@ -0,0 +1 @@
+obj-$(CONFIG_SH_DMAE) += shdma.o
diff --git a/drivers/dma/shdma.c b/drivers/dma/sh/shdma.c
similarity index 99%
rename from drivers/dma/shdma.c
rename to drivers/dma/sh/shdma.c
index 19d7a8d..8ab4a1f 100644
--- a/drivers/dma/shdma.c
+++ b/drivers/dma/sh/shdma.c
@@ -31,7 +31,7 @@
 #include <linux/spinlock.h>
 #include <linux/rculist.h>
 
-#include "dmaengine.h"
+#include "../dmaengine.h"
 #include "shdma.h"
 
 /* DMA descriptor control */
diff --git a/drivers/dma/shdma.h b/drivers/dma/sh/shdma.h
similarity index 100%
rename from drivers/dma/shdma.h
rename to drivers/dma/sh/shdma.h
-- 
1.8.0.197.g5a90748

