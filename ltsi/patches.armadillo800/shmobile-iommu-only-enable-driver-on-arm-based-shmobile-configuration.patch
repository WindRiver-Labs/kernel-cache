From dhobsong@igel.co.jp Mon Jan 14 21:42:10 2013
From: Damian Hobson-Garcia <dhobsong@igel.co.jp>
Date: Tue, 15 Jan 2013 14:41:35 +0900
Subject: shmobile/iommu: Only enable driver on ARM based shmobile configuration
To: gregkh@linuxfoundation.org
Cc: ltsi-dev@lists.linuxfoundation.org, Damian Hobson-Garcia <dhobsong@igel.co.jp>
Message-ID: <1358228496-29613-2-git-send-email-dhobsong@igel.co.jp>
Status: RO
Content-Length: 622
Lines: 23


Make sure that the shmobile IOMMU driver cannot be inadvertently enabled
on other platforms.

Signed-off-by: Damian Hobson-Garcia <dhobsong@igel.co.jp>
---
 drivers/iommu/Kconfig |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/iommu/Kconfig
+++ b/drivers/iommu/Kconfig
@@ -165,6 +165,7 @@ config TEGRA_IOMMU_SMMU
 config SHMOBILE_IOMMU
 	bool "IOMMU for Renesas IPMMU/IPMMUI"
 	default n
+	depends on (ARM && ARCH_SHMOBILE)
 	select IOMMU_API
 	select ARM_DMA_USE_IOMMU
 	select SHMOBILE_IPMMU
