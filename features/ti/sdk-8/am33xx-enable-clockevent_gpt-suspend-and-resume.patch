From 6e7ef572fe64279cace6ab600d9591f4bb20a855 Mon Sep 17 00:00:00 2001
From: czou <cao.zou@windriver.com>
Date: Mon, 25 May 2015 04:53:28 +0000
Subject: [PATCH] am33xx: enable clockevent_gpt suspend and resume

clockevent_gpt doesn't suspend when system entries deep sleep,
it blocks system intrying really low power state.

Signed-off-by: czou <cao.zou@windriver.com>
---
 arch/arm/mach-omap2/timer.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-omap2/timer.c b/arch/arm/mach-omap2/timer.c
index cf1b936..cd71cf1 100644
--- a/arch/arm/mach-omap2/timer.c
+++ b/arch/arm/mach-omap2/timer.c
@@ -401,7 +401,7 @@ static void __init omap2_gp_clockevent_init(int gptimer_id,
 					3, /* Timer internal resynch latency */
 					0xffffffff);
 
-	if (soc_is_am43xx()) {
+	if (soc_is_am33xx() || soc_is_am43xx()) {
 		clockevent_gpt.suspend = omap_clkevt_suspend;
 		clockevent_gpt.resume = omap_clkevt_resume;
 
-- 
1.7.5.4

