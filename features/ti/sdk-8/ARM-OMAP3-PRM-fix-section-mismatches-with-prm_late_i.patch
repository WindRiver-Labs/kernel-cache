From 033020f5cf019de954855209b070a5317d464aba Mon Sep 17 00:00:00 2001
From: Tero Kristo <t-kristo@ti.com>
Date: Wed, 18 Jun 2014 19:35:51 +0300
Subject: [PATCH 0513/1587] ARM: OMAP3+: PRM: fix section mismatches with
 prm_late_init calls

Upstream commit b550e47f5e9e74999f754371bdc79331d19f84a3 caused a couple
of section mismatches with prm_late_init calls. These were fixed silently
in an upstream merge ea351c1603df0607b68eb4663b82ba7a70519d2e.

While cherry-picking patches from upstream, the original patch was taken
in as 337616ebb7b9cc73f2d267ceb9a65bb41b71e70c but the section mismatch
fix was missed. Thus, this patch is now applied to fix the mismatch
errors.

Signed-off-by: Tero Kristo <t-kristo@ti.com>
[zou: Original patch taken from
ti-sdk-am335x-evm-08.00.00.00-Linux-x86-Install.bin]
Signed-off-by: Cao Zou <cao.zou@windriver.com>
---
 arch/arm/mach-omap2/prm3xxx.c |    2 +-
 arch/arm/mach-omap2/prm44xx.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-omap2/prm3xxx.c b/arch/arm/mach-omap2/prm3xxx.c
index 4a792fd..4bd7a2d 100644
--- a/arch/arm/mach-omap2/prm3xxx.c
+++ b/arch/arm/mach-omap2/prm3xxx.c
@@ -416,7 +416,7 @@ int __init omap3xxx_prm_init(void)
 	return prm_register(&omap3xxx_prm_ll_data);
 }
 
-static int __init omap3xxx_prm_late_init(void)
+static int omap3xxx_prm_late_init(void)
 {
 	int ret;
 
diff --git a/arch/arm/mach-omap2/prm44xx.c b/arch/arm/mach-omap2/prm44xx.c
index 63d9730..5fe9e76 100644
--- a/arch/arm/mach-omap2/prm44xx.c
+++ b/arch/arm/mach-omap2/prm44xx.c
@@ -670,7 +670,7 @@ int __init omap44xx_prm_init(void)
 	return prm_register(&omap44xx_prm_ll_data);
 }
 
-static int __init omap44xx_prm_late_init(void)
+static int omap44xx_prm_late_init(void)
 {
 
 	if (!(prm_features & PRM_HAS_IO_WAKEUP))
-- 
1.7.5.4

