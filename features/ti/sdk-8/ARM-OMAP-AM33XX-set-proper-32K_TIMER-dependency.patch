From 2f17724db7f2a477d1068a96bd5b703509e229e8 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Wed, 26 Mar 2014 16:40:21 +0800
Subject: [PATCH 3/4] ARM: OMAP: AM33XX: set proper 32K_TIMER dependency

This patch is to set proper dependency between 32K_TIMER
and SOC_AM33XX, otherwise the board might be stall when
CONFIG_TREE_RCU_TRACE on. becuase AM33XX has no 32K timer
at all.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm/plat-omap/Kconfig |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/plat-omap/Kconfig b/arch/arm/plat-omap/Kconfig
index 02fc10d..7d8c062 100644
--- a/arch/arm/plat-omap/Kconfig
+++ b/arch/arm/plat-omap/Kconfig
@@ -96,7 +96,7 @@ config OMAP_MPU_TIMER
 
 config OMAP_32K_TIMER
 	bool "Use 32KHz timer"
-	depends on ARCH_OMAP16XX || ARCH_OMAP2PLUS
+	depends on ARCH_OMAP16XX || ARCH_OMAP2PLUS && !SOC_AM33XX
 	default y if (ARCH_OMAP16XX || ARCH_OMAP2PLUS)
 	help
 	  Select this option if you want to enable the OMAP 32KHz timer.
-- 
1.7.5.4

