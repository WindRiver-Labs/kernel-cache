From 7f663b7e1d0da65ba7f9ed5ac57a1a5b0b0768db Mon Sep 17 00:00:00 2001
From: Dave Gerlach <d-gerlach@ti.com>
Date: Mon, 28 Jul 2014 22:35:34 -0500
Subject: [PATCH 0883/1587] ARM: OMAP2+: Add stub for omap4_get_l2cache_base

In the event that CONFIG_CACHE_L2X0 is not defined, a call to
omap4_get_l2cache_base will cause built failure, however it should be
possible to build without this selected.

Signed-off-by: Dave Gerlach <d-gerlach@ti.com>
[zou: Original patch taken from
ti-sdk-am335x-evm-08.00.00.00-Linux-x86-Install.bin]
Signed-off-by: Cao Zou <cao.zou@windriver.com>
---
 arch/arm/mach-omap2/common.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-omap2/common.h b/arch/arm/mach-omap2/common.h
index 28b5d83..8342257 100644
--- a/arch/arm/mach-omap2/common.h
+++ b/arch/arm/mach-omap2/common.h
@@ -217,6 +217,11 @@ void omap_gic_of_init(void);
 
 #ifdef CONFIG_CACHE_L2X0
 extern void __iomem *omap4_get_l2cache_base(void);
+#else
+static inline void __iomem *omap4_get_l2cache_base(void)
+{
+	return NULL;
+}
 #endif
 
 struct device_node;
-- 
1.7.5.4

