From d7cf0f658ff4f47aaa413b279cc001da86b63e05 Mon Sep 17 00:00:00 2001
From: Benoit Parrot <bparrot@ti.com>
Date: Thu, 20 Nov 2014 17:12:14 -0600
Subject: [PATCH 1439/1587] media: ti-vpe: Enabling CONFIG_VIDEO_TI_VPE_DEBUG
 enables debug in all files

Enabling CONFIG_VIDEO_TI_VPE_DEBUG currently enables -DDEBUG
for every files under ti-vpe not just vpe itself.

Signed-off-by: Benoit Parrot <bparrot@ti.com>
[zou: Original patch taken from
ti-sdk-am335x-evm-08.00.00.00-Linux-x86-Install.bin]
Signed-off-by: Cao Zou <cao.zou@windriver.com>
---
 drivers/media/platform/ti-vpe/Makefile |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

diff --git a/drivers/media/platform/ti-vpe/Makefile b/drivers/media/platform/ti-vpe/Makefile
index 98d8e63..67a3646 100644
--- a/drivers/media/platform/ti-vpe/Makefile
+++ b/drivers/media/platform/ti-vpe/Makefile
@@ -2,8 +2,14 @@ obj-$(CONFIG_VIDEO_TI_VPE) += ti-vpe.o
 obj-$(CONFIG_VIDEO_TI_VIP) += ti-vip.o
 obj-$(CONFIG_VIDEO_TI_VPDMA_HELPER) += ti-vpdma.o
 
+ifdef CONFIG_VIDEO_TI_VPE_DEBUG
+CFLAGS_vpe.o := -DDEBUG
+CFLAGS_csc.o := -DDEBUG
+CFLAGS_sc.o := -DDEBUG
+endif
+
 ti-vpe-y := vpe.o sc.o csc.o
 ti-vip-y := vip.o
 ti-vpdma-y := vpdma.o
 
-ccflags-$(CONFIG_VIDEO_TI_VPE_DEBUG) += -DDEBUG
+#ccflags-$(CONFIG_VIDEO_TI_VPE_DEBUG) += -DDEBUG
-- 
1.7.5.4

