From bca86e44bf133826f3db8dc7e7d498eff60355da Mon Sep 17 00:00:00 2001
From: Sebastian Andrzej Siewior <bigeasy@linutronix.de>
Date: Mon, 20 Oct 2014 12:08:03 +0200
Subject: [PATCH 1285/1587] ARM: dts: am335x-evmsk: enable second USB
 controller

The first port is hard wired to a USB-HUB and should be operated in
device mode (or OTG). The second port (which is enabled by this patch)
is wired to a host port. However the ID-pin isn't so we have to force
host mode here.
There is no match thing upstream commit for this because upstream has
already both ports enabled with USB1 forced in host mode.

Signed-off-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>
[nsekhar@ti.com: made it explicit that USB1 is forced in host
                 mode even in upstream]
Signed-off-by: Sekhar Nori <nsekhar@ti.com>
[zou: Original patch taken from
ti-sdk-am335x-evm-08.00.00.00-Linux-x86-Install.bin]
Signed-off-by: Cao Zou <cao.zou@windriver.com>
---
 arch/arm/boot/dts/am335x-evmsk.dts |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

diff --git a/arch/arm/boot/dts/am335x-evmsk.dts b/arch/arm/boot/dts/am335x-evmsk.dts
index 208970d..e6c5bde 100644
--- a/arch/arm/boot/dts/am335x-evmsk.dts
+++ b/arch/arm/boot/dts/am335x-evmsk.dts
@@ -538,9 +538,17 @@
 		status = "okay";
 	};
 
-	dma-controller@07402000  {
+	dma-controller@47402000  {
 		status = "okay";
 	};
+
+	usb-phy@47401b00 {
+		status = "okay";
+	};
+	usb@47401800 {
+		status = "okay";
+		dr_mode = "host";
+	};
 };
 
 &epwmss2 {
-- 
1.7.5.4

