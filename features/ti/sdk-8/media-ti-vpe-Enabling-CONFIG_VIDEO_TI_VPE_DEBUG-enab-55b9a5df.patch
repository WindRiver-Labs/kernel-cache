From 80d86b9173c631ace2a5ae1da093c553777b6e29 Mon Sep 17 00:00:00 2001
From: Benoit Parrot <bparrot@ti.com>
Date: Wed, 3 Dec 2014 12:47:52 -0600
Subject: [PATCH 1494/1587] media: ti-vpe: Enabling CONFIG_VIDEO_TI_VPE_DEBUG
 enables debug in all files

Enabling CONFIG_VIDEO_TI_VPE_DEBUG currently enables -DDEBUG
for every files under ti-vpe not just vpe itself.

Signed-off-by: Benoit Parrot <bparrot@ti.com>
Signed-off-by: Jyri Sarha <jsarha@ti.com>
[zou: Original patch taken from
ti-sdk-am335x-evm-08.00.00.00-Linux-x86-Install.bin]
Signed-off-by: Cao Zou <cao.zou@windriver.com>
---
 drivers/media/platform/ti-vpe/Makefile |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

diff --git a/drivers/media/platform/ti-vpe/Makefile b/drivers/media/platform/ti-vpe/Makefile
index 98d8e63..3ac9c20 100644
--- a/drivers/media/platform/ti-vpe/Makefile
+++ b/drivers/media/platform/ti-vpe/Makefile
@@ -2,8 +2,13 @@ obj-$(CONFIG_VIDEO_TI_VPE) += ti-vpe.o
 obj-$(CONFIG_VIDEO_TI_VIP) += ti-vip.o
 obj-$(CONFIG_VIDEO_TI_VPDMA_HELPER) += ti-vpdma.o
 
+ifdef CONFIG_VIDEO_TI_VPE_DEBUG
+CFLAGS_vpe.o := -DDEBUG
+CFLAGS_csc.o := -DDEBUG
+CFLAGS_sc.o := -DDEBUG
+endif
+
 ti-vpe-y := vpe.o sc.o csc.o
 ti-vip-y := vip.o
 ti-vpdma-y := vpdma.o
 
-ccflags-$(CONFIG_VIDEO_TI_VPE_DEBUG) += -DDEBUG
-- 
1.7.5.4

