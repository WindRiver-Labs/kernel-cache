From 85b79e7530f156de5cfc90e30d63341bbef6cbe4 Mon Sep 17 00:00:00 2001
From: "Franklin S. Cooper Jr" <fcooper@ti.com>
Date: Fri, 6 Feb 2015 17:52:18 -0600
Subject: [PATCH 1579/1587] *-omap2plus_defconfig: Set
 CONFIG_DISPLAY_PANEL_DPI as inbuilt

* Setting CONFIG_DISPLAY_PANEL_DPI as a module prevent psplash from working
  due to psplash running before udev and failing to load since fb0 doesn't exist
  yet.
* By building it into the kernel this problem is fixed and psplash works.

Signed-off-by: Franklin S. Cooper Jr <fcooper@ti.com>
[zou: Original patch taken from
ti-sdk-am335x-evm-08.00.00.00-Linux-x86-Install.bin]
Signed-off-by: Cao Zou <cao.zou@windriver.com>
---
 arch/arm/configs/multicore-omap2plus_defconfig  |    2 +-
 arch/arm/configs/singlecore-omap2plus_defconfig |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/configs/multicore-omap2plus_defconfig b/arch/arm/configs/multicore-omap2plus_defconfig
index 4f79d72..34b9c2c 100644
--- a/arch/arm/configs/multicore-omap2plus_defconfig
+++ b/arch/arm/configs/multicore-omap2plus_defconfig
@@ -2842,7 +2842,7 @@ CONFIG_DISPLAY_ENCODER_SII9022_AUDIO_CODEC=y
 CONFIG_DISPLAY_CONNECTOR_DVI=m
 CONFIG_DISPLAY_CONNECTOR_HDMI=y
 # CONFIG_DISPLAY_CONNECTOR_ANALOG_TV is not set
-CONFIG_DISPLAY_PANEL_DPI=m
+CONFIG_DISPLAY_PANEL_DPI=y
 # CONFIG_DISPLAY_PANEL_DSI_CM is not set
 # CONFIG_DISPLAY_PANEL_SONY_ACX565AKM is not set
 # CONFIG_DISPLAY_PANEL_LGPHILIPS_LB035Q02 is not set
diff --git a/arch/arm/configs/singlecore-omap2plus_defconfig b/arch/arm/configs/singlecore-omap2plus_defconfig
index c4f1d11..7065cb1 100644
--- a/arch/arm/configs/singlecore-omap2plus_defconfig
+++ b/arch/arm/configs/singlecore-omap2plus_defconfig
@@ -2806,7 +2806,7 @@ CONFIG_DISPLAY_ENCODER_SII9022_AUDIO_CODEC=y
 CONFIG_DISPLAY_CONNECTOR_DVI=m
 CONFIG_DISPLAY_CONNECTOR_HDMI=y
 # CONFIG_DISPLAY_CONNECTOR_ANALOG_TV is not set
-CONFIG_DISPLAY_PANEL_DPI=m
+CONFIG_DISPLAY_PANEL_DPI=y
 # CONFIG_DISPLAY_PANEL_DSI_CM is not set
 # CONFIG_DISPLAY_PANEL_SONY_ACX565AKM is not set
 # CONFIG_DISPLAY_PANEL_LGPHILIPS_LB035Q02 is not set
-- 
1.7.5.4

