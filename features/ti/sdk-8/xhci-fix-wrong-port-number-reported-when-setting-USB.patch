From 014f9f9b803faf8fdcb5dd1f5c082d2a81c40939 Mon Sep 17 00:00:00 2001
From: Lin Wang <bupt.wanglin@gmail.com>
Date: Thu, 8 May 2014 19:25:54 +0300
Subject: [PATCH 1419/1587] xhci: fix wrong port number reported when setting
 USB2.0 hardware LPM.

commit 654a55d34f880bb56b3cebab53771a09a404a1f8 upstream

This patch fix wrong port number reported when trying to enable/disable
USB2.0 hardware LPM.

Signed-off-by: Lin Wang <lin.x.wang@intel.com>
Signed-off-by: Mathias Nyman <mathias.nyman@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
---
 drivers/usb/host/xhci.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/usb/host/xhci.c b/drivers/usb/host/xhci.c
index 4c3b994..57188e7 100644
--- a/drivers/usb/host/xhci.c
+++ b/drivers/usb/host/xhci.c
@@ -4127,7 +4127,7 @@ int xhci_set_usb2_hardware_lpm(struct usb_hcd *hcd,
 	field = le32_to_cpu(udev->bos->ext_cap->bmAttributes);
 
 	xhci_dbg(xhci, "%s port %d USB2 hardware LPM\n",
-			enable ? "enable" : "disable", port_num);
+			enable ? "enable" : "disable", port_num + 1);
 
 	if (enable) {
 		/* Host supports BESL timeout instead of HIRD */
-- 
1.7.5.4

