From 2d875e834b4b65761002f5fd28f26867a4b70c57 Mon Sep 17 00:00:00 2001
From: Erez Zadok <ezk@cs.sunysb.edu>
Date: Fri, 10 Feb 2012 15:36:36 -0500
Subject: [PATCH] Unionfs: use mode_t

commit dba53016f577 from unionfs upstream
git://git.fsl.cs.sunysb.edu/unionfs-latest.git

Signed-off-by: Erez Zadok <ezk@cs.sunysb.edu>
Signed-off-by: Mark Asselstine <mark.asselstine@windriver.com>
---
 fs/unionfs/inode.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/fs/unionfs/inode.c b/fs/unionfs/inode.c
index f016860..c09eb6d 100644
--- a/fs/unionfs/inode.c
+++ b/fs/unionfs/inode.c
@@ -97,7 +97,7 @@ out:
 }
 
 static int unionfs_create(struct inode *dir, struct dentry *dentry,
-			  int mode, struct nameidata *nd_unused)
+			  umode_t mode, struct nameidata *nd_unused)
 {
 	int err = 0;
 	struct dentry *lower_dentry = NULL;
@@ -423,7 +423,7 @@ out:
 	return err;
 }
 
-static int unionfs_mkdir(struct inode *dir, struct dentry *dentry, int mode)
+static int unionfs_mkdir(struct inode *dir, struct dentry *dentry, umode_t mode)
 {
 	int err = 0;
 	struct dentry *lower_dentry = NULL;
@@ -547,7 +547,7 @@ out:
 	return err;
 }
 
-static int unionfs_mknod(struct inode *dir, struct dentry *dentry, int mode,
+static int unionfs_mknod(struct inode *dir, struct dentry *dentry, umode_t mode,
 			 dev_t dev)
 {
 	int err = 0;
-- 
1.7.5.4

