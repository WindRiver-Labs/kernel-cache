From e366b5d5e00861f3134bef13bb7b72da4fa657bd Mon Sep 17 00:00:00 2001
From: Hong H. Pham <hong.pham@windriver.com>
Date: Thu, 6 Nov 2008 22:38:31 -0500
Subject: [PATCH] pmem sparc64 integration

Add SPARC64 definitions for PMEM.

Signed-off-by: Hong H. Pham <hong.pham@windriver.com>
---
 include/linux/pmem.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/include/linux/pmem.h b/include/linux/pmem.h
index 57d412b..62ebbd8 100644
--- a/include/linux/pmem.h
+++ b/include/linux/pmem.h
@@ -91,16 +91,17 @@
 #define CTRL_ACTIVE_SEGMENT_FILE	"active_segment"
 
 /* Persistent memory architecture definitions */
 #define PMEM_ARCH_PPC32		1
 #define PMEM_ARCH_X86		2
 #define PMEM_ARCH_ARM		3
 #define PMEM_ARCH_PPC64		4
 #define PMEM_ARCH_MIPS64	5
+#define PMEM_ARCH_SPARC64	6
 
 
 /* Persistent memory endianess definitions */
 #if defined (__LITTLE_ENDIAN_BITFIELD)
 #define PMEM_ARCH_LITTLE_ENDIAN	1	
 #elif defined (__BIG_ENDIAN_BITFIELD)
 #define PMEM_ARCH_LITTLE_ENDIAN	0	
 #else
@@ -361,16 +362,18 @@ struct pmem_region_hdr {
 #elif defined(CONFIG_X86)
 #define PMEM_ARCH_LOCAL  PMEM_ARCH_X86
 #elif defined(CONFIG_ARM)
 #define PMEM_ARCH_LOCAL  PMEM_ARCH_ARM
 #elif defined(CONFIG_MIPS64)
 #define PMEM_ARCH_LOCAL  PMEM_ARCH_MIPS64
 #elif defined(CONFIG_PPC64)
 #define PMEM_ARCH_LOCAL  PMEM_ARCH_PPC64
+#elif defined(CONFIG_SPARC64)
+#define PMEM_ARCH_LOCAL  PMEM_ARCH_SPARC64
 #else
 #error "Unknown host architecture"
 #endif
 
 /* Macros */
 
 /* Get header structures */
 #define PMEM_GET_ALLOC_DESC(index) \
-- 
1.5.5.1

