From 2f0158dd2fc9765571e6f6f70ba1fd5523cfda36 Mon Sep 17 00:00:00 2001
From: Ruan Zhengwang <zhengwang.ruan@windriver.com>
Date: Wed, 10 Apr 2013 13:38:14 +0800
Subject: [PATCH 2/2] fsl-p10xx/p1022: remove ehci controller compatible
 property

Remove ehci controller compatible property. If ehci controller
version is 1.6 or above, we need to check PHY_CLK_VALID to avoid
that kernel booting up will hang during USB initialization while
missing USB PHY clock.

Signed-off-by: Ruan Zhengwang <zhengwang.ruan@windriver.com>
---
 arch/powerpc/boot/dts/fsl/p1022si-post.dtsi |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi b/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi
index 3f3fc1e..e507f77 100644
--- a/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi
+++ b/arch/powerpc/boot/dts/fsl/p1022si-post.dtsi
@@ -205,11 +205,11 @@
 /include/ "pq3-dma-0.dtsi"
 /include/ "pq3-usb2-dr-0.dtsi"
 	usb@22000 {
-		compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
+		compatible = "fsl-usb2-dr";
 	};
 /include/ "pq3-usb2-dr-1.dtsi"
 	usb@23000 {
-		compatible = "fsl-usb2-dr-v1.6", "fsl-usb2-dr";
+		compatible = "fsl-usb2-dr";
 	};
 
 /include/ "pq3-esdhc-0.dtsi"
-- 
1.7.5.4

