From 2c6d22e0c015cfcb89de79e65904e26c53aa2673 Mon Sep 17 00:00:00 2001
From: Yangbo Lu <yangbo.lu@freescale.com>
Date: Thu, 5 Nov 2015 13:46:52 +0800
Subject: [PATCH 1379/1429] gianfar: fix endianness in ptp driver

Signed-off-by: Yangbo Lu <yangbo.lu@nxp.com>
[Original patch taken from QorIQ-SDK-V2.0-20160527-yocto]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/ethernet/freescale/gianfar_ptp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/ethernet/freescale/gianfar_ptp.c b/drivers/net/ethernet/freescale/gianfar_ptp.c
index b40fba9..a86145c 100644
--- a/drivers/net/ethernet/freescale/gianfar_ptp.c
+++ b/drivers/net/ethernet/freescale/gianfar_ptp.c
@@ -431,7 +431,7 @@ static int get_of_u32(struct device_node *node, char *str, u32 *val)
 
 	if (!prop || plen != sizeof(*prop))
 		return -1;
-	*val = *prop;
+	*val = be32_to_cpu(*prop);
 	return 0;
 }
 
-- 
1.7.5.4

