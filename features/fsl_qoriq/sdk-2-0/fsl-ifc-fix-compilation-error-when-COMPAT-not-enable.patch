From 4b9dcfa9750dab8c47f9a4e02fe9463c9ffdee40 Mon Sep 17 00:00:00 2001
From: Lijun Pan <Lijun.Pan@freescale.com>
Date: Wed, 23 Sep 2015 17:06:01 -0500
Subject: [PATCH 1184/1429] fsl-ifc: fix compilation error when COMPAT not
 enabled

When CONFIG_COMPAT is not enabled for cases when 64K pages
are enabled, there are a series of include dependencies that
result in some definitions in sched.h that get missed (e.g.
 TASK_NORMAL).  Explictly include sched.h to resolve this.
(This seems to be what other drivers do as well)

Signed-off-by: Lijun Pan <Lijun.Pan@freescale.com>
[Stuart: updated subject and commit message]
Signed-off-by: Stuart Yoder <stuart.yoder@freescale.com>
[Original patch taken from QorIQ-SDK-V2.0-20160527-yocto]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/memory/fsl_ifc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/memory/fsl_ifc.c b/drivers/memory/fsl_ifc.c
index 8056505..bd2b9b1 100644
--- a/drivers/memory/fsl_ifc.c
+++ b/drivers/memory/fsl_ifc.c
@@ -34,6 +34,7 @@
 #include <linux/irqdomain.h>
 #include <linux/of_address.h>
 #include <linux/of_irq.h>
+#include <linux/sched.h>
 
 struct fsl_ifc_ctrl *fsl_ifc_ctrl_dev;
 EXPORT_SYMBOL(fsl_ifc_ctrl_dev);
-- 
1.7.5.4

