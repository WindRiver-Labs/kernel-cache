From 8ddeaa1ec653e66b5ff115ed6d9dc70769bb82b9 Mon Sep 17 00:00:00 2001
From: Zhao Qiang <qiang.zhao@nxp.com>
Date: Thu, 10 Mar 2016 10:11:47 +0800
Subject: [PATCH 1188/1429] board: t1024rdb: modify ucc use to hdlc and uart
 as default

Signed-off-by: Zhao Qiang <qiang.zhao@nxp.com>
[Original patch taken from QorIQ-SDK-V2.0-20160527-yocto]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/powerpc/boot/dts/fsl/t1024rdb.dts |   20 +++++++-------------
 1 files changed, 7 insertions(+), 13 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/t1024rdb.dts b/arch/powerpc/boot/dts/fsl/t1024rdb.dts
index b8e4d9a..bba9dc0 100644
--- a/arch/powerpc/boot/dts/fsl/t1024rdb.dts
+++ b/arch/powerpc/boot/dts/fsl/t1024rdb.dts
@@ -260,8 +260,8 @@
 			reg = <0x1000 0x800>;
 		};
 
-		tdma: ucc@2000 {
-			compatible = "fsl,ucc-tdm";
+		ucc_hdlc: ucc@2000 {
+			compatible = "fsl,ucc_hdlc";
 			rx-clock-name = "clk8";
 			tx-clock-name = "clk9";
 			fsl,rx-sync-clock = "rsync_pin";
@@ -272,21 +272,15 @@
 			fsl,tdm-mode = "normal";
 			fsl,tdm-id = <0>;
 			fsl,siram-entry-id = <0>;
+			fsl,tdm-interface;
 		};
 
-		ucc@2200 {
-			compatible = "fsl,ucc_hdlc";
+		ucc_serial: ucc@2200 {
+			device_type = "serial";
+			compatible = "ucc_uart";
+			port-number = <0>;
 			rx-clock-name = "brg2";
 			tx-clock-name = "brg2";
-			fsl,rx-sync-clock = "none";
-			fsl,tx-sync-clock = "none";
-			fsl,tx-timeslot = <0xfffffffe>;
-			fsl,rx-timeslot = <0xfffffffe>;
-			fsl,tdm-framer-type = "e1";
-			fsl,tdm-mode = "normal";
-			fsl,tdm-id = <1>;
-			fsl,siram-entry-id = <2>;
-			fsl,inter-loopback;
 		};
 	};
 
-- 
1.7.5.4

