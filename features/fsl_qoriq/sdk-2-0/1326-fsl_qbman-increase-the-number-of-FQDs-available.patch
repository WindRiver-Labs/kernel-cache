From fe82c5ece735dc04031c4706eac4919f72bd7a60 Mon Sep 17 00:00:00 2001
From: Alex Porosanu <alexandru.porosanu@nxp.com>
Date: Wed, 27 Apr 2016 17:50:39 +0300
Subject: [PATCH 1326/1383] fsl_qbman: increase the number of FQDs available

In order to support the two-tiered priority RX FQs of
dpa_eth, the number of FQDs needs to be doubled.
This patch modifies the relevant memory reservation(s)
accordingly.

Signed-off-by: Alex Porosanu <alexandru.porosanu@nxp.com>
[Original patch taken from QorIQ-SDK-V2.0-20160527-yocto]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls1043a-uefi.dtsi | 4 ++--
 arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi      | 4 ++--
 arch/powerpc/boot/dts/fsl/b4qds.dtsi                | 4 ++--
 arch/powerpc/boot/dts/fsl/p1023rdb.dts              | 4 ++--
 arch/powerpc/boot/dts/fsl/p2041rdb.dts              | 4 ++--
 arch/powerpc/boot/dts/fsl/p3041ds.dts               | 4 ++--
 arch/powerpc/boot/dts/fsl/p4080ds.dts               | 4 ++--
 arch/powerpc/boot/dts/fsl/p5020ds.dts               | 4 ++--
 arch/powerpc/boot/dts/fsl/p5040ds.dts               | 4 ++--
 arch/powerpc/boot/dts/fsl/t1023rdb.dts              | 4 ++--
 arch/powerpc/boot/dts/fsl/t1024qds.dts              | 4 ++--
 arch/powerpc/boot/dts/fsl/t1024rdb.dts              | 4 ++--
 arch/powerpc/boot/dts/fsl/t104xd4rdb.dtsi           | 4 ++--
 arch/powerpc/boot/dts/fsl/t104xqds.dtsi             | 4 ++--
 arch/powerpc/boot/dts/fsl/t104xrdb.dtsi             | 4 ++--
 arch/powerpc/boot/dts/fsl/t208xqds.dtsi             | 4 ++--
 arch/powerpc/boot/dts/fsl/t208xrdb.dtsi             | 4 ++--
 arch/powerpc/boot/dts/fsl/t4240qds.dts              | 4 ++--
 arch/powerpc/boot/dts/fsl/t4240rdb.dts              | 4 ++--
 19 files changed, 38 insertions(+), 38 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1043a-uefi.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1043a-uefi.dtsi
index 2a8c690..17c3d4f 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1043a-uefi.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1043a-uefi.dtsi
@@ -1140,8 +1140,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
index a1b3bb1..06b93dc 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1043a.dtsi
@@ -1129,8 +1129,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/b4qds.dtsi b/arch/powerpc/boot/dts/fsl/b4qds.dtsi
index c144449..8817603 100644
--- a/arch/powerpc/boot/dts/fsl/b4qds.dtsi
+++ b/arch/powerpc/boot/dts/fsl/b4qds.dtsi
@@ -112,8 +112,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/p1023rdb.dts b/arch/powerpc/boot/dts/fsl/p1023rdb.dts
index 9001a9d..87fde65 100644
--- a/arch/powerpc/boot/dts/fsl/p1023rdb.dts
+++ b/arch/powerpc/boot/dts/fsl/p1023rdb.dts
@@ -62,8 +62,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/p2041rdb.dts b/arch/powerpc/boot/dts/fsl/p2041rdb.dts
index cd6c8a6..2a2e0d7 100644
--- a/arch/powerpc/boot/dts/fsl/p2041rdb.dts
+++ b/arch/powerpc/boot/dts/fsl/p2041rdb.dts
@@ -74,8 +74,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/p3041ds.dts b/arch/powerpc/boot/dts/fsl/p3041ds.dts
index f3e1441..eec674e 100644
--- a/arch/powerpc/boot/dts/fsl/p3041ds.dts
+++ b/arch/powerpc/boot/dts/fsl/p3041ds.dts
@@ -75,8 +75,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/p4080ds.dts b/arch/powerpc/boot/dts/fsl/p4080ds.dts
index ac0bee7..e9215c0 100644
--- a/arch/powerpc/boot/dts/fsl/p4080ds.dts
+++ b/arch/powerpc/boot/dts/fsl/p4080ds.dts
@@ -79,8 +79,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/p5020ds.dts b/arch/powerpc/boot/dts/fsl/p5020ds.dts
index 7380edf..8a3b0b1 100644
--- a/arch/powerpc/boot/dts/fsl/p5020ds.dts
+++ b/arch/powerpc/boot/dts/fsl/p5020ds.dts
@@ -75,8 +75,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/p5040ds.dts b/arch/powerpc/boot/dts/fsl/p5040ds.dts
index 268f0ca..e28abd5 100644
--- a/arch/powerpc/boot/dts/fsl/p5040ds.dts
+++ b/arch/powerpc/boot/dts/fsl/p5040ds.dts
@@ -98,8 +98,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t1023rdb.dts b/arch/powerpc/boot/dts/fsl/t1023rdb.dts
index 8b7bb67..bb3a97a 100644
--- a/arch/powerpc/boot/dts/fsl/t1023rdb.dts
+++ b/arch/powerpc/boot/dts/fsl/t1023rdb.dts
@@ -51,8 +51,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t1024qds.dts b/arch/powerpc/boot/dts/fsl/t1024qds.dts
index 1e8c965..ca15bd3 100644
--- a/arch/powerpc/boot/dts/fsl/t1024qds.dts
+++ b/arch/powerpc/boot/dts/fsl/t1024qds.dts
@@ -52,8 +52,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t1024rdb.dts b/arch/powerpc/boot/dts/fsl/t1024rdb.dts
index bba9dc0..d8c6587 100644
--- a/arch/powerpc/boot/dts/fsl/t1024rdb.dts
+++ b/arch/powerpc/boot/dts/fsl/t1024rdb.dts
@@ -55,8 +55,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t104xd4rdb.dtsi b/arch/powerpc/boot/dts/fsl/t104xd4rdb.dtsi
index 891d499..f4e7919 100644
--- a/arch/powerpc/boot/dts/fsl/t104xd4rdb.dtsi
+++ b/arch/powerpc/boot/dts/fsl/t104xd4rdb.dtsi
@@ -43,8 +43,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t104xqds.dtsi b/arch/powerpc/boot/dts/fsl/t104xqds.dtsi
index 7f0a418..7a136db 100644
--- a/arch/powerpc/boot/dts/fsl/t104xqds.dtsi
+++ b/arch/powerpc/boot/dts/fsl/t104xqds.dtsi
@@ -75,8 +75,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t104xrdb.dtsi b/arch/powerpc/boot/dts/fsl/t104xrdb.dtsi
index 9d31bf5..e9d4800 100644
--- a/arch/powerpc/boot/dts/fsl/t104xrdb.dtsi
+++ b/arch/powerpc/boot/dts/fsl/t104xrdb.dtsi
@@ -43,8 +43,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t208xqds.dtsi b/arch/powerpc/boot/dts/fsl/t208xqds.dtsi
index ac8cf8d..327b919 100644
--- a/arch/powerpc/boot/dts/fsl/t208xqds.dtsi
+++ b/arch/powerpc/boot/dts/fsl/t208xqds.dtsi
@@ -49,8 +49,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t208xrdb.dtsi b/arch/powerpc/boot/dts/fsl/t208xrdb.dtsi
index af90476..26ed4dc 100644
--- a/arch/powerpc/boot/dts/fsl/t208xrdb.dtsi
+++ b/arch/powerpc/boot/dts/fsl/t208xrdb.dtsi
@@ -49,8 +49,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t4240qds.dts b/arch/powerpc/boot/dts/fsl/t4240qds.dts
index aba5ce0..021e1d9 100644
--- a/arch/powerpc/boot/dts/fsl/t4240qds.dts
+++ b/arch/powerpc/boot/dts/fsl/t4240qds.dts
@@ -305,8 +305,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
diff --git a/arch/powerpc/boot/dts/fsl/t4240rdb.dts b/arch/powerpc/boot/dts/fsl/t4240rdb.dts
index 50e0bb1..0c71aaa 100644
--- a/arch/powerpc/boot/dts/fsl/t4240rdb.dts
+++ b/arch/powerpc/boot/dts/fsl/t4240rdb.dts
@@ -106,8 +106,8 @@
 			alignment = <0 0x1000000>;
 		};
 		qman_fqd: qman-fqd {
-			size = <0 0x400000>;
-			alignment = <0 0x400000>;
+			size = <0 0x800000>;
+			alignment = <0 0x800000>;
 		};
 		qman_pfdr: qman-pfdr {
 			size = <0 0x2000000>;
-- 
2.8.1

