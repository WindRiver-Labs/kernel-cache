From 09ee8b5dd1727492622a6d22ce06148d66115c30 Mon Sep 17 00:00:00 2001
From: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
Date: Wed, 29 Jul 2015 12:47:16 +0300
Subject: [PATCH 0732/1429] net: pktgen: Remove unused 'allocated_skbs' field

commit 1ce4b2f44df74bac91ff5ddcbf903572577005bc upstream

Field pktgen_dev.allocated_skbs had been written to, but never read
from. The number of allocated skbs can be deduced anyway, from the total
number of sent packets and the 'clone_skb' param.

Signed-off-by: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 net/core/pktgen.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/net/core/pktgen.c b/net/core/pktgen.c
index 83e484e..fe200fc 100644
--- a/net/core/pktgen.c
+++ b/net/core/pktgen.c
@@ -268,7 +268,6 @@ struct pktgen_dev {
 
 	/* runtime counters relating to clone_skb */
 
-	__u64 allocated_skbs;
 	__u32 clone_count;
 	int last_ok;		/* Was last skb sent?
 				 * Or a failed transmit of some sort?
@@ -3348,7 +3347,6 @@ static void pktgen_xmit(struct pktgen_dev *pkt_dev)
 			return;
 		}
 		pkt_dev->last_pkt_size = pkt_dev->skb->len;
-		pkt_dev->allocated_skbs++;
 		pkt_dev->clone_count = 0;	/* reset counter */
 	}
 
-- 
1.7.5.4

