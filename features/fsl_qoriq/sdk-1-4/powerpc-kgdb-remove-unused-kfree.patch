From fd196647136772c2180a2bd1376fc8a463fabcfb Mon Sep 17 00:00:00 2001
From: Bin Jiang <bin.jiang@windriver.com>
Date: Fri, 27 Sep 2013 13:38:41 +0800
Subject: [PATCH 5/7] powerpc/kgdb: remove unused kfree()

In commit "powerpc/kgdb: use DEFINE_PER_CPU to allocate kgdb's thread_info",
kmalloc() is removed, but forget to remove kfree().

Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/powerpc/kernel/kgdb.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/arch/powerpc/kernel/kgdb.c b/arch/powerpc/kernel/kgdb.c
index 36fed2c..bea99bb 100644
--- a/arch/powerpc/kernel/kgdb.c
+++ b/arch/powerpc/kernel/kgdb.c
@@ -187,7 +187,6 @@ static int kgdb_singlestep(struct pt_regs *regs)
 		/* Restore current_thread_info lastly. */
 		memcpy(exception_thread_info, backup_current_thread_info, sizeof *thread_info);
 
-	kfree(backup_current_thread_info);
 	return 1;
 }
 
-- 
1.8.4.93.g57e4c17

