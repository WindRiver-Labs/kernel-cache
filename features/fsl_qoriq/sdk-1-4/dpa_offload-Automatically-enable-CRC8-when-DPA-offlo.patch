From 6d80f965c2d7dc54d5c248a52a822fd8fb182f5a Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Tue, 14 May 2013 17:00:10 +0300
Subject: [PATCH 085/430] dpa_offload: Automatically enable CRC8 when DPA
 offloading drivers are enabled

DPA offloading drivers are dependent on the CRC8 functions.
If one enables the DPA offloading drivers for build, but forgets
to enable CRC8, the Linux kernel build will fail in the link
stage.

This change automatically selects CRC8 for build when the user
wants DPA offloading driver in the kernel.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
Change-Id: Ife1bb645056169a0337f9d1f6318a39862ec3ee6
Reviewed-on: http://git.am.freescale.net:8181/2482
Reviewed-by: Zanoschi Aurelian-B43522 <Aurelian.Zanoschi@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
[original patch is from QorIQ-SDK-V1.4-20130625-yocto]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/staging/fsl_dpa_offload/Kconfig |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/Kconfig b/drivers/staging/fsl_dpa_offload/Kconfig
index 51a556c..fd00549 100644
--- a/drivers/staging/fsl_dpa_offload/Kconfig
+++ b/drivers/staging/fsl_dpa_offload/Kconfig
@@ -2,6 +2,7 @@
 config FSL_DPA_OFFLOAD
 	tristate "Freescale Datapath Offloading Driver"
 	depends on FSL_FMAN
+	select CRC8
 	default n
 	---help---
 		The driver supports DPAA offloading capabilities.
-- 
1.7.5.4

