From d57d72dd047ffd6aab37526a35bbb24a78356e88 Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Tue, 14 May 2013 17:00:10 +0300
Subject: [PATCH 404/547] dpa_offload: Automatically enable CRC8 when DPA
 offloading drivers are enabled

DPA offloading drivers are dependent on the CRC8 functions.
If one enables the DPA offloading drivers for build, but forgets
to enable CRC8, the Linux kernel build will fail in the link
stage.

This change automatically selects CRC8 for build when the user
wants DPA offloading driver in the kernel.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
Change-Id: Ife1bb645056169a0337f9d1f6318a39862ec3ee6
Reviewed-on: http://git.am.freescale.net:8181/2482
Reviewed-by: Zanoschi Aurelian-B43522 <Aurelian.Zanoschi@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
[Original patch taken from QorIQ-SDK-V1.4-SOURCE-20130625-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/staging/fsl_dpa_offload/Kconfig | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/staging/fsl_dpa_offload/Kconfig b/drivers/staging/fsl_dpa_offload/Kconfig
index 51a556c..fd00549 100644
--- a/drivers/staging/fsl_dpa_offload/Kconfig
+++ b/drivers/staging/fsl_dpa_offload/Kconfig
@@ -2,6 +2,7 @@
 config FSL_DPA_OFFLOAD
 	tristate "Freescale Datapath Offloading Driver"
 	depends on FSL_FMAN
+	select CRC8
 	default n
 	---help---
 		The driver supports DPAA offloading capabilities.
-- 
1.8.4.93.g57e4c17

