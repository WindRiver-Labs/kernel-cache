From dec13053529e9f4889f89154f752a54f2824ecb5 Mon Sep 17 00:00:00 2001
From: Wei Yang <Wei.Yang@windriver.com>
Date: Thu, 4 Jul 2013 19:06:33 +0800
Subject: [PATCH 362/430] dpaa_eth: Add compatible string to parent device

Make it so our probing function is called at boot-time.

Signed-off-by: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
Change-Id: Iaea6116e679216a6d8432643a55c2036e4e07b1a
Reviewed-on: http://git.am.freescale.net:8181/1264
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
[Original patch is from QorIQ-SDK-V1.4-20130625-yocto, just a minor
modification to port 3.4 kernel]
Signed-off-by: Wei Yang <Wei.Yang@windriver.com>
---
 arch/powerpc/platforms/85xx/corenet_ds.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/platforms/85xx/corenet_ds.c b/arch/powerpc/platforms/85xx/corenet_ds.c
index 27e1a58..7fcfe3a 100644
--- a/arch/powerpc/platforms/85xx/corenet_ds.c
+++ b/arch/powerpc/platforms/85xx/corenet_ds.c
@@ -91,6 +91,9 @@ static const struct of_device_id of_device_ids[] __devinitconst = {
 	{
 		.compatible	= "simple-bus"
 	},
+	{
+		.compatible	= "fsl,dpaa"
+	},
  	{
 		.compatible	= "mdio-mux-gpio",
 	},
-- 
1.7.5.4

