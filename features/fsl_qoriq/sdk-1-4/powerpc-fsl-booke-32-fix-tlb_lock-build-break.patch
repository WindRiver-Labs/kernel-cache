From ded389e7a5f87860c2eadcedb4d00aad3be7cbc6 Mon Sep 17 00:00:00 2001
From: Scott Wood <scottwood@freescale.com>
Date: Tue, 4 Dec 2012 10:42:17 -0600
Subject: [PATCH 132/547] powerpc:/fsl-booke-32: fix tlb_lock build break

tlb_lock and tlb_unlock were defined for 64-bit fsl booke, but one of the functions it was
used in is shared with 32-bit, so we need no-op stubs for 32-bit.

Signed-off-by: Scott Wood <scottwood@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
[Original patch taken from QorIQ-SDK-V1.4-SOURCE-20130625-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/powerpc/mm/tlb_nohash_low.S | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/arch/powerpc/mm/tlb_nohash_low.S b/arch/powerpc/mm/tlb_nohash_low.S
index caa03a0..71b67ee 100644
--- a/arch/powerpc/mm/tlb_nohash_low.S
+++ b/arch/powerpc/mm/tlb_nohash_low.S
@@ -247,6 +247,12 @@ END_FTR_SECTION_IFSET(CPU_FTR_476_DD2)
  * to have the larger code path before the _SECTION_ELSE
  */
 
+.macro tlb_lock
+.endm
+
+.macro tlb_unlock
+.endm
+
 /*
  * Flush MMU TLB on the local processor
  */
-- 
1.8.4.93.g57e4c17

