From e6673f918d3a8d330955558ed35e7456719acb97 Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Thu, 6 Jun 2013 12:08:06 +0300
Subject: [PATCH 135/430] fmd: B4/T4: Changed allocation of liodnBase to the
 Host Command

Changed allocation of liodnBase to the Host Command.
For Fmanv3 platforms the first (index 1) Offline Port is not used
therefore the liodnBase should be set starting with index 2 not 1

CR:ENGR00261726

Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>
[original patch is from QorIQ-SDK-V1.4-20130625-yocto]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 .../freescale/fman/src/wrapper/lnxwrp_fm.c         |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
index 1bc7ce0..9ddbcdd 100644
--- a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
+++ b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
@@ -329,7 +329,11 @@ typedef _Packed struct {
 
     static const uint8_t     phys1GRxPortId[] = {0x8,0x9,0xa,0xb,0xc,0xd,0xe,0xf};
     static const uint8_t     phys10GRxPortId[] = {0x10,0x11};
+#if (DPAA_VERSION >= 11)
+    static const uint8_t     physOhPortId[] = {/* 0x1, */0x2,0x3,0x4,0x5,0x6,0x7};
+#else
     static const uint8_t     physOhPortId[] = {0x1,0x2,0x3,0x4,0x5,0x6,0x7};
+#endif
     static const uint8_t     phys1GTxPortId[] = {0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f};
     static const uint8_t     phys10GTxPortId[] = {0x30,0x31};
 
-- 
1.7.5.4

