From cd92523e7f907cbcb667b78234886e82935e7c92 Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Thu, 6 Jun 2013 12:08:06 +0300
Subject: [PATCH 275/547] fmd: B4/T4: Changed allocation of liodnBase to the
 Host Command

Changed allocation of liodnBase to the Host Command.
For Fmanv3 platforms the first (index 1) Offline Port is not used
therefore the liodnBase should be set starting with index 2 not 1

Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>
[Original patch taken from QorIQ-SDK-V1.4-SOURCE-20130625-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
index dde00e5..eadb36f 100644
--- a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
+++ b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
@@ -329,7 +329,11 @@ typedef _Packed struct {
 
     static const uint8_t     phys1GRxPortId[] = {0x8,0x9,0xa,0xb,0xc,0xd,0xe,0xf};
     static const uint8_t     phys10GRxPortId[] = {0x10,0x11};
+#if (DPAA_VERSION >= 11)
+    static const uint8_t     physOhPortId[] = {/* 0x1, */0x2,0x3,0x4,0x5,0x6,0x7};
+#else
     static const uint8_t     physOhPortId[] = {0x1,0x2,0x3,0x4,0x5,0x6,0x7};
+#endif
     static const uint8_t     phys1GTxPortId[] = {0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f};
     static const uint8_t     phys10GTxPortId[] = {0x30,0x31};
 
-- 
1.8.4.93.g57e4c17

