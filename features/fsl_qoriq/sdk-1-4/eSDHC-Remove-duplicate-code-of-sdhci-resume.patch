From d9bff3c42b3192f459dedee7815fe2bd44f93668 Mon Sep 17 00:00:00 2001
From: Haijun Zhang <haijun.zhang@freescale.com>
Date: Sun, 7 Apr 2013 13:56:02 +0800
Subject: [PATCH 263/430] eSDHC: Remove duplicate code of sdhci resume

Remove duplicate code "enable_dma()" in platform_resume.
enable_dma was invoked already in sdhci_resume_host
before ops->platform_resume was executed

Signed-off-by: Haijun Zhang <haijun.zhang@freescale.com>
Change-Id: I9b510a0cce3050dc75aac521232c92869174f66f
Reviewed-on: http://git.am.freescale.net:8181/1092
Reviewed-by: Xie Xiaobo-R63061 <X.Xie@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
[Original patch is from QorIQ-SDK-V1.4-20130625-yocto, just a minor
modification to port 3.4 kernel]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/mmc/host/sdhci-of-esdhc.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/drivers/mmc/host/sdhci-of-esdhc.c b/drivers/mmc/host/sdhci-of-esdhc.c
index 78b3c51..ccff028 100644
--- a/drivers/mmc/host/sdhci-of-esdhc.c
+++ b/drivers/mmc/host/sdhci-of-esdhc.c
@@ -221,7 +221,6 @@ static void esdhc_of_suspend(struct sdhci_host *host)
 
 static void esdhc_of_resume(struct sdhci_host *host)
 {
-	esdhc_of_enable_dma(host);
 	sdhci_be32bs_writel(host, esdhc_proctl, SDHCI_HOST_CONTROL);
 }
 #endif
-- 
1.7.5.4

