From edd4679d73b333a92920b9ac4454a848d06adf92 Mon Sep 17 00:00:00 2001
From: Andy Fleming <afleming@freescale.com>
Date: Tue, 26 Mar 2013 17:57:04 -0500
Subject: [PATCH 127/547] crypto: Select Async Tx DMA for XOR

The Talitos RAID XOR option requires
ASYNC_TX_ENABLE_CHANNEL_SWITCH, so it needs to turn it on
when the XOR option is enabled.

Signed-off-by: Andy Fleming <afleming@freescale.com>
Change-Id: Ib248e0c65fcb98168e4fd6a10b6ea74f6b3406e1
Reviewed-on: http://git.am.freescale.net:8181/733
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
[Original patch taken from QorIQ-SDK-V1.4-SOURCE-20130625-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/crypto/Kconfig | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/crypto/Kconfig b/drivers/crypto/Kconfig
index 53e2ed6..a6ced86 100644
--- a/drivers/crypto/Kconfig
+++ b/drivers/crypto/Kconfig
@@ -226,6 +226,7 @@ config CRYPTO_DEV_TALITOS_RAIDXOR
 	bool "Talitos RAID5 XOR Calculation Offload"
 	default y
 	select DMA_ENGINE
+	select ASYNC_TX_ENABLE_CHANNEL_SWITCH
 	depends on CRYPTO_DEV_TALITOS
 	help
 	  Say 'Y' here to use the Freescale Security Engine (SEC) to
-- 
1.8.4.93.g57e4c17

