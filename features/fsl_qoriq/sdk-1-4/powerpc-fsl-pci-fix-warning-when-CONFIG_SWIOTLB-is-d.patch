From 81abddb0139efad600c57b7f7af1a28b84de7ea0 Mon Sep 17 00:00:00 2001
From: Jia Hongtao <B38951@freescale.com>
Date: Tue, 18 Sep 2012 17:57:48 +0800
Subject: [PATCH 301/430] powerpc/fsl-pci: fix warning when CONFIG_SWIOTLB is
 disabled

commit 4d56dec5dca496655ef035ef3b80f7c47dc22b77 upstream

Fix the following warning:
arch/powerpc/sysdev/fsl_pci.c: In function 'fsl_pci_probe':
arch/powerpc/sysdev/fsl_pci.c:867:25: error: unused variable 'hose'

Signed-off-by: Jia Hongtao <B38951@freescale.com>
Acked-by: Michael Neuling <mikey@neuling.org>
Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
Signed-off-by: Wei Yang <Wei.Yang@windriver.com>
---
 arch/powerpc/sysdev/fsl_pci.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/sysdev/fsl_pci.c b/arch/powerpc/sysdev/fsl_pci.c
index a24bf04..652e7bf 100644
--- a/arch/powerpc/sysdev/fsl_pci.c
+++ b/arch/powerpc/sysdev/fsl_pci.c
@@ -1020,7 +1020,9 @@ static int __devinit fsl_pci_probe(struct platform_device *pdev)
 {
 	int ret;
 	struct device_node *node;
+#ifdef CONFIG_SWIOTLB
 	struct pci_controller *hose;
+#endif
 
 	node = pdev->dev.of_node;
 	ret = fsl_add_bridge(node, fsl_pci_primary == node);
-- 
1.7.5.4

