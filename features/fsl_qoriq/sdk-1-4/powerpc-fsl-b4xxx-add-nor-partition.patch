From 6a3236f8225143c866b6dc294391a12e8701f1b7 Mon Sep 17 00:00:00 2001
From: Tiejun Chen <tiejun.chen@windriver.com>
Date: Fri, 23 Aug 2013 13:30:09 +0800
Subject: [PATCH] powerpc/fsl-b4xxx: add nor partition

We can provide this nor partition. And actually this is same as t4xx.

Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 arch/powerpc/boot/dts/b4qds.dts |   47 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 47 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/b4qds.dts b/arch/powerpc/boot/dts/b4qds.dts
index c1cd776..f065932 100644
--- a/arch/powerpc/boot/dts/b4qds.dts
+++ b/arch/powerpc/boot/dts/b4qds.dts
@@ -59,6 +59,53 @@
 			reg = <0x0 0x0 0x8000000>;
 			bank-width = <2>;
 			device-width = <1>;
+
+			partition@0 {
+				label = "rcw";
+				reg = <0x0 0x20000>;
+				read-only;
+			};
+			partition@20000 {
+				label = "kernel";
+				reg = <0x20000 0x500000>;
+			};
+			partition@520000 {
+				label = "dtb";
+				reg = <0x520000 0x20000>;
+			};
+			partition@540000 {
+				label = "fs1";
+				reg = <0x540000 0x3a40000>;
+			};
+			partition@3f80000 {
+				label = "alt-u-boot";
+				reg = <0x3f80000 0x80000>;
+				read-only;
+			};
+			partition@4000000 {
+				label = "alt-rcw";
+				reg = <0x4000000 0x20000>;
+				read-only;
+			};
+			partition@4020000 {
+				label = "fs2";
+				reg = <0x4020000 0x3f20000>;
+			};
+			partition@7f40000 {
+				label = "fman-firmware";
+				reg = <0x7f40000 0x20000>;
+				read-only;
+			};
+			partition@7f60000 {
+				label = "u-boot env";
+				reg = <0x7f60000  0x20000>;
+				read-only;
+			};
+			partition@7f80000 {
+				label = "u-boot";
+				reg = <0x7f80000 0x80000>;
+				read-only;
+			};
 		};
 
 		nand@2,0 {
-- 
1.7.5.4

