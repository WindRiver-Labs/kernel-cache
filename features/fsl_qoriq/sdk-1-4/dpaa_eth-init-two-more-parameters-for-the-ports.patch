From afab7c3fac5aac1b6285deb30c566e8ae6307dfc Mon Sep 17 00:00:00 2001
From: Haiying Wang <Haiying.Wang@freescale.com>
Date: Mon, 15 Apr 2013 13:08:15 -0400
Subject: [PATCH 200/547] dpaa_eth: init two more parameters for the ports.

We can not leave those parameters un-initialized, otherwise, kernel boot up may
pick random values for those two parameters then crash at:
"
fsl_dpa: dpaa_eth.c:4217:dpa_load() fsl_dpa: FSL DPAA Ethernet driver ()
cpu0: ! MAJOR FM-SP Error [CPU00, drivers/net/ethernet/freescale/fman/
Peripherals/FM/SP/fm_sp.c:403 FmSpCheckBufMargins]: Invalid Value;
"

Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
Change-Id: I86aabcaf7a895b020456e3a01aff19425b03a17d
Reviewed-on: http://git.am.freescale.net:8181/1404
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
[Original patch taken from QorIQ-SDK-V1.4-SOURCE-20130625-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth-common.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth-common.h b/drivers/net/ethernet/freescale/dpa/dpaa_eth-common.h
index f8493ae..d5f3be1 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth-common.h
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth-common.h
@@ -71,6 +71,8 @@ enum dpa_fq_type {
 	param.hash_results = true; \
 	param.frag_enable = false; \
 	param.time_stamp = has_timer; \
+	param.data_align = 0;	\
+	param.manip_extra_space = 0; \
 	fm_set_##type##_port_params(port, &param); \
 }
 
-- 
1.8.4.93.g57e4c17

