From ffc9e5a97315b91c8f03d0b0dcc9038dd719a796 Mon Sep 17 00:00:00 2001
From: Hai-Ying Wang <Haiying.Wang@freescale.com>
Date: Tue, 4 Dec 2012 04:03:34 +0000
Subject: [PATCH 307/547] t4240qds-usdpaa: add 2 1G ports to support 42G
 traffic

Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>

Change-Id: I0ca3a6aa90d2d108cd2f83c961a11f87d5da9a92
Reviewed-on: http://git.am.freescale.net:8181/534
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
[Original patch taken from QorIQ-SDK-V1.4-SOURCE-20130625-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/powerpc/boot/dts/t4240qds-usdpaa.dts | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/arch/powerpc/boot/dts/t4240qds-usdpaa.dts b/arch/powerpc/boot/dts/t4240qds-usdpaa.dts
index 6d15203..88e627d 100644
--- a/arch/powerpc/boot/dts/t4240qds-usdpaa.dts
+++ b/arch/powerpc/boot/dts/t4240qds-usdpaa.dts
@@ -79,6 +79,12 @@
 	};
 
 	fsl,dpaa {
+		ethernet@4 {
+			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x58 1 0x59 1>;
+			fsl,qman-frame-queues-tx = <0x78 1 0x79 1>;
+		};
 		ethernet@6 {
 			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
@@ -91,6 +97,12 @@
 			fsl,qman-frame-queues-rx = <0x5e 1 0x5f 1>;
 			fsl,qman-frame-queues-tx = <0x7e 1 0x7f 1>;
 		};
+		ethernet@12 {
+			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x68 1 0x69 1>;
+			fsl,qman-frame-queues-tx = <0x88 1 0x89 1>;
+		};
 		ethernet@14 {
 			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
-- 
1.8.4.93.g57e4c17

