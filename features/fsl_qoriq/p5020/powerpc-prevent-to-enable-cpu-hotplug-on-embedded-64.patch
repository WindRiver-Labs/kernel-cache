From a18e48518d9f3981fecf10fd57468c8e284ddbad Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Thu, 2 Aug 2012 14:30:28 +0800
Subject: [PATCH 18/19] powerpc: prevent to enable cpu hotplug on embedded
 64bit kernel

Currently we still don't support the cpu hotplug on the
embedded 64bit kernel. So prevent to enable this option
in any case.

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/Kconfig |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/powerpc/Kconfig b/arch/powerpc/Kconfig
index e78d7e8..cbf334c 100644
--- a/arch/powerpc/Kconfig
+++ b/arch/powerpc/Kconfig
@@ -338,7 +338,7 @@ config SWIOTLB
 config HOTPLUG_CPU
 	bool "Support for enabling/disabling CPUs"
 	depends on SMP && HOTPLUG && EXPERIMENTAL && (PPC_PSERIES || \
-	PPC_PMAC || PPC_POWERNV || PPC_85xx)
+	PPC_PMAC || PPC_POWERNV || PPC_85xx) && !CONFIG_PPC_BOOK3E_64
 	---help---
 	  Say Y here to be able to disable and re-enable individual
 	  CPUs at runtime on SMP machines.
-- 
1.7.9.7

