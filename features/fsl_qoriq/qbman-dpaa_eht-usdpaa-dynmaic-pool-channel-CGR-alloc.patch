From 5b045dabbc6d6ddb7e579af8bf16ee605af2dd5e Mon Sep 17 00:00:00 2001
From: Wei Yang <Wei.Yang@windriver.com>
Date: Mon, 25 Mar 2013 14:36:58 +0800
Subject: [PATCH 20/21] qbman/dpaa_eht/usdpaa: dynmaic pool-channel/CGR allocation

Pool-channels are now described via a range node+property (specifying
 the range of channel IDs) rather than a separate node for each pool containing
 a channel ID property. The set of valid CGR IDs are also specified via a
 range node+property. Allocator APIs are added for both type of object
 (in-kernel as well as for USDPAA).

 Consequently, the dpaa_eth "ethernet" nodes no longer link to the pool
 channel they are to use, the driver is modified to instead dynamically
 allocate a single pool-channel for all its interfaces.

Signed-off-by: Geoff Thorpe <Geoff.Thorpe@freescale.com>
[Extracted from SDK 1.2.1 for p1023, minor patch context modifications.]
Signed-off-by: Wei Yang <Wei.Yang@windriver.com>
---
 arch/powerpc/boot/dts/fsl/p1023si-post.dtsi |   17 -----------------
 1 files changed, 0 insertions(+), 17 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/p1023si-post.dtsi b/arch/powerpc/boot/dts/fsl/p1023si-post.dtsi
index 865d398..b5e1ba1 100644
--- a/arch/powerpc/boot/dts/fsl/p1023si-post.dtsi
+++ b/arch/powerpc/boot/dts/fsl/p1023si-post.dtsi
@@ -124,23 +124,6 @@
 		fsl,qman-channel-id = <0x2>;
 	};
 
-	qpool1: qman-pool@1 {
-		cell-index = <1>;
-		compatible = "fsl,qman-pool-channel";
-		fsl,qman-channel-id = <0x21>;
-	};
-
-	qpool2: qman-pool@2 {
-		cell-index = <2>;
-		compatible = "fsl,qman-pool-channel";
-		fsl,qman-channel-id = <0x22>;
-	};
-
-	qpool3: qman-pool@3 {
-		cell-index = <3>;
-		compatible = "fsl,qman-pool-channel";
-		fsl,qman-channel-id = <0x23>;
-	};
 };
 
 &bportals {
-- 
1.7.0

