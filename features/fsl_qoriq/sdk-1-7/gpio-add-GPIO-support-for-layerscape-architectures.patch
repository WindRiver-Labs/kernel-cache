From 398e2cb5532d36f090dd75c7807564e71b5f2524 Mon Sep 17 00:00:00 2001
From: Shaveta Leekha <shaveta@freescale.com>
Date: Tue, 14 Oct 2014 16:45:09 +0530
Subject: [PATCH 340/399] gpio: add GPIO support for layerscape architectures

This patch adds support for GPIOs found on
Freescale's Layerscape architectures

It also makes mutual exclusion with ARCH_MXC,
since the GPIO controller on LayerArch
is different than MXC

Signed-off-by: Shaveta Leekha <shaveta@freescale.com>
Change-Id: I5601038b2fbca3e7eb7f5226d02db4a2a7098bf8
Reviewed-on: http://git.am.freescale.net:8181/21799
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Zhengxiong Jin <Jason.Jin@freescale.com>
[Lu:Original patch taken from
QorIQ-SDK-V1.7-SOURCE-20141218-yocto.iso]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/gpio/Kconfig |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/gpio/Kconfig b/drivers/gpio/Kconfig
index 903f24d..eba03eb 100644
--- a/drivers/gpio/Kconfig
+++ b/drivers/gpio/Kconfig
@@ -177,10 +177,10 @@ config GPIO_MPC5200
 config GPIO_MPC8XXX
 	bool "MPC512x/MPC8xxx GPIO support"
 	depends on PPC_MPC512x || PPC_MPC831x || PPC_MPC834x || PPC_MPC837x || \
-		   FSL_SOC_BOOKE || PPC_86xx
+		   FSL_SOC_BOOKE || PPC_86xx || ARCH_LAYERSCAPE
 	help
 	  Say Y here if you're going to use hardware that connects to the
-	  MPC512x/831x/834x/837x/8572/8610 GPIOs.
+	  MPC512x/831x/834x/837x/8572/8610/LS1021A GPIOs.
 
 config GPIO_MSM_V1
 	tristate "Qualcomm MSM GPIO v1"
@@ -207,7 +207,7 @@ config GPIO_MVEBU
 
 config GPIO_MXC
 	def_bool y
-	depends on ARCH_MXC
+	depends on ARCH_MXC && !ARCH_LAYERSCAPE
 	select GPIO_GENERIC
 	select GENERIC_IRQ_CHIP
 
-- 
1.7.5.4

