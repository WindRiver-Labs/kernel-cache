From 94d583ac7af724c581d7a2430fce3064fe87dc62 Mon Sep 17 00:00:00 2001
From: Xulin Sun <xulin.sun@windriver.com>
Date: Thu, 14 May 2015 15:59:34 +0800
Subject: [PATCH 5/7] caam: correct argument type to fix build warning

replace the argument type 'unsigned int' to 'long int' to
avoid below build warning:

bug.h:33:45: warning: format '%ld' expects argument of type 'long int', but
argument 4 has type 'unsigned int' [-Wformat=]
 -define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))

caamalg.c:4300:13: note: in expansion of macro 'ARRAY_SIZE'
 op_id, ARRAY_SIZE(digest_size));
caamhash.c:1782:12: note: in expansion of macro 'ARRAY_SIZE'
 op_id, ARRAY_SIZE(runninglen));

Signed-off-by: Xuin Sun <xulin.sun@windriver.com>
---
 drivers/crypto/caam/caamalg.c  |    2 +-
 drivers/crypto/caam/caamhash.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/crypto/caam/caamalg.c b/drivers/crypto/caam/caamalg.c
index a0cf511..0025f3a 100644
--- a/drivers/crypto/caam/caamalg.c
+++ b/drivers/crypto/caam/caamalg.c
@@ -4296,7 +4296,7 @@ static int caam_cra_init(struct crypto_tfm *tfm)
 		if (op_id < ARRAY_SIZE(digest_size)) {
 			ctx->authsize = digest_size[op_id];
 		} else {
-			dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %ld\n",
+			dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %d\n",
 					op_id, ARRAY_SIZE(digest_size));
 			caam_jr_free(ctx->jrdev);
 			return -EINVAL;
diff --git a/drivers/crypto/caam/caamhash.c b/drivers/crypto/caam/caamhash.c
index c32de9a..697a683 100644
--- a/drivers/crypto/caam/caamhash.c
+++ b/drivers/crypto/caam/caamhash.c
@@ -1778,7 +1778,7 @@ static int caam_hash_cra_init(struct crypto_tfm *tfm)
 
 	op_id = (ctx->alg_op & OP_ALG_ALGSEL_SUBMASK) >> OP_ALG_ALGSEL_SHIFT;
 	if (op_id >= ARRAY_SIZE(runninglen)) {
-		dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %ld\n",
+		dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %d\n",
 				op_id, ARRAY_SIZE(runninglen));
 		ret = -EINVAL;
 		goto out_err;
-- 
1.7.5.4

