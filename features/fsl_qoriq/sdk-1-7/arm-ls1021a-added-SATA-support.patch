From 6a8ec3bfc7d9fcd14ea5c6b0557a8a5b0a94c80e Mon Sep 17 00:00:00 2001
From: Alison Wang <b18965@freescale.com>
Date: Fri, 23 Jan 2015 22:51:40 +0800
Subject: [PATCH 2/3] arm: ls1021a: added SATA support

Added SATA device node and enabled AHCI config by default.

Signed-off-by: Shaohui Xie <Shaohui.Xie@freescale.com>
Change-Id: I288e6bffea28ea31804e20190dfa6b580fa2d7eb
Reviewed-on: http://git.am.freescale.net:8181/31841
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Xiaobo Xie <X.Xie@freescale.com>
Reviewed-by: Zhengxiong Jin <Jason.Jin@freescale.com>
[Zhenbo: Original patch taken from FSL QorIQ SDK v1.8 SOURCE yocto.iso,
made some trivial modifications to fix the conflict.]
Signed-off-by: Zhenbo Gao <zhenbo.gao@windriver.com>
---
 arch/arm/boot/dts/ls1021a.dtsi |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/ls1021a.dtsi b/arch/arm/boot/dts/ls1021a.dtsi
index 67909b1..30741f1 100644
--- a/arch/arm/boot/dts/ls1021a.dtsi
+++ b/arch/arm/boot/dts/ls1021a.dtsi
@@ -131,6 +131,13 @@
 			status = "disabled";
 		};
 
+		sata: sata@3200000 {
+			compatible = "fsl,ls1021a-ahci";
+			reg = <0x0 0x3200000 0x0 0x10000>;
+			interrupts = <GIC_SPI 101 IRQ_TYPE_LEVEL_HIGH>;
+			clocks = <&platform_clk 1>;
+		};
+
 		scfg: scfg@1570000 {
 			compatible = "fsl,ls1021a-scfg", "syscon";
 			reg = <0x0 0x1570000 0x0 0x10000>;
-- 
1.7.5.4

