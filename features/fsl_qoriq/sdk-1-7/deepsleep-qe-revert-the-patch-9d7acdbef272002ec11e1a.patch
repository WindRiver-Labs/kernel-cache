From 413abab377bf8e5ad85852e83810f482cbf23a4a Mon Sep 17 00:00:00 2001
From: Zhao Qiang <B45475@freescale.com>
Date: Wed, 5 Nov 2014 10:29:35 +0800
Subject: [PATCH 047/128] deepsleep/qe: revert the patch
 9d7acdbef272002ec11e1aaad4ad16155187a9d0

Remove the workaround which disables qe for deepsleep.
qe blocked deepsleep, so the workaround was added,
Now the qe can work with deepsleep, so remove it.

Signed-off-by: Zhao Qiang <B45475@freescale.com>
Change-Id: I0f1ef2ec45b2ee8129c6ab958162f432d8a76c5d
Reviewed-on: http://git.am.freescale.net:8181/23143
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Xiaobo Xie <X.Xie@freescale.com>
Reviewed-by: Chenhui Zhao <chenhui.zhao@freescale.com>
Reviewed-by: Matthew Weigel <Matthew.Weigel@freescale.com>
[Xulin: Original patch taken from
QorIQ-SDK-V1.7-SOURCE-20141218-yocto_RDS_20150206.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm/mach-imx/pm-ls1.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-imx/pm-ls1.c b/arch/arm/mach-imx/pm-ls1.c
index bdcd92b..ed4292a 100644
--- a/arch/arm/mach-imx/pm-ls1.c
+++ b/arch/arm/mach-imx/pm-ls1.c
@@ -241,9 +241,6 @@ static void ls1_enter_deepsleep(void)
 {
 	u32 tmp;
 
-	/* disable QE device to make deep sleep work  */
-	iowrite32be(0x00000001, ls1_pm_base.dcfg + 0x70);
-
 	/* save DDR data */
 	ls1_save_ddr(ls1_pm_base.scfg);
 
-- 
1.7.5.4

