From e5de6fc728edb4545570d8963b0a3b2b1eabe942 Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Wed, 29 Apr 2015 17:56:28 +0800
Subject: [PATCH] iommu: fix a compile warning.

commit "iommu: Constify struct iommu_ops(<treding@nvidia.com>)"
changed all iommu_ops structure to read-only.

This patch constify a variable in iommu_get_dev_domain() to
fix following compile warning:

linux/drivers/iommu/iommu.c: In function 'iommu_get_dev_domain':
linux/drivers/iommu/iommu.c:902:26: warning:
initialization discards 'const' qualifier from pointer target type
  struct iommu_ops *ops = dev->bus->iommu_ops;
                          ^
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/iommu/iommu.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/iommu/iommu.c b/drivers/iommu/iommu.c
index dd7a5da..e5f15e5 100644
--- a/drivers/iommu/iommu.c
+++ b/drivers/iommu/iommu.c
@@ -899,7 +899,7 @@ EXPORT_SYMBOL_GPL(iommu_detach_device);
 
 struct iommu_domain *iommu_get_dev_domain(struct device *dev)
 {
-	struct iommu_ops *ops = dev->bus->iommu_ops;
+	const struct iommu_ops *ops = dev->bus->iommu_ops;
 
 	if (unlikely(ops == NULL || ops->get_dev_iommu_domain == NULL))
 		return NULL;
-- 
1.7.5.4

