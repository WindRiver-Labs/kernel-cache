From 3791bdcb26d243c6b24a2aa3d7b065dc6e121e3a Mon Sep 17 00:00:00 2001
From: Hou Zhiqiang <B48286@freescale.com>
Date: Wed, 26 Nov 2014 18:23:19 +0800
Subject: [PATCH 383/399] spi: Add addr_width field to struct spi_message

Make SPI controller can get address width of the SPI device.

Signed-off-by: Hou Zhiqiang <B48286@freescale.com>
Change-Id: I308e2cd5c91f067911fd5a6e89accfdf46473339
Reviewed-on: http://git.am.freescale.net:8181/24584
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Mingkai Hu <Mingkai.Hu@freescale.com>
Reviewed-by: Richard Schmitt <richard.schmitt@freescale.com>
[Lu:Original patch taken from
QorIQ-SDK-V1.7-SOURCE-20141218-yocto.iso]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 include/linux/spi/spi.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/include/linux/spi/spi.h b/include/linux/spi/spi.h
index 4203c66..09fc658f 100644
--- a/include/linux/spi/spi.h
+++ b/include/linux/spi/spi.h
@@ -646,6 +646,9 @@ struct spi_message {
 	unsigned		actual_length;
 	int			status;
 
+	/* deliver the address width of spi device to spi controller */
+	u8			addr_width;
+
 	/* for optional use by whatever driver currently owns the
 	 * spi_message ...  between calls to spi_async and then later
 	 * complete(), that's the spi_master controller driver.
-- 
1.7.5.4

