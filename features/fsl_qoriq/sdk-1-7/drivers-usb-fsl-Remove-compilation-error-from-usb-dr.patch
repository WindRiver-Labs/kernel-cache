From 90ad559e9590b0d6c103dceddc6d9195e01aa17a Mon Sep 17 00:00:00 2001
From: Nikhil Badola <nikhil.badola@freescale.com>
Date: Tue, 14 Oct 2014 09:17:24 +0530
Subject: [PATCH 248/399] drivers: usb: fsl: Remove compilation error from usb
 driver

Remove compilation error from USB driver while compiling for
architectures other than PPC

Signed-off-by: Nikhil Badola <nikhil.badola@freescale.com>
Change-Id: Icc9d648f08ec5affb7b58374faef2c6e3b539182
Reviewed-on: http://git.am.freescale.net:8181/21814
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Ramneek Mehresh <ramneek.mehresh@freescale.com>
Reviewed-by: Zhengxiong Jin <Jason.Jin@freescale.com>
[Lu:Original patch taken from
QorIQ-SDK-V1.7-SOURCE-20141218-yocto.iso]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/usb/host/ehci-fsl.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

diff --git a/drivers/usb/host/ehci-fsl.c b/drivers/usb/host/ehci-fsl.c
index 3c3ce4f..002f36f 100644
--- a/drivers/usb/host/ehci-fsl.c
+++ b/drivers/usb/host/ehci-fsl.c
@@ -30,7 +30,9 @@
 #include <linux/err.h>
 #include <linux/platform_device.h>
 #include <linux/fsl_devices.h>
+#ifdef CONFIG_PPC
 #include <sysdev/fsl_soc.h>
+#endif
 
 #include "ehci-fsl.h"
 
@@ -673,7 +675,9 @@ static int ehci_fsl_drv_suspend(struct device *dev)
 		return 0;
 	}
 #endif
+#ifdef CONFIG_PPC
 	mpc85xx_pmc_set_wake(dev, true);
+#endif
 
 	ehci_prepare_ports_for_controller_suspend(hcd_to_ehci(hcd),
 			device_may_wakeup(dev));
@@ -716,7 +720,9 @@ static int ehci_fsl_drv_resume(struct device *dev)
 	}
 #endif
 
+#ifdef CONFIG_PPC
 	mpc85xx_pmc_set_wake(dev, false);
+#endif
 
 	ehci_prepare_ports_for_controller_resume(ehci);
 	if (!fsl_deep_sleep())
-- 
1.7.5.4

