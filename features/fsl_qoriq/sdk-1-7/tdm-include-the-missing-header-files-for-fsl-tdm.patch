From 04ef3283f817198ff60f12376fd54a7e71a685e9 Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Thu, 17 Sep 2015 13:59:45 +0800
Subject: [PATCH] tdm: include the missing header files for fsl tdm

Fix the following build errors:
  drivers/tdm/device/tdm_fsl.c: In function 'tdm_fsl_probe':
  drivers/tdm/device/tdm_fsl.c:730:2: error: implicit declaration of function 'of_address_to_resource' [-Werror=implicit-function-declaration]
     ret = of_address_to_resource(ofdev->dev.of_node, 0, &res);
     ^
  drivers/tdm/device/tdm_fsl.c:737:2: error: implicit declaration of function 'of_iomap' [-Werror=implicit-function-declaration]
     priv->tdm_regs = of_iomap(ofdev->dev.of_node, 0);
     ^
  drivers/tdm/device/tdm_fsl.c:756:2: error: implicit declaration of function 'irq_of_parse_and_map' [-Werror=implicit-function-declaration]
     priv->dmac_done_intr = irq_of_parse_and_map(ofdev->dev.of_node, 0);
     ^

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/tdm/device/tdm_fsl.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/tdm/device/tdm_fsl.c b/drivers/tdm/device/tdm_fsl.c
index fe8ad8d..e9dfdb3 100644
--- a/drivers/tdm/device/tdm_fsl.c
+++ b/drivers/tdm/device/tdm_fsl.c
@@ -43,6 +43,8 @@
 #include <linux/irq.h>
 #include <linux/dma-mapping.h>
 #include <linux/spinlock.h>
+#include <linux/of_address.h>
+#include <linux/of_irq.h>
 #include <sysdev/fsl_soc.h>
 
 #include "tdm_fsl.h"
-- 
1.7.5.4

