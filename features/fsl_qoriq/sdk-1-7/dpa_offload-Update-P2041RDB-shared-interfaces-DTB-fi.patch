From f871ae48449f56ac763a1f3da4dfc6c32e716f2f Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Fri, 5 Dec 2014 15:14:47 +0200
Subject: [PATCH 084/399] dpa_offload: Update P2041RDB shared interfaces DTB
 file

Resync P2041RDB DPAA offloading shared interfaces DTB file with the latest
changes in the usdpaa shared interfaces DTB file. Some shared interface
parameters were missing.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
Change-Id: Ib91ea04fd482353f48e012971e6196f7201e9fac
Reviewed-on: http://git.am.freescale.net:8181/25435
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Bogdan Constantin Popescu <bogdan.c.popescu@freescale.com>
Reviewed-by: Matthew Weigel <Matthew.Weigel@freescale.com>
[Lu:Original patch taken from
QorIQ-SDK-V1.7-SOURCE-20141218-yocto.iso]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 .../dts/p2041rdb-usdpaa-shared-interfaces.dts      |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dts/p2041rdb-usdpaa-shared-interfaces.dts b/drivers/staging/fsl_dpa_offload/dts/p2041rdb-usdpaa-shared-interfaces.dts
index f68dc8f..591f14e 100644
--- a/drivers/staging/fsl_dpa_offload/dts/p2041rdb-usdpaa-shared-interfaces.dts
+++ b/drivers/staging/fsl_dpa_offload/dts/p2041rdb-usdpaa-shared-interfaces.dts
@@ -109,30 +109,29 @@
 		ethernet@5 {
 			compatible = "fsl,p2041-dpa-ethernet-shared", "fsl,dpa-ethernet-shared";
 			fsl,bman-buffer-pools = <&bp16>;
-			fsl,qman-frame-queues-rx = <0x60 1 0x61 1>;
-			fsl,qman-frame-queues-tx = <0x80 1 0x81 1>;
+			fsl,qman-frame-queues-rx = <0x5a 1 0x5b 1 0x2000 3>;
+			fsl,qman-frame-queues-tx = <0 1 0 1 0x3000 8>;
 		};
-
 		/* ethernet@6 declared as MAC-less interface with no "fsl,fman-mac" property.
 		 * USDPAA will seed buffers to this buffer pool and initialize 8 TX Frame
 		 * queues. The ethernet driver will initialize 8 RX default Frame queues.
 		 * On receiving frame at this interface, the ethernet driver will do
 		 * kmap_atomic/kunmap_atomic for that frame. */
-		ethernet@16 {
+		ethernet@6 {
 			compatible = "fsl,p2041-dpa-ethernet-macless", "fsl,dpa-ethernet-macless";
 			fsl,bman-buffer-pools = <&bp16>;
 			fsl,qman-frame-queues-rx = <4000 8>;
 			fsl,qman-frame-queues-tx = <4008 8>;
 			local-mac-address = [00 11 22 33 44 55];
 		};
-		ethernet@17 {
+		ethernet@7 {
 			compatible = "fsl,p2041-dpa-ethernet-macless", "fsl,dpa-ethernet-macless";
 			fsl,bman-buffer-pools = <&bp16>;
 			fsl,qman-frame-queues-rx = <5000 8>;
 			fsl,qman-frame-queues-tx = <5008 8>;
 			local-mac-address = [00 11 22 33 44 66];
 		};
-		ethernet@18 {
+		ethernet@8 {
 			compatible = "fsl,p2041-dpa-ethernet-macless", "fsl,dpa-ethernet-macless";
 			fsl,bman-buffer-pools = <&bp16>;
 			fsl,qman-frame-queues-rx = <6000 8>;
-- 
1.7.5.4

