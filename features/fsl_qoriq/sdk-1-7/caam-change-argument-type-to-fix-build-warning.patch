From 1185be658569f19a798e29012559210a309e9a0d Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Thu, 21 May 2015 07:31:51 +0000
Subject: [PATCH] caam: change argument type to fix build warning

Changing type of ARRAY_SIZE() result to long to fix following build
warning:

bug.h:33:45: warning: format '%ld' expects argument of type 'long int', but
argument 4 has type 'unsigned int' [-Wformat=]
-define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))

caamalg.c:4300:13: note: in expansion of macro 'ARRAY_SIZE'
op_id, ARRAY_SIZE(digest_size));
caamhash.c:1782:12: note: in expansion of macro 'ARRAY_SIZE'
op_id, ARRAY_SIZE(runninglen));

Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/crypto/caam/caamalg.c  |    4 ++--
 drivers/crypto/caam/caamhash.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/crypto/caam/caamalg.c b/drivers/crypto/caam/caamalg.c
index 0025f3a..b4ea11c 100644
--- a/drivers/crypto/caam/caamalg.c
+++ b/drivers/crypto/caam/caamalg.c
@@ -4296,8 +4296,8 @@ static int caam_cra_init(struct crypto_tfm *tfm)
 		if (op_id < ARRAY_SIZE(digest_size)) {
 			ctx->authsize = digest_size[op_id];
 		} else {
-			dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %d\n",
-					op_id, ARRAY_SIZE(digest_size));
+			dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %ld\n",
+					op_id, (long)ARRAY_SIZE(digest_size));
 			caam_jr_free(ctx->jrdev);
 			return -EINVAL;
 		}
diff --git a/drivers/crypto/caam/caamhash.c b/drivers/crypto/caam/caamhash.c
index 697a683..8bde1f2 100644
--- a/drivers/crypto/caam/caamhash.c
+++ b/drivers/crypto/caam/caamhash.c
@@ -1778,8 +1778,8 @@ static int caam_hash_cra_init(struct crypto_tfm *tfm)
 
 	op_id = (ctx->alg_op & OP_ALG_ALGSEL_SUBMASK) >> OP_ALG_ALGSEL_SHIFT;
 	if (op_id >= ARRAY_SIZE(runninglen)) {
-		dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %d\n",
-				op_id, ARRAY_SIZE(runninglen));
+		dev_err(ctx->jrdev, "incorrect op_id %d; must be less than %ld\n",
+				op_id, (long)ARRAY_SIZE(runninglen));
 		ret = -EINVAL;
 		goto out_err;
 	}
-- 
1.7.5.4

