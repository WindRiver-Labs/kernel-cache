From 2eeb6bf4e5543fa9211278263bb36f93cc142da0 Mon Sep 17 00:00:00 2001
From: Prabhakar Kushwaha <prabhakar@freescale.com>
Date: Fri, 21 Nov 2014 14:35:14 +0530
Subject: [PATCH 310/399] driver/memory:Fix ifc_out parameter in resume
 callback

ifc_out32 requires data, address in sequence as input parameter.

So fix ifc_out32 input parameter in fsl_ifc_resume.

Signed-off-by: Prabhakar Kushwaha <prabhakar@freescale.com>
Change-Id: I9ccd050d30b586cf6c6afde8131212b482abf78d
Reviewed-on: http://git.am.freescale.net:8181/24158
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Reviewed-by: Yusong Sun <yorksun@freescale.com>
Reviewed-by: Richard Schmitt <richard.schmitt@freescale.com>
[Lu:Original patch taken from
QorIQ-SDK-V1.7-SOURCE-20141218-yocto.iso]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/memory/fsl_ifc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/memory/fsl_ifc.c b/drivers/memory/fsl_ifc.c
index 93a8cac..7b19c70 100644
--- a/drivers/memory/fsl_ifc.c
+++ b/drivers/memory/fsl_ifc.c
@@ -333,9 +333,9 @@ static int fsl_ifc_resume(struct device *dev)
 	ver = ifc_in32(&ctrl->regs->ifc_rev);
 	ncfgr = ifc_in32(&ifc->ifc_nand.ncfgr);
 	if (ver >= FSL_IFC_V1_3_0) {
-		ifc_out32(&ifc->ifc_nand.ncfgr,
-					ncfgr | IFC_NAND_SRAM_INIT_EN);
 
+		ifc_out32(ncfgr | IFC_NAND_SRAM_INIT_EN,
+					&ifc->ifc_nand.ncfgr);
 		/* wait for  SRAM_INIT bit to be clear or timeout */
 		status = spin_event_timeout(
 					!(ifc_in32(&ifc->ifc_nand.ncfgr)
-- 
1.7.5.4

