From 5538e936c87310206b2576831300932ad5ae8fb2 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Fri, 10 Jul 2015 13:03:27 +0800
Subject: [PATCH] fsl_p50xx: add nor flash partition

add nor flash partition per nor flash layout.

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/powerpc/boot/dts/p5020ds.dts |   67 +++++++++++++++++++++++++++++++++++++
 1 files changed, 67 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/p5020ds.dts b/arch/powerpc/boot/dts/p5020ds.dts
index 77cedf4..3fd69d0 100644
--- a/arch/powerpc/boot/dts/p5020ds.dts
+++ b/arch/powerpc/boot/dts/p5020ds.dts
@@ -281,6 +281,73 @@
 			reg = <0 0 0x08000000>;
 			bank-width = <2>;
 			device-width = <2>;
+			#size-cells = <1>;
+			#address-cells = <1>;
+
+			partition@0 {
+				label = "rcw";
+				reg = <0x0 0x20000>;
+				read-only;
+			};
+			partition@20000 {
+				label = "kernel1";
+				reg = <0x20000 0x7E0000>;
+			};
+			partition@800000 {
+				label = "dtb1";
+				reg = <0x800000 0x100000>;
+			};
+			partition@900000 {
+				label = "fs1";
+				reg = <0x900000 0x3600000>;
+			};
+			partition@3F00000 {
+				label = "alt-fman-firmware";
+				reg = <0x3F00000 0x20000>;
+				read-only;
+			};
+			partition@3F20000 {
+				label = "alt-uboot-env";
+				reg = <0x3F20000 0x20000>;
+				read-only;
+			};
+			partition@3F40000 {
+				label = "alt-u-boot";
+				reg = <0x3F40000 0xC0000>;
+				read-only;
+			};
+			partition@4000000 {
+				label = "alt-rcw";
+				reg = <0x4000000 0x20000>;
+				read-only;
+			};
+			partition@4020000 {
+				label = "kernel2";
+				reg = <0x4020000 0x7E0000>;
+			};
+			partition@4800000 {
+				label = "dtb2";
+				reg = <0x4800000 0x100000>;
+			};
+			partition@4900000 {
+				label = "fs2";
+				reg = <0x4900000 0x3600000>;
+			};
+			partition@7F00000 {
+				label = "fman-firmware";
+				reg = <0x7F00000 0x20000>;
+				read-only;
+			};
+			partition@7f20000 {
+				label = "u-boot env";
+				reg = <0x7F20000  0x20000>;
+				read-only;
+			};
+			partition@7f40000 {
+				label = "u-boot";
+				reg = <0x7F40000 0xC0000>;
+				read-only;
+			};
 		};
 
 		nand@2,0 {
-- 
1.7.5.4

