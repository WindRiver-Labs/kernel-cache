From 062dbd11b6082a332d08768b4d1e41bb78d5766f Mon Sep 17 00:00:00 2001
From: Wang Dongsheng <dongsheng.wang@freescale.com>
Date: Thu, 6 Mar 2014 16:42:48 +0800
Subject: [PATCH 0788/1089] powerpc/mpc85xx: fix a build issue when user use
 mpc85xx_defconfig

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

if we enable cpufreq feature we will get a build error.
drivers/cpufreq/mpc85xx-cpufreq.c: In function 'p1022_set_pll':
drivers/cpufreq/mpc85xx-cpufreq.c:145:2: error: implicit declaration of
function 'get_hard_smp_processor_id' [-Werror=implicit-function-declaration]

It's miss a include <asm/smp.h>

Signed-off-by: Wang Dongsheng <dongsheng.wang@freescale.com>
Change-Id: I805969b909e269fcfeb1abce30b987baf9c60399
Reviewed-on: http://git.am.freescale.net:8181/9453
Reviewed-by: Scott Wood <scottwood@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
Tested-by: Jose Rivera <German.Rivera@freescale.com>
---
 drivers/cpufreq/mpc85xx-cpufreq.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/cpufreq/mpc85xx-cpufreq.c b/drivers/cpufreq/mpc85xx-cpufreq.c
index ef31a9a..9b3f7fa 100644
--- a/drivers/cpufreq/mpc85xx-cpufreq.c
+++ b/drivers/cpufreq/mpc85xx-cpufreq.c
@@ -24,6 +24,7 @@
 #include <linux/smp.h>
 
 #include <asm/prom.h>
+#include <asm/smp.h>
 #include <asm/reg.h>
 #include <asm/machdep.h>
 
-- 
2.0.2

