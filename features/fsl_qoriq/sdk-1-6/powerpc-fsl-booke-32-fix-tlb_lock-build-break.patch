From 7f0e8d5c93ef209958888def81f76a1dc5d45096 Mon Sep 17 00:00:00 2001
From: Scott Wood <scottwood@freescale.com>
Date: Tue, 4 Dec 2012 10:42:17 -0600
Subject: [PATCH 0017/1089] powerpc:/fsl-booke-32: fix tlb_lock build break

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

tlb_lock and tlb_unlock were defined for 64-bit fsl booke, but one of the functions it was
used in is shared with 32-bit, so we need no-op stubs for 32-bit.

Signed-off-by: Scott Wood <scottwood at freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
---
 arch/powerpc/mm/tlb_nohash_low.S | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/arch/powerpc/mm/tlb_nohash_low.S b/arch/powerpc/mm/tlb_nohash_low.S
index 43ff3c7..3714b95 100644
--- a/arch/powerpc/mm/tlb_nohash_low.S
+++ b/arch/powerpc/mm/tlb_nohash_low.S
@@ -247,6 +247,12 @@ END_FTR_SECTION_IFSET(CPU_FTR_476_DD2)
  * to have the larger code path before the _SECTION_ELSE
  */
 
+.macro tlb_lock
+.endm
+
+.macro tlb_unlock
+.endm
+
 /*
  * Flush MMU TLB on the local processor
  */
-- 
2.0.2

