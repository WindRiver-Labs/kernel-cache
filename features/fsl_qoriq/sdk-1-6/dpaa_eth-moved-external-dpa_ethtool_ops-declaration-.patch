From ab4cdf017ea155c903aedc93845f1c18afe8a6c9 Mon Sep 17 00:00:00 2001
From: "Lu.Jiang" <lu.jiang@windriver.com>
Date: Thu, 11 Sep 2014 17:21:32 +0800
Subject: [PATCH 0627/1089] dpaa_eth: moved external dpa_ethtool_ops
 declaration to header

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Moved external declaration out of source file to avoid checkpatch
warning.

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
Change-Id: I43cb2ebe37cefd7ccebd326fab32caf191340527
Reviewed-on: http://git.am.freescale.net:8181/7453
Reviewed-by: Cristian-Constantin Sovaiala <Cristian.Sovaiala@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Marian Cristian Rotariu <marian.rotariu@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/7702
Signed-off-by: Lu.Jiang <lu.jiang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c | 2 --
 drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h | 3 +++
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
index feaee37..0bbccd2 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
@@ -86,8 +86,6 @@ void fsl_dpaa_eth_set_hooks(struct dpaa_eth_hooks_s *hooks)
 }
 EXPORT_SYMBOL(fsl_dpaa_eth_set_hooks);
 
-extern const struct ethtool_ops dpa_ethtool_ops;
-
 int dpa_netdev_init(struct device_node *dpa_node,
 		struct net_device *net_dev,
 		const uint8_t *mac_addr,
diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h
index a992574..abe3f71 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h
@@ -97,6 +97,9 @@ typedef enum dpaa_eth_hook_result (*dpaa_eth_confirm_hook_t)(
 /* used in napi related functions */
 extern u16 qman_portal_max;
 
+/* from dpa-ethtool.c */
+extern const struct ethtool_ops dpa_ethtool_ops;
+
 /* Various hooks used for unit-testing and/or fastpath optimizations.
  * Currently only one set of such hooks is supported.
  */
-- 
2.0.2

