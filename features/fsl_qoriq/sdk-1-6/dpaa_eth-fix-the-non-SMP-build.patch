From 79e1fa4871468c7cdad2a34f7a88f94e743d4ee7 Mon Sep 17 00:00:00 2001
From: Geoff Thorpe <Geoff.Thorpe@freescale.com>
Date: Thu, 9 May 2013 09:21:17 -0400
Subject: [PATCH 0254/1089] dpaa_eth: fix the non-SMP build

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

The <linux/smp.h> header only includes <asm/smp.h> if CONFIG_SMP is
defined, yet it is required in the non-SMP case too.

Signed-off-by: Geoff Thorpe <Geoff.Thorpe@freescale.com>
Change-Id: I4b6522b2cdc302d2dc58ae2326d35a54171551df
Reviewed-on: http://git.am.freescale.net:8181/2417
Reviewed-by: Bucur Madalin-Cristian-B32716 <madalin.bucur@freescale.com>
Reviewed-by: Wood Scott-B07421 <scottwood@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_debugfs.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_debugfs.c b/drivers/net/ethernet/freescale/dpa/dpaa_debugfs.c
index 4544f97..a0ae535 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_debugfs.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_debugfs.c
@@ -34,6 +34,7 @@
 #include <linux/fsl_qman.h>	/* struct qm_mcr_querycgr */
 #include <linux/debugfs.h>
 #include <asm/debug.h>
+#include <asm/smp.h>		/* get_hard_smp_processor_id() if !CONFIG_SMP */
 #include "dpaa_debugfs.h"
 #include "dpaa_eth.h" /* struct dpa_priv_s, dpa_percpu_priv_s, dpa_bp */
 
-- 
2.0.2

