From fed7f72fa5894d5003874bb3782d884049d401a4 Mon Sep 17 00:00:00 2001
From: Bin Jiang <bin.jiang@windriver.com>
Date: Fri, 4 Jul 2014 16:49:23 +0800
Subject: [PATCH 413/466] dpa_eth: export symbols used by bonding

bonding driver fails to built as module with following errors:
ERROR: ".dpa_bpid2pool" [drivers/net/bonding/bonding.ko] undefined!
ERROR: ".dpa_bp_alloc" [drivers/net/bonding/bonding.ko] undefined!
ERROR: ".dpa_release_sgt" [drivers/net/bonding/bonding.ko] undefined!

Export above symbols in dpa ethernet driver.

Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c |    3 +++
 1 file changed, 3 insertions(+)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
index 844f194..64391d2 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
@@ -746,6 +746,7 @@ pdev_register_failed:
 
 	return err;
 }
+EXPORT_SYMBOL(dpa_bp_alloc);
 
 void dpa_bp_drain(struct dpa_bp *bp)
 {
@@ -818,6 +819,7 @@ struct dpa_bp *dpa_bpid2pool(int bpid)
 {
 	return dpa_bp_array[bpid];
 }
+EXPORT_SYMBOL(dpa_bpid2pool);
 
 void dpa_bpid2pool_map(int bpid, struct dpa_bp *dpa_bp)
 {
@@ -1521,6 +1523,7 @@ void dpa_release_sgt(struct qm_sg_entry *sgt)
 			cpu_relax();
 	} while (!sgt[i-1].final);
 }
+EXPORT_SYMBOL(dpa_release_sgt);
 
 void __attribute__((nonnull))
 dpa_fd_release(const struct net_device *net_dev, const struct qm_fd *fd)
-- 
1.7.10.4

