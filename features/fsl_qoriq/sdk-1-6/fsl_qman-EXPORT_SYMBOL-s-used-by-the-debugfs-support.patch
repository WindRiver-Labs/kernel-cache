From d07a4a621311affdf40e54b885b6e41c67633077 Mon Sep 17 00:00:00 2001
From: Emil Medve <Emilian.Medve@Freescale.com>
Date: Fri, 10 Jan 2014 16:22:58 -0600
Subject: [PATCH 0667/1089] fsl_qman: EXPORT_SYMBOL()s used by the debugfs
 support module

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

ERROR: "qman_ceetm_query_cq" [drivers/staging/fsl_qbman/qman_debugfs_interface.ko] undefined!
ERROR: "qman_ceetm_get_xsfdr" [drivers/staging/fsl_qbman/qman_debugfs_interface.ko] undefined!
ERROR: "qman_ceetm_query_ccgr" [drivers/staging/fsl_qbman/qman_debugfs_interface.ko] undefined!

Signed-off-by: Emil Medve <Emilian.Medve@Freescale.com>
Change-Id: I1c35c3a3d9228f46482e4a4cf771571251e848de
Reviewed-on: http://git.am.freescale.net:8181/7930
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Geoff Thorpe <Geoff.Thorpe@freescale.com>
Reviewed-by: Emilian Medve <Emilian.Medve@freescale.com>
---
 drivers/staging/fsl_qbman/qman_config.c | 1 +
 drivers/staging/fsl_qbman/qman_high.c   | 2 ++
 2 files changed, 3 insertions(+)

diff --git a/drivers/staging/fsl_qbman/qman_config.c b/drivers/staging/fsl_qbman/qman_config.c
index 02cb796..968a46d 100644
--- a/drivers/staging/fsl_qbman/qman_config.c
+++ b/drivers/staging/fsl_qbman/qman_config.c
@@ -881,6 +881,7 @@ int qman_ceetm_get_xsfdr(enum qm_dc_portal portal, unsigned int *num)
 	*num = qm_in(CEETM_XSFDR_IN_USE);
 	return 0;
 }
+EXPORT_SYMBOL(qman_ceetm_get_xsfdr);
 
 #ifdef CONFIG_SYSFS
 
diff --git a/drivers/staging/fsl_qbman/qman_high.c b/drivers/staging/fsl_qbman/qman_high.c
index 490bdd6..a1317d3 100644
--- a/drivers/staging/fsl_qbman/qman_high.c
+++ b/drivers/staging/fsl_qbman/qman_high.c
@@ -2846,6 +2846,7 @@ int qman_ceetm_query_cq(unsigned int cqid, unsigned int dcpid,
 	*cq_query = mcr->cq_query;
 	return 0;
 }
+EXPORT_SYMBOL(qman_ceetm_query_cq);
 
 int qman_ceetm_configure_dct(struct qm_mcc_ceetm_dct_config *opts)
 {
@@ -3097,6 +3098,7 @@ int qman_ceetm_query_ccgr(struct qm_mcc_ceetm_ccgr_query *ccgr_query,
 	*response = mcr->ccgr_query;
 	return 0;
 }
+EXPORT_SYMBOL(qman_ceetm_query_ccgr);
 
 int qman_ceetm_cq_peek_pop_xsfdrread(struct qm_ceetm_cq *cq,
 			u8 command_type, u16 xsfdr,
-- 
2.0.2

