From 49020e27d508c480fabb9df2778251576a1980b2 Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Fri, 21 Feb 2014 18:35:48 +0200
Subject: [PATCH 123/466] dpaa_eth: addressed several sparse reports in
 dpaa_ethtool.c

Solved several sparse warnings in dpaa_ethtool.c.

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
Change-Id: I612785dc4839b6377a768e823b2eae9898e6b9e4
Reviewed-on: http://git.am.freescale.net:8181/9030
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Cristian-Constantin Sovaiala <Cristian.Sovaiala@freescale.com>
(cherry picked from commit 7fa30bc4adea9bbde0eb05fe507c3a9dc2a80474)
Reviewed-on: http://git.am.freescale.net:8181/9194
[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c b/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c
index c9145d4..d12f737 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c
@@ -42,6 +42,7 @@
 
 #include "dpaa_eth.h"
 #include "mac.h"                /* struct mac_device */
+#include "dpaa_eth_common.h"
 
 static char stat_gstrings[][ETH_GSTRING_LEN] = {
 	"tx-rx-64-frames",
@@ -148,12 +149,12 @@ static void __cold dpa_get_drvinfo(struct net_device *net_dev,
 	drvinfo->n_stats = DPA_STATS_LEN;
 }
 
-uint32_t __cold dpa_get_msglevel(struct net_device *net_dev)
+static uint32_t __cold dpa_get_msglevel(struct net_device *net_dev)
 {
 	return ((struct dpa_priv_s *)netdev_priv(net_dev))->msg_enable;
 }
 
-void __cold dpa_set_msglevel(struct net_device *net_dev, uint32_t msg_enable)
+static void __cold dpa_set_msglevel(struct net_device *net_dev, uint32_t msg_enable)
 {
 	((struct dpa_priv_s *)netdev_priv(net_dev))->msg_enable = msg_enable;
 }
@@ -188,7 +189,7 @@ static int dpa_sset_count(struct net_device *netdev, int sset)
 	}
 }
 
-int __cold dpa_nway_reset(struct net_device *net_dev)
+static int __cold dpa_nway_reset(struct net_device *net_dev)
 {
 	int			 _errno;
 	struct dpa_priv_s	*priv;
@@ -215,7 +216,7 @@ int __cold dpa_nway_reset(struct net_device *net_dev)
 	return _errno;
 }
 
-void __cold dpa_get_ringparam(struct net_device *net_dev,
+static void __cold dpa_get_ringparam(struct net_device *net_dev,
 		struct ethtool_ringparam *et_ringparam)
 {
 	et_ringparam->rx_max_pending	   = 0;
@@ -229,7 +230,7 @@ void __cold dpa_get_ringparam(struct net_device *net_dev,
 	et_ringparam->tx_pending	   = 0;
 }
 
-void __cold dpa_get_pauseparam(struct net_device *net_dev,
+static void __cold dpa_get_pauseparam(struct net_device *net_dev,
 		struct ethtool_pauseparam *et_pauseparam)
 {
 	struct dpa_priv_s	*priv;
@@ -250,7 +251,7 @@ void __cold dpa_get_pauseparam(struct net_device *net_dev,
 	et_pauseparam->tx_pause	= priv->mac_dev->tx_pause;
 }
 
-int __cold dpa_set_pauseparam(struct net_device *net_dev,
+static int __cold dpa_set_pauseparam(struct net_device *net_dev,
 		struct ethtool_pauseparam *et_pauseparam)
 {
 	struct dpa_priv_s	*priv;
-- 
1.7.10.4

