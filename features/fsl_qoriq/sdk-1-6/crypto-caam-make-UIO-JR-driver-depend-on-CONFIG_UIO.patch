From cf24795afe025e78ec4bdc9c7ac7a73c2180a5d0 Mon Sep 17 00:00:00 2001
From: Alex Porosanu <alexandru.porosanu@freescale.com>
Date: Mon, 3 Feb 2014 09:19:14 +0200
Subject: [PATCH 0700/1089] crypto: caam - make UIO JR driver depend on
 CONFIG_UIO

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

One could enable the UIO JR driver even if UIO is not enabled
in the kernel configuration. This leads to compilation errors.
This patch makes the UIO JR driver available if and only if
UIO support is available in the kernel configuration.

Change-Id: I4664c9839ae2b7e0794487c0f411e67d39d59365
Signed-off-by: Alex Porosanu <alexandru.porosanu@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/8543
Reviewed-by: Ruchika Gupta <ruchika.gupta@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
---
 drivers/crypto/caam/Kconfig | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/crypto/caam/Kconfig b/drivers/crypto/caam/Kconfig
index 2f46439..df4df73 100644
--- a/drivers/crypto/caam/Kconfig
+++ b/drivers/crypto/caam/Kconfig
@@ -142,4 +142,5 @@ config CRYPTO_DEV_FSL_CAAM_DEBUG
 config CRYPTO_DEV_FSL_CAAM_JR_UIO
 	tristate "Freescale Job Ring UIO support"
 	depends on CRYPTO_DEV_FSL_CAAM
+	depends on UIO
 	default n
-- 
2.0.2

