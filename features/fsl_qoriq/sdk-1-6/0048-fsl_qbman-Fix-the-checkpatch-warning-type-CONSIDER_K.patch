From f4c15e8a14dd182d520b63cfcee74a3e6d28c5e9 Mon Sep 17 00:00:00 2001
From: Emil Medve <Emilian.Medve@Freescale.com>
Date: Wed, 8 Jan 2014 04:41:02 -0600
Subject: [PATCH 048/466] fsl_qbman: Fix the checkpatch warning type
 CONSIDER_KSTRTO

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead

Signed-off-by: Emil Medve <Emilian.Medve@Freescale.com>
Change-Id: I482d39ab8f6aea1ba7a36f693709e4b1596722cb
Reviewed-on: http://git.am.freescale.net:8181/7786
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Haiying Wang <Haiying.Wang@freescale.com>
Reviewed-by: Geoff Thorpe <Geoff.Thorpe@freescale.com>
Reviewed-by: Emilian Medve <Emilian.Medve@freescale.com>
[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/staging/fsl_qbman/qman_config.c  |    6 +++---
 drivers/staging/fsl_qbman/qman_debugfs.c |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/staging/fsl_qbman/qman_config.c b/drivers/staging/fsl_qbman/qman_config.c
index 6dc05ce..4f7d8a4 100644
--- a/drivers/staging/fsl_qbman/qman_config.c
+++ b/drivers/staging/fsl_qbman/qman_config.c
@@ -1072,7 +1072,7 @@ static ssize_t set_dlm_avg(struct device *dev,
 
 	if (!sscanf(dev_attr->attr.name, "dcp%d_dlm_avg", &i))
 		return -EINVAL;
-	if (strict_strtoul(buf, 0, &val)) {
+	if (kstrtoul(buf, 0, &val)) {
 		dev_dbg(dev, "invalid input %s\n", buf);
 		return -EINVAL;
 	}
@@ -1091,7 +1091,7 @@ static ssize_t set_pfdr_cfg(struct device *dev,
 {
 	unsigned long val;
 
-	if (strict_strtoul(buf, 0, &val)) {
+	if (kstrtoul(buf, 0, &val)) {
 		dev_dbg(dev, "invalid input %s\n", buf);
 		return -EINVAL;
 	}
@@ -1124,7 +1124,7 @@ static ssize_t set_ci_rlm_avg(struct device *dev,
 {
 	unsigned long val;
 
-	if (strict_strtoul(buf, 0, &val)) {
+	if (kstrtoul(buf, 0, &val)) {
 		dev_dbg(dev, "invalid input %s\n", buf);
 		return -EINVAL;
 	}
diff --git a/drivers/staging/fsl_qbman/qman_debugfs.c b/drivers/staging/fsl_qbman/qman_debugfs.c
index d62c963..269ed2a 100644
--- a/drivers/staging/fsl_qbman/qman_debugfs.c
+++ b/drivers/staging/fsl_qbman/qman_debugfs.c
@@ -173,7 +173,7 @@ static int user_input_convert(const char __user *user_buf, size_t count,
 	if (copy_from_user(buf, user_buf, count))
 		return -EFAULT;
 	buf[count] = '\0';
-	if (strict_strtoul(buf, 0, val))
+	if (kstrtoul(buf, 0, val))
 		return -EINVAL;
 	return 0;
 }
-- 
1.7.10.4

