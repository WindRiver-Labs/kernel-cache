From cf058b2f44803aad094459479be611984d4dd2c6 Mon Sep 17 00:00:00 2001
From: Emil Medve <Emilian.Medve@Freescale.com>
Date: Wed, 8 Jan 2014 04:41:02 -0600
Subject: [PATCH 0648/1089] fsl_qbman: Fix the checkpatch warning type
 HOTPLUG_SECTION

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary

Also get rid of __devexit[_p]

Signed-off-by: Emil Medve <Emilian.Medve@Freescale.com>
Change-Id: I369aa7cc51a8ce34af717b013619d70f293bd82c
Reviewed-on: http://git.am.freescale.net:8181/7780
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Haiying Wang <Haiying.Wang@freescale.com>
Reviewed-by: Geoff Thorpe <Geoff.Thorpe@freescale.com>
Reviewed-by: Emilian Medve <Emilian.Medve@freescale.com>
---
 drivers/staging/fsl_qbman/bman_config.c | 4 ++--
 drivers/staging/fsl_qbman/dpa_sys.h     | 3 ---
 drivers/staging/fsl_qbman/qman_config.c | 4 ++--
 3 files changed, 4 insertions(+), 7 deletions(-)

diff --git a/drivers/staging/fsl_qbman/bman_config.c b/drivers/staging/fsl_qbman/bman_config.c
index e4b1984..c92a8cf 100644
--- a/drivers/staging/fsl_qbman/bman_config.c
+++ b/drivers/staging/fsl_qbman/bman_config.c
@@ -598,7 +598,7 @@ static int of_fsl_bman_remove(struct platform_device *ofdev)
 	return 0;
 };
 
-static int __devinit of_fsl_bman_probe(struct platform_device *ofdev)
+static int of_fsl_bman_probe(struct platform_device *ofdev)
 {
 	int ret, i;
 
@@ -683,7 +683,7 @@ static struct platform_driver of_fsl_bman_driver = {
 		.of_match_table = of_fsl_bman_ids,
 	},
 	.probe = of_fsl_bman_probe,
-	.remove = __devexit_p(of_fsl_bman_remove),
+	.remove = of_fsl_bman_remove,
 };
 
 static int bman_ctrl_init(void)
diff --git a/drivers/staging/fsl_qbman/dpa_sys.h b/drivers/staging/fsl_qbman/dpa_sys.h
index f687bf2..7e1e953 100644
--- a/drivers/staging/fsl_qbman/dpa_sys.h
+++ b/drivers/staging/fsl_qbman/dpa_sys.h
@@ -66,9 +66,6 @@
 
 #include <linux/fsl_usdpaa.h>
 
-#define __devinit
-#define __devexit_p
-
 /* When copying aligned words or shorts, try to avoid memcpy() */
 #define CONFIG_TRY_BETTER_MEMCPY
 
diff --git a/drivers/staging/fsl_qbman/qman_config.c b/drivers/staging/fsl_qbman/qman_config.c
index c50e35c..4ae99dc 100644
--- a/drivers/staging/fsl_qbman/qman_config.c
+++ b/drivers/staging/fsl_qbman/qman_config.c
@@ -1164,7 +1164,7 @@ static int of_fsl_qman_remove(struct platform_device *ofdev)
 	return 0;
 };
 
-static int __devinit of_fsl_qman_probe(struct platform_device *ofdev)
+static int of_fsl_qman_probe(struct platform_device *ofdev)
 {
 	int ret;
 
@@ -1207,7 +1207,7 @@ static struct platform_driver of_fsl_qman_driver = {
 		.of_match_table = of_fsl_qman_ids,
 	},
 	.probe = of_fsl_qman_probe,
-	.remove      = __devexit_p(of_fsl_qman_remove),
+	.remove      = of_fsl_qman_remove,
 };
 
 static int qman_ctrl_init(void)
-- 
2.0.2

