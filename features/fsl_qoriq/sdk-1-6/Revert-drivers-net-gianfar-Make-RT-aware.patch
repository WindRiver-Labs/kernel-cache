From b39e5f473888a80598c3150cdaf9e121048a23f2 Mon Sep 17 00:00:00 2001
From: Yanjiang Jin <yanjiang.jin@windriver.com>
Date: Mon, 28 Jul 2014 16:41:59 +0800
Subject: [PATCH 01/52] Revert "drivers: net: gianfar: Make RT aware"

This reverts commit 2c05b6cbaaa5df56ecf0649cc5471b58cb135e0e.

SDK 1.6 has abandoned it.

[Based on QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]
---
 drivers/net/ethernet/freescale/gianfar.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/net/ethernet/freescale/gianfar.c b/drivers/net/ethernet/freescale/gianfar.c
index e0ac7b7..a6ec162 100644
--- a/drivers/net/ethernet/freescale/gianfar.c
+++ b/drivers/net/ethernet/freescale/gianfar.c
@@ -2063,7 +2063,7 @@ void stop_gfar(struct net_device *dev)
 
 
 	/* Lock it down */
-	local_irq_save_nort(flags);
+	local_irq_save(flags);
 	lock_tx_qs(priv);
 	lock_rx_qs(priv);
 
@@ -2071,7 +2071,7 @@ void stop_gfar(struct net_device *dev)
 
 	unlock_rx_qs(priv);
 	unlock_tx_qs(priv);
-	local_irq_restore_nort(flags);
+	local_irq_restore(flags);
 
 	/* Free the IRQs */
 	if (priv->device_flags & FSL_GIANFAR_DEV_HAS_MULTI_INTR) {
@@ -3796,7 +3796,7 @@ static void adjust_link(struct net_device *dev)
 	struct phy_device *phydev = priv->phydev;
 	int new_state = 0;
 
-	local_irq_save_nort(flags);
+	local_irq_save(flags);
 	lock_tx_qs(priv);
 
 	if (phydev->link) {
@@ -3868,7 +3868,7 @@ static void adjust_link(struct net_device *dev)
 	if (new_state && netif_msg_link(priv))
 		phy_print_status(phydev);
 	unlock_tx_qs(priv);
-	local_irq_restore_nort(flags);
+	local_irq_restore(flags);
 }
 
 /* Update the hash table based on the current list of multicast
-- 
1.7.5.4

