From 9b84273512c56e905433c0a3c068c93b786a8a2b Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Fri, 21 Feb 2014 18:35:48 +0200
Subject: [PATCH 0736/1089] dpaa_eth: addressed several sparse reports in
 dpaa_ethtool.c

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Solved several sparse warnings in dpaa_ethtool.c.

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
Change-Id: I612785dc4839b6377a768e823b2eae9898e6b9e4
Reviewed-on: http://git.am.freescale.net:8181/9030
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Cristian-Constantin Sovaiala <Cristian.Sovaiala@freescale.com>
(cherry picked from commit 7fa30bc4adea9bbde0eb05fe507c3a9dc2a80474)
Reviewed-on: http://git.am.freescale.net:8181/9194
---
 drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c b/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c
index a55783d..452ad4b 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_ethtool.c
@@ -42,6 +42,7 @@
 
 #include "dpaa_eth.h"
 #include "mac.h"                /* struct mac_device */
+#include "dpaa_eth_common.h"
 
 static int __cold dpa_get_settings(struct net_device *net_dev,
 		struct ethtool_cmd *et_cmd)
@@ -114,17 +115,18 @@ static void __cold dpa_get_drvinfo(struct net_device *net_dev,
 		sizeof(drvinfo->bus_info)-1)[sizeof(drvinfo->bus_info)-1] = 0;
 }
 
-uint32_t __cold dpa_get_msglevel(struct net_device *net_dev)
+static uint32_t __cold dpa_get_msglevel(struct net_device *net_dev)
 {
 	return ((struct dpa_priv_s *)netdev_priv(net_dev))->msg_enable;
 }
 
-void __cold dpa_set_msglevel(struct net_device *net_dev, uint32_t msg_enable)
+static void __cold dpa_set_msglevel(struct net_device *net_dev,
+		uint32_t msg_enable)
 {
 	((struct dpa_priv_s *)netdev_priv(net_dev))->msg_enable = msg_enable;
 }
 
-int __cold dpa_nway_reset(struct net_device *net_dev)
+static int __cold dpa_nway_reset(struct net_device *net_dev)
 {
 	int			 _errno;
 	struct dpa_priv_s	*priv;
@@ -151,7 +153,7 @@ int __cold dpa_nway_reset(struct net_device *net_dev)
 	return _errno;
 }
 
-void __cold dpa_get_ringparam(struct net_device *net_dev,
+static void __cold dpa_get_ringparam(struct net_device *net_dev,
 		struct ethtool_ringparam *et_ringparam)
 {
 	et_ringparam->rx_max_pending	   = 0;
@@ -165,7 +167,7 @@ void __cold dpa_get_ringparam(struct net_device *net_dev,
 	et_ringparam->tx_pending	   = 0;
 }
 
-void __cold dpa_get_pauseparam(struct net_device *net_dev,
+static void __cold dpa_get_pauseparam(struct net_device *net_dev,
 		struct ethtool_pauseparam *et_pauseparam)
 {
 	struct dpa_priv_s	*priv;
@@ -186,7 +188,7 @@ void __cold dpa_get_pauseparam(struct net_device *net_dev,
 	et_pauseparam->tx_pause	= priv->mac_dev->tx_pause;
 }
 
-int __cold dpa_set_pauseparam(struct net_device *net_dev,
+static int __cold dpa_set_pauseparam(struct net_device *net_dev,
 		struct ethtool_pauseparam *et_pauseparam)
 {
 	struct dpa_priv_s	*priv;
-- 
2.0.2

