From cc779ca90212028c6a0168a90af208902c64a910 Mon Sep 17 00:00:00 2001
From: Alex Porosanu <alexandru.porosanu@freescale.com>
Date: Mon, 3 Feb 2014 09:19:14 +0200
Subject: [PATCH 430/466] crypto: caam - make UIO JR driver depend on
 CONFIG_UIO

One could enable the UIO JR driver even if UIO is not enabled
in the kernel configuration. This leads to compilation errors.
This patch makes the UIO JR driver available if and only if
UIO support is available in the kernel configuration.

Change-Id: I4664c9839ae2b7e0794487c0f411e67d39d59365
Signed-off-by: Alex Porosanu <alexandru.porosanu@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/8543
Reviewed-by: Ruchika Gupta <ruchika.gupta@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/crypto/caam/Kconfig |    1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/crypto/caam/Kconfig b/drivers/crypto/caam/Kconfig
index 8b3f05c..54da368 100644
--- a/drivers/crypto/caam/Kconfig
+++ b/drivers/crypto/caam/Kconfig
@@ -154,4 +154,5 @@ config CRYPTO_DEV_FSL_CAAM_DEBUG
 config CRYPTO_DEV_FSL_CAAM_JR_UIO
 	tristate "Freescale Job Ring UIO support"
 	depends on CRYPTO_DEV_FSL_CAAM
+	depends on UIO
 	default n
-- 
1.7.10.4

