From b0467b28e820e8301cabe14ac914088d0235e8e6 Mon Sep 17 00:00:00 2001
From: Yanjiang Jin <yanjiang.jin@windriver.com>
Date: Tue, 15 Jul 2014 15:36:00 +0800
Subject: [PATCH] fsl-b4xxx: b4qds.dts: update NOR flash memory map

Update NOR flash memory map to suit SDK 1.6.

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/powerpc/boot/dts/b4qds.dts |   46 +++++++++++++++++++++++++++-----------
 1 files changed, 32 insertions(+), 14 deletions(-)

diff --git a/arch/powerpc/boot/dts/b4qds.dts b/arch/powerpc/boot/dts/b4qds.dts
index 6e8d04d..8ae9cfd 100644
--- a/arch/powerpc/boot/dts/b4qds.dts
+++ b/arch/powerpc/boot/dts/b4qds.dts
@@ -73,19 +73,29 @@
 			};
 			partition@4020000 {
 				label = "kernel";
-				reg = <0x4020000 0x600000>;
+				reg = <0x4020000 0x7e0000>;
 			};
-			partition@4620000 {
+			partition@4800000 {
 				label = "dtb";
-				reg = <0x4620000 0x20000>;
+				reg = <0x4800000 0x100000>;
 			};
-			partition@4640000 {
+			partition@4900000 {
 				label = "fs1";
-				reg = <0x4640000 0x1940000>;
+				reg = <0x4900000 0x1600000>;
 			};
-			partition@5f80000 {
+			partition@5f00000 {
+				label = "alt-fman-firmware";
+				reg = <0x5f00000 0x20000>;
+				read-only;
+			};
+			partition@5f20000 {
+				label = "alt-u-boot env";
+				reg = <0x5f20000  0x20000>;
+				read-only;
+			};
+			partition@5f40000 {
 				label = "alt-u-boot";
-				reg = <0x5f80000 0x80000>;
+				reg = <0x5f40000 0xc0000>;
 				read-only;
 			};
 			partition@6000000 {
@@ -94,22 +104,30 @@
 				read-only;
 			};
 			partition@6020000 {
+				label = "alt-kernel";
+				reg = <0x6020000 0x7e0000>;
+			};
+			partition@6800000 {
+				label = "alt-dtb";
+				reg = <0x6800000 0x100000>;
+			};
+			partition@6920000 {
 				label = "fs2";
-				reg = <0x6020000 0x1f20000>;
+				reg = <0x6920000 0x1600000>;
 			};
-			partition@7f40000 {
+			partition@7f20000 {
 				label = "fman-firmware";
-				reg = <0x7f40000 0x20000>;
+				reg = <0x7f20000 0x20000>;
 				read-only;
 			};
-			partition@7f60000 {
+			partition@7f40000 {
 				label = "u-boot env";
-				reg = <0x7f60000  0x20000>;
+				reg = <0x7f40000  0x20000>;
 				read-only;
 			};
-			partition@7f80000 {
+			partition@7f60000 {
 				label = "u-boot";
-				reg = <0x7f80000 0x80000>;
+				reg = <0x7f60000 0xc0000>;
 				read-only;
 			};
 		};
-- 
1.7.5.4

