From 1281fdd83e42eb0cc11963f90033250cf31b1508 Mon Sep 17 00:00:00 2001
From: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Date: Wed, 21 May 2014 17:09:47 +0800
Subject: [PATCH 1054/1089] t2080rdb/dts: update i2c and spi node for t2080rdb

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

- fix i2c nodes for pca9546, adt7481, rtc ds1339, eeprom.
- remove incorrect sst25wf040 device node, only one Micron
  n25q512a on t2080rdb.

Signed-off-by: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Change-Id: I4c0d6a549e5f7164ec14cb2e59468ca14df19317
Reviewed-on: http://git.am.freescale.net:8181/12663
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Shaohui Xie <Shaohui.Xie@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
---
 arch/powerpc/boot/dts/t208xrdb.dtsi | 54 +++++++++++++++----------------------
 1 file changed, 21 insertions(+), 33 deletions(-)

diff --git a/arch/powerpc/boot/dts/t208xrdb.dtsi b/arch/powerpc/boot/dts/t208xrdb.dtsi
index f12b40d..0e1a1e7 100644
--- a/arch/powerpc/boot/dts/t208xrdb.dtsi
+++ b/arch/powerpc/boot/dts/t208xrdb.dtsi
@@ -98,19 +98,29 @@
 				reg = <0>;
 				spi-max-frequency = <10000000>; /* input clock */
 			};
+		};
 
-			flash@1 {
-				#address-cells = <1>;
-				#size-cells = <1>;
-				compatible = "sst,sst25wf040";
-				reg = <1>;
-				spi-max-frequency = <40000000>; /* input clock */
+		i2c@118000 {
+			adt7481@4c {
+				compatible = "adi,adt7481";
+				reg = <0x4c>;
+			};
+
+			rtc@68 {
+				compatible = "dallas,ds1339";
+				reg = <0x68>;
+				interrupts = <0x1 0x1 0 0>;
+			};
+
+			eeprom@50 {
+				compatible = "at24,24c256";
+				reg = <0x50>;
 			};
 		};
 
-		i2c@118000 {
-			pca9547@77 {
-				compatible = "nxp,pca9547";
+		i2c@118100 {
+			pca9546@77 {
+				compatible = "nxp,pca9546";
 				reg = <0x77>;
 				#address-cells = <1>;
 				#size-cells = <0>;
@@ -120,32 +130,10 @@
 					#size-cells = <0>;
 					reg = <0x0>;
 
-					eeprom@50 {
-						compatible = "at24,24c256";
+					sfp@50 {
+						compatible = "optics,sfp";
 						reg = <0x50>;
 					};
-
-					eeprom@51 {
-						compatible = "at24,24c02";
-						reg = <0x51>;
-					};
-
-					rtc@68 {
-						compatible = "dallas,ds3232";
-						reg = <0x68>;
-						interrupts = <0x1 0x1 0 0>;
-					};
-				};
-
-				i2c@1 {
-					#address-cells = <1>;
-					#size-cells = <0>;
-					reg = <0x1>;
-
-					eeprom@55 {
-						compatible = "at24,24c02";
-						reg = <0x55>;
-					};
 				};
 			};
 		};
-- 
2.0.2

