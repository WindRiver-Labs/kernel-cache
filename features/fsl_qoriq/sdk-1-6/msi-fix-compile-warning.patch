From 8617fc0fb8eadebd303251dfb9e62c276eb25928 Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Fri, 14 Nov 2014 10:58:02 +0800
Subject: [PATCH 5/8] msi:fix compile warning

Fix following compile warning introduced by msi driver:

drivers/pci/msi.c: In function 'arch_msi_get_region_count':
drivers/pci/msi.c:886:1: warning: control reaches end of non-void function [-Wreturn-type]
 int __weak arch_msi_get_region_count(void) { }
 ^
drivers/pci/msi.c: In function 'arch_msi_get_region':
drivers/pci/msi.c:887:55: warning: control reaches end of non-void function [-Wreturn-type]
 int __weak arch_msi_get_region(int region_num, struct msi_region *region) { }
                                                       ^
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 drivers/pci/msi.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

diff --git a/drivers/pci/msi.c b/drivers/pci/msi.c
index f00dbea..7dd4456 100644
--- a/drivers/pci/msi.c
+++ b/drivers/pci/msi.c
@@ -883,8 +883,15 @@ int pci_msi_vec_count(struct pci_dev *dev)
 }
 EXPORT_SYMBOL(pci_msi_vec_count);
 
-int __weak arch_msi_get_region_count(void) { }
-int __weak arch_msi_get_region(int region_num, struct msi_region *region) { }
+int __weak arch_msi_get_region_count(void)
+{
+	return 0;
+}
+
+int __weak arch_msi_get_region(int region_num, struct msi_region *region)
+{
+	return 0;
+}
 
 int msi_get_region_count(void)
 {
-- 
1.7.5.4

