From 6953467211e4c0565b477da7749594b1f1698e72 Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Thu, 17 Jul 2014 16:53:54 +0800
Subject: [PATCH 3/3] t208xqds:Add devices in dts

Add following devices to device-tree:

1.Partition info for 128M NOR flash.
2.Temperature sensor on i2c bus.

Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 arch/powerpc/boot/dts/t208xqds.dtsi |   74 +++++++++++++++++++++++++++++++++++
 1 files changed, 74 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/t208xqds.dtsi b/arch/powerpc/boot/dts/t208xqds.dtsi
index 55c1ec7..d139c0b 100644
--- a/arch/powerpc/boot/dts/t208xqds.dtsi
+++ b/arch/powerpc/boot/dts/t208xqds.dtsi
@@ -53,6 +53,71 @@
 
 			bank-width = <2>;
 			device-width = <1>;
+
+			partition@0 {
+				label = "rcw";
+				reg = <0x0 0x20000>;
+				read-only;
+			};
+			partition@20000 {
+				label = "kernel1";
+				reg = <0x20000 0x7e0000>;
+			};
+			partition@800000 {
+				label = "dtb1";
+				reg = <0x800000 0x100000>;
+			};
+			partition@900000 {
+				label = "fs1";
+				reg = <0x900000 0x3600000>;
+			};
+			partition@3f00000 {
+				label = "alt-fman-firmware";
+				reg = <0x3f00000 0x20000>;
+				read-only;
+			};
+			partition@3f20000 {
+				label = "alt-uboot-env";
+				reg = <0x3f20000 0x20000>;
+				read-only;
+			};
+			partition@3f40000 {
+				label = "alt-u-boot";
+				reg = <0x3f40000 0xc0000>;
+				read-only;
+			};
+			partition@4000000 {
+				label = "alt-rcw";
+				reg = <0x4000000 0x20000>;
+				read-only;
+			};
+			partition@4020000 {
+				label = "kernel2";
+				reg = <0x4020000 0x7e0000>;
+			};
+			partition@4800000 {
+				label = "dtb2";
+				reg = <0x4800000 0x100000>;
+			};
+			partition@4900000 {
+				label = "fs2";
+				reg = <0x4900000 0x3600000>;
+			};
+			partition@7f00000 {
+				label = "fman-firmware";
+				reg = <0x7f00000 0x20000>;
+				read-only;
+			};
+			partition@7f20000 {
+				label = "u-boot env";
+				reg = <0x7f20000  0x20000>;
+				read-only;
+			};
+			partition@7f40000 {
+				label = "u-boot";
+				reg = <0x7f40000 0xc0000>;
+				read-only;
+			};
 		};
 
 		nand@2,0 {
@@ -204,6 +269,15 @@
 						shunt-resistor = <1000>;
 					};
 				};
+				i2c@3 {
+					#address-cells = <1>;
+					#size-cells = <0>;
+					reg = <0x3>;
+					ADT7461@4c {
+						compatible = "adt7461a";
+						reg = <0x4c>;
+					};
+				};
 			};
 		};
 
-- 
1.7.5.4

