From 54a13fe989d11420399af2578b478f38a7e2cd03 Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Thu, 17 Apr 2014 17:19:10 +0300
Subject: [PATCH 0947/1089] dpa_offload: Remove shared interface from T2080RDB
 DTS file

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Removed the shared interface from the t2080rdb-usdpaa-shared-interfaces
DTS file to align Ethernet interfaces with the other dpaa offloading
applications on T2080RDB.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
Change-Id: Ic24a39a8524ffd4485c91feb4760877a440ff803
Reviewed-on: http://git.am.freescale.net:8181/11528
Reviewed-by: Aurelian Zanoschi <Aurelian.Zanoschi@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
---
 .../dts/t2080rdb-usdpaa-shared-interfaces.dts               | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dts/t2080rdb-usdpaa-shared-interfaces.dts b/drivers/staging/fsl_dpa_offload/dts/t2080rdb-usdpaa-shared-interfaces.dts
index b07fbd9..1f332e7 100644
--- a/drivers/staging/fsl_dpa_offload/dts/t2080rdb-usdpaa-shared-interfaces.dts
+++ b/drivers/staging/fsl_dpa_offload/dts/t2080rdb-usdpaa-shared-interfaces.dts
@@ -97,16 +97,11 @@
 			fsl,qman-frame-queues-rx = <0x90 1 0x91 1>;
 			fsl,qman-frame-queues-tx = <0x98 1 0x99 1>;
 		};
-		/* ethernet@1 declared as shared MAC. USDPAA will seed buffers to
-		 * this buffer pool. The ethernet driver will initialize the RX default,
-		 * RX error, TX error, TX confirm and 8 TX Frame queues. On receiving frame
-		 * at this interface, the ethernet driver will do kmap_atomic/kunmap_atomic
-		 * for that frame. */
 		ethernet@1 {/* 10G */
-			compatible = "fsl,t2080-dpa-ethernet-shared", "fsl,dpa-ethernet-shared";
-			fsl,bman-buffer-pools = <&bp17>;
-			fsl,qman-frame-queues-rx = <0x92 1 0x93 1 0x2000 3>;
-			fsl,qman-frame-queues-tx = <0 1 0 1 0x3000 8>;
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x92 1 0x93 1>;
+			fsl,qman-frame-queues-tx = <0x9a 1 0x9b 1>;
 		};
 		ethernet@2 {/* 1G */
 			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
-- 
2.0.2

