From 576028a3886ac7d9655aae8cf81efd17c76b6ad7 Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Mon, 8 Jul 2013 15:26:29 +0300
Subject: [PATCH 0459/1089] fmd: fix ambiguity with naming of ports in sysfs

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>
ENGR00258538
Change-Id: If05f2a070c35c9884782d879566b04f40accfab8
Reviewed-on: http://git.am.freescale.net:8181/3295
Reviewed-by: Chereji Marian-Cornel-R27762 <marian.chereji@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 .../freescale/fman/src/wrapper/lnxwrp_sysfs_fm_port.c         | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

diff --git a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_sysfs_fm_port.c b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_sysfs_fm_port.c
index 97dacb7..cab44ef 100644
--- a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_sysfs_fm_port.c
+++ b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_sysfs_fm_port.c
@@ -147,10 +147,9 @@ static ssize_t show_fm_port_stats(struct device *dev,
 	}
 
 	local_irq_save(flags);
-	n = snprintf(buf, PAGE_SIZE, "\tFM %d Port %d counter: %d\n",
-		     p_LnxWrpFmDev->id,
-		     p_LnxWrpFmPortDev->id,
-		     FM_PORT_GetCounter(p_LnxWrpFmPortDev->h_Dev,
+	n = snprintf(buf, PAGE_SIZE, "\t%s counter: %d\n",
+		p_LnxWrpFmPortDev->name,
+		FM_PORT_GetCounter(p_LnxWrpFmPortDev->h_Dev,
 					(e_FmPortCounters) counter));
 	local_irq_restore(flags);
 
@@ -223,8 +222,8 @@ static struct attribute *fm_oh_port_dev_stats_attributes[] = {
 	&dev_attr_port_deq_total.attr,
 	&dev_attr_port_deq_from_default.attr,
 	&dev_attr_port_deq_confirm.attr,
-	 /*RX*/ &dev_attr_port_rx_bad_frame.attr,
-	&dev_attr_port_rx_large_frame.attr,
+	/* &dev_attr_port_rx_bad_frame.attr, */
+	/* &dev_attr_port_rx_large_frame.attr, */
 	&dev_attr_port_rx_out_of_buffers_discard.attr,
 	/*&dev_attr_port_rx_filter_frame.attr, */
 	NULL
-- 
2.0.2

