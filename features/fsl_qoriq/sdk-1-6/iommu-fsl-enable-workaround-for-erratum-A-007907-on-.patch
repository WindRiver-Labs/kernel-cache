From cd3841232e8618da69cd19ca8700923ccc374517 Mon Sep 17 00:00:00 2001
From: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Date: Fri, 16 May 2014 12:43:38 +0800
Subject: [PATCH 1033/1089] iommu/fsl: enable workaround for erratum A-007907
 on T4080

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

The workaround for erratum A-007907 is needed for T4080.

Signed-off-by: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Change-Id: I249329c174b853f7f4cccb2dfcb51017d2a3f8de
Reviewed-on: http://git.am.freescale.net:8181/12437
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Xiaobo Xie <X.Xie@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
---
 drivers/iommu/fsl_pamu.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/iommu/fsl_pamu.c b/drivers/iommu/fsl_pamu.c
index 78f10ea..6ac669d 100644
--- a/drivers/iommu/fsl_pamu.c
+++ b/drivers/iommu/fsl_pamu.c
@@ -672,6 +672,7 @@ static bool has_erratum_a007907(void)
 	case SVR_B4420:
 	case SVR_T4240:
 	case SVR_T4160:
+	case SVR_T4080:
 		return SVR_REV(svr) <= 0x20;
 
 	case SVR_T2080:
-- 
2.0.2

