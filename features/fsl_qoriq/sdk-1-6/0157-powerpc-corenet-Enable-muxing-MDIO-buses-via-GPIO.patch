From 9bcf58768b9c61017b57731d2f3e82a2cce616d3 Mon Sep 17 00:00:00 2001
From: Shruti Kanetkar <Shruti@Freescale.com>
Date: Mon, 24 Feb 2014 16:08:58 -0600
Subject: [PATCH 157/466] powerpc/corenet: Enable muxing MDIO buses via GPIO

P4080 DS is using GPIO(s) to mux the on board MDIO buses. The P4080 DS is
the only board that uses GPIO(s) for MDIO muxing and commit '431f241
qoriq: Enable muxing MDIO buses' missed this particular board

Signed-off-by: Shruti Kanetkar <Shruti@Freescale.com>
Change-Id: I6e085b131e0cec1dadeda8f2c31b4b81f6587640
Reviewed-on: http://git.am.freescale.net:8181/9080
Reviewed-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Emilian Medve <Emilian.Medve@freescale.com>
Reviewed-by: Marian-Cornel Chereji <marian.chereji@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/powerpc/platforms/85xx/Kconfig |    1 +
 1 file changed, 1 insertion(+)

diff --git a/arch/powerpc/platforms/85xx/Kconfig b/arch/powerpc/platforms/85xx/Kconfig
index a65cf2e..02feec9 100644
--- a/arch/powerpc/platforms/85xx/Kconfig
+++ b/arch/powerpc/platforms/85xx/Kconfig
@@ -268,6 +268,7 @@ config CORENET_GENERIC
 	select HAS_FSL_QBMAN
 	select MDIO_BUS_MUX if FSL_DPAA_ETH
 	select MDIO_BUS_MUX_MMIOREG if FSL_DPAA_ETH
+	select MDIO_BUS_MUX_GPIO if FSL_DPAA_ETH
 	help
 	  This option enables support for the FSL CoreNet based boards.
 	  For 32bit kernel, the following boards are supported:
-- 
1.7.10.4

