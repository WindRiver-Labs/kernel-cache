From 881fe7f6511a4fe351ff2747b99216820cc4a57d Mon Sep 17 00:00:00 2001
From: Haijun Zhang <haijun.zhang@freescale.com>
Date: Sun, 7 Apr 2013 13:56:02 +0800
Subject: [PATCH 0129/1089] eSDHC: Remove duplicate code of sdhci resume

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Remove duplicate code "enable_dma()" in platform_resume.
enable_dma was invoked already in sdhci_resume_host
before ops->platform_resume was executed

Signed-off-by: Haijun Zhang <haijun.zhang@freescale.com>
Change-Id: I9b510a0cce3050dc75aac521232c92869174f66f
Reviewed-on: http://git.am.freescale.net:8181/1092
Reviewed-by: Xie Xiaobo-R63061 <X.Xie@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 drivers/mmc/host/sdhci-of-esdhc.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/mmc/host/sdhci-of-esdhc.c b/drivers/mmc/host/sdhci-of-esdhc.c
index d84515c..8209b26 100644
--- a/drivers/mmc/host/sdhci-of-esdhc.c
+++ b/drivers/mmc/host/sdhci-of-esdhc.c
@@ -267,7 +267,6 @@ static void esdhc_of_suspend(struct sdhci_host *host)
 
 static void esdhc_of_resume(struct sdhci_host *host)
 {
-	esdhc_of_enable_dma(host);
 	sdhci_be32bs_writel(host, esdhc_proctl, SDHCI_HOST_CONTROL);
 }
 #endif
-- 
2.0.2

