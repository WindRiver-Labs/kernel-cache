From 2690eababf97a7a4357b6d0b83f5f81168d9004a Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Wed, 15 Aug 2012 14:33:22 +0800
Subject: [PATCH 004/128] Revert "powerpc/law: correct LAW size"

We will apply a more latest fix for this errata.

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/sysdev/fsl_pamu.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/powerpc/sysdev/fsl_pamu.c b/arch/powerpc/sysdev/fsl_pamu.c
index 5930304..cf5f6d3 100644
--- a/arch/powerpc/sysdev/fsl_pamu.c
+++ b/arch/powerpc/sysdev/fsl_pamu.c
@@ -471,7 +471,7 @@ static int __init create_csd(phys_addr_t phys, size_t size)
 
 			law_start = make64(law[i].lawbarh, law[i].lawbarl);
 			law_end = law_start +
-				(1ULL << ((law[i].lawar & LAWAR_SIZE_MASK) + 1));
+				(1ULL << (law[i].lawar & LAWAR_SIZE_MASK));
 
 			if (law_start <= phys && phys < law_end) {
 				law_target = law[i].lawar & LAWAR_TARGET_MASK;
-- 
1.7.9.7

