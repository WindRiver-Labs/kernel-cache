From 7fbfa428d97d5bf03c849a79a7ee47be00c28581 Mon Sep 17 00:00:00 2001
From: Xuelin Shi <b29237@freescale.com>
Date: Fri, 11 May 2012 15:12:31 +0000
Subject: [PATCH 119/121] DMA/RAIDEngine: fix dma tx dependency issue in RE.

If two txs has dependency in the same job queue, we need to set the first tx
is dependented by other tx, which tells RE hold the second tx before the first
tx is completed.

Signed-off-by: Xuelin Shi <b29237@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/dma/fsl_raid.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/dma/fsl_raid.h b/drivers/dma/fsl_raid.h
index 29ca6b9..2d18eef 100644
--- a/drivers/dma/fsl_raid.h
+++ b/drivers/dma/fsl_raid.h
@@ -55,7 +55,7 @@
 #define CACHEABLE_INPUT_OUTPUT	0x0
 #define BUFFERABLE_OUTPUT	0x0
 #define INTERRUPT_ON_ERROR	0x1
-#define DATA_DEPENDENCY		0x0
+#define DATA_DEPENDENCY		0x1
 #define ENABLE_DPI		0x0
 #define RING_SIZE		0x1000
 #define RE_JR_ADDRESS_BIT_SHIFT	4
-- 
1.7.9.7

