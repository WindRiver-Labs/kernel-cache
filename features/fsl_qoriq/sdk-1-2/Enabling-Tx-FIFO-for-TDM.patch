From 9f7ea25b6555994015ae34e601f4b4010d9bf7cc Mon Sep 17 00:00:00 2001
From: Sandeep Singh <Sandeep@freescale.com>
Date: Mon, 7 May 2012 16:11:55 +0000
Subject: [PATCH 113/121] Enabling Tx FIFO for TDM

Signed-off-by: Sandeep Singh <Sandeep@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/tdm/device/tdm_fsl.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/tdm/device/tdm_fsl.c b/drivers/tdm/device/tdm_fsl.c
index 9b5ac81..2f5bd0b 100644
--- a/drivers/tdm/device/tdm_fsl.c
+++ b/drivers/tdm/device/tdm_fsl.c
@@ -436,8 +436,8 @@ static int tdm_fsl_reg_init(struct tdm_priv *priv)
 		 RIR_RSL | RIR_RSO | RIR_RCOE | RIR_RRDO |
 		 RIR_RFSD(RIR_RFSD_VAL));
 	out_be32(&priv->tdm_regs->tir,
-		 TIR_TFWM(TIR_RFWM_VAL) | TIR_TWEN | TIR_TDMA | TIR_TSL |
-		 TIR_TSO | TIR_TRDO | TIR_TFSD(TIR_RFSD_VAL));
+		 TIR_TFWM(TIR_RFWM_VAL) | TIR_TFEN | TIR_TWEN | TIR_TDMA |
+		 TIR_TSL | TIR_TSO | TIR_TRDO | TIR_TFSD(TIR_RFSD_VAL));
 
 	/* no of channels ,Channel size-coading */
 	switch (adap->adapt_cfg.ch_size_type) {
-- 
1.7.9.7

