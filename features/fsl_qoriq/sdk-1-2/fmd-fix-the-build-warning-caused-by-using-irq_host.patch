From c2220680d541ef48f40d995a73d431476b49fca7 Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Thu, 16 Aug 2012 13:38:08 +0800
Subject: [PATCH 003/128] fmd: fix the build warning caused by using irq_host

The struct irq_host was already replaced by the irq_domain
in the latest kernel. So using the irq_domain to fix the
following build warning:
drivers/net/ethernet/freescale/dpa/NetCommSw/src/xx/xx_linux.c: In function 'GetDeviceIrqNum':
drivers/net/ethernet/freescale/dpa/NetCommSw/src/xx/xx_linux.c:862:13: warning: assignment from incompatible pointer type [enabled by default]
drivers/net/ethernet/freescale/dpa/NetCommSw/src/xx/xx_linux.c:866:5: warning: passing argument 1 of 'irq_create_mapping' from incompatible pointer type [enabled by default]
include/linux/irqdomain.h:148:21: note: expected 'struct irq_domain *' but argument is of type 'struct irq_host *'

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 .../freescale/dpa/NetCommSw/src/xx/xx_linux.c      |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/dpa/NetCommSw/src/xx/xx_linux.c b/drivers/net/ethernet/freescale/dpa/NetCommSw/src/xx/xx_linux.c
index 881be9e..f463273 100644
--- a/drivers/net/ethernet/freescale/dpa/NetCommSw/src/xx/xx_linux.c
+++ b/drivers/net/ethernet/freescale/dpa/NetCommSw/src/xx/xx_linux.c
@@ -850,7 +850,7 @@ uint32_t E500_GetId(void)
 int GetDeviceIrqNum(int irq)
 {
     struct device_node  *iPar;
-    struct irq_host     *irqHost;
+    struct irq_domain	*irqHost;
     uint32_t            hwIrq;
 
     /* Get the interrupt controller */
-- 
1.7.9.7

