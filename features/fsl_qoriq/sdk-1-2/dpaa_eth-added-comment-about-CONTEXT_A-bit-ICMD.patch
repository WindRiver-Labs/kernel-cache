From 3888cfbef52e6bc029a4462414ac18e60945c6fa Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Thu, 3 Nov 2011 17:08:39 +0200
Subject: [PATCH 013/128] dpaa_eth: added comment about CONTEXT_A bit ICMD

On P1023 and similar platforms fd->cmd interpretation could be disabled by
setting CONTEXT_A bit ICMD; currently this bit is not set so we do not need
to check; in the future, if/when using context_a we need to check this bit

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.c |    7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
index 66ca8eb..7595edd 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
@@ -1093,6 +1093,13 @@ static inline int dpa_enable_tx_csum(struct dpa_priv_s *priv,
 	/* Enable L3 (and L4, if TCP or UDP) HW checksum. */
 	fd->cmd |= FM_FD_CMD_RPD | FM_FD_CMD_DTC;
 
+	/*
+	 * On P1023 and similar platforms fd->cmd interpretation could
+	 * be disabled by setting CONTEXT_A bit ICMD; currently this bit
+	 * is not set so we do not need to check; in the future, if/when
+	 * using context_a we need to check this bit
+	 */
+
 return_error:
 	return retval;
 }
-- 
1.7.9.7

