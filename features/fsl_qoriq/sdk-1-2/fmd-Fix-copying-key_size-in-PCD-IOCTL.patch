From e0e6f0c6299669548e5320ca2e98af3fad597572 Mon Sep 17 00:00:00 2001
From: Sorin Andrei Pistirica <sorin.pistirica@freescale.com>
Date: Thu, 31 May 2012 19:07:05 +0000
Subject: [PATCH 082/128] fmd: Fix copying key_size in PCD IOCTL

Signed-off-by: Andrei Pistirica <sorin.pistirica@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 .../src/wrapper/lnxwrp_ioctls_fm_compat.c          |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_ioctls_fm_compat.c b/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_ioctls_fm_compat.c
index d07d60c..5e09ae8 100644
--- a/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_ioctls_fm_compat.c
+++ b/drivers/net/ethernet/freescale/dpa/NetCommSw/src/wrapper/lnxwrp_ioctls_fm_compat.c
@@ -376,7 +376,7 @@ void compat_copy_fm_pcd_cc_node_modify_key_and_next_engine(
     {
         param->id       = compat_ptr(compat_param->id);
         param->key_indx = compat_param->key_indx;
-        param->key_size = compat_param->key_indx;
+        param->key_size = compat_param->key_size;
         compat_copy_fm_pcd_cc_key(
             &compat_param->key_params,
             &param->key_params,
@@ -386,7 +386,7 @@ void compat_copy_fm_pcd_cc_node_modify_key_and_next_engine(
     {
         compat_param->id       = ptr_to_compat(param->id);
         compat_param->key_indx = param->key_indx;
-        compat_param->key_size = param->key_indx;
+        compat_param->key_size = param->key_size;
         compat_copy_fm_pcd_cc_key(
             &compat_param->key_params,
             &param->key_params,
-- 
1.7.9.7

