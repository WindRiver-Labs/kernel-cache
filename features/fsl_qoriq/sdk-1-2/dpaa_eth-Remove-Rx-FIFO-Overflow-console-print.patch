From cf6c10c5857d6f2908b1b1c3c2630f8804be6f29 Mon Sep 17 00:00:00 2001
From: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
Date: Fri, 4 May 2012 15:22:56 +0300
Subject: [PATCH 120/128] dpaa_eth: Remove Rx FIFO Overflow console print

The Rx FIFO Overflow errors are the most common type of errors carried
by frames received on the Rx Error FQs. The receiving of such a frame is
not an error in itself, although the loud printout makes it look so.

Removed the print notifications of such error frames; users/developers
who are really interested in them would have to look in the debugfs
statistics anyway.

Signed-off-by: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.c |    6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
index 134092a..d18ac23 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
@@ -867,10 +867,6 @@ static void _dpa_rx_error(struct net_device *net_dev,
 		const struct qm_fd *fd,
 		u32 fqid)
 {
-	if (netif_msg_hw(priv) && net_ratelimit())
-		cpu_netdev_err(net_dev, "FD status = 0x%08x\n",
-				fd->status & FM_FD_STAT_ERRORS);
-
 	if (dpaa_eth_hooks.rx_error &&
 		dpaa_eth_hooks.rx_error(net_dev, fd, fqid) == DPAA_ETH_STOLEN)
 		/* it's up to the hook to perform resource cleanup */
@@ -2622,7 +2618,7 @@ static int __cold dpa_debugfs_show(struct seq_file *file, void *offset)
 			total.stats.rx_errors,
 			count_total);
 
-	seq_printf(file, "\nDPA RX Errors:\nCPU        dma err   phy err" \
+	seq_printf(file, "\nDPA RX Errors:\nCPU        dma err  phys err" \
 				"  size err   hdr err  csum err\n");
 		for_each_online_cpu(i) {
 			percpu_priv = per_cpu_ptr(priv->percpu_priv, i);
-- 
1.7.9.7

