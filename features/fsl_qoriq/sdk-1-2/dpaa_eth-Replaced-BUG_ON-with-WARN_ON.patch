From f1dc2a243a643ded8bd2e2d643b639c85fef783c Mon Sep 17 00:00:00 2001
From: Cristian Sovaiala <cristian.sovaiala@freescale.com>
Date: Thu, 26 Jan 2012 13:06:36 +0200
Subject: [PATCH 088/128] dpaa_eth: Replaced BUG_ON with WARN_ON

By replacing BUG_ON with WARN_ON the board will be able
to complete the boot process, hence someone that is
working on a different task will not be interrupted
by the failing unit test.

May the unit test fail, the error log can be analyzed by
automatic testing tools as it is a standardized format.

Signed-off-by: Cristian Sovaiala <cristian.sovaiala@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
index f1fb8a6..e29ba83 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
@@ -3091,7 +3091,7 @@ dpaa_eth_probe(struct platform_device *_of_dev)
 	if (!priv->shared && !tx_unit_test_ran) {
 		err = dpa_tx_unit_test(net_dev);
 
-		BUG_ON(err);
+		WARN_ON(err);
 	}
 #endif
 
-- 
1.7.9.7

