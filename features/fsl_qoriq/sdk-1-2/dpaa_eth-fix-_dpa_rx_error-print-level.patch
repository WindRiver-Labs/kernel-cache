From 077609ec6d2098d8d81908d2c2732bd48c3f5282 Mon Sep 17 00:00:00 2001
From: Bogdan Hamciuc <bogdan.hamciuc@freescale.com>
Date: Thu, 5 Apr 2012 18:40:23 +0300
Subject: [PATCH 111/128] dpaa_eth: fix _dpa_rx_error print level

If _dpa_rx_error()s occur, the console shows:

net_ratelimit: 94 callbacks suppressed

Change the netdev printlevel from debug to error, so as to be able to
actually see the FD status, e.g.:

cpu2: fsl_dpa: ethernet.18: dpaa_eth.c:840:_dpa_rx_error() fm2-10g: FD
status = 0x00080000
net_ratelimit: 94 callbacks suppressed

Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
[Kevin: Original patch taken from FSL
QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
index 0a27716..a24a180 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
@@ -878,7 +878,7 @@ static void _dpa_rx_error(struct net_device *net_dev,
 		u32 fqid)
 {
 	if (netif_msg_hw(priv) && net_ratelimit())
-		cpu_netdev_dbg(net_dev, "FD status = 0x%08x\n",
+		cpu_netdev_err(net_dev, "FD status = 0x%08x\n",
 				fd->status & FM_FD_STAT_ERRORS);
 
 	if (dpaa_eth_hooks.rx_error &&
-- 
1.7.9.7

