From 2d1ef8eed28c0cc52bd0f4aa771dc4d1e0f12677 Mon Sep 17 00:00:00 2001
From: Ben Collins <ben.c@servergy.com>
Date: Thu, 23 Aug 2012 18:39:57 -0400
Subject: [PATCH 019/162] crypto/caam: Export gen_split_key symbol for other
 modules

commit 3b75a2c126c4b573553856e0fe08d1bb020ca8c3 upstream

In 3.6-rc3, without this patch, the following error occurs with a modular build:

ERROR: "gen_split_key" [drivers/crypto/caam/caamhash.ko] undefined!
ERROR: "gen_split_key" [drivers/crypto/caam/caamalg.ko] undefined!

Signed-off-by: Ben Collins <ben.c@servergy.com>
Cc: Yuan Kang <Yuan.Kang@freescale.com>
Acked-by: Kim Phillips <kim.phillips@freescale.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
---
 drivers/crypto/caam/key_gen.c |    1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/crypto/caam/key_gen.c b/drivers/crypto/caam/key_gen.c
index 0028881..d216cd3 100644
--- a/drivers/crypto/caam/key_gen.c
+++ b/drivers/crypto/caam/key_gen.c
@@ -120,3 +120,4 @@ u32 gen_split_key(struct device *jrdev, u8 *key_out, int split_key_len,
 
 	return ret;
 }
+EXPORT_SYMBOL(gen_split_key);
-- 
1.7.9.7

