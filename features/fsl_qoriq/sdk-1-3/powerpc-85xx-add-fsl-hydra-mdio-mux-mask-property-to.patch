From 1a37424489b77109802cd9c57aa0f1b5a82f31b5 Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Tue, 23 Oct 2012 20:55:03 +0800
Subject: [PATCH 18/22] powerpc/85xx: add fsl, hydra-mdio-mux-mask property to
 P3041DS and P5020DS

The P5020DS "Hydra" and P5040DS "Super Hydra" boards use very similar methods
to control the MDIO bus muxing, but they are currently implemented with
different drivers.  To facilitate merging the two drivers together, add
the fsl,hydra-mdio-mux-mask to the P3041DS and P5020DS device trees.  This
property is currently used by the Super Hydra MDIO muxing driver by not by
the Hydra driver.  Adding the propery now will make it easier to merge the
drivers later.

Signed-off-by: Timur Tabi <timur@freescale.com>

[Lu: Original patch taken from FSL QorIQ-SDK-V1.2-SOURCE-20120614-yocto.iso image.
Remove the mods for the p5020ds board's dts.]
Signed-off-by:Jiang Lu <lu.jiang@windriver.com>
[Rebase on sdkv1.3 context.]
Signed-off-by: Tiejun Chen <tiejun.chen@windriver.com>
---
 arch/powerpc/boot/dts/p3041ds.dts |    2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/powerpc/boot/dts/p3041ds.dts b/arch/powerpc/boot/dts/p3041ds.dts
index 90ce0a0..562d964 100644
--- a/arch/powerpc/boot/dts/p3041ds.dts
+++ b/arch/powerpc/boot/dts/p3041ds.dts
@@ -155,6 +155,7 @@
 					#size-cells = <0>;
 					compatible = "fsl,hydra-mdio";
 					fsl,mdio-handle = <&mdio0>;
+					fsl,hydra-mdio-mux-mask = <0x70>;
 					fsl,hydra-mdio-muxval = <0x00>;
 					status = "disabled";
 
@@ -180,6 +181,7 @@
 					#size-cells = <0>;
 					compatible = "fsl,hydra-mdio";
 					fsl,mdio-handle = <&mdio0>;
+					fsl,hydra-mdio-mux-mask = <0x70>;
 					fsl,hydra-mdio-muxval = <0x00>;
 					status = "disabled";
 
-- 
1.7.9.7

