From 75ba22e2b48237b8094720296dd24d514bb48777 Mon Sep 17 00:00:00 2001
From: Catalin Horghidan <catalin.horghidan@nxp.com>
Date: Thu, 22 Sep 2016 18:02:58 +0300
Subject: [PATCH 283/388] crypto: dpaa2-caam - update dpseci command ids set
 for MC v10.x

	Update dpseci command ids in order to work with MC 10.0.0.
	The binary interface compatibility is maintained with MC v9.x.

Signed-off-by: Catalin Horghidan <catalin.horghidan@nxp.com>
[Original patch taken from SDK-V2.0-1703]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/crypto/dpaa2-caam/fsl_dpseci_cmd.h | 56 ++++++++++++++++--------------
 1 file changed, 30 insertions(+), 26 deletions(-)

diff --git a/drivers/crypto/dpaa2-caam/fsl_dpseci_cmd.h b/drivers/crypto/dpaa2-caam/fsl_dpseci_cmd.h
index 28afa18..d17be2e 100644
--- a/drivers/crypto/dpaa2-caam/fsl_dpseci_cmd.h
+++ b/drivers/crypto/dpaa2-caam/fsl_dpseci_cmd.h
@@ -1,4 +1,4 @@
-/* Copyright 2013-2015 Freescale Semiconductor Inc.
+/* Copyright 2013-2016 Freescale Semiconductor Inc.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -36,32 +36,36 @@
 #define DPSECI_VER_MAJOR				3
 #define DPSECI_VER_MINOR				1
 
+#define DPSECI_CMD_BASE_VER				0
+#define DPSECI_CMD_ID_OFF				4
+#define DPSECI_CMD_ID(id) (((id) << DPSECI_CMD_ID_OFF) | DPSECI_CMD_BASE_VER)
+
 /* Command IDs */
-#define DPSECI_CMDID_CLOSE				0x800
-#define DPSECI_CMDID_OPEN				0x809
-#define DPSECI_CMDID_CREATE				0x909
-#define DPSECI_CMDID_DESTROY				0x900
-
-#define DPSECI_CMDID_ENABLE				0x002
-#define DPSECI_CMDID_DISABLE				0x003
-#define DPSECI_CMDID_GET_ATTR				0x004
-#define DPSECI_CMDID_RESET				0x005
-#define DPSECI_CMDID_IS_ENABLED				0x006
-
-#define DPSECI_CMDID_SET_IRQ				0x010
-#define DPSECI_CMDID_GET_IRQ				0x011
-#define DPSECI_CMDID_SET_IRQ_ENABLE			0x012
-#define DPSECI_CMDID_GET_IRQ_ENABLE			0x013
-#define DPSECI_CMDID_SET_IRQ_MASK			0x014
-#define DPSECI_CMDID_GET_IRQ_MASK			0x015
-#define DPSECI_CMDID_GET_IRQ_STATUS			0x016
-#define DPSECI_CMDID_CLEAR_IRQ_STATUS			0x017
-
-#define DPSECI_CMDID_SET_RX_QUEUE			0x194
-#define DPSECI_CMDID_GET_RX_QUEUE			0x196
-#define DPSECI_CMDID_GET_TX_QUEUE			0x197
-#define DPSECI_CMDID_GET_SEC_ATTR			0x198
-#define DPSECI_CMDID_GET_SEC_COUNTERS			0x199
+#define DPSECI_CMDID_CLOSE		DPSECI_CMD_ID(0x800)
+#define DPSECI_CMDID_OPEN		DPSECI_CMD_ID(0x809)
+#define DPSECI_CMDID_CREATE		DPSECI_CMD_ID(0x909)
+#define DPSECI_CMDID_DESTROY		DPSECI_CMD_ID(0x900)
+
+#define DPSECI_CMDID_ENABLE		DPSECI_CMD_ID(0x002)
+#define DPSECI_CMDID_DISABLE		DPSECI_CMD_ID(0x003)
+#define DPSECI_CMDID_GET_ATTR		DPSECI_CMD_ID(0x004)
+#define DPSECI_CMDID_RESET		DPSECI_CMD_ID(0x005)
+#define DPSECI_CMDID_IS_ENABLED		DPSECI_CMD_ID(0x006)
+
+#define DPSECI_CMDID_SET_IRQ		DPSECI_CMD_ID(0x010)
+#define DPSECI_CMDID_GET_IRQ		DPSECI_CMD_ID(0x011)
+#define DPSECI_CMDID_SET_IRQ_ENABLE	DPSECI_CMD_ID(0x012)
+#define DPSECI_CMDID_GET_IRQ_ENABLE	DPSECI_CMD_ID(0x013)
+#define DPSECI_CMDID_SET_IRQ_MASK	DPSECI_CMD_ID(0x014)
+#define DPSECI_CMDID_GET_IRQ_MASK	DPSECI_CMD_ID(0x015)
+#define DPSECI_CMDID_GET_IRQ_STATUS	DPSECI_CMD_ID(0x016)
+#define DPSECI_CMDID_CLEAR_IRQ_STATUS	DPSECI_CMD_ID(0x017)
+
+#define DPSECI_CMDID_SET_RX_QUEUE	DPSECI_CMD_ID(0x194)
+#define DPSECI_CMDID_GET_RX_QUEUE	DPSECI_CMD_ID(0x196)
+#define DPSECI_CMDID_GET_TX_QUEUE	DPSECI_CMD_ID(0x197)
+#define DPSECI_CMDID_GET_SEC_ATTR	DPSECI_CMD_ID(0x198)
+#define DPSECI_CMDID_GET_SEC_COUNTERS	DPSECI_CMD_ID(0x199)
 
 /*                cmd, param, offset, width, type, arg_name */
 #define DPSECI_CMD_OPEN(cmd, dpseci_id) \
-- 
2.9.3

