From d4f7628fa26fbc113f5c3aae9b193c668d58cb5b Mon Sep 17 00:00:00 2001
From: Alison Wang <b18965@freescale.com>
Date: Wed, 7 Sep 2016 14:49:54 +0800
Subject: [PATCH 108/388] armv8: aarch32: Update Kconfig to support
 ARCH_LAYERSCAPE_AARCH32

This patch is to update the Kconfig to support ARCH_LAYERSCAPE_AARCH32
for some IPs.

Signed-off-by: Alison Wang <alison.wang@nxp.com>
[Original patch taken from SDK-V2.0-1703]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/memory/Kconfig      | 2 +-
 drivers/mtd/nand/Kconfig    | 2 +-
 drivers/mtd/spi-nor/Kconfig | 2 +-
 drivers/soc/fsl/Kconfig.arm | 2 +-
 drivers/spi/Kconfig         | 2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/drivers/memory/Kconfig b/drivers/memory/Kconfig
index 3ec473a..0cb8665 100644
--- a/drivers/memory/Kconfig
+++ b/drivers/memory/Kconfig
@@ -81,7 +81,7 @@ config FSL_CORENET_CF
 
 config FSL_IFC
 	bool
-	depends on FSL_SOC || ARCH_LAYERSCAPE
+	depends on FSL_SOC || ARCH_LAYERSCAPE || ARCH_LAYERSCAPE_AARCH32
 
 config JZ4780_NEMC
 	bool "Ingenic JZ4780 SoC NEMC driver"
diff --git a/drivers/mtd/nand/Kconfig b/drivers/mtd/nand/Kconfig
index 0d6509b..0294565 100644
--- a/drivers/mtd/nand/Kconfig
+++ b/drivers/mtd/nand/Kconfig
@@ -431,7 +431,7 @@ config MTD_NAND_FSL_ELBC
 
 config MTD_NAND_FSL_IFC
 	tristate "NAND support for Freescale IFC controller"
-	depends on MTD_NAND && (FSL_SOC || ARCH_LAYERSCAPE)
+	depends on MTD_NAND && (FSL_SOC || ARCH_LAYERSCAPE || ARCH_LAYERSCAPE_AARCH32)
 	select FSL_IFC
 	select MEMORY
 	help
diff --git a/drivers/mtd/spi-nor/Kconfig b/drivers/mtd/spi-nor/Kconfig
index 8fd6045..93214ba 100644
--- a/drivers/mtd/spi-nor/Kconfig
+++ b/drivers/mtd/spi-nor/Kconfig
@@ -23,7 +23,7 @@ config MTD_SPI_NOR_USE_4K_SECTORS
 
 config SPI_FSL_QUADSPI
 	tristate "Freescale Quad SPI controller"
-	depends on ARCH_MXC || SOC_LS1021A || ARCH_LAYERSCAPE || COMPILE_TEST
+	depends on ARCH_MXC || SOC_LS1021A || ARCH_LAYERSCAPE || ARCH_LAYERSCAPE_AARCH32 || COMPILE_TEST
 	help
 	  This enables support for the Quad SPI controller in master mode.
 	  We only connect the NOR to this controller now.
diff --git a/drivers/soc/fsl/Kconfig.arm b/drivers/soc/fsl/Kconfig.arm
index c22fb74..d154fde 100644
--- a/drivers/soc/fsl/Kconfig.arm
+++ b/drivers/soc/fsl/Kconfig.arm
@@ -4,7 +4,7 @@
 
 config LS_SOC_DRIVERS
 	bool "Layerscape Soc Drivers"
-	depends on ARCH_LAYERSCAPE || SOC_LS1021A
+	depends on ARCH_LAYERSCAPE || SOC_LS1021A || ARCH_LAYERSCAPE_AARCH32
 	default n
 	help
 	Say y here to enable Freescale Layerscape Soc Device Drivers support.
diff --git a/drivers/spi/Kconfig b/drivers/spi/Kconfig
index edb0ef0..615db2f 100644
--- a/drivers/spi/Kconfig
+++ b/drivers/spi/Kconfig
@@ -303,7 +303,7 @@ config SPI_FSL_SPI
 config SPI_FSL_DSPI
 	tristate "Freescale DSPI controller"
 	select REGMAP_MMIO
-	depends on SOC_VF610 || SOC_LS1021A || ARCH_LAYERSCAPE || COMPILE_TEST
+	depends on SOC_VF610 || SOC_LS1021A || ARCH_LAYERSCAPE || ARCH_LAYERSCAPE_AARCH32 || COMPILE_TEST
 	help
 	  This enables support for the Freescale DSPI controller in master
 	  mode. VF610 platform uses the controller.
-- 
2.9.3

