From 59fcd27ac760383365800500f4dee3aa8f72408c Mon Sep 17 00:00:00 2001
From: Yangbo Lu <yangbo.lu@nxp.com>
Date: Wed, 21 Dec 2016 14:39:32 +0800
Subject: [PATCH 346/388] mmc: sdhci-of-esdhc: add voltage switching support
 for ls1012a

There is a SDHC IO VSEL control register in the supplement configuration
unit in ls1012a. This is to support SDHC IO voltage switching. This patch
is to add ls1012a scfg support for voltage switching.

Signed-off-by: Yangbo Lu <yangbo.lu@nxp.com>
[Original patch taken from SDK-V2.0-1703]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/mmc/host/sdhci-of-esdhc.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/mmc/host/sdhci-of-esdhc.c b/drivers/mmc/host/sdhci-of-esdhc.c
index 45bc60a..7295d29 100644
--- a/drivers/mmc/host/sdhci-of-esdhc.c
+++ b/drivers/mmc/host/sdhci-of-esdhc.c
@@ -838,6 +838,7 @@ static void esdhc_set_uhs_signaling(struct sdhci_host *host, unsigned int uhs)
 
 static const struct of_device_id scfg_device_ids[] = {
 	{ .compatible = "fsl,t1040-scfg", },
+	{ .compatible = "fsl,ls1012a-scfg", },
 	{}
 };
 #define SCFG_SDHCIOVSELCR	0x408
-- 
2.9.3

