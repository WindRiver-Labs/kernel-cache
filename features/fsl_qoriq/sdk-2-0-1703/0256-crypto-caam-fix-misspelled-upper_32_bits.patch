From 72d31a11edfc86922f0f9ee405b71b7265f49c1b Mon Sep 17 00:00:00 2001
From: Arnd Bergmann <arnd@arndb.de>
Date: Thu, 16 Jun 2016 11:05:46 +0200
Subject: [PATCH 256/388] crypto: caam - fix misspelled upper_32_bits
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

An endianess fix mistakenly used higher_32_bits() instead of
upper_32_bits(), and that doesn't exist:

drivers/crypto/caam/desc_constr.h: In function 'append_ptr':
drivers/crypto/caam/desc_constr.h:84:75: error: implicit declaration of function 'higher_32_bits' [-Werror=implicit-function-declaration]
  *offset = cpu_to_caam_dma(ptr);

Signed-off-by: Arnd Bergmann <arnd@arndb.de>
Fixes: 261ea058f016 ("crypto: caam - handle core endianness != caam endianness")
Reviewed-by: Horia GeantÄƒ <horia.geanta@nxp.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit a6ed42dac49bfd6cb12e2dbffcee1c6d0854bd52)
[Original patch taken from SDK-V2.0-1703]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/crypto/caam/regs.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/crypto/caam/regs.h b/drivers/crypto/caam/regs.h
index 370dd0d..25d912a 100644
--- a/drivers/crypto/caam/regs.h
+++ b/drivers/crypto/caam/regs.h
@@ -107,9 +107,9 @@
 #ifdef CONFIG_ARCH_DMA_ADDR_T_64BIT
 #ifdef CONFIG_SOC_IMX7D
 #define wr_dma(value) (((u64)cpu_to_caam32(lower_32_bits(value)) << 32) | \
-			(u64)cpu_to_caam32(higher_32_bits(value)))
+			(u64)cpu_to_caam32(upper_32_bits(value)))
 #define rd_dma(value) (((u64)caam32_to_cpu(lower_32_bits(value)) << 32) | \
-			(u64)caam32_to_cpu(higher_32_bits(value)))
+			(u64)caam32_to_cpu(upper_32_bits(value)))
 #else
 #define wr_dma(value) cpu_to_caam64(value)
 #define rd_dma(value) caam64_to_cpu(value)
-- 
2.9.3

