From 10c3a79b8cd1fd11123156ddafdec370a893d3de Mon Sep 17 00:00:00 2001
From: Xulin Sun <xulin.sun@windriver.com>
Date: Tue, 4 Jul 2017 08:30:53 +0000
Subject: [PATCH 1/2] skbuff: fix variable type dismatch

net/core/skbuff.c:339:20: warning: large integer implicitly truncated to
unsigned type [-Woverflow]
  skb->mac_header = ~0U;
                    ^
Signee-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 net/core/skbuff.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/net/core/skbuff.c b/net/core/skbuff.c
index 17e3a96..41bd4a6 100644
--- a/net/core/skbuff.c
+++ b/net/core/skbuff.c
@@ -1,3 +1,4 @@
+
 /*
  *	Routines having to do with the 'struct sk_buff' memory handlers.
  *
@@ -336,7 +337,7 @@ struct sk_buff *__alloc_skb_header(unsigned int size, void *data,
 	skb_reset_tail_pointer(skb);
 	skb->end = skb->tail + size;
 #ifdef NET_SKBUFF_DATA_USES_OFFSET
-	skb->mac_header = ~0U;
+	skb->mac_header = (typeof(skb->mac_header))~0U;
 #endif
 
 #if defined(CONFIG_COMCERTO_CUSTOM_SKB_LAYOUT)
-- 
1.7.5.4

