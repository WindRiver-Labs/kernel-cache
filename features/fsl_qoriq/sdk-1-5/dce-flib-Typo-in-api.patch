From de1360f06473737453e514d88ccef932b3d52a2e Mon Sep 17 00:00:00 2001
From: Jeffrey Ladouceur <Jeffrey.Ladouceur@freescale.com>
Date: Fri, 4 Oct 2013 14:01:01 -0400
Subject: [PATCH 246/429] dce flib: Typo in api

The invalidate stream context record has a typo.
Align with header file.
Also remove redundant memset.

Signed-off-by: Jeffrey Ladouceur <Jeffrey.Ladouceur@freescale.com>
Change-Id: I69d7f3ea88047472e77e9e822ffa4ed4cb38f08d
Reviewed-on: http://git.am.freescale.net:8181/5207
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Wang Haiying-R54964 <Haiying.Wang@freescale.com>
Reviewed-by: Rivera Jose-B46482 <German.Rivera@freescale.com>
[origin patch is from QorIQ-SDK-V1.5-20131219-yocto]
Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 drivers/staging/fsl_dce/flib/dce_flow.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

diff --git a/drivers/staging/fsl_dce/flib/dce_flow.c b/drivers/staging/fsl_dce/flib/dce_flow.c
index 38336b4..b06430e 100644
--- a/drivers/staging/fsl_dce/flib/dce_flow.c
+++ b/drivers/staging/fsl_dce/flib/dce_flow.c
@@ -449,17 +449,15 @@ int fsl_dce_process(struct fsl_dce_flow *flow, uint32_t flags, struct qm_fd *fd,
 	return submit_job(flow, flags, fd, &token);
 }
 
-int fsl_dce_src_invalidate(struct fsl_dce_flow *flow, uint32_t flags,
+int fsl_dce_scr_invalidate(struct fsl_dce_flow *flow, uint32_t flags,
 			void *callback_tag)
 {
 	struct qm_fd fd;
 	struct fsl_dce_cmd_token token;
 
 	memset(&fd, 0, sizeof(fd));
-
 	token.callback_tag = callback_tag;
 	/* enqueue the DCE_CMD_CTX_INVALIDATE command to DCE */
-	memset(&fd, 0, sizeof(fd));
 	fsl_dce_cmd_set_ctx_invalidate(&fd.cmd);
 	return submit_job(flow, flags, &fd, &token);
 }
-- 
1.7.5.4

