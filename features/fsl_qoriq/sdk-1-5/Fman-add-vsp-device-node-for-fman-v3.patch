From f26a4f4b460cd08008674ee5cfcc7d5f2f466084 Mon Sep 17 00:00:00 2001
From: Bin Jiang <bin.jiang@windriver.com>
Date: Thu, 17 Apr 2014 11:43:41 +0800
Subject: [PATCH] Fman: add vsp device node for fman v3

The virtual storage profile is only available on frame manager v3.

Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0.dtsi |    5 +++++
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1.dtsi |    5 +++++
 2 files changed, 10 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0.dtsi
index 0e1e79c..28f38b9 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0.dtsi
@@ -124,6 +124,11 @@ fman0: fman@400000 {
 		reg = <0xc7000 0x1000>;
 	};
 
+	vsps@dc000 {
+		compatible = "fsl,fman-vsps";
+		reg = <0xdc000 0x1000>;
+	};
+
         mdio@fc000 {
                 #address-cells = <1>;
                 #size-cells = <0>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1.dtsi
index 35b09c8..4eeb060 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1.dtsi
@@ -124,6 +124,11 @@ fman1: fman@500000 {
 		reg = <0xc7000 0x1000>;
 	};
 
+	vsps@dc000 {
+		compatible = "fsl,fman-vsps";
+		reg = <0xdc000 0x1000>;
+	};
+
 	mdio@fc000 {
 		#address-cells = <1>;
 		#size-cells = <0>;
-- 
1.7.5.4

