From 18245fcf3680dffbbd0ac520751b4ef39ce40103 Mon Sep 17 00:00:00 2001
From: Stephen George <stephen.george@freescale.com>
Date: Thu, 1 Sep 2011 12:12:30 -0500
Subject: [PATCH 179/429] perf: Exporting perf PMU functions

These exports allow a perf PMU to be implemented as a module
instead of being restricted to being a built-in.

Signed-off-by: Stephen George <stephen.george@freescale.com>
[origin patch is from QorIQ-SDK-V1.5-20131219-yocto]
Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 kernel/events/core.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/kernel/events/core.c b/kernel/events/core.c
index b058731..ca6135b 100644
--- a/kernel/events/core.c
+++ b/kernel/events/core.c
@@ -626,6 +626,7 @@ void perf_pmu_disable(struct pmu *pmu)
 	if (!(*count)++)
 		pmu->pmu_disable(pmu);
 }
+EXPORT_SYMBOL_GPL(perf_pmu_disable);
 
 void perf_pmu_enable(struct pmu *pmu)
 {
@@ -633,6 +634,7 @@ void perf_pmu_enable(struct pmu *pmu)
 	if (!--(*count))
 		pmu->pmu_enable(pmu);
 }
+EXPORT_SYMBOL_GPL(perf_pmu_enable);
 
 static DEFINE_PER_CPU(struct list_head, rotation_list);
 
@@ -5826,6 +5828,7 @@ free_pdc:
 	free_percpu(pmu->pmu_disable_count);
 	goto unlock;
 }
+EXPORT_SYMBOL_GPL(perf_pmu_register);
 
 void perf_pmu_unregister(struct pmu *pmu)
 {
@@ -5847,6 +5850,7 @@ void perf_pmu_unregister(struct pmu *pmu)
 	put_device(pmu->dev);
 	free_pmu_context(pmu);
 }
+EXPORT_SYMBOL_GPL(perf_pmu_unregister);
 
 struct pmu *perf_init_event(struct perf_event *event)
 {
-- 
1.7.5.4

