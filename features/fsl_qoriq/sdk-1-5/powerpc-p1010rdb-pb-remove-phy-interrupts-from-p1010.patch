From 7f829a1d820ac90f5c16062b1a29201bfd85caab Mon Sep 17 00:00:00 2001
From: Zhao Qiang <B45475@freescale.com>
Date: Wed, 27 Nov 2013 15:04:16 +0800
Subject: [PATCH 386/429] powerpc/p1010rdb-pb:remove phy interrupts from
 p1010rdb-pb

The function autoneg can in interrupt mode and polling mode.
On board p1010rdb-pb, there is an issue leading bad work in interrupt mode.
There are no phy-interrupts generated when cable is plugged in and out.
So remove phy interrupts to let it work in polling mode as a workaround.

Signed-off-by: Zhao Qiang <B45475@freescale.com>
Change-Id: I1ecd650b8aa116521d6d1c8a694013b5543cb304
Reviewed-on: http://git.am.freescale.net:8181/6892
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Claudiu Manoil <claudiu.manoil@freescale.com>
Reviewed-by: Tiefei Zang <roy.zang@freescale.com>
Reviewed-by: Thomas Trefny <Tom.Trefny@freescale.com>
[origin patch is from QorIQ-SDK-V1.5-20131219-yocto]
Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 arch/powerpc/boot/dts/p1010rdb-pb.dts     |   13 -------------
 arch/powerpc/boot/dts/p1010rdb-pb_36b.dts |   13 -------------
 2 files changed, 0 insertions(+), 26 deletions(-)

diff --git a/arch/powerpc/boot/dts/p1010rdb-pb.dts b/arch/powerpc/boot/dts/p1010rdb-pb.dts
index 6eeb7d3..85a7036 100644
--- a/arch/powerpc/boot/dts/p1010rdb-pb.dts
+++ b/arch/powerpc/boot/dts/p1010rdb-pb.dts
@@ -19,17 +19,4 @@
 };
 
 /include/ "p1010rdb.dtsi"
-
-&phy0 {
-	interrupts = <0 1 0 0>;
-};
-
-&phy1 {
-	interrupts = <2 1 0 0>;
-};
-
-&phy2 {
-	interrupts = <1 1 0 0>;
-};
-
 /include/ "fsl/p1010si-post.dtsi"
diff --git a/arch/powerpc/boot/dts/p1010rdb-pb_36b.dts b/arch/powerpc/boot/dts/p1010rdb-pb_36b.dts
index 7ab3c90..bc0cedd 100644
--- a/arch/powerpc/boot/dts/p1010rdb-pb_36b.dts
+++ b/arch/powerpc/boot/dts/p1010rdb-pb_36b.dts
@@ -42,17 +42,4 @@
 };
 
 /include/ "p1010rdb.dtsi"
-
-&phy0 {
-	interrupts = <0 1 0 0>;
-};
-
-&phy1 {
-	interrupts = <2 1 0 0>;
-};
-
-&phy2 {
-	interrupts = <1 1 0 0>;
-};
-
 /include/ "fsl/p1010si-post.dtsi"
-- 
1.7.5.4

