From 28fbdbd213f40696bb8877ec86aa72dba991410e Mon Sep 17 00:00:00 2001
From: Yang Wei <Wei.Yang@windriver.com>
Date: Fri, 3 Jan 2014 14:03:55 +0800
Subject: [PATCH 418/429] drivers/fsl_rman: Return -EINVAL if no rman device

If no rman device, we need to return -EINVAL. The
change also is consistent with the latest rman driver
in SDK1.5

Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 drivers/staging/fsl_rman/rman_uio_driver.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_rman/rman_uio_driver.c b/drivers/staging/fsl_rman/rman_uio_driver.c
index 5c73ed1..fdc8bed 100644
--- a/drivers/staging/fsl_rman/rman_uio_driver.c
+++ b/drivers/staging/fsl_rman/rman_uio_driver.c
@@ -292,7 +292,7 @@ static int __devexit fsl_rman_remove(struct platform_device *dev)
 	struct rman_inbound_block *ib, *tmp;
 
 	if (!rman_dev)
-		return 0;
+		return -EINVAL;
 
 	list_for_each_entry_safe(ib, tmp, &rman_dev->ib_list, node) {
 		list_del(&ib->node);
-- 
1.7.5.4

