From 8c81b6cd3b9a6d81cde7c238cab35c724d21a61f Mon Sep 17 00:00:00 2001
From: Yang Wei <Wei.Yang@windriver.com>
Date: Sun, 12 Jan 2014 20:58:47 -0800
Subject: [PATCH 429/429] powerpc/mm: Fix a error assembly instruction

Signed-off-by: Yang Wei <Wei.Yang@windriver.com>
---
 arch/powerpc/mm/tlb_nohash_low.S |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/mm/tlb_nohash_low.S b/arch/powerpc/mm/tlb_nohash_low.S
index 485b6d2..961c443 100644
--- a/arch/powerpc/mm/tlb_nohash_low.S
+++ b/arch/powerpc/mm/tlb_nohash_low.S
@@ -331,7 +331,7 @@ ALT_MMU_FTR_SECTION_END_IFCLR(MMU_FTR_USE_TLBILX)
 .macro tlb_lock
     mfspr   r7, SPRN_PVR
 	lis r8, PVR_VER_E6500
-	ori r8, PVR_REV_E6500V1
+	ori r8, r8, PVR_REV_E6500V1
 	cmpw r7, r8
 	bne 1f
 	ld	r7,PACA_TLB_PER_CORE_PTR(r13)
@@ -356,7 +356,7 @@ ALT_MMU_FTR_SECTION_END_IFCLR(MMU_FTR_USE_TLBILX)
 .macro tlb_unlock
     mfspr   r7, SPRN_PVR
 	lis r8, PVR_VER_E6500
-	ori r8, PVR_REV_E6500V1
+	ori r8, r8, PVR_REV_E6500V1
 	cmpw r7, r8
 	bne 1f
 	mtocrf	0x01,r7
-- 
1.7.5.4

