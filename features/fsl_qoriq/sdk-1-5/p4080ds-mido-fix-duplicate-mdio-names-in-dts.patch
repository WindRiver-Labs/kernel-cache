From 180b43c9e7c8d54793d25f472cdef92aa9238b31 Mon Sep 17 00:00:00 2001
From: Bin Jiang <bin.jiang@windriver.com>
Date: Wed, 22 Jan 2014 14:23:09 +0800
Subject: [PATCH 383/383] p4080ds: mido: fix duplicate mdio names in dts

There are duplicate mdio names and induce following call trace:

sysfs: cannot create duplicate filename '/bus/platform/devices/2.mdio'
<snip>
NIP [c01d5580] sysfs_add_one+0xb4/0xcc
LR [c01d5580] sysfs_add_one+0xb4/0xcc
Call Trace:
[ef495cb0] [c01d5580] sysfs_add_one+0xb4/0xcc (unreliable)
[ef495cd0] [c01d60d4] sysfs_do_create_link_sd+0xd0/0x230
[ef495d00] [c0451bb8] bus_add_device+0x110/0x1b4
[ef495d20] [c044fa74] device_add+0x518/0x618
[ef495d70] [c065e90c] of_platform_device_create_pdata+0xb0/0xcc
[ef495d90] [c065ea68] of_platform_bus_create+0x110/0x1a4
[ef495df0] [c065eac8] of_platform_bus_create+0x170/0x1a4
[ef495e50] [c065eba0] of_platform_bus_probe+0xa4/0xf4
[ef495e70] [c0002078] do_one_initcall+0x160/0x1ac
[ef495ea0] [c0a259c8] kernel_init_freeable+0x17c/0x250
[ef495f20] [c000265c] kernel_init+0x20/0x174
[ef495f40] [c000f434] ret_from_kernel_thread+0x5c/0x64

Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/powerpc/boot/dts/p4080ds.dts |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/boot/dts/p4080ds.dts b/arch/powerpc/boot/dts/p4080ds.dts
index dc42123..26ada2a 100644
--- a/arch/powerpc/boot/dts/p4080ds.dts
+++ b/arch/powerpc/boot/dts/p4080ds.dts
@@ -478,7 +478,7 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 
-		p4080xmdio1: mdio@1 {
+		p4080xmdio1: xmdio@1 {
 			reg = <2>;
 			#address-cells = <1>;
 			#size-cells = <0>;
@@ -489,7 +489,7 @@
 			};
 		};
 
-		p4080xmdio3: mdio@3 {
+		p4080xmdio3: xmdio@3 {
 			reg = <3>;
 			#address-cells = <1>;
 			#size-cells = <0>;
-- 
1.7.5.4

