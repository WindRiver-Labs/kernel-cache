From 4f99e541694cb6057f486e9d0002243fb915f26e Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Mon, 30 Sep 2013 13:01:28 +0200
Subject: [PATCH 270/383] fmd: remove an obsolite setting related to
 Errors-To-Discard default value

This configuration can now be handled via chosen-node mechanism.

Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>
Change-Id: Id8a79bd073892b81323c4f367a23acbf272bce37
Reviewed-on: http://git.am.freescale.net:8181/6110
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Liron Himi <Liron.Himi@freescale.com>
Reviewed-by: Thomas Trefny <Tom.Trefny@freescale.com>
[Original patch taken from QorIQ-SDK-V1.5-SOURCE-20131219-yocto.iso]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 .../freescale/fman/src/wrapper/lnxwrp_fm_port.c    |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

diff --git a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c
index 3f21f94..3d124f8 100644
--- a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c
+++ b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c
@@ -801,14 +801,6 @@ static t_Error InitFmPortDev(t_LnxWrpFmPortDev *p_LnxWrpFmPortDev)
 #endif
 #endif
 
-    if ((p_LnxWrpFmPortDev->settings.param.portType != e_FM_PORT_TYPE_TX) &&
-        (p_LnxWrpFmPortDev->settings.param.portType != e_FM_PORT_TYPE_TX_10G)) {
-            if (FM_PORT_ConfigErrorsToDiscard(p_LnxWrpFmPortDev->h_Dev, (FM_PORT_FRM_ERR_IPRE |
-                                                                         FM_PORT_FRM_ERR_IPR_NCSP |
-                                                                         FM_PORT_FRM_ERR_CLS_DISCARD)) !=E_OK)
-            RETURN_ERROR(MAJOR, E_INVALID_STATE, NO_MSG);
-    }
-
     if (CheckNConfigFmPortAdvArgs(p_LnxWrpFmPortDev) != E_OK)
 		RETURN_ERROR(MAJOR, E_INVALID_STATE, NO_MSG);
 
-- 
1.7.5.4

