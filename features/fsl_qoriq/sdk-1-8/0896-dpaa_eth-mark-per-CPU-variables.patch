From bb5be480eef737340165164bc83a742a37728729 Mon Sep 17 00:00:00 2001
From: Rotariu Marian Cristian-B44860 <marian.rotariu@freescale.com>
Date: Wed, 1 Oct 2014 18:56:24 +0300
Subject: [PATCH 896/987] dpaa_eth: mark per CPU variables

This annotation helps sparse track and signal issues related to per-CPU
variables.

Signed-off-by: Rotariu Marian Cristian-B44860 <marian.rotariu@freescale.com>
Change-Id: I197d6225b5b6447c78f09865c3bd09b62e43ab04
Reviewed-on: http://git.am.freescale.net:8181/20905
Reviewed-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/32487
[Yang: Original patch taken from
QorIQ-SDK-V1.8-SOURCE-20150619-yocto.iso]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth_generic.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_generic.h b/drivers/net/ethernet/freescale/dpa/dpaa_eth_generic.h
index 7070896..aa74edf 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_generic.h
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_generic.h
@@ -38,7 +38,7 @@
 struct dpa_generic_priv_s {
 	struct net_device *net_dev;
 	/* use the same percpu_priv as other DPAA Ethernet drivers */
-	struct dpa_percpu_priv_s *percpu_priv;
+	struct dpa_percpu_priv_s __percpu *percpu_priv;
 
 	/* up to 4 bps supported for RX */
 	int rx_bp_count;
-- 
1.9.1

