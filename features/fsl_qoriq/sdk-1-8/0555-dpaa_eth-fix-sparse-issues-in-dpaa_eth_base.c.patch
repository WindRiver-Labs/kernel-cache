From 9679d27f59eca71d7b1327eb335a53e325a14d6f Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Thu, 20 Feb 2014 18:14:28 +0200
Subject: [PATCH 555/987] dpaa_eth: fix sparse issues in dpaa_eth_base.c

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Fix the warnings reported by sparse in dpaa_eth_base.c.

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
Change-Id: Icb5deda70e94a74c7bbf02e002625f6c5548c788
Reviewed-on: http://git.am.freescale.net:8181/8963
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Cristian-Constantin Sovaiala <Cristian.Sovaiala@freescale.com>
(cherry picked from commit 3771f9d89faf95e9a8b2dbb35765a853220bafc1)
Reviewed-on: http://git.am.freescale.net:8181/9188
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.h      | 2 +-
 drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.h b/drivers/net/ethernet/freescale/dpa/dpaa_eth.h
index 7c84c93..2e4c3ec 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.h
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.h
@@ -259,7 +259,7 @@ struct dpa_bp {
 	/* virtual address of the contiguous memory used by the pool to store
 	 * the buffers
 	 */
-	void				*vaddr;
+	void __iomem			*vaddr;
 	/* current number of buffers in the bpool alloted to this CPU */
 	int *percpu_count;
 	atomic_t refs;
diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c
index bcadd55..2a744e5 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c
@@ -41,6 +41,7 @@
 #include <linux/fsl_qman.h>
 #include "dpaa_eth.h"
 #include "dpaa_eth_common.h"
+#include "dpaa_eth_base.h"
 
 static int dpa_bp_cmp(const void *dpa_bp0, const void *dpa_bp1)
 {
-- 
1.9.1

