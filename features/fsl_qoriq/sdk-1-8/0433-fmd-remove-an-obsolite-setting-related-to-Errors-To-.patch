From 2dde2c3c07868047b110e32f7e680677c94efb97 Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Mon, 30 Sep 2013 13:01:28 +0200
Subject: [PATCH 433/987] fmd: remove an obsolite setting related to
 Errors-To-Discard default value

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

This configuration can now be handled via chosen-node mechanism

Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>
Change-Id: Id8a79bd073892b81323c4f367a23acbf272bce37
Reviewed-on: http://git.am.freescale.net:8181/6110
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Liron Himi <Liron.Himi@freescale.com>
Reviewed-by: Thomas Trefny <Tom.Trefny@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/7673
Reviewed-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
Tested-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
---
 drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c | 8 --------
 1 file changed, 8 deletions(-)

diff --git a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c
index 577c7ad..a8cd7bf 100644
--- a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c
+++ b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm_port.c
@@ -800,14 +800,6 @@ static t_Error InitFmPortDev(t_LnxWrpFmPortDev *p_LnxWrpFmPortDev)
 #endif
 #endif
 
-    if ((p_LnxWrpFmPortDev->settings.param.portType != e_FM_PORT_TYPE_TX) &&
-        (p_LnxWrpFmPortDev->settings.param.portType != e_FM_PORT_TYPE_TX_10G)) {
-            if (FM_PORT_ConfigErrorsToDiscard(p_LnxWrpFmPortDev->h_Dev, (FM_PORT_FRM_ERR_IPRE |
-                                                                         FM_PORT_FRM_ERR_IPR_NCSP |
-                                                                         FM_PORT_FRM_ERR_CLS_DISCARD)) !=E_OK)
-            RETURN_ERROR(MAJOR, E_INVALID_STATE, NO_MSG);
-    }
-
     if (CheckNConfigFmPortAdvArgs(p_LnxWrpFmPortDev) != E_OK)
 		RETURN_ERROR(MAJOR, E_INVALID_STATE, NO_MSG);
 
-- 
1.9.1

