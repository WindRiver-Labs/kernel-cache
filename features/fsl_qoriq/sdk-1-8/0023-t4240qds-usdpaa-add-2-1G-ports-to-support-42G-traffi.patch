From e98623b684f6691123b76d29163ee906175bb5f1 Mon Sep 17 00:00:00 2001
From: Hai-Ying Wang <Haiying.Wang@freescale.com>
Date: Tue, 4 Dec 2012 04:03:34 +0000
Subject: [PATCH 023/987] t4240qds-usdpaa: add 2 1G ports to support 42G
 traffic

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
(cherry picked from commit 67131ab8cfdb0149ccb073981fe6dc195ad6cd19)

Change-Id: I0ca3a6aa90d2d108cd2f83c961a11f87d5da9a92
Reviewed-on: http://git.am.freescale.net:8181/534
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 arch/powerpc/boot/dts/t4240qds-usdpaa.dts | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/arch/powerpc/boot/dts/t4240qds-usdpaa.dts b/arch/powerpc/boot/dts/t4240qds-usdpaa.dts
index 6d15203..88e627d 100644
--- a/arch/powerpc/boot/dts/t4240qds-usdpaa.dts
+++ b/arch/powerpc/boot/dts/t4240qds-usdpaa.dts
@@ -79,6 +79,12 @@
 	};
 
 	fsl,dpaa {
+		ethernet@4 {
+			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x58 1 0x59 1>;
+			fsl,qman-frame-queues-tx = <0x78 1 0x79 1>;
+		};
 		ethernet@6 {
 			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
@@ -91,6 +97,12 @@
 			fsl,qman-frame-queues-rx = <0x5e 1 0x5f 1>;
 			fsl,qman-frame-queues-tx = <0x7e 1 0x7f 1>;
 		};
+		ethernet@12 {
+			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x68 1 0x69 1>;
+			fsl,qman-frame-queues-tx = <0x88 1 0x89 1>;
+		};
 		ethernet@14 {
 			compatible = "fsl,t4240-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
-- 
1.9.1

