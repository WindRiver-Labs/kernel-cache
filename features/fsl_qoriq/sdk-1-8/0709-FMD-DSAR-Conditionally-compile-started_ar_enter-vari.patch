From 3ca1b24ba580d6b0e9dfa0db56473ed7976c289c Mon Sep 17 00:00:00 2001
From: Cristian Sovaiala <cristian.sovaiala@freescale.com>
Date: Wed, 28 May 2014 15:25:03 +0300
Subject: [PATCH 709/987] FMD: DSAR: Conditionally compile started_ar_enter
 variable

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

started_ar_enter variable is defined inside CONFIG_PM so
guard the variable all over it is referenced.

Signed-off-by: Cristian Sovaiala <cristian.sovaiala@freescale.com>
Change-Id: I3a9ea33b20c947909689f63fddd8152f5f38c9f9
Reviewed-on: http://git.am.freescale.net:8181/13010
Reviewed-by: Eyal Harari <Eyal.Harari@freescale.com>
Reviewed-by: Cristian Bercaru <cristian.bercaru@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
---
 drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
index 646a90c..a4a68c0 100755
--- a/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
+++ b/drivers/net/ethernet/freescale/fman/src/wrapper/lnxwrp_fm.c
@@ -1371,7 +1371,9 @@ int fm_port_enter_autores_for_deepsleep(struct fm_port *port,
             return -EFAULT;
 	
 	FM_PORT_EnterDsar(p_LnxWrpFmPortDev->h_Dev, (t_FmPortDsarParams*)params);
+#ifdef CONFIG_PM
 	started_ar_enter = true;
+#endif
 	return 0;
 }
 EXPORT_SYMBOL(fm_port_enter_autores_for_deepsleep);
-- 
1.9.1

