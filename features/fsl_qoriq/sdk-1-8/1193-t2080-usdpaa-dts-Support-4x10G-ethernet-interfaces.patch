From 4404e55d63b5f96c77286d57bf1a2161a15db152 Mon Sep 17 00:00:00 2001
From: Vakul Garg <vakul@freescale.com>
Date: Mon, 15 Sep 2014 05:33:25 -0400
Subject: [PATCH 1193/1207] t2080/usdpaa/dts: Support 4x10G ethernet interfaces

Change-Id: I0a4d3aff82f65a11f47f41573e054a8a490bc984
Signed-off-by: Vakul Garg <vakul@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/20888
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Richard Schmitt <richard.schmitt@freescale.com>
[Lu:Original patch taken from
QorIQ-SDK-V1.7-SOURCE-20141218-yocto.iso]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts | 12 ++++++++++++
 arch/powerpc/boot/dts/t2080qds-usdpaa.dts                   | 12 ++++++++++++
 arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts | 13 +++++++++++++
 arch/powerpc/boot/dts/t2080rdb-usdpaa.dts                   | 13 +++++++++++++
 4 files changed, 50 insertions(+)

diff --git a/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts b/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts
index e016c31..417102f 100644
--- a/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts
+++ b/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts
@@ -91,6 +91,18 @@
        };
 
 	fsl,dpaa {
+		ethernet@0 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x90 1 0x91 1>;
+			fsl,qman-frame-queues-tx = <0x98 1 0x99 1>;
+		};
+		ethernet@1 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x92 1 0x93 1>;
+			fsl,qman-frame-queues-tx = <0x9a 1 0x9b 1>;
+		};
 		ethernet@2 {/* 1G */
 			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
diff --git a/arch/powerpc/boot/dts/t2080qds-usdpaa.dts b/arch/powerpc/boot/dts/t2080qds-usdpaa.dts
index aa7c92f..bb462b6 100644
--- a/arch/powerpc/boot/dts/t2080qds-usdpaa.dts
+++ b/arch/powerpc/boot/dts/t2080qds-usdpaa.dts
@@ -79,6 +79,18 @@
 	};
 
 	fsl,dpaa {
+		ethernet@0 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x90 1 0x91 1>;
+			fsl,qman-frame-queues-tx = <0x98 1 0x99 1>;
+		};
+		ethernet@1 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x92 1 0x93 1>;
+			fsl,qman-frame-queues-tx = <0x9a 1 0x9b 1>;
+		};
 		ethernet@2 {/* 1G */
 			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
diff --git a/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts b/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts
index 735dea5..4b7609b 100644
--- a/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts
+++ b/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts
@@ -91,6 +91,19 @@
        };
 
 	fsl,dpaa {
+		ethernet@0 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x90 1 0x91 1>;
+			fsl,qman-frame-queues-tx = <0x98 1 0x99 1>;
+		};
+		ethernet@1 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x92 1 0x93 1>;
+			fsl,qman-frame-queues-tx = <0x9a 1 0x9b 1>;
+		};
+
 		ethernet@2 {/* 1G */
 			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
diff --git a/arch/powerpc/boot/dts/t2080rdb-usdpaa.dts b/arch/powerpc/boot/dts/t2080rdb-usdpaa.dts
index 458889b..e2cf78d 100644
--- a/arch/powerpc/boot/dts/t2080rdb-usdpaa.dts
+++ b/arch/powerpc/boot/dts/t2080rdb-usdpaa.dts
@@ -79,6 +79,19 @@
 	};
 
 	fsl,dpaa {
+		ethernet@0 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x90 1 0x91 1>;
+			fsl,qman-frame-queues-tx = <0x98 1 0x99 1>;
+		};
+		ethernet@1 {/* 10G */
+			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
+			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
+			fsl,qman-frame-queues-rx = <0x92 1 0x93 1>;
+			fsl,qman-frame-queues-tx = <0x9a 1 0x9b 1>;
+		};
+
 		ethernet@2 {/* 1G */
 			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
 			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
-- 
2.0.2

