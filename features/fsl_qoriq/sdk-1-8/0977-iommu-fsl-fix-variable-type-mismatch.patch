From e29e1cfd5e01a1533c2072313d96ae4f2ad23177 Mon Sep 17 00:00:00 2001
From: Wang Quanyang <quanyang.wang@windriver.com>
Date: Thu, 24 Sep 2015 13:11:45 +0000
Subject: [PATCH 977/987] iommu/fsl: fix variable type mismatch

Because of the upstream commit 8d4bfe40bd00, the type of the variable
iommu_domain in structure "sturct iommu_domain" has change from
"struct iommu_domain *" to "struct iommu_domain". So we need to
change the type of return value.

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/iommu/fsl_pamu_domain.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/iommu/fsl_pamu_domain.c b/drivers/iommu/fsl_pamu_domain.c
index c0990cdf..80453a0 100644
--- a/drivers/iommu/fsl_pamu_domain.c
+++ b/drivers/iommu/fsl_pamu_domain.c
@@ -1215,7 +1215,7 @@ static struct iommu_domain *fsl_get_dev_domain(struct device *dev)
 
 	info = dev->archdata.iommu_domain;
 	if (info && info->domain)
-		return info->domain->iommu_domain;
+		return &info->domain->iommu_domain;
 
 	return NULL;
 }
-- 
1.9.1

