From de7f3e9b019bafa9e0500c5a1627b708e574c637 Mon Sep 17 00:00:00 2001
From: Wang Quanyang <quanyang.wang@windriver.com>
Date: Thu, 24 Sep 2015 13:47:55 +0000
Subject: [PATCH 980/987] dpaa_eth: use devm_ioremap instead of
 devm_ioremap_prot

Because of upstream commit dedd24a12fe6 ("powerpc: Remove unused devm_ioremap_prot()"),
we use devm_ioremap instead of devm_ioremap_prot.

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c
index a9b5dd0..58043ca 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_base.c
@@ -177,8 +177,8 @@ int dpa_bp_shared_port_seed(struct dpa_bp *bp)
 	/* allocate memory region for buffers */
 	devm_request_mem_region(bp->dev, bp->paddr,
 			bp->size * bp->config_count, KBUILD_MODNAME);
-	bp->vaddr = devm_ioremap_prot(bp->dev, bp->paddr,
-			bp->size * bp->config_count, 0);
+	bp->vaddr = devm_ioremap(bp->dev, bp->paddr,
+			bp->size * bp->config_count);
 	if (bp->vaddr == NULL) {
 		pr_err("Could not map memory for pool %d\n", bp->bpid);
 		return -EIO;
-- 
1.9.1

