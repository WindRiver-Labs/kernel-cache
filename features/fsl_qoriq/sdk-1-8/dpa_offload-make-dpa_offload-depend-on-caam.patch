From df14beb802a4a9d8c7bc19243ad85e90d8c5bd9b Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Mon, 29 Feb 2016 15:53:52 +0800
Subject: [PATCH] dpa_offload: make dpa_offload depend on caam

Many caam APIs are used in the dpa_offload driver, so add a
dependency on it.

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/staging/fsl_dpa_offload/Kconfig |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/Kconfig b/drivers/staging/fsl_dpa_offload/Kconfig
index baeaab3..4139502 100644
--- a/drivers/staging/fsl_dpa_offload/Kconfig
+++ b/drivers/staging/fsl_dpa_offload/Kconfig
@@ -1,7 +1,7 @@
 
 config FSL_DPA_OFFLOAD
 	tristate "Freescale Datapath Offloading Driver"
-	depends on FSL_FMAN
+	depends on FSL_FMAN && CRYPTO_DEV_FSL_CAAM
 	select CRC8
 	select CRC64_ECMA
 	default n
-- 
1.7.5.4

