From 390885a54e428b4ce385970b92b2343957e01340 Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Thu, 24 Jul 2014 20:00:31 +0300
Subject: [PATCH 852/987] dpaa_eth: export required function

Exported API is used by the Ethernet driver.

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>

Conflicts:
	drivers/net/ethernet/freescale/dpa/mac-api.c
[Yang: Original patch taken from
QorIQ-SDK-V1.8-SOURCE-20150619-yocto.iso.
Fix context to apply to WRL.]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.c    | 2 ++
 drivers/net/ethernet/freescale/dpa/dpaa_eth_sg.c | 2 ++
 drivers/net/ethernet/freescale/dpa/mac-api.c     | 4 +++-
 3 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
index 73bb635..d4b339c 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
@@ -373,6 +373,7 @@ int dpaa_eth_poll(struct napi_struct *napi, int budget)
 
 	return cleaned;
 }
+EXPORT_SYMBOL(dpaa_eth_poll);
 
 static void __hot _dpa_tx_conf(struct net_device	*net_dev,
 			  const struct dpa_priv_s	*priv,
@@ -718,6 +719,7 @@ void dpa_private_napi_del(struct net_device *net_dev)
 		}
 	}
 }
+EXPORT_SYMBOL(dpa_private_napi_del);
 
 static int dpa_private_netdev_init(struct device_node *dpa_node,
 				struct net_device *net_dev)
diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_sg.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_sg.c
index 509e518..23afa4b 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_sg.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_sg.c
@@ -182,6 +182,7 @@ int dpa_bp_priv_seed(struct dpa_bp *dpa_bp)
 	}
 	return 0;
 }
+EXPORT_SYMBOL(dpa_bp_priv_seed);
 
 /* Add buffers/(pages) for Rx processing whenever bpool count falls below
  * REFILL_THRESHOLD.
@@ -211,6 +212,7 @@ int dpaa_eth_refill_bpools(struct dpa_bp *dpa_bp, int *countptr)
 
 	return 0;
 }
+EXPORT_SYMBOL(dpaa_eth_refill_bpools);
 
 /* Cleanup function for outgoing frame descriptors that were built on Tx path,
  * either contiguous frames or scatter/gather ones.
diff --git a/drivers/net/ethernet/freescale/dpa/mac-api.c b/drivers/net/ethernet/freescale/dpa/mac-api.c
index 8086184..754e88b 100644
--- a/drivers/net/ethernet/freescale/dpa/mac-api.c
+++ b/drivers/net/ethernet/freescale/dpa/mac-api.c
@@ -352,6 +352,7 @@ int set_mac_active_pause(struct mac_device *mac_dev, bool rx, bool tx)
 
 	return _errno;
 }
+EXPORT_SYMBOL(set_mac_active_pause);
 
 /* Determine the MAC RX/TX PAUSE frames settings based on PHY
  * autonegotiation or values set by eththool.
@@ -403,6 +404,7 @@ void get_pause_cfg(struct mac_device *mac_dev, bool *rx_pause, bool *tx_pause)
 	if (flowctrl & FLOW_CTRL_TX)
 		*tx_pause = true;
 }
+EXPORT_SYMBOL(get_pause_cfg);
 
 static void adjust_link(struct net_device *net_dev)
 {
@@ -683,7 +685,7 @@ int fm_mac_dump_regs(struct mac_device *h_mac, char *buf, int nn)
 
 	return n;
 }
-
+EXPORT_SYMBOL(fm_mac_dump_regs);
 
 static int __cold mac_get_statistics(struct mac_device *mac_dev, u64 *data)
 {
-- 
1.9.1

