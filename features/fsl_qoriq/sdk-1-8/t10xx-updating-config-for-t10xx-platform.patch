From c4be0e41c68c8beaa3fa53722e0d0d3d4be54df4 Mon Sep 17 00:00:00 2001
From: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Date: Tue, 11 Nov 2014 16:44:03 +0800
Subject: [PATCH 35/57] t10xx: updating config for t10xx platform

- enable CONFIG_RTC_DRV_DS1307 to support DS1339 RTC for T1024RDB.
- enable CONFIG_I2C_MUX and CONFIG_I2C_MUX_PCA954x for T102x/T104x QDS/RDB.
- enable CONFIG_MTD_SPI_NOR_BASE and update compatible to "micron,n25q512ax3"
  for SPI flash on T102xRDB and T104xRDB.
- fix typo for CONFIG_SENSORS_LM90.

Signed-off-by: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Change-Id: I3506779d51192d2bfaa28a3f863c019b612b6f96
Reviewed-on: http://git.am.freescale.net:8181/23525
Reviewed-by: Shaohui Xie <Shaohui.Xie@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Matthew Weigel <Matthew.Weigel@freescale.com>
[Original patch taken from QorIQ-SDK-V1.8-20150619-yocto.]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/powerpc/boot/dts/t1024rdb.dts         |    2 +-
 arch/powerpc/boot/dts/t1040rdb-dsar.dts    |    2 +-
 arch/powerpc/boot/dts/t1042rdb.dts         |    2 +-
 arch/powerpc/boot/dts/t1042rdb_pi-dsar.dts |    2 +-
 arch/powerpc/boot/dts/t1042rdb_pi.dts      |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/powerpc/boot/dts/t1024rdb.dts b/arch/powerpc/boot/dts/t1024rdb.dts
index da9ac57..2b463e8 100644
--- a/arch/powerpc/boot/dts/t1024rdb.dts
+++ b/arch/powerpc/boot/dts/t1024rdb.dts
@@ -97,7 +97,7 @@
 			flash@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "micron,n25q512a";
+				compatible = "micron,n25q512ax3";
 				reg = <0>;
 				spi-max-frequency = <10000000>; /* input clock */
 			};
diff --git a/arch/powerpc/boot/dts/t1040rdb-dsar.dts b/arch/powerpc/boot/dts/t1040rdb-dsar.dts
index 6a27686..17d556e 100644
--- a/arch/powerpc/boot/dts/t1040rdb-dsar.dts
+++ b/arch/powerpc/boot/dts/t1040rdb-dsar.dts
@@ -156,7 +156,7 @@
 			flash@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "micron,n25q512a";
+				compatible = "micron,n25q512ax3";
 				reg = <0>;
 				spi-max-frequency = <10000000>; /* input clock */
 			};
diff --git a/arch/powerpc/boot/dts/t1042rdb.dts b/arch/powerpc/boot/dts/t1042rdb.dts
index bcfb046..421ad43 100644
--- a/arch/powerpc/boot/dts/t1042rdb.dts
+++ b/arch/powerpc/boot/dts/t1042rdb.dts
@@ -146,7 +146,7 @@
 			flash@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "micron,n25q512a";
+				compatible = "micron,n25q512ax3";
 				reg = <0>;
 				spi-max-frequency = <10000000>; /* input clock */
 			};
diff --git a/arch/powerpc/boot/dts/t1042rdb_pi-dsar.dts b/arch/powerpc/boot/dts/t1042rdb_pi-dsar.dts
index 905374c..d60f809 100644
--- a/arch/powerpc/boot/dts/t1042rdb_pi-dsar.dts
+++ b/arch/powerpc/boot/dts/t1042rdb_pi-dsar.dts
@@ -164,7 +164,7 @@
 			flash@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "micron,n25q512a";
+				compatible = "micron,n25q512ax3";
 				reg = <0>;
 				spi-max-frequency = <10000000>; /* input clock */
 			};
diff --git a/arch/powerpc/boot/dts/t1042rdb_pi.dts b/arch/powerpc/boot/dts/t1042rdb_pi.dts
index 16dc2fa..90878c4 100644
--- a/arch/powerpc/boot/dts/t1042rdb_pi.dts
+++ b/arch/powerpc/boot/dts/t1042rdb_pi.dts
@@ -146,7 +146,7 @@
 			flash@0 {
 				#address-cells = <1>;
 				#size-cells = <1>;
-				compatible = "micron,n25q512a";
+				compatible = "micron,n25q512ax3";
 				reg = <0>;
 				spi-max-frequency = <10000000>; /* input clock */
 			};
-- 
1.7.5.4

