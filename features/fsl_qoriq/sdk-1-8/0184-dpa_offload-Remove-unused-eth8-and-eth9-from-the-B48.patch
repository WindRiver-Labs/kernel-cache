From 978c9f76d3ccfc0a69c0fbe50eac0eee2fafaaac Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Wed, 22 May 2013 15:26:11 +0300
Subject: [PATCH 184/987] dpa_offload: Remove unused eth8 and eth9 from the
 B4860QDS dts file

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Ethernet interfaces 8 and 9 are usually mapped on TGEC interfaces,
but they are not used by the dpa_offloading applications. These
interfaces were removed from the dts file because if the RCW of the
board is not in sync with the board hardware (like extension cards),
it can cause errors at initialization.

Change-Id: I16aba4d555a66d6e93fbb3f7b0d0e2ac5116060c
Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/2653
Reviewed-by: Bulie Radu-Andrei-B37577 <Radu.Bulie@freescale.com>
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 .../dts/b4860qds-usdpaa-shared-interfaces.dts                | 12 ------------
 drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa.dts      | 12 ------------
 2 files changed, 24 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts b/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts
index cca994a..7a9e1a0 100644
--- a/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts
+++ b/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa-shared-interfaces.dts
@@ -122,18 +122,6 @@
 			fsl,qman-frame-queues-rx = <0x5a 1 0x5b 1>;
 			fsl,qman-frame-queues-tx = <0x7a 1 0x7b 1>;
 		};
-		ethernet@8 {
-			compatible = "fsl,b4860-dpa-ethernet-init", "fsl,dpa-ethernet-init";
-			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
-			fsl,qman-frame-queues-rx = <0x5c 1 0x5d 1>;
-			fsl,qman-frame-queues-tx = <0x7c 1 0x7d 1>;
-		};
-		ethernet@9 {
-			compatible = "fsl,b4860-dpa-ethernet-init", "fsl,dpa-ethernet-init";
-			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
-			fsl,qman-frame-queues-rx = <0x5e 1 0x5f 1>;
-			fsl,qman-frame-queues-tx = <0x7e 1 0x7f 1>;
-		};
 
                 /* ethernet@16 declared as MAC-less interface with no "fsl,fman-mac" property.
                  * USDPAA will seed buffers to this buffer pool and initialize 8 TX Frame
diff --git a/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa.dts b/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa.dts
index c2ab65b..18d8456 100644
--- a/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa.dts
+++ b/drivers/staging/fsl_dpa_offload/dts/b4860qds-usdpaa.dts
@@ -122,18 +122,6 @@
 			fsl,qman-frame-queues-rx = <0x5a 1 0x5b 1>;
 			fsl,qman-frame-queues-tx = <0x7a 1 0x7b 1>;
 		};
-		ethernet@8 {
-			compatible = "fsl,b4860-dpa-ethernet-init", "fsl,dpa-ethernet-init";
-			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
-			fsl,qman-frame-queues-rx = <0x5c 1 0x5d 1>;
-			fsl,qman-frame-queues-tx = <0x7c 1 0x7d 1>;
-		};
-		ethernet@9 {
-			compatible = "fsl,b4860-dpa-ethernet-init", "fsl,dpa-ethernet-init";
-			fsl,bman-buffer-pools = <&bp7 &bp8 &bp9>;
-			fsl,qman-frame-queues-rx = <0x5e 1 0x5f 1>;
-			fsl,qman-frame-queues-tx = <0x7e 1 0x7f 1>;
-		};
 
 	       /* ethernet@16 declared as MAC-less interface with no "fsl,fman-mac" property.
                  * USDPAA will seed buffers to this buffer pool and initialize 8 TX Frame
-- 
1.9.1

