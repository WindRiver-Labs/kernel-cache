From f367ad3292e4ec0ccdd4e33eb9ae4feca03e53e9 Mon Sep 17 00:00:00 2001
From: Quanyang Wang <quanyang.wang@windriver.com>
Date: Tue, 26 May 2015 09:25:10 +0000
Subject: [PATCH 847/987] Fman: Fix compile warning

Fix a compile warning introduced by fman driver:

drivers/net/ethernet/freescale/fman/Peripherals/FM/Pcd/fm_manip.c:304:16:
warning: 'GetPrOffsetByHeaderOrField' defined but not used [-Wunused-function]
 static t_Error GetPrOffsetByHeaderOrField(t_FmManipHdrInfo *p_HdrInfo,
                ^
drivers/net/ethernet/freescale/fman/Peripherals/FM/Pcd/fm_manip.c:3987:16:
warning: 'SetCapwapReassmManip' defined but not used [-Wunused-function]
 static t_Error SetCapwapReassmManip(t_FmPcdManip *p_Manip)
                ^

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/freescale/fman/Peripherals/FM/Pcd/fm_manip.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/net/ethernet/freescale/fman/Peripherals/FM/Pcd/fm_manip.c b/drivers/net/ethernet/freescale/fman/Peripherals/FM/Pcd/fm_manip.c
index e69ea1d..60a4aeb 100644
--- a/drivers/net/ethernet/freescale/fman/Peripherals/FM/Pcd/fm_manip.c
+++ b/drivers/net/ethernet/freescale/fman/Peripherals/FM/Pcd/fm_manip.c
@@ -301,6 +301,7 @@ static t_Error CalculateTableSize(t_FmPcdManipParams *p_FmPcdManipParams,
     return E_OK;
 }
 
+#if ((defined(FM_CAPWAP_SUPPORT) && (DPAA_VERSION == 10)) || (DPAA_VERSION >= 11))
 static t_Error GetPrOffsetByHeaderOrField(t_FmManipHdrInfo *p_HdrInfo,
                                           uint8_t *parseArrayOffset)
 {
@@ -417,6 +418,7 @@ static t_Error GetPrOffsetByHeaderOrField(t_FmManipHdrInfo *p_HdrInfo,
     }
     return E_OK;
 }
+#endif
 
 static t_Error BuildHmct(t_FmPcdManip *p_Manip,
                          t_FmPcdManipParams *p_FmPcdManipParams,
@@ -3984,6 +3986,7 @@ static t_Error IPSecManip(t_FmPcdManipParams *p_ManipParams,
     return err;
 }
 
+#if (DPAA_VERSION >= 11)
 static t_Error SetCapwapReassmManip(t_FmPcdManip *p_Manip)
 {
     t_FmPcd *p_FmPcd = (t_FmPcd *)p_Manip->h_FmPcd;
@@ -4004,6 +4007,7 @@ static t_Error SetCapwapReassmManip(t_FmPcdManip *p_Manip)
     /* Fill reassembly manipulation parameter in the Reassembly Action Descriptor */
     return FillReassmManipParams(p_Manip, HEADER_TYPE_CAPWAP);
 }
+#endif
 
 static void setCapwapReassmSchemeParams(t_FmPcd* p_FmPcd,
                                         t_FmPcdKgSchemeParams *p_Scheme,
-- 
1.9.1

