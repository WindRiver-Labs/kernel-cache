From eae3ce6d887157cac69a0c9818cd52968793d838 Mon Sep 17 00:00:00 2001
From: Vakul Garg <vakul@freescale.com>
Date: Thu, 29 May 2014 09:58:55 -0400
Subject: [PATCH 713/987] t2080/usdpaa/dts: Change num Tx FQs to 8 for shared
 ethernet

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

DPA eth driver for shared ethernet requires one Tx FQ for each core.
Since T2080 has 8 cores, we change number of Tx FQs for shared ethernet
to 8.

Signed-off-by: Vakul Garg <vakul@freescale.com>
Change-Id: Ie4b78e7fc71a8e0cbea0f04cf104478c27dbabcf
Reviewed-on: http://git.am.freescale.net:8181/13041
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Sandeep Singh <sandeep@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
---
 arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts | 2 +-
 arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts b/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts
index 698c261..0709bbd 100644
--- a/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts
+++ b/arch/powerpc/boot/dts/t2080qds-usdpaa-shared-interfaces.dts
@@ -112,7 +112,7 @@
 			compatible = "fsl,t2080-dpa-ethernet-shared", "fsl,dpa-ethernet-shared";
 			fsl,bman-buffer-pools = <&bp17>;
 			fsl,qman-frame-queues-rx = <0x5c 1 0x5d 1>;
-			fsl,qman-frame-queues-tx = <0x7c 1 0x7d 1>;
+                        fsl,qman-frame-queues-tx = <0 1 0 1 0x3000 8>;
 		};
 		ethernet@9 {/* 10G */
 			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
diff --git a/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts b/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts
index a863833..21f402f 100644
--- a/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts
+++ b/arch/powerpc/boot/dts/t2080rdb-usdpaa-shared-interfaces.dts
@@ -112,7 +112,7 @@
 			compatible = "fsl,t2080-dpa-ethernet-shared", "fsl,dpa-ethernet-shared";
 			fsl,bman-buffer-pools = <&bp17>;
 			fsl,qman-frame-queues-rx = <0x5c 1 0x5d 1>;
-			fsl,qman-frame-queues-tx = <0x7c 1 0x7d 1>;
+                        fsl,qman-frame-queues-tx = <0 1 0 1 0x3000 8>;
 		};
 		ethernet@9 {/* 10G */
 			compatible = "fsl,t2080-dpa-ethernet-init", "fsl,dpa-ethernet-init";
-- 
1.9.1

