From de9bc25015a11d0065f1bc464fd456d3f3667ae9 Mon Sep 17 00:00:00 2001
From: Mandy Lavi <mandy.lavi@freescale.com>
Date: Sun, 18 May 2014 18:17:15 +0300
Subject: [PATCH 696/987] fmd: change fmanV3L DEFAULT_totalFifoSize to 142K

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

142KB can accomodate buffers for 5x1G + 1xOH + 1xOP
5*0x6400+0xa00+0x3200=140KB

Change-Id: I37d7a1713101796cf3ab942ad4981d0070df4a98
Signed-off-by: Mandy Lavi <mandy.lavi@freescale.com>
Reviewed-on: http://git.am.freescale.net:8181/12473
Reviewed-by: Jianhua Xie <jianhua.xie@freescale.com>
Reviewed-by: Nir Erez <nir.erez@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
Tested-by: Jose Rivera <German.Rivera@freescale.com>
---
 drivers/net/ethernet/freescale/fman/Peripherals/FM/fm.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/fman/Peripherals/FM/fm.h b/drivers/net/ethernet/freescale/fman/Peripherals/FM/fm.h
index 41ffc17..59a78e9 100644
--- a/drivers/net/ethernet/freescale/fman/Peripherals/FM/fm.h
+++ b/drivers/net/ethernet/freescale/fman/Peripherals/FM/fm.h
@@ -370,7 +370,7 @@ switch (exception){                                         \
 #else  /* (DPAA_VERSION < 11) */
 /* Defaults are registers' reset values */
 #define DEFAULT_totalFifoSize(major, minor)	\
-    (((major == 6) && (minor == 1)) ? (128*KILOBYTE) : (295*KILOBYTE))
+    (((major == 6) && (minor == 1)) ? (142*KILOBYTE) : (295*KILOBYTE))
 
 #define DEFAULT_totalNumOfTasks             124
 
-- 
1.9.1

