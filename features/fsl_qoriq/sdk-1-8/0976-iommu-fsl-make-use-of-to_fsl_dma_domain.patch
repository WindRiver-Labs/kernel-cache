From aafee60ee98fe94a78f45f9c50f685562963d64f Mon Sep 17 00:00:00 2001
From: Wang Quanyang <quanyang.wang@windriver.com>
Date: Thu, 24 Sep 2015 13:04:19 +0000
Subject: [PATCH 976/987] iommu/fsl: make use of to_fsl_dma_domain

Use function to_fsl_dma_domain instead of domain->priv.

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/iommu/fsl_pamu_domain.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/iommu/fsl_pamu_domain.c b/drivers/iommu/fsl_pamu_domain.c
index 94df3f8..c0990cdf 100644
--- a/drivers/iommu/fsl_pamu_domain.c
+++ b/drivers/iommu/fsl_pamu_domain.c
@@ -726,7 +726,7 @@ static struct device *get_dma_device(struct device *dev)
 static int fsl_pamu_attach_device(struct iommu_domain *domain,
 				  struct device *dev)
 {
-	struct fsl_dma_domain *dma_domain = domain->priv;
+	struct fsl_dma_domain *dma_domain = to_fsl_dma_domain(domain);
 	struct device *dma_dev;
 	const u32 *liodn;
 	u32 liodn_cnt;
-- 
1.9.1

