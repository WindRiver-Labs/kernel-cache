From 4628b0fcdff82b53f8563b58a7e2fb1283132c05 Mon Sep 17 00:00:00 2001
From: Jianhua Xie <jianhua.xie@freescale.com>
Date: Mon, 12 May 2014 15:56:14 +0800
Subject: [PATCH 21/57] powerpc/t1040/dts: Chang oh5 to oh2

According to T1040RM Rev D, 04/2014, T1 has not as many
FM_MAX_NUM_OF_OH_PORTS as the ones in T4240, there are
only 4 Offline/Host Command Ports (O/H n) in T1. So oh5
is not available.

This patch is replacing oh5 with oh2 in T1 dts.

Signed-off-by: Jianhua Xie <jianhua.xie@freescale.com>
Change-Id: I99be60539aad6d9999dd8198fd5b0e98ecef7ca0
Reviewed-on: http://git.am.freescale.net:8181/12242
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Mandy Lavi <Mandy.Lavi@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
[Original patch taken from QorIQ-SDK-V1.8-20150619-yocto.]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/powerpc/boot/dts/t1040rdb.dts  |    4 ++--
 arch/powerpc/boot/dts/t104xqds.dtsi |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/powerpc/boot/dts/t1040rdb.dts b/arch/powerpc/boot/dts/t1040rdb.dts
index d1caf30..06182be 100644
--- a/arch/powerpc/boot/dts/t1040rdb.dts
+++ b/arch/powerpc/boot/dts/t1040rdb.dts
@@ -340,14 +340,14 @@
 			sleep = <&rcpm 0x08000008>;
 		};
 		/* enable one offline port */
-		dpa-fman0-oh@5 {
+		dpa-fman0-oh@2 {
 			compatible = "fsl,dpa-oh";
 			/* Define frame queues for the OH port*/
 			/* <OH Rx error, OH Rx default> */
 			fsl,qman-frame-queues-oh = <0x68 1 0x69 1>;
 			fsl,bman-buffer-pools = <&bp6>;
 			fsl,qman-frame-queues-tx = <0x90 8>;
-			fsl,fman-oh-port = <&fman0_oh5>;
+			fsl,fman-oh-port = <&fman0_oh2>;
 		};
 	};
 
diff --git a/arch/powerpc/boot/dts/t104xqds.dtsi b/arch/powerpc/boot/dts/t104xqds.dtsi
index b4dc2da..b819ce0 100644
--- a/arch/powerpc/boot/dts/t104xqds.dtsi
+++ b/arch/powerpc/boot/dts/t104xqds.dtsi
@@ -365,14 +365,14 @@
 			sleep = <&rcpm 0x08000008>;
 		};
 		/* Enable one offline port as default to support HW based LAG */
-		dpa-fman0-oh@5 {
+		dpa-fman0-oh@2 {
 			compatible = "fsl,dpa-oh";
 			/* Define frame queues for the OH port*/
 			/* <OH Rx error, OH Rx default> */
 			fsl,qman-frame-queues-oh = <0x68 1 0x69 1>;
 			fsl,bman-buffer-pools = <&bp6>;
 			fsl,qman-frame-queues-tx = <0x90 8>;
-			fsl,fman-oh-port = <&fman0_oh5>;
+			fsl,fman-oh-port = <&fman0_oh2>;
 		};
 	};
 
-- 
1.7.5.4

