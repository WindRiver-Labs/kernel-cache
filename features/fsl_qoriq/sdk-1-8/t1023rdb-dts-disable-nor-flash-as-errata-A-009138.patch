From fa9f4fe9fcf85445b4bb2bedab540e290be3d525 Mon Sep 17 00:00:00 2001
From: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Date: Tue, 24 Mar 2015 17:40:29 +0800
Subject: [PATCH 44/57] t1023rdb/dts: disable nor flash as errata A-009138

Due to IFC NOR errata A-009138, NOR is not available
on T1023RDB RevB, so disable NOR access for revB.

Signed-off-by: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Change-Id: I475ff8b863aebed8ca014753c6f42c8a116f907f
Reviewed-on: http://git.am.freescale.net:8181/33340
Reviewed-by: Xiaobo Xie <X.Xie@freescale.com>
Tested-by: Honghua Yin <Hong-Hua.Yin@freescale.com>
Reviewed-by: Honghua Yin <Hong-Hua.Yin@freescale.com>
[Original patch taken from QorIQ-SDK-V1.8-20150619-yocto.]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/powerpc/boot/dts/t1023rdb.dts |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/t1023rdb.dts b/arch/powerpc/boot/dts/t1023rdb.dts
index 71f1df9..333be15 100644
--- a/arch/powerpc/boot/dts/t1023rdb.dts
+++ b/arch/powerpc/boot/dts/t1023rdb.dts
@@ -49,6 +49,7 @@
 		nor@0,0 {
 			#address-cells = <1>;
 			#size-cells = <1>;
+			status = "disabled";
 			compatible = "cfi-flash";
 			reg = <0x0 0x0 0x8000000>;
 			bank-width = <2>;
-- 
1.7.5.4

