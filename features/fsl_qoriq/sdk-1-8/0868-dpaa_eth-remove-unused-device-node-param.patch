From 08dc15b99fb39f6b4f91128306636deeb320739f Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Wed, 24 Dec 2014 14:11:25 +0200
Subject: [PATCH 868/987] dpaa_eth: remove unused device node param

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
Change-Id: Icd0fcfadbbf24edfd7eaa1bdac2ccc18951df9eb
Reviewed-on: http://git.am.freescale.net:8181/26788
[Yang: Original patch taken from
QorIQ-SDK-V1.8-SOURCE-20150619-yocto.iso.
Fix context to apply to WRL.]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth.c         | 7 +++----
 drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c  | 7 +++----
 drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h  | 7 +++----
 drivers/net/ethernet/freescale/dpa/dpaa_eth_macless.c | 4 ++--
 drivers/net/ethernet/freescale/dpa/dpaa_eth_shared.c  | 2 +-
 5 files changed, 12 insertions(+), 15 deletions(-)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
index f1442f8..1953164 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth.c
@@ -721,8 +721,7 @@ void dpa_private_napi_del(struct net_device *net_dev)
 }
 EXPORT_SYMBOL(dpa_private_napi_del);
 
-static int dpa_private_netdev_init(struct device_node *dpa_node,
-				struct net_device *net_dev)
+static int dpa_private_netdev_init(struct net_device *net_dev)
 {
 	int i;
 	struct dpa_priv_s *priv = netdev_priv(net_dev);
@@ -757,7 +756,7 @@ static int dpa_private_netdev_init(struct device_node *dpa_node,
 	/* Advertise GRO support */
 	net_dev->features |= NETIF_F_GRO;
 
-	return dpa_netdev_init(dpa_node, net_dev, mac_addr, tx_timeout);
+	return dpa_netdev_init(net_dev, mac_addr, tx_timeout);
 }
 
 static struct dpa_bp * __cold
@@ -1062,7 +1061,7 @@ dpaa_eth_priv_probe(struct platform_device *_of_dev)
 	if (err < 0)
 		goto napi_add_failed;
 
-	err = dpa_private_netdev_init(dpa_node, net_dev);
+	err = dpa_private_netdev_init(net_dev);
 
 	if (err < 0)
 		goto netdev_init_failed;
diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
index 0185fb3..7611427 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
@@ -100,10 +100,9 @@ void fsl_dpaa_eth_set_hooks(struct dpaa_eth_hooks_s *hooks)
 }
 EXPORT_SYMBOL(fsl_dpaa_eth_set_hooks);
 #endif
-int dpa_netdev_init(struct device_node *dpa_node,
-		struct net_device *net_dev,
-		const uint8_t *mac_addr,
-		uint16_t tx_timeout)
+int dpa_netdev_init(struct net_device *net_dev,
+		    const uint8_t *mac_addr,
+		    uint16_t tx_timeout)
 {
 	int err;
 	struct dpa_priv_s *priv = netdev_priv(net_dev);
diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h
index 958a90d..3dbc3ea 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.h
@@ -128,10 +128,9 @@ void fsl_dpaa_eth_set_hooks(struct dpaa_eth_hooks_s *hooks);
 extern struct dpaa_eth_hooks_s dpaa_eth_hooks;
 #endif
 
-int dpa_netdev_init(struct device_node *dpa_node,
-		struct net_device *net_dev,
-		const uint8_t *mac_addr,
-		uint16_t tx_timeout);
+int dpa_netdev_init(struct net_device *net_dev,
+		    const uint8_t *mac_addr,
+		    uint16_t tx_timeout);
 int __cold dpa_start(struct net_device *net_dev);
 int __cold dpa_stop(struct net_device *net_dev);
 void __cold dpa_timeout(struct net_device *net_dev);
diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_macless.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_macless.c
index 5f6b693..4bb5942 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_macless.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_macless.c
@@ -223,7 +223,7 @@ static int dpa_macless_netdev_init(struct device_node *dpa_node,
 		net_dev->mem_start = mac_dev->res->start;
 		net_dev->mem_end = mac_dev->res->end;
 
-		return dpa_netdev_init(dpa_node, net_dev, mac_dev->addr,
+		return dpa_netdev_init(net_dev, mac_dev->addr,
 				macless_tx_timeout);
 	} else {
 		/* Get the MAC address from device tree */
@@ -235,7 +235,7 @@ static int dpa_macless_netdev_init(struct device_node *dpa_node,
 			return -EINVAL;
 		}
 
-		return dpa_netdev_init(dpa_node, net_dev, mac_addr,
+		return dpa_netdev_init(net_dev, mac_addr,
 				macless_tx_timeout);
 	}
 }
diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_shared.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_shared.c
index d05c607..c1d6f56 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_shared.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_shared.c
@@ -596,7 +596,7 @@ static int dpa_shared_netdev_init(struct device_node *dpa_node,
 	net_dev->hw_features |= (NETIF_F_IP_CSUM | NETIF_F_IPV6_CSUM |
 		NETIF_F_LLTX);
 
-	return dpa_netdev_init(dpa_node, net_dev, mac_addr, shared_tx_timeout);
+	return dpa_netdev_init(net_dev, mac_addr, shared_tx_timeout);
 }
 
 #ifdef CONFIG_PM
-- 
1.9.1

