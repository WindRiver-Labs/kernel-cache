From 7e05e6771a6eb35fb60b39d0ad01fc523dff9570 Mon Sep 17 00:00:00 2001
From: Haiying Wang <Haiying.Wang@freescale.com>
Date: Tue, 15 Oct 2013 12:03:48 -0400
Subject: [PATCH 398/987] fsl_qman: fix two compilation warnings

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

drivers/staging/fsl_qbman/qman_high.c: In function 'qman_shutdown_fq':
drivers/staging/fsl_qbman/qman_high.c:4834:1: warning: control reaches
end of non-void function [-Wreturn-type]
drivers/staging/fsl_qbman/fsl_usdpaa.c: In function 'dump_frags':
drivers/staging/fsl_qbman/fsl_usdpaa.c:230:3: warning: format '%llx'
expects argument of type 'long long unsigned int', but argument 4 has
type 'long unsigned int' [-Wformat]

Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
Change-Id: Ia61d1b303f033b777658131e517f5f10b16bf6b0
Reviewed-on: http://git.am.freescale.net:8181/5632
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Thorpe Geoff-R01361 <Geoff.Thorpe@freescale.com>
Reviewed-by: Rivera Jose-B46482 <German.Rivera@freescale.com>
---
 drivers/staging/fsl_qbman/fsl_usdpaa.c | 2 +-
 drivers/staging/fsl_qbman/qman_high.c  | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/drivers/staging/fsl_qbman/fsl_usdpaa.c b/drivers/staging/fsl_qbman/fsl_usdpaa.c
index e69869f..7ee4997 100644
--- a/drivers/staging/fsl_qbman/fsl_usdpaa.c
+++ b/drivers/staging/fsl_qbman/fsl_usdpaa.c
@@ -227,7 +227,7 @@ __maybe_unused static void dump_frags(void)
 	struct mem_fragment *frag;
 	int i = 0;
 	list_for_each_entry(frag, &mem_list, list) {
-		pr_info("FRAG %d: base 0x%llx pfn_base 0x%llx len 0x%llx "
+		pr_info("FRAG %d: base 0x%llx pfn_base 0x%lx len 0x%llx "
 			"root_len 0x%llx refs %d\n",
 			i, frag->base, frag->pfn_base,
 			frag->len, frag->root_len, frag->refs);
diff --git a/drivers/staging/fsl_qbman/qman_high.c b/drivers/staging/fsl_qbman/qman_high.c
index 7d26ef4..b0a5de3 100644
--- a/drivers/staging/fsl_qbman/qman_high.c
+++ b/drivers/staging/fsl_qbman/qman_high.c
@@ -4869,6 +4869,7 @@ int qman_shutdown_fq(u32 fqid)
 	ret = qm_shutdown_fq(&low_p, 1, fqid);
 	PORTAL_IRQ_UNLOCK(p, irqflags);
 	put_affine_portal();
+	return ret;
 }
 
 static void qman_portal_update_sdest(const struct qm_portal_config *pcfg,
-- 
1.9.1

