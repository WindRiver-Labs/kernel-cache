From a4f558a98275aa0e9278c9271a11c30b3e0af212 Mon Sep 17 00:00:00 2001
From: Anca Jeanina FLOAREA <anca.floarea@freescale.com>
Date: Fri, 24 May 2013 09:50:47 +0300
Subject: [PATCH 193/987] dpa_offload: Fix compat mode for
 dpa_ipsec_sa_in_params structure

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

The compat mode equivalent ioc_compat_sa_in_params of structure
dpa_ipsec_sa_in_params needs to have the use_var_iphdr_len declared
as a bool and not as an int in order to be synchronized.

Signed-off-by: Anca Jeanina FLOAREA <anca.floarea@freescale.com>
Change-Id: I44062baa2f4d489e6faa92423edac407fd1e29d5
Reviewed-on: http://git.am.freescale.net:8181/2686
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Chereji Marian-Cornel-R27762 <marian.chereji@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 drivers/staging/fsl_dpa_offload/dpa_ipsec_ioctl.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_ipsec_ioctl.h b/drivers/staging/fsl_dpa_offload/dpa_ipsec_ioctl.h
index 2054da2..b1f1160 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_ipsec_ioctl.h
+++ b/drivers/staging/fsl_dpa_offload/dpa_ipsec_ioctl.h
@@ -99,7 +99,7 @@ struct ioc_compat_sa_out_params {
 
 struct ioc_compat_sa_in_params {
 	enum dpa_ipsec_arw arw;
-	int use_var_iphdr_len;
+	bool use_var_iphdr_len;
 	struct dpa_offload_ip_address src_addr;
 	struct dpa_offload_ip_address dest_addr;
 	bool use_udp_encap;
-- 
1.9.1

