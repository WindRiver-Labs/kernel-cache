From 1d6be249dd42a873de3abd77d106e523c2509e3d Mon Sep 17 00:00:00 2001
From: Marian-Cristian Rotariu <marian.rotariu@freescale.com>
Date: Wed, 29 Apr 2015 11:29:59 +0300
Subject: [PATCH 959/987] dpaa_eth: fix symbols for dynamic driver modules

This patch fixes the dependencies between several DPAA Ethernet driver modules
by exporting the needed functions as kernel symbols.

Signed-off-by: Marian-Cristian Rotariu <marian.rotariu@freescale.com>
Change-Id: Idf7525add92bfd20738eaac0b9d43ed62d7de0af
Reviewed-on: http://git.am.freescale.net:8181/35747
Reviewed-by: Cristian-Constantin Sovaiala <Cristian.Sovaiala@freescale.com>
Reviewed-by: Madalin-Cristian Bucur <madalin.bucur@freescale.com>
[Yang: Original patch taken from
QorIQ-SDK-V1.8-SOURCE-20150619-yocto.iso.
Fix context to apply to WRL.]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c | 1 +
 drivers/net/ethernet/freescale/dpa/mac-api.c         | 2 ++
 2 files changed, 3 insertions(+)

diff --git a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
index 4f6fe65..c25cc23 100644
--- a/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
+++ b/drivers/net/ethernet/freescale/dpa/dpaa_eth_common.c
@@ -825,6 +825,7 @@ void dpa_bp_drain(struct dpa_bp *bp)
 		}
 	} while (ret > 0);
 }
+EXPORT_SYMBOL(dpa_bp_drain);
 
 static void __cold __attribute__((nonnull))
 _dpa_bp_free(struct dpa_bp *dpa_bp)
diff --git a/drivers/net/ethernet/freescale/dpa/mac-api.c b/drivers/net/ethernet/freescale/dpa/mac-api.c
index 1614d27..3ef4309 100644
--- a/drivers/net/ethernet/freescale/dpa/mac-api.c
+++ b/drivers/net/ethernet/freescale/dpa/mac-api.c
@@ -818,6 +818,7 @@ int fm_mac_dump_rx_stats(struct mac_device *h_mac, char *buf, int nn)
 
 	return n;
 }
+EXPORT_SYMBOL(fm_mac_dump_rx_stats);
 
 int fm_mac_dump_tx_stats(struct mac_device *h_mac, char *buf, int nn)
 {
@@ -828,6 +829,7 @@ int fm_mac_dump_tx_stats(struct mac_device *h_mac, char *buf, int nn)
 
 	return n;
 }
+EXPORT_SYMBOL(fm_mac_dump_tx_stats);
 
 static int __cold mac_get_statistics(struct mac_device *mac_dev, u64 *data)
 {
-- 
1.9.1

