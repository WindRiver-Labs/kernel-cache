From 5cbcd8a89a778b2a97a6adc64cd0b579d62f3745 Mon Sep 17 00:00:00 2001
From: Wang Quanyang <quanyang.wang@windriver.com>
Date: Sat, 10 Oct 2015 02:18:55 -0400
Subject: [PATCH 1007/1008] fsl_dce: use read_iter instead of aio_read

According to upstream commit 8436318205b9 ("->aio_read and ->aio_write removed"),
use read_iter instead of aio_write.

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/staging/fsl_dce/tests/performance_simple/dce_perf_simple.c    | 2 +-
 drivers/staging/fsl_dce/tests/performance_simple/dce_sf_perf_simple.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/staging/fsl_dce/tests/performance_simple/dce_perf_simple.c b/drivers/staging/fsl_dce/tests/performance_simple/dce_perf_simple.c
index 87da99f..8d00b3a 100644
--- a/drivers/staging/fsl_dce/tests/performance_simple/dce_perf_simple.c
+++ b/drivers/staging/fsl_dce/tests/performance_simple/dce_perf_simple.c
@@ -453,7 +453,7 @@ static int read_file(const char *file, char **data, int *data_len)
 	 * If we can't read the file, it's no good.
 	 * If we can't write the file, use it read-only.
 	 */
-	if (!(filp->f_op->read || filp->f_op->aio_read)) {
+	if (!(filp->f_op->read || filp->f_op->read_iter)) {
 		pr_err("file not readable: %s\n", file);
 		goto out;
 	}
diff --git a/drivers/staging/fsl_dce/tests/performance_simple/dce_sf_perf_simple.c b/drivers/staging/fsl_dce/tests/performance_simple/dce_sf_perf_simple.c
index 5d7defd..0b116e2 100644
--- a/drivers/staging/fsl_dce/tests/performance_simple/dce_sf_perf_simple.c
+++ b/drivers/staging/fsl_dce/tests/performance_simple/dce_sf_perf_simple.c
@@ -517,7 +517,7 @@ static int read_file(const char *file, char **data, int *data_len)
 	 * If we can't read the file, it's no good.
 	 * If we can't write the file, use it read-only.
 	 */
-	if (!(filp->f_op->read || filp->f_op->aio_read)) {
+	if (!(filp->f_op->read || filp->f_op->read_iter)) {
 		pr_err("file not readable: %s\n", file);
 		goto out;
 	}
-- 
2.0.2

