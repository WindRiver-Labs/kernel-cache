From 8fb1cc4b0ceabb5721cac0732ed55f19851dfbcc Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Fri, 21 Feb 2014 17:25:52 +0200
Subject: [PATCH 562/987] dpa_offload: Update errors-to-discard setting for Rx
 ports

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

The errors-to-discard value in FMan chosen node is intended to set
FM_PORT_FRM_ERR_NON_FM and FM_PORT_FRM_ERR_CLS_DISCARD for
DPA offloading applications. However, the configuration
FM_PORT_FRM_ERR_NON_FM is not valid for Rx ports and it will be
avoided.

Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
Change-Id: I77dcfe62caac7355e69fe2b69e941040a04a155c
Reviewed-on: http://git.am.freescale.net:8181/9022
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Aurelian Zanoschi <Aurelian.Zanoschi@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
---
 drivers/staging/fsl_dpa_offload/dts/b4420si-chosen-reass.dtsi | 2 +-
 drivers/staging/fsl_dpa_offload/dts/b4860si-chosen-reass.dtsi | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/staging/fsl_dpa_offload/dts/b4420si-chosen-reass.dtsi b/drivers/staging/fsl_dpa_offload/dts/b4420si-chosen-reass.dtsi
index 81b8b9b..ec7b0b9 100644
--- a/drivers/staging/fsl_dpa_offload/dts/b4420si-chosen-reass.dtsi
+++ b/drivers/staging/fsl_dpa_offload/dts/b4420si-chosen-reass.dtsi
@@ -9,7 +9,7 @@ chosen {
 			fman0_rx3-extd-args {
 				cell-index = <3>;
 				compatible = "fsl,fman-port-1g-rx-extended-args";
-				errors-to-discard = <0x00420000>;
+				errors-to-discard = <0x00020000>;
 				/* Define Virtual storage profile */
 				/* <number of profiles, default profile id> */
 				vsp-window = <8 0>;
diff --git a/drivers/staging/fsl_dpa_offload/dts/b4860si-chosen-reass.dtsi b/drivers/staging/fsl_dpa_offload/dts/b4860si-chosen-reass.dtsi
index 23090a4..c0c92f6 100644
--- a/drivers/staging/fsl_dpa_offload/dts/b4860si-chosen-reass.dtsi
+++ b/drivers/staging/fsl_dpa_offload/dts/b4860si-chosen-reass.dtsi
@@ -9,7 +9,7 @@ chosen {
 			fman0_rx5-extd-args {
 				cell-index = <5>;
 				compatible = "fsl,fman-port-1g-rx-extended-args";
-				errors-to-discard = <0x00420000>;
+				errors-to-discard = <0x00020000>;
 				/* Define Virtual storage profile */
 				/* <number of profiles, default profile id> */
 				vsp-window = <8 0>;
-- 
1.9.1

