From 316585f15ad658d9f689a03f1da364ee2529f58f Mon Sep 17 00:00:00 2001
From: Sandeep Singh <Sandeep@freescale.com>
Date: Fri, 20 Apr 2012 19:06:17 +0000
Subject: [PATCH 101/987] Added device tree entries for Legerity SLIC node on
 various Freescale Platforms

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

SLIC device is connected on SPI bus on these platforms

Signed-off-by: Sandeep Singh <Sandeep@freescale.com>
Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
(cherry picked from commit 48cc0cd5a4d55b7a0972bd5f6e643b080275bffd)
Change-Id: Icfcab84414c0781dd183ccb7756d0176ae20a276
Reviewed-on: http://git.am.freescale.net:8181/1158
Reviewed-by: Xu Jiucheng-B37781 <Jiucheng.Xu@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 arch/powerpc/boot/dts/p1010rdb.dtsi    |  6 ++++++
 arch/powerpc/boot/dts/p1020mbg-pc.dtsi | 14 ++++++++++++++
 arch/powerpc/boot/dts/p1020rdb-pc.dtsi | 13 +++++++++++++
 arch/powerpc/boot/dts/p1020rdb.dtsi    | 12 ++++++++++++
 arch/powerpc/boot/dts/p1022ds.dtsi     | 12 ++++++++++++
 arch/powerpc/boot/dts/p1024rdb.dtsi    | 13 +++++++++++++
 6 files changed, 70 insertions(+)

diff --git a/arch/powerpc/boot/dts/p1010rdb.dtsi b/arch/powerpc/boot/dts/p1010rdb.dtsi
index 91f9a3f..8b5fa3f 100644
--- a/arch/powerpc/boot/dts/p1010rdb.dtsi
+++ b/arch/powerpc/boot/dts/p1010rdb.dtsi
@@ -146,6 +146,12 @@
 				label = "SPI Flash JFFS2 RFS";
 			};
 		};
+
+		slic@0 {
+			compatible = "zarlink,le88266";
+			reg = <0>;
+			spi-max-frequency = <8000000>;
+		};
 	};
 
 	usb@22000 {
diff --git a/arch/powerpc/boot/dts/p1020mbg-pc.dtsi b/arch/powerpc/boot/dts/p1020mbg-pc.dtsi
index a24699c..0105c66 100644
--- a/arch/powerpc/boot/dts/p1020mbg-pc.dtsi
+++ b/arch/powerpc/boot/dts/p1020mbg-pc.dtsi
@@ -93,6 +93,20 @@
 		};
 	};
 
+	spi@7000 {
+		slic@0 {
+			compatible = "zarlink,le88266";
+			reg = <1>;
+			spi-max-frequency = <8000000>;
+		};
+
+		slic@1 {
+			compatible = "zarlink,le88266";
+			reg = <2>;
+			spi-max-frequency = <8000000>;
+		};
+	};
+
 	mdio@24000 {
 		phy0: ethernet-phy@0 {
 			interrupts = <3 1 0 0>;
diff --git a/arch/powerpc/boot/dts/p1020rdb-pc.dtsi b/arch/powerpc/boot/dts/p1020rdb-pc.dtsi
index c952cd3..5db9e7a 100644
--- a/arch/powerpc/boot/dts/p1020rdb-pc.dtsi
+++ b/arch/powerpc/boot/dts/p1020rdb-pc.dtsi
@@ -186,6 +186,19 @@
 				label = "file system jffs2";
 			};
 		};
+
+		slic@0 {
+			compatible = "zarlink,le88266";
+			reg = <1>;
+			spi-max-frequency = <8000000>;
+		};
+
+		slic@1 {
+			compatible = "zarlink,le88266";
+			reg = <2>;
+			spi-max-frequency = <8000000>;
+		};
+
 	};
 
 	usb@22000 {
diff --git a/arch/powerpc/boot/dts/p1020rdb.dtsi b/arch/powerpc/boot/dts/p1020rdb.dtsi
index 1fb7e0e..f070f40 100644
--- a/arch/powerpc/boot/dts/p1020rdb.dtsi
+++ b/arch/powerpc/boot/dts/p1020rdb.dtsi
@@ -186,6 +186,18 @@
 				label = "file system jffs2";
 			};
 		};
+
+		slic@0 {
+			compatible = "zarlink,le88266";
+			reg = <1>;
+			spi-max-frequency = <8000000>;
+		};
+
+		slic@1 {
+			compatible = "zarlink,le88266";
+			reg = <2>;
+			spi-max-frequency = <8000000>;
+		};
 	};
 
 	usb@22000 {
diff --git a/arch/powerpc/boot/dts/p1022ds.dtsi b/arch/powerpc/boot/dts/p1022ds.dtsi
index d88251f..751a28e 100644
--- a/arch/powerpc/boot/dts/p1022ds.dtsi
+++ b/arch/powerpc/boot/dts/p1022ds.dtsi
@@ -184,6 +184,18 @@
 				reg = <0x00700000 0x00900000>;
 			};
 		};
+
+		slic@0 {
+			compatible = "zarlink,le88266";
+			reg = <1>;
+			spi-max-frequency = <8000000>;
+		};
+
+		slic@1 {
+			compatible = "zarlink,le88266";
+			reg = <2>;
+			spi-max-frequency = <8000000>;
+		};
 	};
 
 	ssi@15000 {
diff --git a/arch/powerpc/boot/dts/p1024rdb.dtsi b/arch/powerpc/boot/dts/p1024rdb.dtsi
index b05dcb4..8f93bd9 100644
--- a/arch/powerpc/boot/dts/p1024rdb.dtsi
+++ b/arch/powerpc/boot/dts/p1024rdb.dtsi
@@ -164,6 +164,19 @@
 				label = "SPI JFFS2 RFS";
 			};
 		};
+
+		slic@0 {
+			compatible = "zarlink,le88266";
+			reg = <1>;
+			spi-max-frequency = <8000000>;
+		};
+
+		slic@1 {
+			compatible = "zarlink,le88266";
+			reg = <2>;
+			spi-max-frequency = <8000000>;
+		};
+
 	};
 
 	i2c@3000 {
-- 
1.9.1

