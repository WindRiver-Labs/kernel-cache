From 345d7e8767fb97c97aff27ccee1b8c0b2ac97b06 Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Wed, 21 Jan 2015 11:22:09 +0800
Subject: [PATCH 1314/1336] crypto:fix a compiling error in testmgr.c

Replace INIT_COMPLETION with reinit_completion to fix following
compiling error:
linux/crypto/testmgr.c: In function '__test_tls':
/linux/crypto/testmgr.c:934:5: error: implicit declaration of function 'INIT_COMPLETION' [-Werror=implicit-function-declaration]
     INIT_COMPLETION(result.completion);
     ^
cc1: some warnings being treated as errors
linux/scripts/Makefile.build:308: recipe for target 'crypto/testmgr.o' failed
make[3]: *** [crypto/testmgr.o] Error 1

Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 crypto/testmgr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/crypto/testmgr.c b/crypto/testmgr.c
index e268e74..a8a594b 100644
--- a/crypto/testmgr.c
+++ b/crypto/testmgr.c
@@ -958,7 +958,7 @@ static int __test_tls(struct crypto_aead *tfm, int enc,
 			ret = wait_for_completion_interruptible(
 						&result.completion);
 			if (!ret && !result.err) {
-				INIT_COMPLETION(result.completion);
+				reinit_completion(&result.completion);
 				break;
 			} else {
 				ret = result.err;
-- 
2.0.2

