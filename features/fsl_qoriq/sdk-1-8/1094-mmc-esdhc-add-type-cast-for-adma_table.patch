From 384112a3ac85eea7476354826a4c1b4735f8c236 Mon Sep 17 00:00:00 2001
From: Wang Quanyang <quanyang.wang@windriver.com>
Date: Tue, 13 Oct 2015 08:55:21 -0400
Subject: [PATCH 1094/1094] mmc: esdhc: add type cast for adma_table

According to upstream commit 1c3d5f6ddcb9
("mmc: sdhci: Use 'void *' for not 'u8 *' for ADMA data"), we need
add type cast for adma_table, or it will occur compile error as below:

drivers/mmc/host/sdhci-of-esdhc.c:301:17
: error: invalid operands to binary - (have 'u8 * {aka unsigned char *}' and 'void *')
   WARN_ON((desc - host->adma_table) > (128 * 2 + 1) * 4);
                 ^

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/mmc/host/sdhci-of-esdhc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/mmc/host/sdhci-of-esdhc.c b/drivers/mmc/host/sdhci-of-esdhc.c
index f906808..d57b77b 100644
--- a/drivers/mmc/host/sdhci-of-esdhc.c
+++ b/drivers/mmc/host/sdhci-of-esdhc.c
@@ -298,7 +298,7 @@ static void esdhci_of_adma_workaround(struct sdhci_host *host, u32 intmask)
 		 * terminating descriptor.
 		 */
 		desc += 8;
-		WARN_ON((desc - host->adma_table) > (128 * 2 + 1) * 4);
+		WARN_ON((desc - (u8 *)host->adma_table) > (128 * 2 + 1) * 4);
 
 		dataddr = (__le32 __force *)(desc + 4);
 		cmdlen = (__le32 __force *)desc;
-- 
2.0.2

