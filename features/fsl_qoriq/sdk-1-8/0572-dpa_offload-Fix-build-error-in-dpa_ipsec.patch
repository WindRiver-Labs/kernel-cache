From de9a99dcffc40f3cd9a4a1cc41482ffb0398a8a0 Mon Sep 17 00:00:00 2001
From: Marian Chereji <marian.chereji@freescale.com>
Date: Tue, 4 Mar 2014 14:25:12 +0200
Subject: [PATCH 572/987] dpa_offload: Fix build error in dpa_ipsec

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

A build error occurs in dpa_ipsec since the commit "dpa_ipsec: Patch
to update the append_math_ldshift command" due to an incomplete
fix. This patch did not replace all occurences of "append_math_ldshift"
call.

Signed-off-by: Andrei Varvara <andrei.varvara@freescale.com>
Signed-off-by: Marian Chereji <marian.chereji@freescale.com>
Change-Id: I11e14418cc91b25918943a8e06563bf528ffe790
Reviewed-on: http://git.am.freescale.net:8181/9370
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Jose Rivera <German.Rivera@freescale.com>
---
 drivers/staging/fsl_dpa_offload/dpa_ipsec_desc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/staging/fsl_dpa_offload/dpa_ipsec_desc.c b/drivers/staging/fsl_dpa_offload/dpa_ipsec_desc.c
index 735b2f4..c233aaa 100644
--- a/drivers/staging/fsl_dpa_offload/dpa_ipsec_desc.c
+++ b/drivers/staging/fsl_dpa_offload/dpa_ipsec_desc.c
@@ -722,7 +722,7 @@ int built_encap_extra_material(struct dpa_ipsec_sa *sa,
 	 * Perform 32-bit left shift of DEST and concatenate with left 32 bits
 	 * of SRC1 i.e MATH REG 2 = 0x00bytecount_00000000
 	 */
-	append_math_ldshift(extra_cmds, REG2, REG0, REG2, MATH_LEN_8BYTE);
+	append_math_shld(extra_cmds, REG2, REG0, REG2, MATH_LEN_8BYTE);
 
 	/* MATH REG 0  = MATH REG 0 + MATH REG 2 */
 	append_math_add(extra_cmds, REG0, REG0, REG2, MATH_LEN_8BYTE);
-- 
1.9.1

