From 0b251da62a068ae5ecc21a82217e59ff80ead4f2 Mon Sep 17 00:00:00 2001
From: Chunhe Lan <Chunhe.Lan@freescale.com>
Date: Fri, 26 Apr 2013 17:26:01 +0800
Subject: [PATCH 132/987] fmd: fix the build error for P1023 Fman

[Original patch taken from QorIQ-SDK-V1.6-SOURCE-20140619-yocto.iso]

Remove the define of FM_CAPWAP_SUPPORT from P1023/dpaa_integration_ext.h.
Or building p1023rds with Fman support will fail with the error message:

In file included from drivers/net/ethernet/freescale/fman/src/
wrapper/lnxwrp_ioctls_fm.c:70:0:
include/uapi/linux/fmd/Peripherals/fm_pcd_ioctls.h:119:2: error:
................
................
make[7]: *** [drivers/net/ethernet/freescale/fman/src/wrapper/
lnxwrp_ioctls_fm.o] Error 1
make[6]: *** [drivers/net/ethernet/freescale/fman/src/wrapper] Error 2
make[5]: *** [drivers/net/ethernet/freescale/fman/src] Error 2
make[4]: *** [drivers/net/ethernet/freescale/fman] Error 2
make[3]: *** [drivers/net/ethernet/freescale] Error 2
make[2]: *** [drivers/net/ethernet] Error 2
make[1]: *** [drivers/net] Error 2
make: *** [drivers] Error 2

Signed-off-by: Chunhe Lan <Chunhe.Lan@freescale.com>
Change-Id: I38009e5227de84cf47526c024c65ae645b364891
Reviewed-on: http://git.am.freescale.net:8181/2136
Reviewed-by: Zang Tiefei-R61911 <tie-fei.zang@freescale.com>
Reviewed-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
Tested-by: Fleming Andrew-AFLEMING <AFLEMING@freescale.com>
---
 .../freescale/fman/inc/integrations/P1023/dpaa_integration_ext.h         | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/fman/inc/integrations/P1023/dpaa_integration_ext.h b/drivers/net/ethernet/freescale/fman/inc/integrations/P1023/dpaa_integration_ext.h
index fabf8db..cbc322a 100644
--- a/drivers/net/ethernet/freescale/fman/inc/integrations/P1023/dpaa_integration_ext.h
+++ b/drivers/net/ethernet/freescale/fman/inc/integrations/P1023/dpaa_integration_ext.h
@@ -123,7 +123,6 @@ typedef enum {
 #define FM_MAX_NUM_OF_MACSECS       1
 
 #define FM_MACSEC_SUPPORT
-#define FM_CAPWAP_SUPPORT
 
 #define FM_LOW_END_RESTRICTION      /* prevents the use of TX port 1 with OP port 0 */
 
-- 
1.9.1

