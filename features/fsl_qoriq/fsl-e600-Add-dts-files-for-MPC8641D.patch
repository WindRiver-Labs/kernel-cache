From 79ffc2b68a6dfe680e1cefe8f078aabee77033dd Mon Sep 17 00:00:00 2001
From: Ruan Zhengwang <zhengwang.ruan@windriver.com>
Date: Tue, 30 Jul 2013 15:18:21 +0800
Subject: [PATCH 2/2] fsl-e600: Add dts files for MPC8641D

*) Add EEPROM support.
*) Add interrupt parent for rmu.

Signed-off-by: Ruan Zhengwang <zhengwang.ruan@windriver.com>
---
 arch/powerpc/boot/dts/mpc8641_hpcn.dts     |    9 +++++++++
 arch/powerpc/boot/dts/mpc8641_hpcn_36b.dts |    8 ++++++++
 2 files changed, 17 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/boot/dts/mpc8641_hpcn.dts b/arch/powerpc/boot/dts/mpc8641_hpcn.dts
index 1e8666c..e840b58 100644
--- a/arch/powerpc/boot/dts/mpc8641_hpcn.dts
+++ b/arch/powerpc/boot/dts/mpc8641_hpcn.dts
@@ -131,6 +131,10 @@
 			interrupts = <43 2>;
 			interrupt-parent = <&mpic>;
 			dfsrr;
+			eeprom@50 {
+				compatible = "atmel,24c32";
+				reg = <0x50>;
+			};
 		};
 
 		i2c@3100 {
@@ -142,6 +146,10 @@
 			interrupts = <43 2>;
 			interrupt-parent = <&mpic>;
 			dfsrr;
+			eeprom@57 {
+				compatible = "atmel,24c02";
+				reg = <0x57>;
+			};
 		};
 
 		dma@21300 {
@@ -360,6 +368,7 @@
 			compatible = "fsl,srio-rmu";
 			reg = <0xd3000 0x500>;
 			ranges = <0x0 0xd3000 0x500>;
+			interrupt-parent = <&mpic>;
 
 			message-unit@0 {
 				compatible = "fsl,srio-msg-unit";
diff --git a/arch/powerpc/boot/dts/mpc8641_hpcn_36b.dts b/arch/powerpc/boot/dts/mpc8641_hpcn_36b.dts
index fd4cd4d..46768a7 100644
--- a/arch/powerpc/boot/dts/mpc8641_hpcn_36b.dts
+++ b/arch/powerpc/boot/dts/mpc8641_hpcn_36b.dts
@@ -131,6 +131,10 @@
 			interrupts = <43 2>;
 			interrupt-parent = <&mpic>;
 			dfsrr;
+			eeprom@50 {
+				compatible = "atmel,24c32";
+				reg = <0x50>;
+			};
 		};
 
 		i2c@3100 {
@@ -142,6 +146,10 @@
 			interrupts = <43 2>;
 			interrupt-parent = <&mpic>;
 			dfsrr;
+			eeprom@57 {
+				compatible = "atmel,24c02";
+				reg = <0x57>;
+			};
 		};
 
 		dma@21300 {
-- 
1.7.5.4

