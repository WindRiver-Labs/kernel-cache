From 1b09647ea1d1c77cbc479f1564668d6aca0f7940 Mon Sep 17 00:00:00 2001
From: Chunhe Lan <Chunhe.Lan@freescale.com>
Date: Thu, 8 Nov 2012 00:03:04 +0000
Subject: [PATCH 133/227] mmc: sdhci: Reduce the log level from KERN_ERR to
 KERN_DEBUG

When during the kernel boot process, system prints the following
messages:

mmc0: Got data interrupt 0x00000002 even though no data operation was in progress.
mmc0: Got data interrupt 0x00000002 even though no data operation was in progress.
mmc0: Got data interrupt 0x00000002 even though no data operation was in progress.

This is very ugly. When we get unexpected interrupts or spurious
interrupts, and only print messages in the backgound.

Signed-off-by: Chunhe Lan <Chunhe.Lan@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso. Using pr_debug to
accommodate with the current kernel.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/mmc/host/sdhci.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/mmc/host/sdhci.c b/drivers/mmc/host/sdhci.c
index ee44b03..eee3ee8 100644
--- a/drivers/mmc/host/sdhci.c
+++ b/drivers/mmc/host/sdhci.c
@@ -2264,7 +2264,7 @@ static void sdhci_data_irq(struct sdhci_host *host, u32 intmask)
 			}
 		}
 
-		pr_err("%s: Got data interrupt 0x%08x even "
+		pr_debug("%s: Got data interrupt 0x%08x even "
 			"though no data operation was in progress.\n",
 			mmc_hostname(host->mmc), (unsigned)intmask);
 		sdhci_dumpregs(host);
-- 
1.7.9.7

