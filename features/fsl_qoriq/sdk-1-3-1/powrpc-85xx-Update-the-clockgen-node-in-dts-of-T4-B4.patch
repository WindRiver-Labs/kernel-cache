From ee0ed8454677526e859373daefd945e6011460e4 Mon Sep 17 00:00:00 2001
From: Tang Yuantian <Yuantian.Tang@freescale.com>
Date: Mon, 12 Nov 2012 15:37:45 +0000
Subject: [PATCH 145/227] powrpc/85xx: Update the clockgen node in dts of
 T4/B4

Update the compatible string to version 2.
remove the clock-frequency property because u-boot will take care
of everything if needed.

Signed-off-by: Tang Yuantian <Yuantian.Tang@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/boot/dts/fsl/b4860si-post.dtsi |    3 +--
 arch/powerpc/boot/dts/fsl/t4240si-post.dtsi |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/b4860si-post.dtsi b/arch/powerpc/boot/dts/fsl/b4860si-post.dtsi
index 03727cb..8674201 100644
--- a/arch/powerpc/boot/dts/fsl/b4860si-post.dtsi
+++ b/arch/powerpc/boot/dts/fsl/b4860si-post.dtsi
@@ -234,9 +234,8 @@
 	};
 
 	clockgen: global-utilities@e1000 {
-		compatible = "fsl,b4860-clockgen", "fsl,qoriq-clockgen-1.0";
+		compatible = "fsl,b4860-clockgen", "fsl,qoriq-clockgen-2";
 		reg = <0xe1000 0x1000>;
-		clock-frequency = <0>;
 	};
 
 /include/ "qoriq-dma-0.dtsi"
diff --git a/arch/powerpc/boot/dts/fsl/t4240si-post.dtsi b/arch/powerpc/boot/dts/fsl/t4240si-post.dtsi
index c1b9275..deceff2 100644
--- a/arch/powerpc/boot/dts/fsl/t4240si-post.dtsi
+++ b/arch/powerpc/boot/dts/fsl/t4240si-post.dtsi
@@ -247,9 +247,8 @@
 	};
 
 	clockgen: global-utilities@e1000 {
-		compatible = "fsl,t4240-clockgen", "fsl,qoriq-clockgen-1.0";
+		compatible = "fsl,t4240-clockgen", "fsl,qoriq-clockgen-2";
 		reg = <0xe1000 0x1000>;
-		clock-frequency = <0>;
 	};
 
 /include/ "interlaken-lac.dtsi"
-- 
1.7.9.7

