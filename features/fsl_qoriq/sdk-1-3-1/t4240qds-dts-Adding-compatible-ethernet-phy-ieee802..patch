From 4211abe0b0e930b930828b0413f2a89b1db70ff1 Mon Sep 17 00:00:00 2001
From: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Date: Thu, 15 Nov 2012 19:35:56 +0000
Subject: [PATCH 154/227] t4240qds/dts: Adding compatible
 ethernet-phy-ieee802.3-c45

mEMAC MDIO controller can support both Clause 22 and Clause 45 PHY.
We set compatible property "ethernet-phy-ieee802.3-c45" in PHY
nodes to indicate current MII bus is for Clause 45 PHY, which is used
by MDIO driver.

Signed-off-by: Shengzhou Liu <Shengzhou.Liu@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/boot/dts/t4240qds.dts |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/arch/powerpc/boot/dts/t4240qds.dts b/arch/powerpc/boot/dts/t4240qds.dts
index c208c36..8140681 100644
--- a/arch/powerpc/boot/dts/t4240qds.dts
+++ b/arch/powerpc/boot/dts/t4240qds.dts
@@ -399,6 +399,7 @@
 					fsl,mdio-muxval = <8>;
 
 					xauiphy1: ethernet-phy@0 {
+						compatible = "ethernet-phy-ieee802.3-c45";
 						reg = <0x0>;
 					};
 				};
@@ -411,6 +412,7 @@
 					fsl,mdio-muxval = <8>;
 
 					xauiphy2: ethernet-phy@1 {
+						compatible = "ethernet-phy-ieee802.3-c45";
 						reg = <0x1>;
 					};
 				};
@@ -423,6 +425,7 @@
 					fsl,mdio-muxval = <8>;
 
 					xauiphy3: ethernet-phy@2 {
+						compatible = "ethernet-phy-ieee802.3-c45";
 						reg = <0x2>;
 					};
 				};
@@ -435,6 +438,7 @@
 					fsl,mdio-muxval = <8>;
 
 					xauiphy4: ethernet-phy@3 {
+						compatible = "ethernet-phy-ieee802.3-c45";
 						reg = <0x3>;
 					};
 				};
-- 
1.7.9.7

