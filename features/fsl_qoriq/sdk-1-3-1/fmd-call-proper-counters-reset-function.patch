From a12982692580f3ed8a10fa983783c10eeb77b032 Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Tue, 6 Nov 2012 10:58:48 +0200
Subject: [PATCH 136/227] fmd: call proper counters reset function

We need to call tgec_reset_stat() instead of TgecResetCounters() in
TgecTxEccWorkaround().

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 .../dpa/NetCommSw/Peripherals/FM/MAC/tgec.c        |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/dpa/NetCommSw/Peripherals/FM/MAC/tgec.c b/drivers/net/ethernet/freescale/dpa/NetCommSw/Peripherals/FM/MAC/tgec.c
index 3697cf8..6e4b5e3 100644
--- a/drivers/net/ethernet/freescale/dpa/NetCommSw/Peripherals/FM/MAC/tgec.c
+++ b/drivers/net/ethernet/freescale/dpa/NetCommSw/Peripherals/FM/MAC/tgec.c
@@ -714,7 +714,7 @@ static t_Error TgecTxEccWorkaround(t_Tgec *p_Tgec)
     else
         XX_Print("done.\n");
 #endif /* (DEBUG_ERRORS > 0) */
-    TgecResetCounters (p_Tgec);
+    tgec_reset_stat(p_Tgec->p_MemMap);
 
     return err;
 }
-- 
1.7.9.7

