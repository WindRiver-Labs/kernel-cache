From 28105f4d8bfae98ac4951bbab2a5c5e955c2981f Mon Sep 17 00:00:00 2001
From: Ioana Radulescu <ruxandra.radulescu@freescale.com>
Date: Thu, 20 Sep 2012 18:27:02 +0000
Subject: [PATCH 070/227] t4240: Remove local-mac-address property

Remove fixed MAC addresses from dts and let u-boot do the fixups
based on ethXaddr environment variables.

Signed-off-by: Ioana Radulescu <ruxandra.radulescu@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/boot/dts/fsl/t4240si-pre.dtsi |   16 ++++++++++++++++
 arch/powerpc/boot/dts/t4240qds.dts         |   16 ----------------
 2 files changed, 16 insertions(+), 16 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/t4240si-pre.dtsi b/arch/powerpc/boot/dts/fsl/t4240si-pre.dtsi
index b5a3b73..c8fee12 100644
--- a/arch/powerpc/boot/dts/fsl/t4240si-pre.dtsi
+++ b/arch/powerpc/boot/dts/fsl/t4240si-pre.dtsi
@@ -51,6 +51,22 @@
 		dce = &dce;
 		fman0 = &fman0;
 		fman1 = &fman1;
+		ethernet0 = &enet0;
+		ethernet1 = &enet1;
+		ethernet2 = &enet2;
+		ethernet3 = &enet3;
+		ethernet4 = &enet4;
+		ethernet5 = &enet5;
+		ethernet6 = &enet6;
+		ethernet7 = &enet7;
+		ethernet8 = &enet8;
+		ethernet9 = &enet9;
+		ethernet10 = &enet10;
+		ethernet11 = &enet11;
+		ethernet12 = &enet12;
+		ethernet13 = &enet13;
+		ethernet14 = &enet14;
+		ethernet15 = &enet15;
 		pci0 = &pci0;
 		pci1 = &pci1;
 		pci2 = &pci2;
diff --git a/arch/powerpc/boot/dts/t4240qds.dts b/arch/powerpc/boot/dts/t4240qds.dts
index c8afcf3..ef2b86f 100644
--- a/arch/powerpc/boot/dts/t4240qds.dts
+++ b/arch/powerpc/boot/dts/t4240qds.dts
@@ -178,91 +178,75 @@
 			enet0: ethernet@e0000 {
 				fixed-link = <1 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 01 01];
 			};
 			enet1: ethernet@e2000 {
 				fixed-link = <2 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 01 02];
 			};
 			enet2: ethernet@e4000 {
 				fixed-link = <3 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 01 03];
 			};
 			enet3: ethernet@e6000 {
 				fixed-link = <4 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 01 04];
 			};
 			enet4: ethernet@e8000 {
 				fixed-link = <5 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 01 05];
 			};
 			enet5: ethernet@ea000 {
 				fixed-link = <6 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 01 06];
 			};
 			enet6: ethernet@f0000 {
 				fixed-link = <7 1 10000 0 0 >;
 				phy-connection-type = "xgmii";
-				local-mac-address = [02 01 01 01 01 07];
 			};
 			enet7: ethernet@f2000 {
 				fixed-link = <8 1 10000 0 0 >;
 				phy-connection-type = "xgmii";
-				local-mac-address = [02 01 01 01 01 08];
 			};
 		};
 		fman1: fman@500000 {
 			enet8: ethernet@e0000 {
 				fixed-link = <11 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 02 01];
 			};
 
 			enet9: ethernet@e2000 {
 				fixed-link = <12 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 02 02];
 			};
 
 			enet10: ethernet@e4000 {
 				fixed-link = <13 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 02 03];
 			};
 
 			enet11: ethernet@e6000 {
 				fixed-link = <14 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 02 04];
 			};
 
 			enet12: ethernet@e8000 {
 				fixed-link = <15 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 02 05];
 			};
 
 			enet13: ethernet@ea000 {
 				fixed-link = <16 1 1000 0 0 >;
 				phy-connection-type = "sgmii";
-				local-mac-address = [02 01 01 01 02 06];
 			};
 
 			enet14: ethernet@f0000 {
 				fixed-link = <17 1 10000 0 0 >;
 				phy-connection-type = "xgmii";
-				local-mac-address = [02 01 01 01 02 07];
 			};
 
 			enet15: ethernet@f2000 {
 				fixed-link = <18 1 10000 0 0 >;
 				phy-connection-type = "xgmii";
-				local-mac-address = [02 01 01 01 02 08];
 			};
 		};
 	};
-- 
1.7.9.7

