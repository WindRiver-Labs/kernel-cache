From 32841eff79a66b0a286c891746e49234d4af3363 Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Mon, 26 Nov 2012 16:40:02 +0200
Subject: [PATCH 181/227] dpaa_eth: fix warning in adjust_link()

Fix compiler warning in function adjust_link().

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/net/ethernet/freescale/dpa/mac-api.c |    2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/net/ethernet/freescale/dpa/mac-api.c b/drivers/net/ethernet/freescale/dpa/mac-api.c
index 984ceff..bdc2107 100644
--- a/drivers/net/ethernet/freescale/dpa/mac-api.c
+++ b/drivers/net/ethernet/freescale/dpa/mac-api.c
@@ -425,7 +425,9 @@ static void adjust_link(struct net_device *net_dev)
 	struct dpa_priv_s *priv = netdev_priv(net_dev);
 	struct mac_device *mac_dev = priv->mac_dev;
 	struct phy_device *phy_dev = mac_dev->phy_dev;
+#if (DPAA_VERSION < 11)
 	struct mac_priv_s *mac_priv;
+#endif
 	int	 _errno;
 	t_Error	 err;
 
-- 
1.7.9.7

