From 693cbbdf899d69d3863a23f91b16e85910660602 Mon Sep 17 00:00:00 2001
From: Ioana Radulescu <ruxandra.radulescu@freescale.com>
Date: Tue, 10 Jul 2012 21:12:11 +0000
Subject: [PATCH 050/227] dts/fsl: Change compatible property for FMan v3 MACs

FMan v3 supports MEMAC devices, which require different handling
in the driver.

Signed-off-by: Ioana Radulescu <ruxandra.radulescu@freescale.com>
Signed-off-by: Andy Fleming <afleming@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-0.dtsi |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-1.dtsi |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-0.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-1.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-2.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-3.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-4.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-5.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-0.dtsi |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-1.dtsi |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-0.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-1.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-2.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-3.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-4.dtsi  |    2 +-
 arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-5.dtsi  |    2 +-
 16 files changed, 16 insertions(+), 16 deletions(-)

diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-0.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-0.dtsi
index 221b7f6..ee59ee4 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-0.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-0.dtsi
@@ -48,7 +48,7 @@ fman@400000 {
 
 	ethernet@f0000 {
 		cell-index = <0>;
-		compatible = "fsl,fman-10g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xf0000 0x1000>;
 		fsl,port-handles = <&fman0_10g_rx0 &fman0_10g_tx0>;
 	};
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-1.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-1.dtsi
index fcd12da..fb5f7d9 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-1.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-10g-1.dtsi
@@ -48,7 +48,7 @@ fman@400000 {
 
 	ethernet@f2000 {
 		cell-index = <1>;
-		compatible = "fsl,fman-10g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xf2000 0x1000>;
 		fsl,port-handles = <&fman0_10g_rx1 &fman0_10g_tx1>;
 	};
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-0.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-0.dtsi
index afa56e0..9051800 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-0.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-0.dtsi
@@ -47,7 +47,7 @@ fman@400000 {
 
 	ethernet@e0000 {
 		cell-index = <0>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe0000 0x1000>;
 		fsl,port-handles = <&fman0_rx0 &fman0_tx0>;
 		ptimer-handle = <&ptp_timer0>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-1.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-1.dtsi
index 4553501..8b0d411 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-1.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-1.dtsi
@@ -47,7 +47,7 @@ fman@400000 {
 
 	ethernet@e2000 {
 		cell-index = <1>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe2000 0x1000>;
 		fsl,port-handles = <&fman0_rx1 &fman0_tx1>;
 		ptimer-handle = <&ptp_timer0>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-2.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-2.dtsi
index c5fd4bf..0659794 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-2.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-2.dtsi
@@ -47,7 +47,7 @@ fman@400000 {
 
 	ethernet@e4000 {
 		cell-index = <2>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe4000 0x1000>;
 		fsl,port-handles = <&fman0_rx2 &fman0_tx2>;
 		ptimer-handle = <&ptp_timer0>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-3.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-3.dtsi
index c3fdfba..18306d6 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-3.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-3.dtsi
@@ -47,7 +47,7 @@ fman@400000 {
 
 	ethernet@e6000 {
 		cell-index = <3>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe6000 0x1000>;
 		fsl,port-handles = <&fman0_rx3 &fman0_tx3>;
 		ptimer-handle = <&ptp_timer0>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-4.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-4.dtsi
index 9c524aa..cd051ef 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-4.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-4.dtsi
@@ -47,7 +47,7 @@ fman@400000 {
 
 	ethernet@e8000 {
 		cell-index = <4>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe8000 0x1000>;
 		fsl,port-handles = <&fman0_rx4 &fman0_tx4>;
 		ptimer-handle = <&ptp_timer0>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-5.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-5.dtsi
index 1421036..b2728ca 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-5.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-0-1g-5.dtsi
@@ -47,7 +47,7 @@ fman@400000 {
 
 	ethernet@ea000 {
 		cell-index = <5>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xea000 0x1000>;
 		fsl,port-handles = <&fman0_rx5 &fman0_tx5>;
 		ptimer-handle = <&ptp_timer0>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-0.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-0.dtsi
index 76d695a..39e1348 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-0.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-0.dtsi
@@ -48,7 +48,7 @@ fman@500000 {
 
 	ethernet@f0000 {
 		cell-index = <0>;
-		compatible = "fsl,fman-10g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xf0000 0x1000>;
 		fsl,port-handles = <&fman1_10g_rx0 &fman1_10g_tx0>;
 	};
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-1.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-1.dtsi
index 240c978..92b8f96 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-1.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-10g-1.dtsi
@@ -48,7 +48,7 @@ fman@500000 {
 
 	ethernet@f2000 {
 		cell-index = <1>;
-		compatible = "fsl,fman-10g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xf2000 0x1000>;
 		fsl,port-handles = <&fman1_10g_rx1 &fman1_10g_tx1>;
 	};
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-0.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-0.dtsi
index faae331..d809af6 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-0.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-0.dtsi
@@ -47,7 +47,7 @@ fman@500000 {
 
 	ethernet@e0000 {
 		cell-index = <0>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe0000 0x1000>;
 		fsl,port-handles = <&fman1_rx0 &fman1_tx0>;
 		ptimer-handle = <&ptp_timer1>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-1.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-1.dtsi
index 19b07aa..40e2720 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-1.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-1.dtsi
@@ -47,7 +47,7 @@ fman@500000 {
 
 	ethernet@e2000 {
 		cell-index = <1>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe2000 0x1000>;
 		fsl,port-handles = <&fman1_rx1 &fman1_tx1>;
 		ptimer-handle = <&ptp_timer1>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-2.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-2.dtsi
index 9207e87..752e70c 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-2.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-2.dtsi
@@ -47,7 +47,7 @@ fman@500000 {
 
 	ethernet@e4000 {
 		cell-index = <2>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe4000 0x1000>;
 		fsl,port-handles = <&fman1_rx2 &fman1_tx2>;
 		ptimer-handle = <&ptp_timer1>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-3.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-3.dtsi
index 5e4887e..7f31ab0 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-3.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-3.dtsi
@@ -47,7 +47,7 @@ fman@500000 {
 
 	ethernet@e6000 {
 		cell-index = <3>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe6000 0x1000>;
 		fsl,port-handles = <&fman1_rx3 &fman1_tx3>;
 		ptimer-handle = <&ptp_timer1>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-4.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-4.dtsi
index 426245c..934ff65 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-4.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-4.dtsi
@@ -47,7 +47,7 @@ fman@500000 {
 
 	ethernet@e8000 {
 		cell-index = <4>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xe8000 0x1000>;
 		fsl,port-handles = <&fman1_rx4 &fman1_tx4>;
 		ptimer-handle = <&ptp_timer1>;
diff --git a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-5.dtsi b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-5.dtsi
index bf29a5f..5fc8034 100644
--- a/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-5.dtsi
+++ b/arch/powerpc/boot/dts/fsl/qoriq-fman3-1-1g-5.dtsi
@@ -47,7 +47,7 @@ fman@500000 {
 
 	ethernet@ea000 {
 		cell-index = <5>;
-		compatible = "fsl,fman-1g-mac";
+		compatible = "fsl,fman-memac";
 		reg = <0xea000 0x1000>;
 		fsl,port-handles = <&fman1_rx5 &fman1_tx5>;
 		ptimer-handle = <&ptp_timer1>;
-- 
1.7.9.7

