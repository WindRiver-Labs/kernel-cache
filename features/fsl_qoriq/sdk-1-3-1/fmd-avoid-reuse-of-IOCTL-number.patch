From f8979f8152e2f7434937a79352454aea2e7093d2 Mon Sep 17 00:00:00 2001
From: Madalin Bucur <madalin.bucur@freescale.com>
Date: Fri, 26 Oct 2012 19:31:30 +0300
Subject: [PATCH 109/227] fmd: avoid reuse of IOCTL number

Avoid reusing the IOCTL numbers.
Relying only on structure size is dangerous.

Signed-off-by: Madalin Bucur <madalin.bucur@freescale.com>
[Kevin: Original patch taken from fsl sdk 1.3.1
QorIQ-SDK-V1.3.1-SOURCE-20121220-yocto.iso.]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 include/linux/fmd/Peripherals/fm_port_ioctls.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/include/linux/fmd/Peripherals/fm_port_ioctls.h b/include/linux/fmd/Peripherals/fm_port_ioctls.h
index 41f34ba..926d26b 100644
--- a/include/linux/fmd/Peripherals/fm_port_ioctls.h
+++ b/include/linux/fmd/Peripherals/fm_port_ioctls.h
@@ -796,7 +796,7 @@ typedef struct ioc_fm_port_mac_addr_params_t {
  @Cautions      Allowed only following FM_MAC_Init(). It is a filter only address.
  @Cautions      Some address need to be filtered out in upper FM blocks.
 *//***************************************************************************/
-#define FM_PORT_IOC_ADD_RX_HASH_MAC_ADDR   _IOW(FM_IOC_TYPE_BASE, FM_PORT_IOC_NUM(34), ioc_fm_port_mac_addr_params_t)
+#define FM_PORT_IOC_ADD_RX_HASH_MAC_ADDR   _IOW(FM_IOC_TYPE_BASE, FM_PORT_IOC_NUM(36), ioc_fm_port_mac_addr_params_t)
 
 /**************************************************************************//**
  @Function      FM_MAC_RemoveHashMacAddr
@@ -809,7 +809,7 @@ typedef struct ioc_fm_port_mac_addr_params_t {
 
  @Cautions      Allowed only following FM_MAC_Init().
 *//***************************************************************************/
-#define FM_PORT_IOC_REMOVE_RX_HASH_MAC_ADDR   _IOW(FM_IOC_TYPE_BASE, FM_PORT_IOC_NUM(35), ioc_fm_port_mac_addr_params_t)
+#define FM_PORT_IOC_REMOVE_RX_HASH_MAC_ADDR   _IOW(FM_IOC_TYPE_BASE, FM_PORT_IOC_NUM(37), ioc_fm_port_mac_addr_params_t)
 
 /** @} */ /* end of lnx_ioctl_FM_PORT_pcd_runtime_control_grp group */
 /** @} */ /* end of lnx_ioctl_FM_PORT_runtime_control_grp group */
-- 
1.7.9.7

