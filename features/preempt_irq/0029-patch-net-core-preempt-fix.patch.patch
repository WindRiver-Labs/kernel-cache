From 91c8fb5e8b16725ddbaa6b3ddd68f211b801381c Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Wed, 8 Oct 2008 14:40:51 -0400
Subject: [PATCH] [PATCH] patch net-core-preempt-fix.patch

From b30af0bb1c75491aa2e7ab348590525d3a563f5e Mon Sep 17 00:00:00 2001
Subject: [PATCH] patch net-core-preempt-fix.patch
---
 net/core/dev.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/net/core/dev.c b/net/core/dev.c
index 6c19fae..3017063 100644
--- a/net/core/dev.c
+++ b/net/core/dev.c
@@ -1951,8 +1951,8 @@ int netif_rx_ni(struct sk_buff *skb)
 {
 	int err;
 
-	preempt_disable();
 	err = netif_rx(skb);
+	preempt_disable();
 	if (local_softirq_pending())
 		do_softirq();
 	preempt_enable();
-- 
1.5.5.1

