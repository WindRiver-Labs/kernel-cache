From 3b3d4ae18333152a9d8186714562a777f06dbe3c Mon Sep 17 00:00:00 2001
From: Carsten Emde <C.Emde@osadl.org>
Date: Thu, 11 Mar 2010 00:18:18 +0100
Subject: [PATCH] tracing: Define pid functions for all config combinations

commit f6e20d04816d1cbb4000ba68461e39516fdb23e2 in tip.

If CONFIG_MISSED_TIMER_OFFSETS_HIST was defined and
CONFIG_WAKEUP_LATENCY_HIST was not, the pid-related
functions remained undefined.

Fix the erroneous #ifdef around the pid-related functions.

Signed-off-by: Carsten Emde <C.Emde@osadl.org>
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 kernel/trace/latency_hist.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/kernel/trace/latency_hist.c b/kernel/trace/latency_hist.c
index ce67060..7c26615 100644
--- a/kernel/trace/latency_hist.c
+++ b/kernel/trace/latency_hist.c
@@ -401,7 +401,8 @@ latency_hist_reset(struct file *file, const char __user *a,
 	return size;
 }
 
-#ifdef CONFIG_WAKEUP_LATENCY_HIST
+#if defined(CONFIG_WAKEUP_LATENCY_HIST) || \
+    defined(CONFIG_MISSED_TIMER_OFFSETS_HIST)
 static ssize_t
 show_pid(struct file *file, char __user *ubuf, size_t cnt, loff_t *ppos)
 {
-- 
1.7.0.4

