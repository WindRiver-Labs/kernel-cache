From 39216b4304e3af424d05c05a51857b22a53dfeec Mon Sep 17 00:00:00 2001
From: "Steven Rostedt (Red Hat)" <rostedt@goodmis.org>
Date: Fri, 26 Feb 2016 10:03:48 -0500
Subject: [PATCH] rtmutex: Have slowfn of rt_mutex_timed_fastlock() use enum

The backport of commit 8930ed80f970 "rtmutex: Cleanup deadlock detector
debug logic" had conflicts, and the conflict resolution changed
rt_mutex_timed_fastlock()'s parameter to an enum, but missed changing its
slowfn's prototype.

Signed-off-by: Steven Rostedt <rostedt@goodmis.org>

diff --git a/kernel/rtmutex.c b/kernel/rtmutex.c
index 8c29e48afa3a..a809539f443c 100644
--- a/kernel/rtmutex.c
+++ b/kernel/rtmutex.c
@@ -1636,7 +1636,7 @@ rt_mutex_timed_fastlock(struct rt_mutex *lock, int state,
 			enum rtmutex_chainwalk chwalk,
 			int (*slowfn)(struct rt_mutex *lock, int state,
 				      struct hrtimer_sleeper *timeout,
-				      int detect_deadlock))
+				      enum rtmutex_chainwalk chwalk))
 {
 	if (chwalk == RT_MUTEX_MIN_CHAINWALK &&
 	    likely(rt_mutex_cmpxchg(lock, NULL, current))) {
-- 
2.1.4

