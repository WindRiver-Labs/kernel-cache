From 984d2e5a0ba9053560c3bfcba891cb420956b373 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Fri, 3 May 2013 18:39:18 -0400
Subject: [PATCH] hrtimer: fix up warning for non RT builds
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

We see:

kernel/hrtimer.c: In function ‘__hrtimer_start_range_ns’:
kernel/hrtimer.c:1072:1: warning: label ‘etime’ defined but not used [-Wunused-label]

Enclose the label with the same #ifdef that encompasses the goto
which uses the label.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

diff --git a/kernel/hrtimer.c b/kernel/hrtimer.c
index 8b0b13e..4b3d1f6 100644
--- a/kernel/hrtimer.c
+++ b/kernel/hrtimer.c
@@ -1069,7 +1069,9 @@ int __hrtimer_start_range_ns(struct hrtimer *timer, ktime_t tim,
 		}
 	}
 
+#ifdef CONFIG_PREEMPT_RT_BASE
 etime:
+#endif
 	unlock_hrtimer_base(timer, &flags);
 
 	return ret;
-- 
1.8.1.2

