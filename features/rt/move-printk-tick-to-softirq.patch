From 0dfa3e7ed99d0ccc679c1ed048c88cc18cedc59c Mon Sep 17 00:00:00 2001
From: Thomas Gleixner <tglx@linutronix.de>
Date: Fri, 3 Jul 2009 08:44:30 -0500
Subject: [PATCH] timers: mov printk_tick to soft interrupt

[ commit 0dfa3e7ed99d0ccc679c1ed048c88cc18cedc59c in linux-tip/rt31 ]

Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Signed-off-by: Ingo Molnar <mingo@elte.hu>
---
 kernel/timer.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/kernel/timer.c b/kernel/timer.c
index 4247284..099722c 100644
--- a/kernel/timer.c
+++ b/kernel/timer.c
@@ -1051,7 +1051,6 @@ void update_process_times(int user_tick)
 	run_local_timers();
 	if (rcu_pending(cpu))
 		rcu_check_callbacks(cpu, user_tick);
-	printk_tick();
 	run_posix_cpu_timers(p);
 }
 
@@ -1223,6 +1222,7 @@ static void run_timer_softirq(struct softirq_action *h)
 	struct tvec_base *base = per_cpu(tvec_bases, raw_smp_processor_id());
 
 	update_times();
+	printk_tick();
 	hrtimer_run_pending();
 
 	if (time_after_eq(jiffies, base->timer_jiffies))
