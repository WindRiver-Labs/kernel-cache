From b1a68b635b4d1cec6d70db8f638401991760ee76 Mon Sep 17 00:00:00 2001
From: Zhang Xiao <xiao.zhang@windriver.com>
Date: Thu, 17 Dec 2015 11:22:01 +0800
Subject: [PATCH] preempt-rt: ARM: disable high memory support

Too many widely used spinlocks related to kmap_atomic and
kunmap_atomic thus disable high memory support.

Signed-off-by: Zhang Xiao <xiao.zhang@windriver.com>
---
 arch/arm/Kconfig |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/Kconfig b/arch/arm/Kconfig
index 83af975..99db975 100644
--- a/arch/arm/Kconfig
+++ b/arch/arm/Kconfig
@@ -1762,7 +1762,7 @@ config HAVE_ARCH_PFN_VALID
 
 config HIGHMEM
 	bool "High Memory Support"
-	depends on MMU
+	depends on MMU && !PREEMPT_RT_FULL
 	help
 	  The address space of ARM processors is only 4 Gigabytes large
 	  and it has to accommodate user address space, kernel address
-- 
1.7.5.4

