From c9212ca7567427c2b8540793ffb0d73c0d2f0315 Mon Sep 17 00:00:00 2001
From: Ingo Molnar <mingo@elte.hu>
Date: Fri, 3 Jul 2009 08:44:19 -0500
Subject: [PATCH] sched: wake_up_idle_cpu rt fix

commit 23ebb33f115b0413ea7d0424c72bfa17fc4627bd in tip.

Signed-off-by: Ingo Molnar <mingo@elte.hu>
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 kernel/sched.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/kernel/sched.c b/kernel/sched.c
index 316c422..fc8d0ed 100644
--- a/kernel/sched.c
+++ b/kernel/sched.c
@@ -1253,7 +1253,7 @@ void wake_up_idle_cpu(int cpu)
 {
 	struct rq *rq = cpu_rq(cpu);
 
-	if (cpu == smp_processor_id())
+	if (cpu == raw_smp_processor_id())
 		return;
 
 	/*
-- 
1.7.0.4

