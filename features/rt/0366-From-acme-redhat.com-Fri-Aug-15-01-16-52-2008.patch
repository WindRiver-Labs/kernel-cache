From d72054e2aa6190c80bd2ac3a24bbd80728bbb3e4 Mon Sep 17 00:00:00 2001
From: Arnaldo Carvalho de Melo <acme@redhat.com>
Date: Tue, 30 Sep 2008 17:02:38 -0400
Subject: [PATCH] From acme@redhat.com Fri Aug 15 01:16:52 2008
 Date: Wed, 13 Aug 2008 15:42:11 -0300
 To: Steven Rostedt <rostedt@goodmis.org>
 Cc: Clark Williams <williams@redhat.com>, Luiz Cl?udio Gon?alves <lgoncalv@redhat.com>, linux-rt-users@vger.kernel.org, linux-kernel@vger.kernel.org
 Subject: [PATCH] rt: shorten posix_cpu_timers/<CPU> kernel thread names
 Shorten the softirq kernel thread names because they always overflow the
 limited comm length, appearing as "posix_cpu_timer" CPU# times.

Done on 2.6.24.7, but probably applicable to later kernels.

Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
---
 kernel/posix-cpu-timers.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/kernel/posix-cpu-timers.c b/kernel/posix-cpu-timers.c
index b2a554a..f3e7fc9 100644
--- a/kernel/posix-cpu-timers.c
+++ b/kernel/posix-cpu-timers.c
@@ -1505,7 +1505,7 @@ static int posix_cpu_thread_call(struct notifier_block *nfb, unsigned long actio
 	switch (action) {
 	case CPU_UP_PREPARE:
 		p = kthread_create(posix_cpu_timers_thread, hcpu,
-					"posix_cpu_timers/%d",cpu);
+					"posixcputmr/%d",cpu);
 		if (IS_ERR(p))
 			return NOTIFY_BAD;
 		p->flags |= PF_NOFREEZE;
-- 
1.6.0.90.g436ed

