From 0e59f957ac57248a52c52a2ac524eadf024d0420 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig?= <u.kleine-koenig@pengutronix.de>
Date: Fri, 7 Aug 2009 22:42:38 +0200
Subject: [PATCH] ARM: msm: include linux/cache.h in proc_comm.c
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

commit 68718e6f364fbf51398f33d3cf39121ae2756275 in tip.

This fixes a a build failure for 2.6.31-rc4-rt1 (ARCH=arm,
msm_defconfig):

  CC      arch/arm/mach-msm/proc_comm.o
  arch/arm/mach-msm/proc_comm.c:43: error: expected '=', ',', ';', 'asm' or '__attribute__' before '__cacheline_aligned_in_smp'
  arch/arm/mach-msm/proc_comm.c: In function 'msm_proc_comm':
  arch/arm/mach-msm/proc_comm.c:76: error: 'proc_comm_lock' undeclared (first use in this function)
  arch/arm/mach-msm/proc_comm.c:76: error: (Each undeclared identifier is reported only once
  arch/arm/mach-msm/proc_comm.c:76: error: for each function it appears in.)

Signed-off-by: Uwe Kleine-KÃ¶nig <u.kleine-koenig@pengutronix.de>
Cc: Russell King <linux@arm.linux.org.uk>
Cc: Brian Swetland <swetland@google.com>
LKML-Reference: <1249677761-19470-3-git-send-email-u.kleine-koenig@pengutronix.de>
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 arch/arm/mach-msm/proc_comm.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-msm/proc_comm.c b/arch/arm/mach-msm/proc_comm.c
index 915ee70..e825c36 100644
--- a/arch/arm/mach-msm/proc_comm.c
+++ b/arch/arm/mach-msm/proc_comm.c
@@ -14,6 +14,7 @@
  *
  */
 
+#include <linux/cache.h>
 #include <linux/delay.h>
 #include <linux/errno.h>
 #include <linux/io.h>
-- 
1.7.0.4

