From 6f82abecd814a7ad5da4bd4396a5849c4b3d1920 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Sun, 20 Mar 2011 18:23:27 -0400
Subject: [PATCH] rt: MIPS: Un-thread i8259A cascade interrupt

Originally tip commit 6d848200e90f273a had this change, along
with a whole bunch of raw_lock conversions.

Upstream mainline then integrated 896508705561 which had all
the raw_lock conversions, but not this change.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

diff --git a/arch/mips/kernel/i8259.c b/arch/mips/kernel/i8259.c
index 2779911..811564c 100644
--- a/arch/mips/kernel/i8259.c
+++ b/arch/mips/kernel/i8259.c
@@ -306,6 +306,7 @@ static void init_8259A(int auto_eoi)
  */
 static struct irqaction irq2 = {
 	.handler = no_action,
+	.flags = IRQF_NODELAY,
 	.name = "cascade",
 };
 
-- 
1.7.1.1

