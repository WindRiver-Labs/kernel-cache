From 46da5eb02337874bafe7c5931205bef60f772c07 Mon Sep 17 00:00:00 2001
From: John Jacques <john.jacques@lsi.com>
Date: Mon, 1 Apr 2013 17:35:17 -0500
Subject: [PATCH 016/159] arm/boot: add earlyprintk in the bootargs

git.yoctoproject.org/git/linux-yocto-3.10
commit ef0d1b6b1f28c88cd940e9b2d650ada2e3535b3c standard/axxia/base.

Added earlyprintk to the Linux commandline.

Signed-off-by: Paul Butler <paul.butler@windriver.com>
---
 arch/arm/boot/emuboot/emuboot.S |    9 +--------
 1 files changed, 1 insertions(+), 8 deletions(-)

diff --git a/arch/arm/boot/emuboot/emuboot.S b/arch/arm/boot/emuboot/emuboot.S
index 075cf40..a39945a 100644
--- a/arch/arm/boot/emuboot/emuboot.S
+++ b/arch/arm/boot/emuboot/emuboot.S
@@ -39,13 +39,6 @@ fiq_exception:
 	.globl	_start
 _start:
 	@
-	@ Allow the debugger to gain control...
-	@
-1:	ldr	r0, =0
-	cmp	r0, #0
-	beq	1b
-
-	@
 	@ Program architected timer frequency
 	@
 	mrc	p15, 0, r0, c0, c1, 1		@ CPUID_EXT_PFR1
@@ -125,7 +118,7 @@ atags:
 	@ ATAG_CMDLINE
 	.long	(1f - .) >> 2
 	.long	0x54410009
-	.asciz	"root=/dev/mmcblk0 rootwait ip=none mem=1024M console=ttyAMA0"
+	.asciz	"root=/dev/mmcblk0 rootwait ip=none mem=1024M console=ttyAMA0 earlyprintk"
 
 	.align	2
 1:
-- 
1.7.5.4

