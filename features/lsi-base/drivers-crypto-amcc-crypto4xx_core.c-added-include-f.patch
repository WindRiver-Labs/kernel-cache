From 2e7dd9e8b3d116451eadbf4922d50894d9c466aa Mon Sep 17 00:00:00 2001
From: Paul Butler <paul.butler@windriver.com>
Date: Tue, 7 May 2013 14:11:14 -0500
Subject: [PATCH 047/159] drivers/crypto/amcc/crypto4xx_core.c: added include
 for linux/module.h

git.yoctoproject.org/git/linux-yocto-3.10
commit b267f4df77b827ec42d5449f567a6f4cc0dea99a standard/axxia/base.

THIS_MODULE is left undefined and this fails to compile.
Needs to include linux/module.h

Signed-off-by: Paul Butler <paul.butler@windriver.com>
---
 drivers/crypto/amcc/crypto4xx_core.c |   31 ++++++++++++++++---------------
 1 files changed, 16 insertions(+), 15 deletions(-)

diff --git a/drivers/crypto/amcc/crypto4xx_core.c b/drivers/crypto/amcc/crypto4xx_core.c
index f88e3d8..6805b60 100644
--- a/drivers/crypto/amcc/crypto4xx_core.c
+++ b/drivers/crypto/amcc/crypto4xx_core.c
@@ -19,6 +19,7 @@
  */
 
 #include <linux/kernel.h>
+#include <linux/module.h>
 #include <linux/interrupt.h>
 #include <linux/spinlock_types.h>
 #include <linux/random.h>
@@ -530,7 +531,7 @@ static u32 crypto4xx_fill_one_page(struct crypto4xx_device *dev,
 			(*idx)++;
 
 		return 0;
-    }
+	}
 }
 
 static void crypto4xx_copy_pkt_to_dst(struct crypto4xx_device *dev,
@@ -1127,27 +1128,27 @@ static irqreturn_t crypto4xx_ce_interrupt_handler(int irq, void *data)
 struct crypto4xx_alg_common crypto4xx_alg[] = {
 	/* Crypto AES modes */
 	{ .type = CRYPTO_ALG_TYPE_ABLKCIPHER, .u.cipher = {
-		.cra_name 	= "cbc(aes)",
+		.cra_name	= "cbc(aes)",
 		.cra_driver_name = "cbc-aes-ppc4xx",
-		.cra_priority 	= CRYPTO4XX_CRYPTO_PRIORITY,
-		.cra_flags 	= CRYPTO_ALG_TYPE_ABLKCIPHER | CRYPTO_ALG_ASYNC,
-		.cra_blocksize 	= AES_BLOCK_SIZE,
-		.cra_ctxsize 	= sizeof(struct crypto4xx_ctx),
-		.cra_type 	= &crypto_ablkcipher_type,
+		.cra_priority	= CRYPTO4XX_CRYPTO_PRIORITY,
+		.cra_flags	= CRYPTO_ALG_TYPE_ABLKCIPHER | CRYPTO_ALG_ASYNC,
+		.cra_blocksize	= AES_BLOCK_SIZE,
+		.cra_ctxsize	= sizeof(struct crypto4xx_ctx),
+		.cra_type	= &crypto_ablkcipher_type,
 		.cra_init	= crypto4xx_alg_init,
 		.cra_exit	= crypto4xx_alg_exit,
-		.cra_module 	= THIS_MODULE,
-		.cra_u 		= {
+		.cra_module	= THIS_MODULE,
+		.cra_u		= {
 			.ablkcipher = {
-				.min_keysize 	= AES_MIN_KEY_SIZE,
-				.max_keysize 	= AES_MAX_KEY_SIZE,
+				.min_keysize	= AES_MIN_KEY_SIZE,
+				.max_keysize	= AES_MAX_KEY_SIZE,
 				.ivsize		= AES_IV_SIZE,
-				.setkey 	= crypto4xx_setkey_aes_cbc,
-				.encrypt 	= crypto4xx_encrypt,
-				.decrypt 	= crypto4xx_decrypt,
+				.setkey		= crypto4xx_setkey_aes_cbc,
+				.encrypt	= crypto4xx_encrypt,
+				.decrypt	= crypto4xx_decrypt,
 			}
 		}
-	}},
+	} },
 };
 
 /**
-- 
1.7.5.4

