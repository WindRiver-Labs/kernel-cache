From 9032bbce59a538dcff4b44b326858bb159ae93e9 Mon Sep 17 00:00:00 2001
From: Jiang Lu <lu.jiang@windriver.com>
Date: Fri, 17 Jan 2014 10:57:29 +0800
Subject: [PATCH 01/73] ACP34xx:Drop the codes to check the 'enabled' property
 in DTB for PCI driver

We have already changed to check the 'status' property instead of
'enabled' in the DTB for the PCI driver. But forgot to drop the
corresponding codes about the checking of 'enabled'. Just remove them.

Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 arch/powerpc/sysdev/lsi_pci.c |   10 ----------
 1 files changed, 0 insertions(+), 10 deletions(-)

diff --git a/arch/powerpc/sysdev/lsi_pci.c b/arch/powerpc/sysdev/lsi_pci.c
index c450738..ca57cfc 100644
--- a/arch/powerpc/sysdev/lsi_pci.c
+++ b/arch/powerpc/sysdev/lsi_pci.c
@@ -1167,16 +1167,6 @@ static void __init probe_acp_pciex_bridge(struct device_node *np)
 		return;
 	}
 
-	/* Make sure PCIe is enabled in the device tree. */
-	field = of_get_property(np, "enabled", NULL);
-
-	if (!field || (field && (0 == *field))) {
-		printk(KERN_INFO "%s: Port disabled via device-tree\n",
-		       np->full_name);
-		return;
-	}
-
-
 	port->acpChipType = 0x2;
 	printk(KERN_INFO "Using PEI register set for ACP chipType %d\n",
 	port->acpChipType);
-- 
1.7.5.4

