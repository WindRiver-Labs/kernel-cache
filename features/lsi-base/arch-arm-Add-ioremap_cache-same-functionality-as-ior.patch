From c936253905bcc93e0b2f4017e16c83306b62c0e3 Mon Sep 17 00:00:00 2001
From: Li Wang <li.wang@windriver.com>
Date: Tue, 25 Aug 2015 14:18:48 +0800
Subject: [PATCH 12/68] arch/arm: Add ioremap_cache() (same functionality as
 ioremap_cached())

the patch comes from:
git://git.yoctoproject.org/linux-yocto-3.10
commit d5c06e24e650c3ad1a8260ed56dbfd58631f78b2 upstream

Both are used by some drivers.

Signed-off-by: John Jacques <john.jacques@lsi.com>
Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
Signed-off-by: Li Wang <li.wang@windriver.com>
---
 arch/arm/include/asm/io.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/arm/include/asm/io.h b/arch/arm/include/asm/io.h
index 56d821b..485e7a5 100644
--- a/arch/arm/include/asm/io.h
+++ b/arch/arm/include/asm/io.h
@@ -335,6 +335,8 @@ extern void _memset_io(volatile void __iomem *, int, size_t);
 	__arch_ioremap((cookie), (size), MT_DEVICE)
 #define ioremap_nocache(cookie, size) \
 	__arch_ioremap((cookie), (size), MT_DEVICE)
+#define ioremap_cache(cookie, size) \
+	__arch_ioremap((cookie), (size), MT_DEVICE_CACHED)
 #define ioremap_cached(cookie, size) \
 	__arch_ioremap((cookie), (size), MT_DEVICE_CACHED)
 #define ioremap_wc(cookie, size) \
-- 
1.7.5.4

