From 3897d1a102168e26e9ee1c888d4959995e3ce82c Mon Sep 17 00:00:00 2001
From: Charlie Paul <cpaul.windriver@gmail.com>
Date: Tue, 30 Jun 2015 14:37:10 -0700
Subject: [PATCH 69/82] drivers/net/ethernet: Wrapper Cleanup

commit 3897d1a102168e26e9ee1c888d4959995e3ce82c from
git://git.yoctoproject.org/linux-yocto-3.14

Some of the Linux function calls got changed in later versions of Linux
to require the caller to be GPLd.  We are in the process of GPLing all
our driver code, but were not yet finished doing so. The wrappers were
a temporary work around until the RTE (the external module we provide
to customers that controls the rest of the hardware) is GPLd.

Cherry-picked from standard/lsi/base: e0785935fcf315b2e126facc95f3e71be3f36392
only the lsi_acp_wrappers.c change.

Signed-off-by: John Jacques <john.jacques@lsi.com>
---
 arch/powerpc/sysdev/lsi_acp_wrappers.c | 87 ----------------------------------
 1 file changed, 87 deletions(-)

diff --git a/arch/powerpc/sysdev/lsi_acp_wrappers.c b/arch/powerpc/sysdev/lsi_acp_wrappers.c
index cb49067..f944741 100644
--- a/arch/powerpc/sysdev/lsi_acp_wrappers.c
+++ b/arch/powerpc/sysdev/lsi_acp_wrappers.c
@@ -19,8 +19,6 @@
  */
 
 #include <linux/module.h>
-#include <linux/spinlock.h>
-#include <linux/sched.h>
 #include <linux/of.h>
 #include <linux/io.h>
 #include <asm/irq.h>
@@ -218,91 +216,6 @@ unsigned int acp_irq_create_mapping(struct irq_domain *host,
 EXPORT_SYMBOL(acp_irq_create_mapping);
 
 /*
-  ============================================================================
-  ============================================================================
-  Spin Locks
-  ============================================================================
-  ============================================================================
-*/
-
-/*
- * -------------------------------------------------------------------------
- * acp_spin_lock_init
- */
-
-void acp_spin_lock_init(spinlock_t *lock)
-{
-	spin_lock_init(lock);
-}
-EXPORT_SYMBOL(acp_spin_lock_init);
-
-/*
- * -------------------------------------------------------------------------
- * acp_spin_lock
- */
-
-void acp_spin_lock(spinlock_t *lock)
-{
-	spin_lock(lock);
-}
-EXPORT_SYMBOL(acp_spin_lock);
-
-/*
- * -------------------------------------------------------------------------
- * acp_spin_unlock
- */
-
-void acp_spin_unlock(spinlock_t *lock)
-{
-	spin_unlock(lock);
-}
-EXPORT_SYMBOL(acp_spin_unlock);
-
-/*
- * -------------------------------------------------------------------------
- * acp_spin_lock_bh
- */
-
-void acp_spin_lock_bh(spinlock_t *lock)
-{
-	spin_lock_bh(lock);
-}
-EXPORT_SYMBOL(acp_spin_lock_bh);
-
-/*
- * -------------------------------------------------------------------------
- * acp_spin_unlock_bh
- */
-
-void acp_spin_unlock_bh(spinlock_t *lock)
-{
-	spin_unlock_bh(lock);
-}
-EXPORT_SYMBOL(acp_spin_unlock_bh);
-
-/*
- * -------------------------------------------------------------------------
- * acp_spin_lock_irqsave
- */
-
-void acp_spin_lock_irqsave(spinlock_t *lock, unsigned long flags)
-{
-	spin_lock_irqsave(lock, flags);
-}
-EXPORT_SYMBOL(acp_spin_lock_irqsave);
-
-/*
- * -------------------------------------------------------------------------
- * acp_spin_unlock_irqrestore
- */
-
-void acp_spin_unlock_irqrestore(spinlock_t *lock, unsigned long flags)
-{
-	spin_unlock_irqrestore(lock, flags);
-}
-EXPORT_SYMBOL(acp_spin_unlock_irqrestore);
-
-/*
  * -------------------------------------------------------------------------
  * acp_wrappers_init
  */
-- 
1.9.1

