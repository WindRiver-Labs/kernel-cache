From 4ed1713ac6150f52babd70870b54178fe73819f2 Mon Sep 17 00:00:00 2001
From: Quanyang Wang <quanyang.wang@windriver.com>
Date: Wed, 29 Jul 2015 07:21:25 +0000
Subject: [PATCH] lsi-acp34xx: spi: fix compile error

this is to fix compiler error:
drivers/spi/spi-acp.c: In function 'register_spi_device':
drivers/spi/spi-acp.c:2374:3: error: implicit declaration of function 'irq_of_parse_and_map' [-Werror=implicit-function-declaration]
   spi->irq = irq_of_parse_and_map(nc, 0);
   ^
drivers/spi/spi-acp.c: In function 'pl022_of_probe':
drivers/spi/spi-acp.c:2439:2: error: implicit declaration of function 'of_address_to_resource' [-Werror=implicit-function-declaration]
  ret = of_address_to_resource(of_node, 0, &r_mem);
  ^
drivers/spi/spi-acp.c:2445:2: error: implicit declaration of function 'of_irq_to_resource' [-Werror=implicit-function-declaration]
  irq = of_irq_to_resource(of_node, 0, NULL);

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/spi/spi-acp.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/spi/spi-acp.c b/drivers/spi/spi-acp.c
index 4c9c0a6..3dc0973 100644
--- a/drivers/spi/spi-acp.c
+++ b/drivers/spi/spi-acp.c
@@ -31,6 +31,8 @@
 #include <linux/clk.h>
 #include <linux/err.h>
 #include <linux/of_platform.h>
+#include <linux/of_address.h>
+#include <linux/of_irq.h>
 #include <linux/of.h>
 #include <linux/spi/eeprom.h>
 #include <linux/amba/pl022.h>
-- 
1.9.1

