From 3b18af94c044d229aa5e7c8bf2c6dc453afccfc5 Mon Sep 17 00:00:00 2001
From: Michael Bringmann <michael.bringmann@lsi.com>
Date: Thu, 4 Apr 2013 19:47:39 -0500
Subject: [PATCH 019/175] mach-axxia/i2c: fix i2c platform data structure

git.yoctoproject.org/git/linux-yocto-3.10
commit cf86d60c98ce80a2c6a4eeebfec31c6b09f1d5ab standard/axxia/base.

Pass more data extracted from DTB block to configure an I2C bus,
instead of using hard-coded addresses in code.

Signed-off-by: Michael Bringmann <michael.bringmann@lsi.com>
---
 include/linux/i2c-axxia.h |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

diff --git a/include/linux/i2c-axxia.h b/include/linux/i2c-axxia.h
index 5f1ae4a..435cd33 100644
--- a/include/linux/i2c-axxia.h
+++ b/include/linux/i2c-axxia.h
@@ -16,10 +16,24 @@
 #define AXXIA_I2C_IP_VERSION_2 2                /* AXM55xx */
 
 /* struct axxia_i2c_bus_platform_data .flags meanings */
+#define AXXIA_I2C_FLAGS_NONE            (0x00000000)
+
+
+/*
+ * Maximum byte size of I2C bus name string including null terminator
+ */
+#define MAX_AXXIA_I2C_HWMOD_NAME_LEN    16
+
 
 struct axxia_i2c_bus_platform_data {
-	u32		rev;
-	u32		flags;
+	struct device_node     *node;
+	char                    name[MAX_AXXIA_I2C_HWMOD_NAME_LEN];
+	u32		        index;
+	u32		        rev;
+	u32		        flags;
+	u32		        bus_nr;
+	struct resource         dev_space;
+	struct resource         int_space;
 };
 
 #endif
-- 
1.7.1

