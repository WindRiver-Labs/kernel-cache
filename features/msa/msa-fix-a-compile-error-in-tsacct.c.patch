From 95f15fc49407e87ff7612595bd274485514a2d1b Mon Sep 17 00:00:00 2001
From: Corey Minyard <cminyard@mvista.com>
Date: Wed, 22 Aug 2012 09:44:51 -0500
Subject: [PATCH 06/18] msa: fix a compile error in tsacct.c

From the upstream project:
git://microstate.git.sourceforge.net/gitroot/microstate/linux-msa

Added cputime_to_usec() that was missing from msa_cputime.h

Signed-off-by: Corey Minyard <cminyard@mvista.com>
---
 include/asm-generic/cputime_msa.h |    5 +++++
 1 file changed, 5 insertions(+)

diff --git a/include/asm-generic/cputime_msa.h b/include/asm-generic/cputime_msa.h
index 983fbb8..5c952a7 100644
--- a/include/asm-generic/cputime_msa.h
+++ b/include/asm-generic/cputime_msa.h
@@ -40,6 +40,11 @@ typedef u64 cputime64_t;
 #define usecs_to_cputime64(__ct)	\
 	jiffies64_to_cputime64(nsecs_to_jiffies64((__ct)*1000))
 
+/*
+ * Convert cputime to microseconds
+ */
+#define cputime_to_usecs(__ct)		\
+	((unsigned int) cputime_div(__ct, NSEC_PER_USEC))
 
 /*
  * Convert cputime to milliseconds and back.
-- 
1.7.9.7

