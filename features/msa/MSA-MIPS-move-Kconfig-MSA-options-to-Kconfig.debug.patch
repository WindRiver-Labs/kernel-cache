From 185dcf21ceb3001d8f03b3a2b3b683a8096e9d08 Mon Sep 17 00:00:00 2001
From: Philby John <pjohn@mvista.com>
Date: Fri, 20 Aug 2010 15:42:19 +0530
Subject: [PATCH 11/18] MSA: MIPS, move Kconfig MSA options to Kconfig.debug

From the upstream project:
git://microstate.git.sourceforge.net/gitroot/microstate/linux-msa

Source: MontaVista Software, LLC
MR: 37518
Type: Defect Fix
Disposition: Local
ChangeID: 760a0d4a242645bed09bb7d77f1891f72ba735d8
Description:
At present, MSA options for Octeon are seen in "Kernel type".
Move Kconfig MSA options to its proper place
in Kconfig.debug under "Kernel hacking".

Signed-off-by: Philby John <pjohn@mvista.com>
Signed-off-by: Srikanth Krishnakar <skrishna@mvista.com>
---
 arch/mips/Kconfig       |   23 -----------------------
 arch/mips/Kconfig.debug |   23 +++++++++++++++++++++++
 2 files changed, 23 insertions(+), 23 deletions(-)

diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index b55f9f3..ce30e2f 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -2331,29 +2331,6 @@ config USE_OF
 	help
 	  Include support for flattened device tree machine descriptions.
 
-config MICROSTATE_ACCT
-	bool "Microstate accounting"
-	depends on MIPS_MT_DISABLED
-	help
-	  This option causes the kernel to keep very accurate track of
-	  how long your threads spend on the runqueues, running, or asleep or
-	  stopped.  It will slow down your kernel.
-	  Times are reported in /proc/pid/msa and through a new msa()
-	  system call.
-
-choice
-	depends on MICROSTATE_ACCT
-	prompt "Microstate timing source"
-	default MICROSTATE_C0_COUNT_REGISTER
-
-config MICROSTATE_C0_COUNT_REGISTER
-	bool "Use 32-bit c0 cout register"
-	depends on HIGH_RES_TIMERS
-	help
-	  Use MIPS c0 count register for MSA timekeeping.
-
-endchoice
-
 endmenu
 
 config LOCKDEP_SUPPORT
diff --git a/arch/mips/Kconfig.debug b/arch/mips/Kconfig.debug
index 83ed00a..de7dfe0 100644
--- a/arch/mips/Kconfig.debug
+++ b/arch/mips/Kconfig.debug
@@ -128,4 +128,27 @@ config SPINLOCK_TEST
 	help
 	  Add several files to the debugfs to test spinlock speed.
 
+config MICROSTATE_ACCT
+	bool "Microstate accounting"
+	depends on MIPS_MT_DISABLED
+	help
+	  This option causes the kernel to keep very accurate track of
+	  how long your threads spend on the runqueues, running, or asleep or
+	  stopped.  It will slow down your kernel.
+	  Times are reported in /proc/pid/msa and through a new msa()
+	  system call.
+
+choice
+	depends on MICROSTATE_ACCT
+	prompt "Microstate timing source"
+	default MICROSTATE_C0_COUNT_REGISTER
+
+config MICROSTATE_C0_COUNT_REGISTER
+	bool "Use 32-bit c0 cout register"
+	depends on HIGH_RES_TIMERS
+	help
+	  Use MIPS c0 count register for MSA timekeeping.
+
+endchoice
+
 endmenu
-- 
1.7.9.7

