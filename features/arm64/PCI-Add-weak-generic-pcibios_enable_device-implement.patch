From 1912fbfb2489cdc89611069d397d4f614bd28388 Mon Sep 17 00:00:00 2001
From: Bjorn Helgaas <bhelgaas@google.com>
Date: Wed, 26 Feb 2014 11:26:00 -0700
Subject: [PATCH 395/430] PCI: Add "weak" generic pcibios_enable_device()
 implementation

Many architectures implement pcibios_enable_device() the same way, so
provide a default implementation in the core.

Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
(cherry picked from commit 8a9d56097c142d0716234eb1cf7c8150c6dc1588)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/pci/pci.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

diff --git a/drivers/pci/pci.c b/drivers/pci/pci.c
index dae70d2..be3a1b1 100644
--- a/drivers/pci/pci.c
+++ b/drivers/pci/pci.c
@@ -1172,6 +1172,11 @@ int pci_load_and_free_saved_state(struct pci_dev *dev,
 }
 EXPORT_SYMBOL_GPL(pci_load_and_free_saved_state);
 
+int __weak pcibios_enable_device(struct pci_dev *dev, int bars)
+{
+	return pci_enable_resources(dev, bars);
+}
+
 static int do_pci_enable_device(struct pci_dev *dev, int bars)
 {
 	int err;
-- 
1.7.5.4

