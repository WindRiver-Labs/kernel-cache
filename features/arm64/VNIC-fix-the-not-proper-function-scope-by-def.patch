From 2a4bbcff0aaf33993954e60f697ee3a2cf87a93c Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Fri, 17 Oct 2014 14:07:56 +0800
Subject: [PATCH 430/430] VNIC: fix the not proper function scope by #def

Adjust #ifdef to avoid the following compiling warnings:

drivers/net/ethernet/cavium/thunder/nicvf_queues.c:758:13: warning: 'nicvf_fill_l3_crc_subdesc' defined but not used [-Wunused-function]
 static void nicvf_fill_l3_crc_subdesc(struct sq_crc_subdesc *l3,
             ^
drivers/net/ethernet/cavium/thunder/nicvf_queues.c:774:13: warning: 'nicvf_fill_l4_crc_subdesc' defined but not used [-Wunused-function]
 static void nicvf_fill_l4_crc_subdesc(struct sq_crc_subdesc *l4,

drivers/net/ethernet/cavium/thunder/nicvf_queues.c:788:13: warning: 'nicvf_sq_add_crc_subdesc' defined but not used [-Wunused-function]
 static void nicvf_sq_add_crc_subdesc(struct nicvf *nic, struct queue_set *qs,
             ^
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/cavium/thunder/nicvf_queues.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/net/ethernet/cavium/thunder/nicvf_queues.c b/drivers/net/ethernet/cavium/thunder/nicvf_queues.c
index 6131f76..ad0d80c 100644
--- a/drivers/net/ethernet/cavium/thunder/nicvf_queues.c
+++ b/drivers/net/ethernet/cavium/thunder/nicvf_queues.c
@@ -755,6 +755,7 @@ static void nicvf_sq_add_gather_subdesc(struct nicvf *nic, struct queue_set *qs,
 	}
 }
 
+#ifdef VNIC_TX_CSUM_OFFLOAD_SUPPORT
 static void nicvf_fill_l3_crc_subdesc(struct sq_crc_subdesc *l3,
 					struct sk_buff *skb)
 {
@@ -813,6 +814,7 @@ static void nicvf_sq_add_crc_subdesc(struct nicvf *nic, struct queue_set *qs,
 		nicvf_fill_l4_crc_subdesc(crc, skb);
 	}
 }
+#endif
 
 /* Append an skb to a SQ for packet transfer. */
 int nicvf_sq_append_skb(struct nicvf *nic, struct sk_buff *skb)
-- 
1.7.5.4

