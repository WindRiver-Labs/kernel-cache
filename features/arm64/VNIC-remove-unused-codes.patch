From 661b49cb551e1444248f5b3cb54b310603f7b126 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Fri, 17 Oct 2014 14:05:53 +0800
Subject: [PATCH 429/430] VNIC: remove unused codes

Remove these unused codes to avoid the following warnings:

drivers/net/ethernet/cavium/thunder/thunder_bgx.c:68:13: warning: 'bgx_flush_dmac_addrs' defined but not used [-Wunused-function]
 static void bgx_flush_dmac_addrs(struct bgx *bgx, uint64_t lmac)
             ^
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/cavium/thunder/thunder_bgx.c |   22 ---------------------
 1 files changed, 0 insertions(+), 22 deletions(-)

diff --git a/drivers/net/ethernet/cavium/thunder/thunder_bgx.c b/drivers/net/ethernet/cavium/thunder/thunder_bgx.c
index a090d50..dfa285b 100644
--- a/drivers/net/ethernet/cavium/thunder/thunder_bgx.c
+++ b/drivers/net/ethernet/cavium/thunder/thunder_bgx.c
@@ -48,15 +48,6 @@ MODULE_LICENSE("GPL");
 MODULE_VERSION(DRV_VERSION);
 MODULE_DEVICE_TABLE(pci, bgx_id_table);
 
-/* Register read/write APIs */
-#if 0
-static uint64_t bgx_reg_read(struct bgx *bgx, uint8_t lmac, uint64_t offset)
-{
-	uint64_t addr = bgx->reg_base + (lmac << 20) + offset;
-
-	return readq_relaxed((void *)addr);
-}
-#endif
 static void bgx_reg_write(struct bgx *bgx, uint8_t lmac,
 			uint64_t offset, uint64_t val)
 {
@@ -65,19 +56,6 @@ static void bgx_reg_write(struct bgx *bgx, uint8_t lmac,
 	writeq_relaxed(val, (void *)addr);
 }
 
-static void bgx_flush_dmac_addrs(struct bgx *bgx, uint64_t lmac)
-{
-	uint64_t dmac = 0x00;
-	uint64_t offset, addr;
-
-	while (bgx->lmac[lmac].dmac > 0) {
-		offset = ((bgx->lmac[lmac].dmac - 1) * sizeof(dmac)) +
-					(lmac * MAX_DMAC_PER_LMAC * sizeof(dmac));
-		addr = bgx->reg_base + BGX_CMR_RX_DMACX_CAM + offset;
-		writeq_relaxed(dmac, (void *)addr);
-		bgx->lmac[lmac].dmac--;
-	}
-}
 void bgx_add_dmac_addr(uint64_t dmac, uint64_t lmac)
 {
 	int bgx_index;
-- 
1.7.5.4

