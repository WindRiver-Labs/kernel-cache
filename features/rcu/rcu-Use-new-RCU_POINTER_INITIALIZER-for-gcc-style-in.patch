From 3b2289cdf08bd71334e41a8a525dc92ecc5acfa7 Mon Sep 17 00:00:00 2001
From: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
Date: Wed, 16 May 2012 15:33:15 -0700
Subject: [PATCH] rcu: Use new RCU_POINTER_INITIALIZER for gcc-style
 initializations

commit d36cc701b28983ea2c8d80afe68aae5452aea3bf upstream

This commit applies the INIT_RCU_POINTER() macro to all uses of
RCU_POINTER_INITIALIZER() that were all too cleverly creating gcc-style
initializations.

Signed-off-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com>
Acked-by: David Howells <dhowells@redhat.com>
Signed-off-by: Yang Shi <yang.shi@windriver.com>

diff --git a/include/linux/init_task.h b/include/linux/init_task.h
index 07d1b36a..366ec8b 100644
--- a/include/linux/init_task.h
+++ b/include/linux/init_task.h
@@ -184,8 +184,8 @@ extern struct task_group root_task_group;
 	.children	= LIST_HEAD_INIT(tsk.children),			\
 	.sibling	= LIST_HEAD_INIT(tsk.sibling),			\
 	.group_leader	= &tsk,						\
-	RCU_INIT_POINTER(.real_cred, &init_cred),			\
-	RCU_INIT_POINTER(.cred, &init_cred),				\
+	RCU_POINTER_INITIALIZER(real_cred, &init_cred),			\
+	RCU_POINTER_INITIALIZER(cred, &init_cred),			\
 	.comm		= INIT_TASK_COMM,				\
 	.thread		= INIT_THREAD,					\
 	.fs		= &init_fs,					\
-- 
1.7.5.4

