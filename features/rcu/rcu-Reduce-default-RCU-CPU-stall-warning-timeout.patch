From 1cff55908d6b6cd7d4da3b053289e7f21dfd153c Mon Sep 17 00:00:00 2001
From: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
Date: Thu, 25 Oct 2012 17:59:23 -0700
Subject: [PATCH] rcu: Reduce default RCU CPU stall warning timeout

commit c896054f75f9a720ecf2ab3e688f4da79a55fe05 upstream.

The RCU CPU stall warning timeout has defaulted to 60 seconds for
some years, with almost no false positives.  This commit therefore
reduces the default to 21 seconds, slightly shorter than the new
soft-lockup timeout.

Signed-off-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com>
Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
Signed-off-by: Yang Shi <yang.shi@windriver.com>

diff --git a/lib/Kconfig.debug b/lib/Kconfig.debug
index 6cf62f1..3b78cf4 100644
--- a/lib/Kconfig.debug
+++ b/lib/Kconfig.debug
@@ -949,7 +949,7 @@ config RCU_CPU_STALL_TIMEOUT
 	int "RCU CPU stall timeout in seconds"
 	depends on TREE_RCU || TREE_PREEMPT_RCU
 	range 3 300
-	default 60
+	default 21
 	help
 	  If a given RCU grace period extends more than the specified
 	  number of seconds, a CPU stall warning is printed.  If the
-- 
1.7.5.4

