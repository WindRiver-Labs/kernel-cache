From 91c6c9fc4310bff6ffb916d5d2b3c1e3df0ac251 Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Fri, 11 Apr 2014 03:24:03 -0700
Subject: [PATCH 0957/1532] xlp2xx: Fix BRCM PHY detection.

  Increased the divisor value for MDIO(nae).
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/src/netsoc_nae.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
index 5eb1e29..0094c74 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
@@ -91,7 +91,7 @@ static uint32_t nae_get_EXT_G_MDIO_DIV(void)
 	return (
 	       is_nlm_xlp3xx_ax() ||
 	       is_nlm_xlp8xx_ax() ||
-	       is_nlm_xlp8xx_b0() || IS_NLM_XLP9XX_FAMILY) ?  EXT_G_MDIO_DIV : EXT_G_MDIO_DIV_WITH_HW_DIV64_11;
+	       is_nlm_xlp8xx_b0() || is_nlm_xlp2xx() || IS_NLM_XLP9XX_FAMILY) ?  EXT_G_MDIO_DIV : EXT_G_MDIO_DIV_WITH_HW_DIV64_11;
 }
 
 /* INT_MDIO_CTRL, block7, 0x799
-- 
1.9.1

