From f3841e8b3d92af78b76dfc7b0fa37523f52240ff Mon Sep 17 00:00:00 2001
From: Saswat Dash <saswat.dash@broadcom.com>
Date: Thu, 21 Nov 2013 14:24:13 +0530
Subject: [PATCH 0449/1532] cpumask: Added netlogic,cpumask to helinux dts
 files

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp2xx-helinux.dts | 1 +
 arch/mips/boot/dts/xlp3xx-helinux.dts | 1 +
 arch/mips/boot/dts/xlp4xx-helinux.dts | 1 +
 arch/mips/boot/dts/xlp8xx-helinux.dts | 1 +
 arch/mips/boot/dts/xlp9xx-helinux.dts | 4 ++--
 5 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/arch/mips/boot/dts/xlp2xx-helinux.dts b/arch/mips/boot/dts/xlp2xx-helinux.dts
index 84f1abc..0510b12 100644
--- a/arch/mips/boot/dts/xlp2xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp2xx-helinux.dts
@@ -131,6 +131,7 @@
 
 	chosen {
 		bootargs = " console=ttyS0,115200";
+		netlogic,cpumask = <0xff>;
 		/* linux,initrd-start=<0x00c00000>;
 		   linux,initrd-end=<0x02c00000>; */
 	};
diff --git a/arch/mips/boot/dts/xlp3xx-helinux.dts b/arch/mips/boot/dts/xlp3xx-helinux.dts
index 618c251..d438129 100644
--- a/arch/mips/boot/dts/xlp3xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp3xx-helinux.dts
@@ -137,6 +137,7 @@
 
 	chosen {
 		bootargs = " console=ttyS0,115200 ";
+		netlogic,cpumask = <0xffff>;
 		/* linux,initrd-start=<0x00c00000>;
 		   linux,initrd-end=<0x02c00000>; */
 	};
diff --git a/arch/mips/boot/dts/xlp4xx-helinux.dts b/arch/mips/boot/dts/xlp4xx-helinux.dts
index 0a1e30f..bb1c210 100644
--- a/arch/mips/boot/dts/xlp4xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp4xx-helinux.dts
@@ -184,6 +184,7 @@
 
 	chosen {
 		bootargs = " console=ttyS0,115200  ";
+		netlogic,cpumask = <0xffff>;
 	};
 
 	/* These binaries are downloaded at the resp physical memory locations
diff --git a/arch/mips/boot/dts/xlp8xx-helinux.dts b/arch/mips/boot/dts/xlp8xx-helinux.dts
index 2591cd1..f2f3805 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux.dts
@@ -239,6 +239,7 @@
 
 	chosen {
 		bootargs = " console=ttyS0,115200  ";
+		netlogic,cpumask = <0xffffffff>;
 		/* linux,initrd-start=<0x00c00000>;
 		   linux,initrd-end=<0x02c00000>; */
 	};
diff --git a/arch/mips/boot/dts/xlp9xx-helinux.dts b/arch/mips/boot/dts/xlp9xx-helinux.dts
index ce3efad..6a54de4 100644
--- a/arch/mips/boot/dts/xlp9xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp9xx-helinux.dts
@@ -125,7 +125,7 @@
 				   onlinemask = <0x0 0x0 0xff    # Node 1 cpus 7-0
 						 0x0 0x0 0xffff> # node 0 cpus 15-0
 				 */
-				onlinemask = <0xffff 0xffffffff 0xffffffff>; /*<0x1111 0x11111111 0x11111111>; */
+				onlinemask = <0xffffffff>; /*<0x11111111>; */
 				enable-nae-hw-parser = <0>;
 				enable-nae-jumbo = <0>;
 				enable-nae-p2p = <0>;
@@ -222,7 +222,7 @@
 		 * 20core: netlogic,cpumask=<0xffff 0xffffffff 0xffffffff>
 		 * 15 core, skipping core #5: netlogic,cpumask=<0xffffffff 0xff0fffff>
 		 */
-		netlogic,cpumask = <0xffff>;
+		netlogic,cpumask = <0xffffffff 0xffffffff>;
 		bootargs = " console=ttyS0,115200  ";
 		/* linux,initrd-start=<0x00c00000>;
 		   linux,initrd-end=<0x02c00000>; */
-- 
1.9.1

