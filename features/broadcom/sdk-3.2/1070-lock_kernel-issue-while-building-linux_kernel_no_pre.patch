From 629b0be6aa9796d1d31d065e2b0b67af6a502ca6 Mon Sep 17 00:00:00 2001
From: Rahul Jain <rajain@netlogicmicro.com>
Date: Thu, 7 Jul 2011 16:28:37 +0530
Subject: [PATCH 1070/1532] ?lock_kernel issue while building
 linux_kernel_no_preempt

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/misc/netlogic/linux-loader/phnx_loader.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/misc/netlogic/linux-loader/phnx_loader.c b/drivers/misc/netlogic/linux-loader/phnx_loader.c
index e697c7c..494e83d 100644
--- a/drivers/misc/netlogic/linux-loader/phnx_loader.c
+++ b/drivers/misc/netlogic/linux-loader/phnx_loader.c
@@ -38,6 +38,7 @@
 #include <asm/io.h>
 #include <asm/system.h>
 #include <linux/rwsem.h>
+#include <linux/smp_lock.h>
 
 #define Message(fmt, args...)      //printk("[%s]-[%d] "fmt"\n",__FUNCTION__,__LINE__,##args)
 #define dbg_msg(fmt, args...)      //printk("[%s]-[%d] "fmt"\n",__FUNCTION__,__LINE__,##args)
-- 
1.9.1

