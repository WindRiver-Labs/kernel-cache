From cd42530350903f36de23d1b6799d1db609376a49 Mon Sep 17 00:00:00 2001
From: Alok Agrawat <alok@broadcom.com>
Date: Thu, 20 Jun 2013 15:14:19 -0700
Subject: [PATCH 0730/1532] MACSec: MacSec is working on sgmii.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/src/netsoc_fdt.c | 6 ++++--
 arch/mips/netlogic/lib/netlib/src/netsoc_nae.c | 3 ++-
 2 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_fdt.c b/arch/mips/netlogic/lib/netlib/src/netsoc_fdt.c
index a1afad3..831f751 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_fdt.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_fdt.c
@@ -911,7 +911,7 @@ static void extract_complex_params(void *fdt, int intf_type, char *nae_port_str,
 		for(i=0; i<sizeof(cmplx->msec_port_enable)/sizeof(uint32_t); i++)
 		{
 			cmplx->msec_port_enable[i] = get_msec_port_enable(intf_type);
-printk("%s  cmplx->msec_port_enable[i] = %x\n", __FUNCTION__,  cmplx->msec_port_enable[i]);
+			//printk("\n####################################%s  cmplx->msec_port_enable[i] = %x\n", __FUNCTION__,  cmplx->msec_port_enable[i]);
 		}	
 		
 	}
@@ -1122,7 +1122,7 @@ static int fdt_parse_port_config(void *fdt, nae_t *nae_cfg)
 
                 num_ports = get_num_ports(block, intf_type);
                 extract_complex_params(fdt, intf_type, nae_port_str, &cmplx_cfg);
-printk("%s cmplx_cfg.msec_port_enable = %x\n",__FUNCTION__, cmplx_cfg.msec_port_enable);
+		//printk("%s cmplx_cfg.msec_port_enable = %x\n",__FUNCTION__, cmplx_cfg.msec_port_enable);
 
                 if(intf_type == XAUI_IF || intf_type == RXAUI_IF)
                 {
@@ -1137,6 +1137,8 @@ printk("%s cmplx_cfg.msec_port_enable = %x\n",__FUNCTION__, cmplx_cfg.msec_port_
                         nae_cfg->higig_mode[block]=0;
                         nae_cfg->xgmii_speed[block]=1; /*1G SGMII*/
                 }
+                //printk("\n#@#@@@###################@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ nae_cfg->msec_port_enable = %x block = %d cmplx_cfg.msec_port_enable = %x\n",
+                nae_cfg->msec_port_enable, block, cmplx_cfg.msec_port_enable);
 #ifdef MACSEC_DEBUG
                 netsoc_api_print(NETSOC_APIDBG_FDT," nae_cfg->msec_port_enable = %x block = %d cmplx_cfg.msec_port_enable = %x\n",
                 nae_cfg->msec_port_enable, block, cmplx_cfg.msec_port_enable);
diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
index 39a2647..04e8ecd 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
@@ -2932,6 +2932,7 @@ static struct cipher_key rx_ci_key[16] = {
 	{"\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff"},*/
 };
 
+//#define MACSEC_DEBUG 1
 #ifdef MACSEC_DEBUG
 
 static void dump_buffer(unsigned char *buf, unsigned int len, unsigned char *msg)
@@ -3860,7 +3861,7 @@ int __netsoc_init_nae(nae_t *nae)
                 else 
                       __netsoc_config_ale_disable(nae);
 
-		printk("%s %d nae->msec_port_enable = %d\n",__FUNCTION__, __LINE__, nae->msec_port_enable);
+		//printk("\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%s %x nae->msec_port_enable = %d\n",__FUNCTION__, __LINE__, nae->msec_port_enable);
  
  		if((is_nlm_xlp9xx() | is_nlm_xlp2xx()) && nae->msec_port_enable)
  		{
-- 
1.9.1

