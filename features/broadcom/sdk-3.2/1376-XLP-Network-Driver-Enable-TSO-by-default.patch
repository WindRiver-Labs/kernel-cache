From 9a4255528b97c8e999a93f9ccb750e85e94b86c6 Mon Sep 17 00:00:00 2001
From: Prabhath P Raman <prabhath@broadcom.com>
Date: Sat, 29 Sep 2012 11:39:36 +0530
Subject: [PATCH 1376/1532] XLP Network Driver: Enable TSO by default

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/broadcom/nae/xlpge.h | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/drivers/net/ethernet/broadcom/nae/xlpge.h b/drivers/net/ethernet/broadcom/nae/xlpge.h
index 71a3927..f79fb23 100644
--- a/drivers/net/ethernet/broadcom/nae/xlpge.h
+++ b/drivers/net/ethernet/broadcom/nae/xlpge.h
@@ -70,6 +70,7 @@
 #define	MSG_TXQ_FULL			0x04
 #define	NLM_TCP_MODE			1
 #define	NLM_RT_MODE			2
+#define	TSO_ENABLED			1
 #define	R_TX_CONTROL			0x0a0
 #define	TX_PACKET_COUNTER		0x39
 #define	RX_PACKET_COUNTER		0x28
@@ -403,6 +404,7 @@ int xlp_config_msec_tx(struct net_device *, struct ethtool_cmd *);
 int xlp_config_msec_tx_mem(struct net_device *, struct ethtool_cmd *);
 int xlp_config_msec_rx(struct net_device *, struct ethtool_cmd *);
 int xlp_config_msec_rx_mem(struct net_device *, struct ethtool_cmd *);
+int tso_enable(struct net_device *, u32);
 
 extern int enable_lro; 	
 extern unsigned char eth_hw_addr[NLM_MAX_NODES][MAX_GMAC_PORT][6];
@@ -424,6 +426,7 @@ extern uint32_t nae_fb_vc;
 extern int exclusive_vc;
 extern int enable_napi;
 extern int perf_mode;
+extern uint64_t nlm_mode[];
 
 #endif /* __ASSEMBLY__ */
 #endif
-- 
1.9.1

