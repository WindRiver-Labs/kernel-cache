From 0e64574d1366812179f1662a854ee613de4f6007 Mon Sep 17 00:00:00 2001
From: Siva Krishna Gudivada <sivag@broadcom.com>
Date: Tue, 12 Nov 2013 15:02:32 +0530
Subject: [PATCH 0432/1532] DPI: Fixed dts file of liveregex demo

    Updated vfbid table for nae-1
    Changed number of nodes from 2 to 1
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp9xx-dpi-nae-xaui-mc.dts | 136 ++------------------------
 1 file changed, 6 insertions(+), 130 deletions(-)

diff --git a/arch/mips/boot/dts/xlp9xx-dpi-nae-xaui-mc.dts b/arch/mips/boot/dts/xlp9xx-dpi-nae-xaui-mc.dts
index aa7036c..a112ec4 100755
--- a/arch/mips/boot/dts/xlp9xx-dpi-nae-xaui-mc.dts
+++ b/arch/mips/boot/dts/xlp9xx-dpi-nae-xaui-mc.dts
@@ -1,10 +1,10 @@
-/* XLP8XX Device Tree Source
+/* XLP9XX Device Tree Source
  *
  */
 
 /dts-v1/;
 / {
-	model = "netlogic,XLP-EVP";
+	model = "netlogic,XLP-GVP";
         compatible = "netlogic,xlp";
         #address-cells = <2>;
         #size-cells = <2>;
@@ -91,145 +91,21 @@
 
 
 		};
+        
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;		   // 32M
-			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
 
 			cpu {
 				onlinemask = <0xffffffff>;
 				nae-rx-vc = <0>;
 				nae-fb-vc = <3>;
 			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
-			};
-			nae-0 {
-				freein-fifo-mask = <0x00ff 0 0 0>;
-				sh-domains = <0>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <80 32 32 80>;
-				vfbtbl-hw-offset = <80 32 32 80>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-				/* replenish info syntax */
-				freein-fifo-replenish-by-owner = <1>;
-				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x88000000 0x0 0x10000000>; /* 256M @ 2176M*/
-				/* < node fifomask descsize headroom ndescs > */
-				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 64>;
-			};
-			nae-1 {
-				freein-fifo-mask = <0x00ff 0 0 0>;
-				sh-domains = <0>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <80 32 32 80>;
-				vfbtbl-hw-offset = <80 32 32 80>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-				/* replenish info syntax */
-				freein-fifo-replenish-by-owner = <1>;
-				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x98000000 0x0 0x10000000>; /* 256M @ 2432M*/
-				/* < node fifomask descsize headroom ndescs > */
-				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 64>;
-			};
-
+			
 			app-param{
 				onlinemask = <0xffffffff>;
 			};
-
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-		};
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;		   // 32M
-			shared-mem = <0x2 0x29000000 0x0 0x04000000>;  // 64MB @ 8848MB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffffffff 0x00000000>;
-				nae-rx-vc = <0>;
-				nae-fb-vc = <3>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
-			};
-			nae {
-				freein-fifo-mask = <0x0 0xffff 0 0>;
-				sh-domains = <0>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <0 0 0 0>;
-				vfbtbl-hw-offset = <32 32 32 32>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-	
-				/* replenish info syntax */
-				freein-fifo-replenish-by-owner = <1>;
-				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x1 0x3 0x00c00000 0x0 0x10000000>; /* 256M @12300m*/
-				/* < node fifomask descsize headroom ndescs > */
-				freein-fifo-replenish-desc-info = <1 0xffff 2048 0 64>;
-
-
-			};
-			owner-config {
-				nae = <0x0>;   // currently for node 0
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
 		};
+        
 
 	};
 
@@ -256,7 +132,7 @@
 
 	soc {
 		nodes {
-			num-nodes = <2>;
+			num-nodes = <1>;
 		};
 	};
 	frequency-config {
-- 
1.9.1

