From 83ea93113c958604cdb3b8b1c77eecf4332fc5b2 Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Wed, 26 Nov 2014 13:03:25 +0530
Subject: [PATCH 1466/1532] nae: Paas mtu len to initialize netlib.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/broadcom/nae/xlpge_nae.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
index 192c972..6c1b938 100644
--- a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
@@ -638,6 +638,9 @@ int initialize_nae(uint32_t *phys_cpu_map, int mode, int *jumbo_enabled)
 	mod_api.free = NULL;
 	mod_api.contig_free = NULL;
 	mod_api.netsoc_debug_level = nae_debug_level;
+	if(*jumbo_enabled){
+               mod_api.mtu_len = 16*1024; /*Max is 16K packet size*/
+       }
 
 	brcm_netsoc_lib_init(&mod_api);
 
-- 
1.9.1

