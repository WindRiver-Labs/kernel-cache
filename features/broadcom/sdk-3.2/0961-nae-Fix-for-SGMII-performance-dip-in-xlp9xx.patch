From 1cc4baa8283ee81a2a2da367e0e69f3de4a77465 Mon Sep 17 00:00:00 2001
From: kopal <kopal@broadcom.com>
Date: Wed, 30 Apr 2014 16:24:41 +0530
Subject: [PATCH 0961/1532] nae: Fix for SGMII performance dip in xlp9xx.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/include/netsoc_common.h | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

diff --git a/arch/mips/netlogic/lib/netlib/include/netsoc_common.h b/arch/mips/netlogic/lib/netlib/include/netsoc_common.h
index 5e1ebf8..9349f3d 100644
--- a/arch/mips/netlogic/lib/netlib/include/netsoc_common.h
+++ b/arch/mips/netlogic/lib/netlib/include/netsoc_common.h
@@ -325,12 +325,11 @@ static inline uint32_t get_iface_credit(uint32_t intf_type)
 static inline uint32_t get_prsr_seq_fifo_size(uint32_t intf_type)
 {
         switch(intf_type) {
+	case SGMII_IF:
 	case XFI_IF:
 		if (IS_NLM_XLP9XX_FAMILY)
 			return DEFAULT_XLP9XX_XAUI_PARSERSEQFIFO_SZ/4;
                 return DEFAULT_XAUI_PARSERSEQFIFO_SZ/4;
-        case SGMII_IF:
-                return DEFAULT_SGMII_PARSERSEQFIFO_SZ;
         case XAUI_IF:
         case XLAUI_IF:
 		if (IS_NLM_XLP9XX_FAMILY)
@@ -373,11 +372,10 @@ static inline uint32_t get_rx_buf_size(uint32_t intf_type)
 {
         switch(intf_type) {
 	case XFI_IF:
+	case SGMII_IF:
  		if (IS_NLM_XLP9XX_FAMILY)
  			return DEFAULT_XLP9XX_XAUI_RXFIFO_SZ/4;
                 return DEFAULT_XAUI_RXFIFO_SZ/4;
-        case SGMII_IF:
-                return DEFAULT_SGMII_RXFIFO_SZ;
         case XAUI_IF:
         case XLAUI_IF:
  		if (IS_NLM_XLP9XX_FAMILY)
-- 
1.9.1

