From 94bb75ce5e3f62e9496c5141504c4eabc20d8148 Mon Sep 17 00:00:00 2001
From: Tanmay Jagdale <tanmayj@broadcom.com>
Date: Wed, 15 Oct 2014 17:38:46 +0530
Subject: [PATCH 0587/1532] dts: modified freein-fifo memory parameter

The freein fifo memory address values are set to 0 to denote
dynamic allocation of memory. The memory addresses are obtained from
the linux kernel.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp-config.dts    |  8 ++++++--
 arch/mips/boot/dts/xlp9xx-config.dts | 16 ++++++++++++----
 2 files changed, 18 insertions(+), 6 deletions(-)

diff --git a/arch/mips/boot/dts/xlp-config.dts b/arch/mips/boot/dts/xlp-config.dts
index 3b96f04..2407cf6 100644
--- a/arch/mips/boot/dts/xlp-config.dts
+++ b/arch/mips/boot/dts/xlp-config.dts
@@ -94,8 +94,10 @@
 				vfbtbl-hw-nentries = <20 20 20 20>;
 				/* replenish info syntax */
 				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
 				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x88000000 0x0 0x10000000>; /* 256M @ 2176M*/
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
 				/* < node fifomask descsize headroom ndescs > */
 				freein-fifo-replenish-desc-info = <0 0xffff 2048 0 64>;
 			};
@@ -184,8 +186,10 @@
 				vfbtbl-hw-nentries = <20 20 20 20>;
 				/* replenish info syntax */
 				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
 				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x88000000 0x0 0x10000000>; /* 256M @ 2176M*/
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
 				/* < node fifomask descsize headroom ndescs > */
 				freein-fifo-replenish-desc-info = <1 0xffff 2048 0 64>;
 			};
diff --git a/arch/mips/boot/dts/xlp9xx-config.dts b/arch/mips/boot/dts/xlp9xx-config.dts
index 3e46f11..5d52faf 100644
--- a/arch/mips/boot/dts/xlp9xx-config.dts
+++ b/arch/mips/boot/dts/xlp9xx-config.dts
@@ -137,8 +137,10 @@
 				vfbtbl-hw-nentries = <20 20 20 20>;
 				/* replenish info syntax */
 				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
 				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x88000000 0x0 0x10000000>; /* 256M @ 2176M*/
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
 				/* < node fifomask descsize headroom ndescs > */
 				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
 			};
@@ -153,8 +155,10 @@
 				vfbtbl-hw-nentries = <20 20 20 20>;
 				/* replenish info syntax */
 				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
 				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x98000000 0x0 0x10000000>; /* 256M @ 2432M*/
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
 				/* < node fifomask descsize headroom ndescs > */
 				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
 			};
@@ -228,8 +232,10 @@
 				vfbtbl-hw-nentries = <20 20 20 20>;
 				/* replenish info syntax */
 				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
 				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x88000000 0x0 0x10000000>; /* 256M @ 2176M*/
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
 				/* < node fifomask descsize headroom ndescs > */
 				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
 			};
@@ -243,8 +249,10 @@
 				vfbtbl-hw-nentries = <20 20 20 20>;
 				/* replenish info syntax */
 				freein-fifo-replenish-by-owner = <1>;
+				/* Switched to dyanmic allocation based on frfifo-mem given in bootup fdt */
+				/* 0 - dynamic allocation else specify the address and size */
 				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x98000000 0x0 0x10000000>; /* 256M @ 2432M*/
+				freein-fifo-replenish-addr-info = <0x0 0x0 0x0 0x0 0x0>;
 				/* < node fifomask descsize headroom ndescs > */
 				freein-fifo-replenish-desc-info = <0 0x00ff 2048 0 150>;
 			};
-- 
1.9.1

