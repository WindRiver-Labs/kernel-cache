From f428f7602e1ce60ee5339e1c45efa1af4f3ad7f0 Mon Sep 17 00:00:00 2001
From: Pranav Bhalerao <pranavb@broadcom.com>
Date: Mon, 8 Dec 2014 12:35:39 +0530
Subject: [PATCH 1521/1532] kmod/crypto:In multinode setup init_sae is trying
 to initialize all available node irrespective of its status whether its
 online or offline. System is initialized with total 64 nodes. SAE must be
 initialized only for online nodes.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/crypto/sae/nlm_crypto.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/drivers/crypto/sae/nlm_crypto.c b/drivers/crypto/sae/nlm_crypto.c
index 94855db..c39920e 100644
--- a/drivers/crypto/sae/nlm_crypto.c
+++ b/drivers/crypto/sae/nlm_crypto.c
@@ -405,8 +405,7 @@ static void  init_sae(void)
 
 	freq = nlm_hal_get_fdt_freq(fdt, NLM_SAE);
 
-	for_each_node(node) {
-
+	for_each_online_node(node) {
 		nlm_hal_set_sae_freq(node, freq);
 		nlm_hal_set_sae_engine_sel(node);
 	}
-- 
1.9.1

