From 7e3e472da39fa813fb83dc2e603716a77c8fdbc7 Mon Sep 17 00:00:00 2001
From: Prasanna Mumbai <prasanna.mumbai@broadcom.com>
Date: Wed, 25 Sep 2013 15:25:39 +0530
Subject: [PATCH 0799/1532] FMN: multi node support

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

diff --git a/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c b/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c
index f0a66bd..06fdb08 100644
--- a/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c
+++ b/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c
@@ -1080,16 +1080,13 @@ int nlm_hal_setup_outq(int node, int max_nodes)
 				}
 #endif
 
-
 				/* configure */
-				//*(uint64_t *)(xlp_fmn_base[node] + (qid << 3)) = val;
-				nlh_write_cfg_reg64(xlp_fmn_base[0] + (qid << 3), val);
+				nlh_write_cfg_reg64(xlp_fmn_base[node] + (qid << 3), val);
 
 				/* disable interrupt by default, interrupt will be
 				 * enabled by respective OS configuration if needed.
 				 */
-				//*(uint64_t *)(xlp_fmn_base[node] + (1 << 13) + (qid << 3)) = 0x0;
-				nlh_write_cfg_reg64(xlp_fmn_base[0] + (1 << 13) + (qid << 3), 0);		
+				nlh_write_cfg_reg64(xlp_fmn_base[node] + (1 << 13) + (qid << 3), 0);
 			}
 		}
 	} else {
-- 
1.9.1

