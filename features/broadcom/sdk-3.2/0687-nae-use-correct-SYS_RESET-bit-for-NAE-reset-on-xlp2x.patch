From a16f81ab88f3bc39c6b1b4157bce44235d38476c Mon Sep 17 00:00:00 2001
From: Siva Pochiraju <sivap@broadcom.com>
Date: Sun, 12 May 2013 23:10:14 -0700
Subject: [PATCH 0687/1532] nae: use correct SYS_RESET bit for NAE reset on
 xlp2xx

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/src/nlm_hal_nae.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/arch/mips/netlogic/lib/netlib/src/nlm_hal_nae.c b/arch/mips/netlogic/lib/netlib/src/nlm_hal_nae.c
index 56534eb..295b539 100644
--- a/arch/mips/netlogic/lib/netlib/src/nlm_hal_nae.c
+++ b/arch/mips/netlogic/lib/netlib/src/nlm_hal_nae.c
@@ -3998,7 +3998,9 @@ static void reset_nae(int node)
 	int reset_bit = 9;  
 	/* Reset NAE */
 
-	if (is_nlm_xlp3xx() || is_nlm_xlp2xx())
+	if (is_nlm_xlp2xx())
+		reset_bit = 12;
+	if (is_nlm_xlp3xx())
 		reset_bit = 6;
 	else
 		reset_bit = 9;
-- 
1.9.1

