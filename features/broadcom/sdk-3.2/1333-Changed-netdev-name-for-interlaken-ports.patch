From aa6bca3109d4a67f3783791900c64fc45963ca1a Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthia@netlogicmicro.com>
Date: Wed, 19 Oct 2011 10:22:26 +0530
Subject: [PATCH 1333/1532] Changed netdev name for interlaken ports.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/broadcom/nae/xlp_nae.c | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/drivers/net/ethernet/broadcom/nae/xlp_nae.c b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
index faab2cf..1f9b2e1 100755
--- a/drivers/net/ethernet/broadcom/nae/xlp_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
@@ -463,6 +463,14 @@ static void nlm_xlp_nae_init(void)
 				break;	
 			case INTERLAKEN_IF:
 				priv->index = INTERLAKEN;
+                                if (nae_cfg.ports[i].hw_port_id == 0) {
+                                       if (dev_alloc_name(dev, "ilk0-%d") < 0)
+                                                printk("alloc name failed \n");
+                                }
+                                else {
+                                        if (dev_alloc_name(dev, "ilk8-%d") < 0)
+                                                printk("alloc name failed \n");
+                                }
 				break;
 			default:
 				priv->index=0;
-- 
1.9.1

