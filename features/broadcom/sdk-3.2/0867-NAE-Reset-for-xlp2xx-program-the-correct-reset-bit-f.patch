From 71bc677fada8f83d637d03639e5beb5ff5ae7e9c Mon Sep 17 00:00:00 2001
From: ajesh <ajesh@broadcom.com>
Date: Wed, 27 Nov 2013 16:27:31 +0530
Subject: [PATCH 0867/1532] NAE: Reset for xlp2xx program the correct reset bit
 for xlp2xx

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/include/netsoc_nae.h | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h b/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
index 7353455..74a4bdf 100644
--- a/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
+++ b/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
@@ -203,7 +203,10 @@ static inline void __netsoc_reset_nae(nae_t *nae)
 		nlm_mdelay(1);
         }
 	else {
-        	if (is_nlm_xlp3xx() || is_nlm_xlp2xx())	{
+        	if (is_nlm_xlp2xx()){
+                	reset_bit = 12;
+        	}
+        	else if (is_nlm_xlp3xx()){
                 	reset_bit = 6;
         	}
         	else
-- 
1.9.1

