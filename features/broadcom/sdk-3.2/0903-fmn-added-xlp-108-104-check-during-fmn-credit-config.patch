From 1dc177ba1bd78b920d66109ae6ecd2f89a616f8e Mon Sep 17 00:00:00 2001
From: Kevin James <kevinj@broadcom.com>
Date: Fri, 28 Feb 2014 00:51:54 -0800
Subject: [PATCH 0903/1532] fmn : added xlp 108/104 check during fmn credit
 configuration

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c b/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c
index 8ee12e7..ebe50ad 100644
--- a/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c
+++ b/arch/mips/netlogic/lib/fmnlib/nlm_hal_fmn_config.c
@@ -1011,7 +1011,7 @@ static void nlm_hal_write_fmn_credit(int node, int max_nodes)
 			}
 			fmn_modify_qsize_credit_config(node, XLP_MSG_BLK_CPU, 3, XLP_CPU0_VC_BASE, XLP_CPU2_VC_LIMIT);
 		}
-		else if(is_nlm_xlp308() || is_nlm_xlp208()){
+		else if(is_nlm_xlp308() || is_nlm_xlp208() || is_nlm_xlp108()){
 			nlm_print(" XLP308/208 FMN configuration \n");
 			fmn_config = (is_nlm_xlp308())? &xlp3xx_fmn_config[0] : &xlp2xx_fmn_config[0];
 			fmn_config += XLP_MSG_HANDLE_CPU2;
@@ -1023,7 +1023,7 @@ static void nlm_hal_write_fmn_credit(int node, int max_nodes)
 			fmn_modify_qsize_credit_config(node, XLP_MSG_BLK_CPU, 2, XLP_CPU0_VC_BASE, XLP_CPU1_VC_LIMIT);
 
 		}
-		else if(is_nlm_xlp304() || is_nlm_xlp204()){
+		else if(is_nlm_xlp304() || is_nlm_xlp204() || is_nlm_xlp104()){
 			nlm_print(" XLP304/204 FMN configuration \n");
 			fmn_config = (is_nlm_xlp304())? &xlp3xx_fmn_config[0] : &xlp2xx_fmn_config[0];
 			fmn_config += XLP_MSG_HANDLE_CPU1;
-- 
1.9.1

