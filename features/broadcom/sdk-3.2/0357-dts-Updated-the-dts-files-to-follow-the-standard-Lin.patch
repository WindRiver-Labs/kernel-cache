From 5db08389577f412990fa2bd30fd42c3f6ea57b29 Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Mon, 1 Apr 2013 00:14:44 -0700
Subject: [PATCH 0357/1532] dts: Updated the dts files to follow the standard
 Linux convention.

  	The files are updated for xlp4xx.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp4xx-helinux.dts  | 21 ++++++++++-----------
 arch/mips/boot/dts/xlp4xx-linux.dts    | 17 ++++++++++-------
 arch/mips/boot/dts/xlp4xx-multi-os.dts | 21 ++++++++++-----------
 arch/mips/boot/dts/xlp4xx-netos.dts    |  9 ++++-----
 4 files changed, 34 insertions(+), 34 deletions(-)

diff --git a/arch/mips/boot/dts/xlp4xx-helinux.dts b/arch/mips/boot/dts/xlp4xx-helinux.dts
index d5e428e..f29ea62 100644
--- a/arch/mips/boot/dts/xlp4xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp4xx-helinux.dts
@@ -4,11 +4,16 @@
 
 /dts-v1/;
 / {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
+	model = "netlogic,XLP-EVP";
+        compatible = "netlogic,xlp";
+        #address-cells = <2>;
+        #size-cells = <2>;
+	/*memory range for linux. This will not appear in dom0*/
+        memory {
+                device_type = "memory";
+                reg =  <0 0x01000000 0 0x0B000000   
+			0 0x20000000 0 0x20000000>;  // 512M at 512M
+        };
 
 	hypervisor {
 		hypervisor-name = "Xen";
@@ -40,18 +45,12 @@
 				owner = <1>;
 				sharedcfg = <0x1f000000>;
 			};
-			memory {
-                                reg = <0x01000000 0x0B000000    // 176M at 16M
-                                       0x20000000 0x20000000>;  // 512M at 512M
-			};
                         fmn {
                                 node_0_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
                                 node_1_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
                                 node_2_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
                                 node_3_vc_mask = <0x66666666 0x66666666 0x66666666 0x66666666>;
                         };
-			pic {
-			};
 			owner-config {
 				nae = <0x0>;
 				sae = <0x1>;
diff --git a/arch/mips/boot/dts/xlp4xx-linux.dts b/arch/mips/boot/dts/xlp4xx-linux.dts
index 4951437..09c45287 100644
--- a/arch/mips/boot/dts/xlp4xx-linux.dts
+++ b/arch/mips/boot/dts/xlp4xx-linux.dts
@@ -4,11 +4,16 @@
 
 /dts-v1/;
 / {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
+	model = "netlogic,XLP-EVP";
+        compatible = "netlogic,xlp";
+        #address-cells = <2>;
+        #size-cells = <2>;
+	/*memory range for linux. This will not appear in dom0*/
+        memory {
+                device_type = "memory";
+                reg =  <0 0x01000000 0 0x0B000000   
+			0 0x20000000 0 0x60000000>;  // 1536M at 512M
+        };
 
 	hypervisor {
 		hypervisor-name = "Xen";
@@ -52,8 +57,6 @@
                                 node_2_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
                                 node_3_vc_mask = <0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb 0xbbbbbbbb>;
                         };
-			pic {
-			};
 			nae {
 				freein-fifo-mask = <0x3ffff 0 0 0>;
 				/* node offsets and size */
diff --git a/arch/mips/boot/dts/xlp4xx-multi-os.dts b/arch/mips/boot/dts/xlp4xx-multi-os.dts
index fcd263c..8183951 100644
--- a/arch/mips/boot/dts/xlp4xx-multi-os.dts
+++ b/arch/mips/boot/dts/xlp4xx-multi-os.dts
@@ -4,11 +4,16 @@
 
 /dts-v1/;
 / {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
+	model = "netlogic,XLP-EVP";
+        compatible = "netlogic,xlp";
+        #address-cells = <2>;
+        #size-cells = <2>;
+	/*memory range for linux. This will not appear in dom0*/
+        memory {
+                device_type = "memory";
+                reg =  <0 0x01000000 0 0x0f000000   // 240M at 16M   
+			0 0x20000000 0 0x60000000>;  //  512M at 512M
+        };
 
 	hypervisor {
 		hypervisor-name = "Xen";
@@ -37,12 +42,6 @@
 				owner = <1>;
 				sharedcfg = <0x1f000000>;
 			};
-			memory {
-				reg = < 0x01000000 0x0f000000	// 240M at 16M
-					0x20000000 0x20000000>; // 512M at 512M
-			};
-			pic {
-			};
 			owner-config {
 				nae = <0x0>;
 				sae = <0x1>;
diff --git a/arch/mips/boot/dts/xlp4xx-netos.dts b/arch/mips/boot/dts/xlp4xx-netos.dts
index deb1aaf..f08de36 100644
--- a/arch/mips/boot/dts/xlp4xx-netos.dts
+++ b/arch/mips/boot/dts/xlp4xx-netos.dts
@@ -4,11 +4,10 @@
 
 /dts-v1/;
 / {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
+	model = "netlogic,XLP-EVP";
+        compatible = "netlogic,xlp";
+        #address-cells = <2>;
+        #size-cells = <2>;
 
 	hypervisor {
 		hypervisor-name = "Xen";
-- 
1.9.1

