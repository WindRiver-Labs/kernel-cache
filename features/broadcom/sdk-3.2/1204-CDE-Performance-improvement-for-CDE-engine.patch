From c2ca7471343cd66be27718569042bbf86e0e7cdf Mon Sep 17 00:00:00 2001
From: Anurag <anurag.gopinath@broadcom.com>
Date: Mon, 3 Feb 2014 11:09:15 +0530
Subject: [PATCH 1204/1532] CDE : Performance improvement for CDE engine.

 This commit improves decompression by 15%
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/misc/netlogic/nlm_cde/nlm_cde.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/drivers/misc/netlogic/nlm_cde/nlm_cde.c b/drivers/misc/netlogic/nlm_cde/nlm_cde.c
index 0fafb58..b930c7f 100644
--- a/drivers/misc/netlogic/nlm_cde/nlm_cde.c
+++ b/drivers/misc/netlogic/nlm_cde/nlm_cde.c
@@ -593,9 +593,12 @@ static int nlm_hal_cde_read_cmp_msg(char *buffer, uint64_t payload)
 		printk("\n tmp_ptr = %llx\n",tmp_ptr);
 		dump_buffer(tmp_ptr, num_bytes, "output:");
 #endif
+#if 0
 		for (j = 0; j < num_bytes; j++) {
 			buffer[offset+j] = tmp_ptr[j]; //AGN: make it Memcpy, and need to check perf difference
 		}
+#endif
+                memcpy(buffer+offset, tmp_ptr, num_bytes);
 		offset = offset + num_bytes;
 	}
 	return offset;
-- 
1.9.1

