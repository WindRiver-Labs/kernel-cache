From 616dd9200e7a7c47c88af38efb6f37d95d649cc5 Mon Sep 17 00:00:00 2001
From: Jonathan Pui <jpui@netlogicmicro.com>
Date: Wed, 5 Oct 2011 18:43:11 -0700
Subject: [PATCH 1084/1532] Changed drivers to use static variables.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/misc/netlogic/nae-perf/net_common.h     | 1 -
 drivers/misc/netlogic/nae-perf/xlp_nae.c        | 4 ++--
 drivers/misc/netlogic/nae_jumbo/net_common.h    | 1 -
 drivers/misc/netlogic/nae_jumbo/xlp_nae_jumbo.c | 6 +++---
 4 files changed, 5 insertions(+), 7 deletions(-)

diff --git a/drivers/misc/netlogic/nae-perf/net_common.h b/drivers/misc/netlogic/nae-perf/net_common.h
index 0d0e8e8..d67f2f5 100644
--- a/drivers/misc/netlogic/nae-perf/net_common.h
+++ b/drivers/misc/netlogic/nae-perf/net_common.h
@@ -160,7 +160,6 @@ static __inline__ void tx_print(uint64_t msg0) {
 	       (msg0) & 0xffffffffffULL);
 }
 
-extern int debug;
 extern void *fdt;
 
 struct nae_port {
diff --git a/drivers/misc/netlogic/nae-perf/xlp_nae.c b/drivers/misc/netlogic/nae-perf/xlp_nae.c
index 31eed4c..dbc9e7c 100755
--- a/drivers/misc/netlogic/nae-perf/xlp_nae.c
+++ b/drivers/misc/netlogic/nae-perf/xlp_nae.c
@@ -121,7 +121,7 @@
 
 #undef ENABLE_LRO_DEBUG_STATS
 /* Module Parameters */
-int debug = 0;
+static int debug = 0;
 module_param(debug, int, 0);
 
 static int drop_uboot_pkt = 1;
@@ -140,7 +140,7 @@ module_param(enable_lro, int, 0);
  *
  * Below parameters are set during FDT file parsing
  */
-int frin_desc_thres = 24;
+static int frin_desc_thres = 24;
 module_param(frin_desc_thres, int, 0);
 
 static uint32_t frin_queue_base = 1000;
diff --git a/drivers/misc/netlogic/nae_jumbo/net_common.h b/drivers/misc/netlogic/nae_jumbo/net_common.h
index 0d0e8e8..d67f2f5 100644
--- a/drivers/misc/netlogic/nae_jumbo/net_common.h
+++ b/drivers/misc/netlogic/nae_jumbo/net_common.h
@@ -160,7 +160,6 @@ static __inline__ void tx_print(uint64_t msg0) {
 	       (msg0) & 0xffffffffffULL);
 }
 
-extern int debug;
 extern void *fdt;
 
 struct nae_port {
diff --git a/drivers/misc/netlogic/nae_jumbo/xlp_nae_jumbo.c b/drivers/misc/netlogic/nae_jumbo/xlp_nae_jumbo.c
index 8700f9a..3bad05d 100755
--- a/drivers/misc/netlogic/nae_jumbo/xlp_nae_jumbo.c
+++ b/drivers/misc/netlogic/nae_jumbo/xlp_nae_jumbo.c
@@ -277,7 +277,7 @@ static inline struct jumbo_rx_cookie *get_rx_cookie(uint64_t phys)
    */
 
 /* Module Parameters */
-int debug = 0;
+static int debug = 0;
 module_param(debug, int, 0);
 
 static int drop_uboot_pkt = 1;
@@ -287,14 +287,14 @@ static unsigned long stats_uboot_pkts;
 extern int naecfg_hack;
 module_param(naecfg_hack, int, 0);
 
-int rely_on_firmware_config = 1;
+static int rely_on_firmware_config = 1;
 module_param(rely_on_firmware_config, int, 0);
 
 /***************************************************************
  *
  * Below parameters are set during FDT file parsing
  */
-int frin_desc_thres = 24;
+static int frin_desc_thres = 24;
 module_param(frin_desc_thres, int, 0);
 
 static uint32_t nae_rx_vc = 0;
-- 
1.9.1

