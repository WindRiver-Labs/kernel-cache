From aa1bdca3bef225ec74e751eca4f1207465d64a91 Mon Sep 17 00:00:00 2001
From: Anurag <anurag.gopinath@broadcom.com>
Date: Mon, 26 Nov 2012 11:53:05 +0530
Subject: [PATCH 1382/1532] nae: Fix for gcc 461 compilation

See the commit 11666249a4e6efb20a3fcb98eddbe67ca442f6d7 for more details.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/broadcom/nae/xlpge.h     | 2 +-
 drivers/net/ethernet/broadcom/nae/xlpge_nae.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/broadcom/nae/xlpge.h b/drivers/net/ethernet/broadcom/nae/xlpge.h
index fffff9c..e6f9301 100644
--- a/drivers/net/ethernet/broadcom/nae/xlpge.h
+++ b/drivers/net/ethernet/broadcom/nae/xlpge.h
@@ -462,7 +462,7 @@ uint16_t pseuodo_chksum(uint16_t *, uint16_t);
 inline int create_p2p_desc(uint64_t , uint64_t , uint64_t *, int);
 inline void create_last_p2p_desc(uint64_t *, struct sk_buff *, int);
 void xlp_poll_upper(int);
-inline void free_p2p_desc_mem(int cpu, void *);
+void free_p2p_desc_mem(int cpu, void *);
 inline int tso_xmit_skb(struct sk_buff *, struct net_device *);
 int xlp_config_msec_tx(struct net_device *, struct ethtool_cmd *);
 int xlp_config_msec_tx_mem(struct net_device *, struct ethtool_cmd *);
diff --git a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
index 14c5e18..b5db3cc 100644
--- a/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlpge_nae.c
@@ -722,7 +722,7 @@ inline void *alloc_p2p_desc_mem(int cpu)
 	return buf;
 }
 
-inline void free_p2p_desc_mem(int cpu, void *buf)
+void free_p2p_desc_mem(int cpu, void *buf)
 {
 	*(ulong *)buf = (ulong)p2p_desc_mem[cpu].mem;
 	p2p_desc_mem[cpu].mem = buf;
-- 
1.9.1

