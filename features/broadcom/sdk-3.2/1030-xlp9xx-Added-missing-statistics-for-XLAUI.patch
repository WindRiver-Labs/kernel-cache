From aabe0a8e28c2d5f48d8f07495066aad53be06cad Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Tue, 21 Oct 2014 17:36:09 +0530
Subject: [PATCH 1030/1532] xlp9xx: Added missing statistics for XLAUI

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/include/netsoc_nae.h | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h b/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
index f500255..66369f6 100644
--- a/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
+++ b/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
@@ -1092,6 +1092,14 @@ static void __netsoc_get_xlgmac_counters(net_port_t *netport, dev_stat_t* stats)
 
 	stats->rx_packets = __netsoc_read_xlgmac_reg(netport, XLAUI_FRAME_RECEIVED);
 	stats->rx_bytes = __netsoc_read_xlgmac_reg(netport, XLAUI_RX_BYTE_CNT);
+	stats->rx_errors = __netsoc_read_xlgmac_reg(netport, XLAUI_FCS_ERROR)
+			+ __netsoc_read_xlgmac_reg(netport, XLAUI_ALN_ERROR)
+			+ __netsoc_read_xlgmac_reg(netport, XLAUI_IN_ERROR)
+			+ __netsoc_read_xlgmac_reg(netport, XLAUI_IRL_ERROR)
+			+ __netsoc_read_xlgmac_reg(netport, XLAUI_FTL_ERROR);
+
+	stats->rx_dropped = __netsoc_read_xlgmac_reg(netport, XLAUI_FCS_ERROR);
+	stats->multicast = __netsoc_read_xlgmac_reg(netport, XLAUI_RX_MCAST_CNT);
 	/*TODO : read other counters and add them below.*/
 	return;
 }
-- 
1.9.1

