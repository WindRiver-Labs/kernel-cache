From 804af64f2fb4dec371a70a9f7bfaf55940dcf094 Mon Sep 17 00:00:00 2001
From: Kevin James <kevinj@broadcom.com>
Date: Wed, 19 Mar 2014 00:06:25 -0700
Subject: [PATCH 0921/1532] Fix: Compilation error due to redefinition of
 hard_smp_processor_id() in mips-extns.h

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/syslib/include/nlm_xlp.h | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/mips/netlogic/lib/syslib/include/nlm_xlp.h b/arch/mips/netlogic/lib/syslib/include/nlm_xlp.h
index 0e99b40..8cc7d31 100644
--- a/arch/mips/netlogic/lib/syslib/include/nlm_xlp.h
+++ b/arch/mips/netlogic/lib/syslib/include/nlm_xlp.h
@@ -1,5 +1,7 @@
 #ifndef _HAL_XLP_
 #define _HAL_XLP_
+
+#ifndef _ASM_NLM_MIPS_EXTS_H
 static inline int hard_smp_processor_id(void)
 {
 	int id;
@@ -7,6 +9,7 @@ static inline int hard_smp_processor_id(void)
 	asm volatile ("mfc0 %0, $15, 1" : "=r"(id));
 	return id & 0x3ff;
 }
+#endif
 
 extern cpumask_t phys_cpu_present_map;
 #define NLM_MAX_CPU_NODE        4
-- 
1.9.1

