From 0d02606c13d930e845cd4183ef0744b4f443d492 Mon Sep 17 00:00:00 2001
From: Siva Pochiraju <sivap@netlogicmicro.com>
Date: Fri, 17 Sep 2010 16:52:25 -0700
Subject: [PATCH 0195/1532] Added multi-mode and multi complex support

- Framework for XAUI & Interlaken modes
- Support for all the complexes
- More per interface properties (Rx/Tx que, mgmt, hw-port-id)
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/nae.dts | 38 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 37 insertions(+), 1 deletion(-)

diff --git a/arch/mips/boot/dts/nae.dts b/arch/mips/boot/dts/nae.dts
index 01c0a05..35b1304 100644
--- a/arch/mips/boot/dts/nae.dts
+++ b/arch/mips/boot/dts/nae.dts
@@ -16,7 +16,7 @@
 		};
 	};
 
-	complex-A {
+	complex@0 {
 		device_type = "nae-complex";
 		mode = "sgmii";
 
@@ -41,4 +41,40 @@
 		free_desc_sizes = <1536 1536 1536 1536>;
 		ucore_mask = <0xffff 0xffff 0xffff 0xffff>;
 	};
+
+	complex@1 {
+		device_type = "nae-complex";
+		mode = "xaui";
+	};
+	complex@2 {
+		device_type = "nae-complex";
+		mode = "interlaken";
+	};
+	complex@3 {
+		device_type = "nae-complex";
+		mode = "interlaken";
+	};
+	complex@4 {
+		device_type = "nae-complex";
+		mode = "sgmii";
+
+		loopback_mode = <0 0>;
+
+		// Max ingress fifo size 256 units (size of one unit is 64 byte)
+		iface_fifo_sizes = <13 13>;
+
+		// Max parser sequence fifo size 1024 packets 
+		// (if 1588 Timestamp is not required, then max size increases to 2048)
+		num_channels = <8 8>;
+		parser_sequence_fifo_sizes = <53 53>;
+
+		// Since rx_buffer is per context, we can have a few different ways
+		//  to populate the operand
+		rx_buffer_sizes = <20 20 20 20 20 20 20 20
+				   20 20 20 20 20 20 20 20>;
+
+		num_free_descs = <32 32>;
+		free_desc_sizes = <1536 1536>;
+		ucore_mask = <0xffff 0xffff>;
+	};
 };
-- 
1.9.1

