From c4f3f150d0f24149075dad53a00640292e667cdd Mon Sep 17 00:00:00 2001
From: reshmic <reshmic@netlogicmicro.com>
Date: Fri, 16 Dec 2011 22:27:41 +0530
Subject: [PATCH 0275/1532] Added new parameters ipsec-async-vc and
 ipsec-sync-vc

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/storm-linux.dts   | 11 +++++++----
 arch/mips/boot/dts/xlpev-linux.dts   | 12 ++++++++----
 arch/mips/boot/dts/xlppcie-linux.dts | 12 ++++++++----
 3 files changed, 23 insertions(+), 12 deletions(-)

diff --git a/arch/mips/boot/dts/storm-linux.dts b/arch/mips/boot/dts/storm-linux.dts
index f1e94a7..71bcc1f 100644
--- a/arch/mips/boot/dts/storm-linux.dts
+++ b/arch/mips/boot/dts/storm-linux.dts
@@ -33,6 +33,9 @@
 				napi-vc-mask = <0x3>;
 				sae-rx-vc = <2>; /*  */
 				sae-rx-sync-vc  = <3>; /* should be exclusive */
+				ipsec-async-vc  = <0>;
+                                ipsec-sync-vc   = <2>;
+
 			};
 			uart {
 				id = <0>;
@@ -44,10 +47,10 @@
 					0x20000000 0xa0000000>;  // 2586M at 512M
 			};
                         fmn {
-                                node_0_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
-                                node_1_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
-                                node_2_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
-                                node_3_vc_mask = <0x77777777 0x77777777 0x77777777 0x77777777>;
+                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
                        };
 			pic {
 			};
diff --git a/arch/mips/boot/dts/xlpev-linux.dts b/arch/mips/boot/dts/xlpev-linux.dts
index 84eb473..6834fde 100644
--- a/arch/mips/boot/dts/xlpev-linux.dts
+++ b/arch/mips/boot/dts/xlpev-linux.dts
@@ -31,6 +31,10 @@
                                 nae-rx-vc = <0>;
                                 nae-fb-vc = <1>;
 				napi-vc-mask = <0x3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc  = <3>; /* should be exclusive */
+				ipsec-async-vc  = <0>;
+				ipsec-sync-vc   = <2>;
 			};
 			uart {
 				id = <0>;
@@ -42,10 +46,10 @@
 					0x20000000 0xa0000000>;  // 2586M at 512M
 			};
                         fmn {
-                                node_0_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
                         };
 			pic {
 			};
diff --git a/arch/mips/boot/dts/xlppcie-linux.dts b/arch/mips/boot/dts/xlppcie-linux.dts
index df96b7a..f9d8f32 100644
--- a/arch/mips/boot/dts/xlppcie-linux.dts
+++ b/arch/mips/boot/dts/xlppcie-linux.dts
@@ -31,6 +31,10 @@
                                 nae-rx-vc = <0>;
                                 nae-fb-vc = <1>;
 				napi-vc-mask = <0x3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc  = <3>; /* should be exclusive */
+				ipsec-async-vc  = <0>;
+				ipsec-sync-vc   = <2>;
 
 			};
 			uart {
@@ -43,10 +47,10 @@
 					0x20000000 0x60000000>;  // 1536M at 512M
 			};
                         fmn {
-                                node_0_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_1_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_2_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
-                                node_3_vc_mask = <0xffffffff 0xffffffff 0xffffffff 0xffffffff>;
+                                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
+                                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
                         };
 			pic {
 			};
-- 
1.9.1

