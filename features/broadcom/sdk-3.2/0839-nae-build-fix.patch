From 6a1d9e6c533459b95ed5a04ea3c326252f635189 Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Sun, 10 Nov 2013 23:44:52 +0530
Subject: [PATCH 0839/1532] nae: build fix.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/include/netsoc_nae.h | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

diff --git a/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h b/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
index 0e9f0e9..e92373c 100644
--- a/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
+++ b/arch/mips/netlogic/lib/netlib/include/netsoc_nae.h
@@ -278,14 +278,6 @@ static void __netsoc_display_pma2p0_indirect_reg(uint64_t base, int block)
 }
 #endif
 
-static inline void __netsoc_set_bit2_pm_fifo (nae_t *nae, int block, int lane_ctrl)
-{
-        uint32_t val = 0;
-        val = __netsoc_read_pma_reg(nae,  block, lane_ctrl, 0xE);
-        val |= (1<<2);
-        __netsoc_write_pma_reg(nae,  block, lane_ctrl, 0xE, val);
-        val = __netsoc_read_pma_reg(nae,  block, lane_ctrl, 0xE);
-}
 
 static inline void __netsoc_write_ucore_sprayvec(nae_t *nae, int hw_port_id, uint32_t spray_vec)
 {
@@ -528,6 +520,15 @@ static inline void __netsoc_write_pma_reg(nae_t *nae, int block, int lane_ctrl,
         while((netsoc_read_mac_reg(mac_base, lane_ctrl)) & PHY_LANE_CTRL_CMD_PENDING);
 }
 
+static inline void __netsoc_set_bit2_pm_fifo (nae_t *nae, int block, int lane_ctrl)
+{
+        uint32_t val = 0;
+        val = __netsoc_read_pma_reg(nae,  block, lane_ctrl, 0xE);
+        val |= (1<<2);
+        __netsoc_write_pma_reg(nae,  block, lane_ctrl, 0xE, val);
+        val = __netsoc_read_pma_reg(nae,  block, lane_ctrl, 0xE);
+}
+
 static inline void __netsoc_PMFF_ALL_workaround(nae_t *nae, int block, int lane_ctrl)
 {
         volatile int val = 0;
-- 
1.9.1

