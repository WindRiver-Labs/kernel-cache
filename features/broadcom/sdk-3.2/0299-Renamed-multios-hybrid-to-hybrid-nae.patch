From 8c8b01528cac4ce73017e208fce0d48289f67242 Mon Sep 17 00:00:00 2001
From: Hareesh R <hareeshr@broadcom.com>
Date: Tue, 10 Apr 2012 11:15:15 +0530
Subject: [PATCH 0299/1532] Renamed multios-hybrid to hybrid-nae

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts | 195 +++++++++++++++++++++
 arch/mips/boot/dts/mnxlp8xx-linux-perf.dts         |   1 +
 .../boot/dts/mnxlp8xx-multi-os-hybrid-helinux.dts  | 195 ---------------------
 arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts     | 143 +++++++++++++++
 arch/mips/boot/dts/xlp8xx-linux-perf.dts           |   1 +
 arch/mips/boot/dts/xlp8xx-multi-os-hybrid.dts      | 147 ----------------
 6 files changed, 340 insertions(+), 342 deletions(-)
 create mode 100644 arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
 delete mode 100644 arch/mips/boot/dts/mnxlp8xx-multi-os-hybrid-helinux.dts
 create mode 100644 arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
 delete mode 100644 arch/mips/boot/dts/xlp8xx-multi-os-hybrid.dts

diff --git a/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
new file mode 100644
index 0000000..889d7e5
--- /dev/null
+++ b/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
@@ -0,0 +1,195 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0xf0000000 0xc0000000>; /* 3584MB -> 6656MB */
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+			#nodes = <2>;
+			#cpumask-cells=<2>;
+
+			cpu {
+				onlinemask = <0xffffffff 0xffffffff>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x01000000 0x0B000000
+					0x20000000 0xa0000000>; // 2586M at 512M
+
+			};
+			pic {
+			};
+			nae {
+				owner = <1 1 0 0>;
+				freein-fifo-mask = <0x30000 0x30000 0 0>;
+				sh-domains = <1 2>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <32 32 32 32>;
+				vfbtbl-hw-offset = <0 0 0 0>;
+				vfbtbl-hw-nentries = <0 0 0 0>;
+				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
+			};
+			fmn {
+                                node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+                                node_1_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+                                node_2_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+                                node_3_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;                       
+			};
+
+
+		};
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>;		   // 32M
+			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0x00000000 0xffffffff>;
+				nae-rx-vc = <2>;
+				nae-fb-vc = <2>;
+			};
+			uart {
+				id = <0>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
+			};
+			nae {
+				owner = <0 0 0 0>;
+				freein-fifo-mask = <0xffff 0 0 0>;
+				sh-domains = <0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <0 0 0 0>;
+				vfbtbl-hw-offset = <32 32 32 32>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+
+				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
+			};
+		};
+		dom@2 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>;		   // 32M
+			shared-mem = <0x2 0x29000000 0x0 0x04000000>;  // 64MB @ 8848MB
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xffffffff 0x00000000>;
+				nae-rx-vc = <2>;
+				nae-fb-vc = <2>;
+			};
+			uart {
+				id = <0>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
+			};
+			nae {
+				owner = <0 0 0 0>;
+				freein-fifo-mask = <0x0 0xffff 0 0>;
+				sh-domains = <0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <0 0 0 0>;
+				vfbtbl-hw-offset = <32 32 32 32>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+
+				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
+			};
+		};
+
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 mem=512m@3584m";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot	= <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0	  = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+		nodes {
+			num-nodes = <2>;
+		};
+	};
+};
+
diff --git a/arch/mips/boot/dts/mnxlp8xx-linux-perf.dts b/arch/mips/boot/dts/mnxlp8xx-linux-perf.dts
index dabc454..b95c55a 100644
--- a/arch/mips/boot/dts/mnxlp8xx-linux-perf.dts
+++ b/arch/mips/boot/dts/mnxlp8xx-linux-perf.dts
@@ -60,6 +60,7 @@
 				/* hw entries 40 for 2 nodes , 20 fifos each */
 				vfbtbl-hw-offset = <32 32 32 32>;
 				vfbtbl-hw-nentries = <40 40 40 40>;
+				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
 			};
 
 		};
diff --git a/arch/mips/boot/dts/mnxlp8xx-multi-os-hybrid-helinux.dts b/arch/mips/boot/dts/mnxlp8xx-multi-os-hybrid-helinux.dts
deleted file mode 100644
index 889d7e5..0000000
--- a/arch/mips/boot/dts/mnxlp8xx-multi-os-hybrid-helinux.dts
+++ /dev/null
@@ -1,195 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0xf0000000 0xc0000000>; /* 3584MB -> 6656MB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-			#nodes = <2>;
-			#cpumask-cells=<2>;
-
-			cpu {
-				onlinemask = <0xffffffff 0xffffffff>;
-				nae-rx-vc = <0>;
-				nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x01000000 0x0B000000
-					0x20000000 0xa0000000>; // 2586M at 512M
-
-			};
-			pic {
-			};
-			nae {
-				owner = <1 1 0 0>;
-				freein-fifo-mask = <0x30000 0x30000 0 0>;
-				sh-domains = <1 2>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <32 32 32 32>;
-				vfbtbl-hw-offset = <0 0 0 0>;
-				vfbtbl-hw-nentries = <0 0 0 0>;
-				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
-			};
-			fmn {
-                                node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_1_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_2_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-                                node_3_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;                       
-			};
-
-
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;		   // 32M
-			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x00000000 0xffffffff>;
-				nae-rx-vc = <2>;
-				nae-fb-vc = <2>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
-			};
-			nae {
-				owner = <0 0 0 0>;
-				freein-fifo-mask = <0xffff 0 0 0>;
-				sh-domains = <0>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <0 0 0 0>;
-				vfbtbl-hw-offset = <32 32 32 32>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-
-				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
-			};
-		};
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;		   // 32M
-			shared-mem = <0x2 0x29000000 0x0 0x04000000>;  // 64MB @ 8848MB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffffffff 0x00000000>;
-				nae-rx-vc = <2>;
-				nae-fb-vc = <2>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
-			};
-			nae {
-				owner = <0 0 0 0>;
-				freein-fifo-mask = <0x0 0xffff 0 0>;
-				sh-domains = <0>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <0 0 0 0>;
-				vfbtbl-hw-offset = <32 32 32 32>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-
-				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
-			};
-		};
-
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 mem=512m@3584m";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot	= <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0	  = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-		nodes {
-			num-nodes = <2>;
-		};
-	};
-};
-
diff --git a/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts b/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
new file mode 100644
index 0000000..717ed9c
--- /dev/null
+++ b/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
@@ -0,0 +1,143 @@
+/* XLP8XX Device Tree Source
+ *
+ */
+
+/dts-v1/;
+/ {
+	model = "MIPS,XLP8XX";
+	compatible = "NETL,XLP8XX_A0";
+
+	#address-cells = <1>;
+	#size-cells = <1>;
+
+	hypervisor {
+		hypervisor-name = "Xen";
+		alloc_dom0_memory = <0>;
+		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
+		domain_heap = <0xf0000000 0xc0000000>; /* 3584MB -> 6656MB */
+	};
+	doms {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		dom@0 {
+			device_type = "domain";
+			os = "linux";
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			cpu {
+				onlinemask = <0xf>;
+				nae-rx-vc = <0>;
+				nae-fb-vc = <1>;
+			};
+			uart {
+				id = <0>;
+				owner = <1>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x02000000 0x0A000000
+					0x20000000 0x20000000>;  // 512M at 512M
+
+			};
+			pic {
+			};
+			nae {
+				owner = <1 0 0 0>;
+				freein-fifo-mask = <0x30000 0 0 0>;
+				sh-domains = <1>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <32 32 32 32>;
+				vfbtbl-hw-offset = <0 0 0 0>;
+				vfbtbl-hw-nentries = <0 0 0 0>;
+				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
+			};
+			fmn {
+				node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+				node_1_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+				node_2_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+				node_3_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
+			};
+
+
+		};
+		dom@1 {
+			device_type = "domain";
+			os = "netos";
+
+			heap-size = <0x0 0x2000000>;		   // 32M
+			shared-mem = <0x0 0xe0000000 0x0 0x04000000>;  // 3584MB -> 3648 MB (64MB)
+
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			app-bootcmd = "smpload";
+			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
+
+			kernel {
+				/* Kernel Memory allocated from xen domain-heap */
+				size = <0x02000000>;  // 32M
+
+				/* Location in Dom0 ramdisk */
+				location = "/tmp/xen/netos.elf";
+
+				/* Domain destroy currently doesn't work with hyperexec */
+				dom_destroy_hack = <0>;
+			};
+
+			cpu {
+				onlinemask = <0xf0>;
+				nae-rx-vc = <2>;
+				nae-fb-vc = <2>;
+			};
+			uart {
+				id = <0>;
+				sharedcfg = <0x1f000000>;
+			};
+			memory {
+				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
+			};
+			nae {
+				owner = <0 0 0 0>;
+				freein-fifo-mask = <0xffff 0 0 0>;
+				sh-domains = <0>;
+				/* node offsets and size */
+				vfbtbl-sw-offset = <0 0 0 0>;
+				vfbtbl-sw-nentries = <0 0 0 0>;
+				vfbtbl-hw-offset = <32 32 32 32>;
+				vfbtbl-hw-nentries = <20 20 20 20>;
+				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
+			};
+		};
+	};
+
+	chosen {
+		bootargs = " xlp_noi2c console=ttyS0,115200 ";
+	};
+
+	/* These binaries are downloaded at the resp physical memory locations
+	 * by their corresponding bootstrapping loaders. For example,
+	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
+	 * at 1M, hypervisor by u-boot hypervisor at 136M.
+	 * On simulator all these binaries are pre-loaded by using '-F' option
+	 * for convenience. On silicon, they will be loaded by their corresponding
+	 * temporary download locations the stage-1/stage-2 firmware
+	 */
+	firmware-download {
+		u-boot	= <0x0c100000 0x3f00000>;  /* 63M @ 193M */
+		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
+		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
+		dom0	  = <0x09000000 0x03000000>; /* 48M @ 144M */
+		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
+	};
+
+	soc {
+		nodes {
+			num-nodes = <1>;
+		};
+
+	};
+};
+
diff --git a/arch/mips/boot/dts/xlp8xx-linux-perf.dts b/arch/mips/boot/dts/xlp8xx-linux-perf.dts
index 3ff9f25..82dacb6 100644
--- a/arch/mips/boot/dts/xlp8xx-linux-perf.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux-perf.dts
@@ -57,6 +57,7 @@
 				/* hw entries */
 				vfbtbl-hw-offset = <32 32 32 32>;
 				vfbtbl-hw-nentries = <20 20 20 20>;
+				dummy-pktdata-addr = <0x0 0x0ff00000>; // 255 MB
 			};
 
 		};
diff --git a/arch/mips/boot/dts/xlp8xx-multi-os-hybrid.dts b/arch/mips/boot/dts/xlp8xx-multi-os-hybrid.dts
deleted file mode 100644
index 6b8e500..0000000
--- a/arch/mips/boot/dts/xlp8xx-multi-os-hybrid.dts
+++ /dev/null
@@ -1,147 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "MIPS,XLP8XX";
-	compatible = "NETL,XLP8XX_A0";
-
-	#address-cells = <1>;
-	#size-cells = <1>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0xf0000000 0xc0000000>; /* 3584MB -> 6656MB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xf>;
-				nae-rx-vc = <0>;
-				nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x02000000 0x0A000000
-					0x20000000 0x20000000>;  // 512M at 512M
-
-			};
-			pic {
-			};
-			nae {
-				owner = <1 0 0 0>;
-				freein-fifo-mask = <0x3ffff 0 0 0>;
-				sh-domains = <1>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <32 32 32 32>;
-				vfbtbl-hw-offset = <0 0 0 0>;
-				vfbtbl-hw-nentries = <0 0 0 0>;
-			};
-			fmn {
-				node_0_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_1_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_2_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-				node_3_vc_mask = <0x00000000 0x00000000 0x00000000 0x00000000>;
-			};
-
-
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;		   // 32M
-			shared-mem = <0x0 0xe0000000 0x0 0x04000000>;  // 3584MB -> 3648 MB (64MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xf0>;
-				nae-rx-vc = <2>;
-				nae-fb-vc = <2>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
-			};
-			nae {
-				owner = <0 0 0 0>;
-				freein-fifo-mask = <0x1111 0 0 0>;
-				sh-domains = <2>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <0 0 0 0>;
-				vfbtbl-hw-offset = <32 32 32 32>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-			};
-			app-param{
-				/* Only used in xen loading */
-				linux-mem = <	0x00000000 0x02000000	// START ADDR <MSB LSB> 32MB
-						0x00000000 0x3e000000>;	// SIZE <MSB LSB> 992 MB
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot	= <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0	  = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-};
-
-- 
1.9.1

