From 5522efef14b880e264659a3e323554efbad00ad0 Mon Sep 17 00:00:00 2001
From: Prem Mallappa <pmallapp@broadcom.com>
Date: Tue, 9 Dec 2014 13:03:29 +0530
Subject: [PATCH 0608/1532] dts: Added clk source to dts files

This is to support the clk framework and the cpufreq driver added
to the kernel
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp2xx-linux-kernel.dts | 48 ++++++++++++++++++++++++++++++
 arch/mips/boot/dts/xlp5xx-linux-kernel.dts | 47 +++++++++++++++++++++++++++++
 arch/mips/boot/dts/xlp8xx-linux-kernel.dts | 47 +++++++++++++++++++++++++++++
 arch/mips/boot/dts/xlp9xx-linux-kernel.dts | 48 ++++++++++++++++++++++++++++++
 4 files changed, 190 insertions(+)

diff --git a/arch/mips/boot/dts/xlp2xx-linux-kernel.dts b/arch/mips/boot/dts/xlp2xx-linux-kernel.dts
index 797ad62..b9b791d 100644
--- a/arch/mips/boot/dts/xlp2xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp2xx-linux-kernel.dts
@@ -16,6 +16,54 @@
 		ranges = <0 0  0 0x18000000  0x04000000   // PCIe CFG
 			  1 0  0 0x16000000  0x02000000>; // GBU chipselects
 
+                clocks {
+                        #address-cells = <0>;
+                        #size-cells = <0>;
+
+                        refclk: refclk {
+                                compatible = "netlogic,xlp-ref-clock";
+                                #clock-cells = <0>;
+                                clk-output-names = "refclk";
+                                clock-frequency = <133333333>;
+                        };
+                        cpupll: cpupll {
+                                compatible = "netlogic,xlp-cpu-clock";
+                                clocks = <&refclk>;
+                                clk-output-names = "cpu-pll";
+                        };
+                        dmcpll: dmcpll {
+                                compatible = "netlogic,xlp-dmc-clock";
+                                clocks = <&refclk>;
+                                clock-output-names = "dmc-pll", "mmc-clk", "nand-clk";
+                        };
+                        syspll: syspll {
+                                compatible = "netlogic,xlp-sys-clock";
+                                clocks = <&refclk>;
+                                clock-output-names = "sys-pll";
+                        };
+                        pll1: pll1 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <400000000>;
+                                clock-output-names = "pll1";
+                        };
+                        pll2: pll2 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <500000000>;
+                                clock-output-names = "pll2";
+                        };
+                        pll3: pll3 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <667000000>;
+                                clock-output-names = "pll3";
+                        };
+                };
+
 		serial0: serial@30000 {
 			device_type = "serial";
 			compatible = "ns16550";
diff --git a/arch/mips/boot/dts/xlp5xx-linux-kernel.dts b/arch/mips/boot/dts/xlp5xx-linux-kernel.dts
index 07df5e6..57c18c3 100644
--- a/arch/mips/boot/dts/xlp5xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp5xx-linux-kernel.dts
@@ -16,6 +16,53 @@
 		ranges = <0 0  0 0x18000000  0x04000000   // PCIe CFG
 			  1 0  0 0x16000000  0x02000000>; // GBU chipselects
 
+                clocks {
+                        #address-cells = <0>;
+                        #size-cells = <0>;
+
+                        refclk: refclk {
+                                compatible = "netlogic,xlp-ref-clock";
+                                #clock-cells = <0>;
+                                clk-output-names = "refclk";
+                                clock-frequency = <133333333>;
+                        };
+                        cpupll: cpupll {
+                                compatible = "netlogic,xlp-cpu-clock";
+                                clocks = <&refclk>;
+                                clk-output-names = "cpu-pll";
+                        };
+                        dmcpll: dmcpll {
+                                compatible = "netlogic,xlp-dmc-clock";
+                                clocks = <&refclk>;
+                                clock-output-names = "dmc-pll", "mmc-clk", "nand-clk";
+                        };
+                        syspll: syspll {
+                                compatible = "netlogic,xlp-sys-clock";
+                                clocks = <&refclk>;
+                                clock-output-names = "sys-pll";
+                        };
+                        pll1: pll1 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <400000000>;
+                                clock-output-names = "pll1";
+                        };
+                        pll2: pll2 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <500000000>;
+                                clock-output-names = "pll2";
+                        };
+                        pll3: pll3 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <667000000>;
+                                clock-output-names = "pll3";
+                        };
+                };
 		serial0: serial@30000 {
 			device_type = "serial";
 			compatible = "ns16550";
diff --git a/arch/mips/boot/dts/xlp8xx-linux-kernel.dts b/arch/mips/boot/dts/xlp8xx-linux-kernel.dts
index c9a4966..be096da 100644
--- a/arch/mips/boot/dts/xlp8xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux-kernel.dts
@@ -16,6 +16,53 @@
 		ranges = <0 0  0 0x18000000  0x04000000   // PCIe CFG
 			  1 0  0 0x16000000  0x02000000>; // GBU chipselects
 
+                clocks {
+                        #address-cells = <0>;
+                        #size-cells = <0>;
+
+                        refclk: refclk {
+                                compatible = "netlogic,xlp-ref-clock";
+                                #clock-cells = <0>;
+                                clk-output-names = "refclk";
+                                clock-frequency = <133333333>;
+                        };
+                        cpupll: cpupll {
+                                compatible = "netlogic,xlp-cpu-clock";
+                                clocks = <&refclk>;
+                                clk-output-names = "cpu-pll";
+                        };
+                        dmcpll: dmcpll {
+                                compatible = "netlogic,xlp-dmc-clock";
+                                clocks = <&refclk>;
+                                clock-output-names = "dmc-pll", "mmc-clk", "nand-clk";
+                        };
+                        syspll: syspll {
+                                compatible = "netlogic,xlp-sys-clock";
+                                clocks = <&refclk>;
+                                clock-output-names = "sys-pll";
+                        };
+                        pll1: pll1 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <400000000>;
+                                clock-output-names = "pll1";
+                        };
+                        pll2: pll2 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <500000000>;
+                                clock-output-names = "pll2";
+                        };
+                        pll3: pll3 {
+                                compatible = "netlogic,xlp-dev-clock";
+                                clocks = <&refclk>;
+                                #clock-cells = <0>;
+                                clock-frequency = <667000000>;
+                                clock-output-names = "pll3";
+                        };
+		};
 		serial0: serial@30000 {
 			device_type = "serial";
 			compatible = "ns16550";
diff --git a/arch/mips/boot/dts/xlp9xx-linux-kernel.dts b/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
index 9a342e3..c529b92 100644
--- a/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux-kernel.dts
@@ -16,6 +16,54 @@
 		ranges = <0 0  0 0x18000000  0x04000000   // PCIe CFG
 			  1 0  0 0x16000000  0x02000000>; // GBU chipselects
 
+	        clocks {
+			#address-cells = <0>;
+			#size-cells = <0>;
+
+			refclk: refclk {
+				compatible = "netlogic,xlp-ref-clock";
+                                #clock-cells = <0>;
+                                clk-output-names = "refclk";
+                                clock-frequency = <133333333>;
+			};
+			cpupll: cpupll {
+				compatible = "netlogic,xlp-cpu-clock";
+				clocks = <&refclk>;
+                                clk-output-names = "cpu-pll";
+			};
+			dmcpll: dmcpll {
+				compatible = "netlogic,xlp-dmc-clock";
+				clocks = <&refclk>;
+				clock-output-names = "dmc-pll", "mmc-clk", "nand-clk";
+			};
+			syspll: syspll {
+				compatible = "netlogic,xlp-sys-clock";
+				clocks = <&refclk>;
+				clock-output-names = "sys-pll";
+			};
+			pll1: pll1 {
+				compatible = "netlogic,xlp-dev-clock";
+				clocks = <&refclk>;
+                                #clock-cells = <0>;
+				clock-frequency = <500000000>;
+				clock-output-names = "pll1";
+			};
+			pll2: pll2 {
+				compatible = "netlogic,xlp-dev-clock";
+				clocks = <&refclk>;
+                                #clock-cells = <0>;
+				clock-frequency = <667000000>;
+				clock-output-names = "pll2";
+			};
+			pll3: pll3 {
+				compatible = "netlogic,xlp-dev-clock";
+				clocks = <&refclk>;
+                                #clock-cells = <0>;
+				clock-frequency = <767000000>;
+				clock-output-names = "pll3";
+			};
+		};
+
 		serial0: serial@30000 {
 			device_type = "serial";
 			compatible = "ns16550";
-- 
1.9.1

