From 2a6bcb998c2622cacefe1ea1af46c338e7d05069 Mon Sep 17 00:00:00 2001
From: Siva Pochiraju <sivap@netlogicmicro.com>
Date: Sat, 2 Oct 2010 14:24:55 -0700
Subject: [PATCH 0202/1532] Made each nae complex optional for parsing

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/nae.dts | 27 ++++++++++++++++++---------
 1 file changed, 18 insertions(+), 9 deletions(-)

diff --git a/arch/mips/boot/dts/nae.dts b/arch/mips/boot/dts/nae.dts
index cf49955..1d54483 100644
--- a/arch/mips/boot/dts/nae.dts
+++ b/arch/mips/boot/dts/nae.dts
@@ -43,17 +43,26 @@
 		ucore_mask = <0xffff 0xffff 0xffff 0xffff>;
 	};
 
-	complex@1 {
-		device_type = "nae-complex";
-		mode = "xaui";
-	};
 	complex@2 {
 		device_type = "nae-complex";
-		mode = "interlaken";
-	};
-	complex@3 {
-		device_type = "nae-complex";
-		mode = "interlaken";
+		mode = "xaui";
+		loopback_mode = <0>;
+
+		// Max ingress fifo size 256 units (size of one unit is 64 byte)
+		iface_fifo_sizes = <52>;
+
+		// Max parser sequence fifo size 1024 packets 
+		// (if 1588 Timestamp is not required, then max size increases to 2048)
+		num_channels = <8>;
+		parser_sequence_fifo_sizes = <53>;
+
+		// Since rx_buffer is per context, we can have a few different ways
+		//  to populate the operand
+		rx_buffer_sizes = <20 20 20 20 20 20 20 20>;
+
+		num_free_descs = <32>;
+		free_desc_sizes = <1536>;
+		ucore_mask = <0xffff>;
 	};
 	complex@4 {
 		device_type = "nae-complex";
-- 
1.9.1

