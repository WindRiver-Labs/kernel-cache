From 507f99c7000d980c341cbb340591e1e7f131a576 Mon Sep 17 00:00:00 2001
From: Hareesh R <hareesh@netlogicmicro.com>
Date: Fri, 28 Oct 2011 18:53:58 +0530
Subject: [PATCH 0261/1532] sync and async vc added for crypto library

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/helinux.dts | 4 ++++
 arch/mips/boot/dts/linux.dts   | 2 ++
 arch/mips/boot/dts/netos.dts   | 2 ++
 3 files changed, 8 insertions(+)

diff --git a/arch/mips/boot/dts/helinux.dts b/arch/mips/boot/dts/helinux.dts
index 92d4c0f..30b2f53 100644
--- a/arch/mips/boot/dts/helinux.dts
+++ b/arch/mips/boot/dts/helinux.dts
@@ -30,6 +30,8 @@
 				onlinemask = <0xffffffff>;
                                 nae-rx-vc = <1>;
                                 nae-fb-vc = <2>;
+				sae-rx-vc = <1>; /* sharing with nae */
+				sae-rx-sync-vc = <3>; /* should be exclusive */
 
 			};
 			uart {
@@ -79,6 +81,8 @@
 				onlinemask = <0xffff>;
                                 nae-rx-vc = <0>;
                                 nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <0xffffffff>; /* -1 nothing left out as kernel using 2 vcs */
                                 /* Setting this to '1' makes NAE driver to skip buf alloction and initial
                                    sending of packet buffers*/
                                 nae-buf-alloc-by-app = <1>; 
diff --git a/arch/mips/boot/dts/linux.dts b/arch/mips/boot/dts/linux.dts
index 9ee37ef..e03fa54 100644
--- a/arch/mips/boot/dts/linux.dts
+++ b/arch/mips/boot/dts/linux.dts
@@ -30,6 +30,8 @@
 				onlinemask = <0xffffffff>;
                                 nae-rx-vc = <0>;
                                 nae-fb-vc = <1>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc  = <3>; /* should be exclusive */
 			};
 			uart {
 				id = <0>;
diff --git a/arch/mips/boot/dts/netos.dts b/arch/mips/boot/dts/netos.dts
index 2f0b431..1419315 100644
--- a/arch/mips/boot/dts/netos.dts
+++ b/arch/mips/boot/dts/netos.dts
@@ -48,6 +48,8 @@
 				onlinemask = <0x1>;
                                 nae-rx-vc = <0>;
                                 nae-fb-vc = <3>;
+				sae-rx-vc = <0>; /* sharing with nae */
+				sae-rx-sync-vc = <2>; /* should be exclusive */
 
                                 /* Setting this to '1' makes NAE driver to skip buf alloction and initial
                                    sending of packet buffers*/
-- 
1.9.1

