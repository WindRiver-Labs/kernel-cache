From f59828f5e644517db832503bb3761c8e5d915e5d Mon Sep 17 00:00:00 2001
From: Om Narasimhan <onarasimhan@netlogicmicro.com>
Date: Tue, 2 Aug 2011 19:47:55 -0700
Subject: [PATCH 1071/1532] changes for new IRT-MAP subsystem.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/misc/netlogic/nae-perf/xlp_nae.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/misc/netlogic/nae-perf/xlp_nae.c b/drivers/misc/netlogic/nae-perf/xlp_nae.c
index 75124d4..0f956dc 100755
--- a/drivers/misc/netlogic/nae-perf/xlp_nae.c
+++ b/drivers/misc/netlogic/nae-perf/xlp_nae.c
@@ -59,7 +59,7 @@
 
 #include <asm/netlogic/hal/nlm_hal_fmn.h>
 #include <asm/netlogic/hal/nlm_hal_nae.h>
-#include <asm/netlogic/hal/nlm_hal_pic.h>
+#include <asm/netlogic/xlp_hal_pic.h>
 
 #include "net_common.h"
 #include "xlp_nae.h"
@@ -2232,14 +2232,14 @@ static void nlm_xlp_mac_timer(unsigned long data)
 
 		/* Send IRQ_MSGRING vector in an IPI to all cpus but the current one */
 		if (cpumask_lo)
-			nlm_hal_write_pic_reg(mmio, PIC_IPI_CTL, (IRQ_MSGRING << 20) | cpumask_lo );
+			nlm_hal_write_pic_reg(mmio, PIC_IPI_CTL, (XLP_IRQ_MSGRING << 20) | cpumask_lo );
 
 		if (cpumask_hi)
-			nlm_hal_write_pic_reg(mmio, PIC_IPI_CTL, (IRQ_MSGRING << 20) | (1 << 16)
+			nlm_hal_write_pic_reg(mmio, PIC_IPI_CTL, (XLP_IRQ_MSGRING << 20) | (1 << 16)
 					      | (cpumask_hi));
 
 		/* Run IPI handler on this cpu too */
-		nlm_xlp_msgring_int_handler(IRQ_MSGRING, NULL);
+		nlm_xlp_msgring_int_handler(XLP_IRQ_MSGRING, NULL);
 	}
 
         priv->link_timer.expires = jiffies + next_tick;
-- 
1.9.1

