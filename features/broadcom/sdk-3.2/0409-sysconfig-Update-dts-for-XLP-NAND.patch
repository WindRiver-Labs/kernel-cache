From 3eddc32b54257a679b6c0a8f73328f149a5b8759 Mon Sep 17 00:00:00 2001
From: Kamlakant Patel <kamlakant.patel@broadcom.com>
Date: Fri, 13 Sep 2013 12:16:35 +0530
Subject: [PATCH 0409/1532] sysconfig: Update dts for XLP NAND

Add interrupt and ecc properties for nand flash driver in dts.
Updated for xlp8xx, xlp3xx and xlp2xx.
[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp2xx-linux-tmpl.dts | 4 ++++
 arch/mips/boot/dts/xlp3xx-linux-tmpl.dts | 4 ++++
 arch/mips/boot/dts/xlp8xx-linux-tmpl.dts | 4 ++++
 3 files changed, 12 insertions(+)

diff --git a/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts
index d310996..7131e7a 100644
--- a/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp2xx-linux-tmpl.dts
@@ -127,6 +127,10 @@
 			#size-cells = <1>;
 			reg = <0 0x39000 0x1000>;
 
+			interrupts = <43>;
+			interrupt-parent = <&pic>;
+			nand-ecc-mode = "hw";
+
 			partition@0 {
 				label = "firmware";
 				reg = <0x0 0x20000000>;
diff --git a/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts
index d5ced30..c8b9c7d 100644
--- a/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp3xx-linux-tmpl.dts
@@ -128,6 +128,10 @@
 			#size-cells = <1>;
 			reg = <0 0x39000 0x1000>;
 
+			interrupts = <43>;
+			interrupt-parent = <&pic>;
+			nand-ecc-mode = "hw";
+
 			partition@0 {
 				label = "firmware";
 				reg = <0x0 0x20000000>;
diff --git a/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts b/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
index 4d511fb..f80d21c 100644
--- a/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
+++ b/arch/mips/boot/dts/xlp8xx-linux-tmpl.dts
@@ -128,6 +128,10 @@
 			#size-cells = <1>;
 			reg = <0 0x39000 0x1000>;
 
+			interrupts = <43>;
+			interrupt-parent = <&pic>;
+			nand-ecc-mode = "hw";
+
 			partition@0 {
 				label = "firmware";
 				reg = <0x0 0x20000000>;
-- 
1.9.1

