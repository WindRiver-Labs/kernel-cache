From 8e61f9d4db27734fd6bd29897bfa716231c0dcf4 Mon Sep 17 00:00:00 2001
From: Sreenidhi B R <sreenira@broadcom.com>
Date: Fri, 17 May 2013 16:01:56 +0530
Subject: [PATCH 0691/1532] nae: use correct datatype

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/src/netsoc_config.c | 4 ++--
 arch/mips/netlogic/lib/netlib/src/netsoc_pcs.c    | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_config.c b/arch/mips/netlogic/lib/netlib/src/netsoc_config.c
index 6af9f5a..417322b 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_config.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_config.c
@@ -590,7 +590,7 @@ int __netsoc_parse_and_init(void *fdt, int dom_id)
 				netsoc_api_print(NETSOC_APIDBG_ERROR,"%s: Memory allocation failed\n",__func__);
 				return -1;
 			}
-			memset((char *)nae, 0 ,sizeof(nae));
+			memset((char *)nae, 0 ,sizeof(nae_t));
 			nae->node = node;
                         nae->nae_id = id;       // nae_id - physical nae block number on a node
 
@@ -633,7 +633,7 @@ int __netsoc_parse_and_init(void *fdt, int dom_id)
 				netsoc_api_print(NETSOC_APIDBG_ERROR,"%s: Memory allocation failed\n",__func__);
 				return -1; 
 			}
-			memset((char *)poe, 0 ,sizeof(poe));
+			memset((char *)poe, 0 ,sizeof(poe_t));
 			poe->node = node;
                         poe->poe_id = id;
 			__netsoc_update_poe_defaultconfig(poe);
diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_pcs.c b/arch/mips/netlogic/lib/netlib/src/netsoc_pcs.c
index 7f57041..2325c9a 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_pcs.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_pcs.c
@@ -957,7 +957,7 @@ void __netsoc_sgmii_pcs_init(nae_t *nae, uint32_t sgmii_cplx_mask)
 void __netsoc_xaui_pcs_init(nae_t *nae, uint32_t xaui_cplx_mask, uint32_t phymode)
 {
 #if !defined(XLP_SIM) || defined(NLM_BOARD)
-	if (is_nlm_xlp2xx()) {
+	if (is_nlm_xlp9xx()) {
 		xlp9xx_xaui_pcs_init(nae, xaui_cplx_mask, phymode);
 	}
 	else if (is_nlm_xlp2xx()) {
-- 
1.9.1

