From 26c1ddf060a0566cc661b493c8b6bf86e4774c27 Mon Sep 17 00:00:00 2001
From: Vikas Gupta <vikas.gupta@broadcom.com>
Date: Fri, 12 Dec 2014 19:58:04 +0530
Subject: [PATCH 1061/1532] nae xlgmac: Fix for configuring XLAUI h/w
 addresses.

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/netlib/src/netsoc_nae.c | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

diff --git a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
index a85cbe6..c7e87d8 100644
--- a/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
+++ b/arch/mips/netlogic/lib/netlib/src/netsoc_nae.c
@@ -3151,15 +3151,15 @@ void __netsoc_setup_hwaddr(net_port_t *netport, unsigned char *dev_addr)
 			break;
 		case XLAUI_IF:
 			mac_base = netsoc_get_macreg_base_for_xlgmac(nae->mac_base, netport->hw_port_id);
-			netsoc_write_mac_reg(mac_base, XLAUI_MAC_ADDR_0,
-                		                (dev_addr[5] << 24) |
-                                		(dev_addr[4] << 16) |
-                                		(dev_addr[3] << 8)  |
-                                		(dev_addr[2]));
-
-			netsoc_write_mac_reg(mac_base, XLAUI_MAC_ADDR_1,
-                                		(dev_addr[1] << 24) |
-                                		(dev_addr[0] << 16));
+			__netsoc_write_xlgmac_reg(netport, XLAUI_MAC_ADDR_0,
+                		                (dev_addr[3] << 24) |
+                                		(dev_addr[2] << 16) |
+                                		(dev_addr[1] << 8)  |
+                                		(dev_addr[0]));
+
+			__netsoc_write_xlgmac_reg(netport, XLAUI_MAC_ADDR_1,
+                                		(dev_addr[5] << 8) |
+                                		(dev_addr[4]));
 
 			break;
 		case INTERLAKEN_IF:
-- 
1.9.1

