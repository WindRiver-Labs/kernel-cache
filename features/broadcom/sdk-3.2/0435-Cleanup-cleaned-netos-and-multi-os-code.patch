From 01580edef5e12088ff65d92d07882f0b739b9eab Mon Sep 17 00:00:00 2001
From: Abhishek Joshi <abjoshi@broadcom.com>
Date: Thu, 12 Dec 2013 15:31:05 +0530
Subject: [PATCH 0435/1532] Cleanup: cleaned netos and multi-os code

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/mn4xlp8xx-helinux-nae.dts       |   4 +-
 arch/mips/boot/dts/mn4xlp8xx-helinux-nat.dts       |   8 +-
 .../mips/boot/dts/mn4xlp8xx-hybrid-nae-helinux.dts |   8 +-
 arch/mips/boot/dts/mnxlp8xx-helinux-nae.dts        |   4 +-
 arch/mips/boot/dts/mnxlp8xx-helinux-nat-32GB.dts   |   8 +-
 arch/mips/boot/dts/mnxlp8xx-helinux-nat.dts        |   8 +-
 arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts |   8 +-
 arch/mips/boot/dts/netos-srtp.dts                  |  88 -------
 arch/mips/boot/dts/xlp2xx-dpi-nae-sgmii-mc.dts     |   2 -
 arch/mips/boot/dts/xlp2xx-dpi-nae-xaui-mc.dts      |   2 -
 arch/mips/boot/dts/xlp2xx-helinux.dts              |   4 +-
 arch/mips/boot/dts/xlp2xx-multi-os.dts             | 221 -----------------
 arch/mips/boot/dts/xlp2xx-netos.dts                | 102 --------
 arch/mips/boot/dts/xlp3xx-dpi-nae-sgmii-mc.dts     |   2 -
 arch/mips/boot/dts/xlp3xx-dpi-nae-xaui-mc.dts      |   2 -
 arch/mips/boot/dts/xlp3xx-helinux.dts              |   4 +-
 arch/mips/boot/dts/xlp3xx-multi-os.dts             | 224 -----------------
 arch/mips/boot/dts/xlp3xx-netos.dts                | 105 --------
 arch/mips/boot/dts/xlp4xx-helinux.dts              |   8 +-
 arch/mips/boot/dts/xlp4xx-multi-os.dts             | 224 -----------------
 arch/mips/boot/dts/xlp4xx-netos.dts                | 104 --------
 arch/mips/boot/dts/xlp8xx-helinux-nat.dts          |   4 +-
 arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts      |   4 +-
 arch/mips/boot/dts/xlp8xx-helinux-snort.dts        |   8 +-
 arch/mips/boot/dts/xlp8xx-helinux.dts              |   8 +-
 arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts   |   8 +-
 arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts     | 168 -------------
 arch/mips/boot/dts/xlp8xx-multi-os.dts             | 274 ---------------------
 arch/mips/boot/dts/xlp8xx-netos-nat.dts            |  97 --------
 arch/mips/boot/dts/xlp8xx-netos.dts                | 144 -----------
 arch/mips/boot/dts/xlp8xx-pcienet-netos.dts        | 137 -----------
 arch/mips/boot/dts/xlp8xx-pcieperf-netos.dts       | 137 -----------
 arch/mips/boot/dts/xlp9xx-helinux-nat.dts          |   8 +-
 arch/mips/boot/dts/xlp9xx-helinux.dts              |   8 +-
 arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts   |   8 +-
 arch/mips/boot/dts/xlr.dts                         |   2 -
 36 files changed, 30 insertions(+), 2125 deletions(-)
 delete mode 100644 arch/mips/boot/dts/netos-srtp.dts
 delete mode 100644 arch/mips/boot/dts/xlp2xx-multi-os.dts
 delete mode 100644 arch/mips/boot/dts/xlp2xx-netos.dts
 delete mode 100644 arch/mips/boot/dts/xlp3xx-multi-os.dts
 delete mode 100644 arch/mips/boot/dts/xlp3xx-netos.dts
 delete mode 100644 arch/mips/boot/dts/xlp4xx-multi-os.dts
 delete mode 100644 arch/mips/boot/dts/xlp4xx-netos.dts
 delete mode 100644 arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
 delete mode 100644 arch/mips/boot/dts/xlp8xx-multi-os.dts
 delete mode 100644 arch/mips/boot/dts/xlp8xx-netos-nat.dts
 delete mode 100644 arch/mips/boot/dts/xlp8xx-netos.dts
 delete mode 100644 arch/mips/boot/dts/xlp8xx-pcienet-netos.dts
 delete mode 100644 arch/mips/boot/dts/xlp8xx-pcieperf-netos.dts

diff --git a/arch/mips/boot/dts/mn4xlp8xx-helinux-nae.dts b/arch/mips/boot/dts/mn4xlp8xx-helinux-nae.dts
index e31e295..c95f80b 100644
--- a/arch/mips/boot/dts/mn4xlp8xx-helinux-nae.dts
+++ b/arch/mips/boot/dts/mn4xlp8xx-helinux-nae.dts
@@ -87,7 +87,7 @@
 		};
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
@@ -102,8 +102,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/mn4xlp8xx-helinux-nat.dts b/arch/mips/boot/dts/mn4xlp8xx-helinux-nat.dts
index 26465bd..d0c0b85 100644
--- a/arch/mips/boot/dts/mn4xlp8xx-helinux-nat.dts
+++ b/arch/mips/boot/dts/mn4xlp8xx-helinux-nat.dts
@@ -68,7 +68,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // not used
 			shared-mem = <0x0 0xe0000000 0x1 0x00000000>; // 4GB @ 3.5GB
@@ -83,8 +83,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -134,7 +132,7 @@
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>;               // not used
 			shared-mem = <0x2 0xb0000000 0x1 0x00000000>;  // 4GB @ 11008MB
@@ -149,8 +147,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/mn4xlp8xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/mn4xlp8xx-hybrid-nae-helinux.dts
index b843b73..dcbdd83 100644
--- a/arch/mips/boot/dts/mn4xlp8xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/mn4xlp8xx-hybrid-nae-helinux.dts
@@ -79,7 +79,7 @@
 		};
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
@@ -94,8 +94,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -139,7 +137,7 @@
 		};
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x2 0x29000000 0x0 0x04000000>;  // 64MB @ 8848MB
@@ -154,8 +152,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/mnxlp8xx-helinux-nae.dts b/arch/mips/boot/dts/mnxlp8xx-helinux-nae.dts
index 73e89b2..dafea20 100644
--- a/arch/mips/boot/dts/mnxlp8xx-helinux-nae.dts
+++ b/arch/mips/boot/dts/mnxlp8xx-helinux-nae.dts
@@ -87,7 +87,7 @@
 		};
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
@@ -102,8 +102,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/mnxlp8xx-helinux-nat-32GB.dts b/arch/mips/boot/dts/mnxlp8xx-helinux-nat-32GB.dts
index 94377d8..3d09b7a 100644
--- a/arch/mips/boot/dts/mnxlp8xx-helinux-nat-32GB.dts
+++ b/arch/mips/boot/dts/mnxlp8xx-helinux-nat-32GB.dts
@@ -74,7 +74,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // not used
 			shared-mem = <0x0 0xe0000000 0x1 0x00000000>; // 4GB @ 3.5GB
@@ -89,8 +89,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -140,7 +138,7 @@
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>;               // not used
 			shared-mem = <0x4 0xbc800000 0x1 0x00000000>;  // 4GB @ 19400MB
@@ -155,8 +153,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/mnxlp8xx-helinux-nat.dts b/arch/mips/boot/dts/mnxlp8xx-helinux-nat.dts
index 517c4b5..f456766 100644
--- a/arch/mips/boot/dts/mnxlp8xx-helinux-nat.dts
+++ b/arch/mips/boot/dts/mnxlp8xx-helinux-nat.dts
@@ -75,7 +75,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // not used
 			shared-mem = <0x0 0xe0000000 0x1 0x00000000>; // 4GB @ 3.5GB
@@ -90,8 +90,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -141,7 +139,7 @@
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>;               // not used
 			shared-mem = <0x2 0xb0000000 0x1 0x00000000>;  // 4GB @ 11008MB
@@ -156,8 +154,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
index ab27c3f..55d2b4e 100644
--- a/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/mnxlp8xx-hybrid-nae-helinux.dts
@@ -72,7 +72,7 @@
 		};
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
@@ -87,8 +87,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -132,7 +130,7 @@
 		};
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x2 0x29000000 0x0 0x04000000>;  // 64MB @ 8848MB
@@ -147,8 +145,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/netos-srtp.dts b/arch/mips/boot/dts/netos-srtp.dts
deleted file mode 100644
index d43c0a8..0000000
--- a/arch/mips/boot/dts/netos-srtp.dts
+++ /dev/null
@@ -1,88 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x8000000>; // 128M for SRTP app
-			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffffffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
-			};
-
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-			owner-config {
-				nae = <0x0>;
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-};
diff --git a/arch/mips/boot/dts/xlp2xx-dpi-nae-sgmii-mc.dts b/arch/mips/boot/dts/xlp2xx-dpi-nae-sgmii-mc.dts
index 79db4c3..ebb9a5c 100644
--- a/arch/mips/boot/dts/xlp2xx-dpi-nae-sgmii-mc.dts
+++ b/arch/mips/boot/dts/xlp2xx-dpi-nae-sgmii-mc.dts
@@ -78,8 +78,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp2xx-dpi-nae-xaui-mc.dts b/arch/mips/boot/dts/xlp2xx-dpi-nae-xaui-mc.dts
index d49f586..865b673 100644
--- a/arch/mips/boot/dts/xlp2xx-dpi-nae-xaui-mc.dts
+++ b/arch/mips/boot/dts/xlp2xx-dpi-nae-xaui-mc.dts
@@ -87,8 +87,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp2xx-helinux.dts b/arch/mips/boot/dts/xlp2xx-helinux.dts
index 5ce0e20..84f1abc 100644
--- a/arch/mips/boot/dts/xlp2xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp2xx-helinux.dts
@@ -69,7 +69,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
@@ -84,8 +84,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp2xx-multi-os.dts b/arch/mips/boot/dts/xlp2xx-multi-os.dts
deleted file mode 100644
index 24c906f..0000000
--- a/arch/mips/boot/dts/xlp2xx-multi-os.dts
+++ /dev/null
@@ -1,221 +0,0 @@
-/* XLP2XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-FVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-	/*memory range for linux. This will not appear in dom0*/
-        memory {
-                device_type = "memory";
-                reg =  <0 0x01000000 0 0x0F000000 // 240M at 16M   
-                        0 0x20000000 0 0x20000000>; // 512M at 512M
-        };
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x4e800000 0x10000000>; /* 1256MB -> 1512MB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0x0f>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x62800000 0x0 0x02000000>;  // 1576MB -> 1608MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "ampload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xf0>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x5E800000 0x04000000>;  // 1512M -> 1576M (64M)
-			};
-			nae {
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-		};
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x68800000 0x0 0x02000000>;  // 1672MB -> 1704MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x0f00>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x64800000 0x04000000>;  // 1608M ->1672 M (64M) 
-			};
-			nae {
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-			};
-		};
-	        dom@3 {
-                        device_type = "domain";
-                        os = "netos";
-
-                        heap-size = <0x0 0x2000000>;                   // 32M
-                        shared-mem = <0x0 0x7a800000 0x0 0x02000000>;  // 1960MB -> 1992MB (32MB)
-
-                        #address-cells = <1>;
-                        #size-cells = <1>;
-
-                        app-bootcmd = "ampload";
-                        app-loadaddr = "0x82800000"; // 2088Mb
-
-                        kernel {
-                                /* Kernel Memory allocated from xen domain-heap */
-                                size = <0x02000000>;  // 32M
-
-                                /* Location in Dom0 ramdisk */
-                                location = "/tmp/xen/netos.elf";
-
-                                /* Domain destroy currently doesn't work with hyperexec */
-                                dom_destroy_hack = <0>;
-                        };
-
-                        cpu {
-                                onlinemask = <0xf000>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-                        };
-                        uart {
-                                id = <0>;
-                                sharedcfg = <0x1f000000>;
-                        };
-                        memory {
-                                reg = <0x6a800000 0x10000000>;  // 1704M -> 1960M (256MB)
-                        };
-                        nae {
-                        };
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-			};
-                };
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <250>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <333>;  /* sub-multiple of 667 */
-		cde = <250>;
-	};
-};
-
diff --git a/arch/mips/boot/dts/xlp2xx-netos.dts b/arch/mips/boot/dts/xlp2xx-netos.dts
deleted file mode 100644
index 29e6411..0000000
--- a/arch/mips/boot/dts/xlp2xx-netos.dts
+++ /dev/null
@@ -1,102 +0,0 @@
-/* XLP2XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-FVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
-			};
-			app-param{
-                                onlinemask = <0xff>;
-				enable-nae-jumbo = <0>;
-				enable-nae-hw-parser = <0>;
-				enable-nae-p2p = <0>;
-                        };
-			nae{
-			};
-			owner-config {
-				nae = <0x1>;
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999>;
-                        };
-		};
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <250>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <333>;  /* sub-multiple of 667 */
-		cde = <250>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlp3xx-dpi-nae-sgmii-mc.dts b/arch/mips/boot/dts/xlp3xx-dpi-nae-sgmii-mc.dts
index f6f80cc..35e5488 100644
--- a/arch/mips/boot/dts/xlp3xx-dpi-nae-sgmii-mc.dts
+++ b/arch/mips/boot/dts/xlp3xx-dpi-nae-sgmii-mc.dts
@@ -78,8 +78,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp3xx-dpi-nae-xaui-mc.dts b/arch/mips/boot/dts/xlp3xx-dpi-nae-xaui-mc.dts
index 8f56359..4fd46f7 100644
--- a/arch/mips/boot/dts/xlp3xx-dpi-nae-xaui-mc.dts
+++ b/arch/mips/boot/dts/xlp3xx-dpi-nae-xaui-mc.dts
@@ -78,8 +78,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp3xx-helinux.dts b/arch/mips/boot/dts/xlp3xx-helinux.dts
index 8ca2e18..618c251 100644
--- a/arch/mips/boot/dts/xlp3xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp3xx-helinux.dts
@@ -72,7 +72,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
@@ -87,8 +87,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp3xx-multi-os.dts b/arch/mips/boot/dts/xlp3xx-multi-os.dts
deleted file mode 100644
index 4bc53b9..0000000
--- a/arch/mips/boot/dts/xlp3xx-multi-os.dts
+++ /dev/null
@@ -1,224 +0,0 @@
-/* XLP3XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-SVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-	/*memory range for linux. This will not appear in dom0*/
-        memory {
-                device_type = "memory";
-                reg =  <0 0x01000000 0 0x0F000000   //240M at 16M
-                        0 0x20000000 0 0x20000000>; // 512M at 512M
-        };
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x4e800000 0x10000000>; /* 1256MB -> 1512MB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0x0f>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x62800000 0x0 0x02000000>;  // 1576MB -> 1608MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "ampload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xf0>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x5E800000 0x04000000>;  // 1512M -> 1576M (64M)
-			};
-			nae {
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-		};
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x68800000 0x0 0x02000000>;  // 1672MB -> 1704MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x0f00>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x64800000 0x04000000>;  // 1608M ->1672 M (64M) 
-			};
-			nae {
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-		};
-	        dom@3 {
-                        device_type = "domain";
-                        os = "netos";
-
-                        heap-size = <0x0 0x2000000>;                   // 32M
-                        shared-mem = <0x0 0x7a800000 0x0 0x02000000>;  // 1960MB -> 1992MB (32MB)
-
-                        #address-cells = <1>;
-                        #size-cells = <1>;
-
-                        app-bootcmd = "ampload";
-                        app-loadaddr = "0x82800000"; // 2088Mb
-
-                        kernel {
-                                /* Kernel Memory allocated from xen domain-heap */
-                                size = <0x02000000>;  // 32M
-
-                                /* Location in Dom0 ramdisk */
-                                location = "/tmp/xen/netos.elf";
-
-                                /* Domain destroy currently doesn't work with hyperexec */
-                                dom_destroy_hack = <0>;
-                        };
-
-                        cpu {
-                                onlinemask = <0xf000>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-                        };
-                        uart {
-                                id = <0>;
-                                sharedcfg = <0x1f000000>;
-                        };
-                        memory {
-                                reg = <0x6a800000 0x10000000>;  // 1704M -> 1960M (256MB)
-                        };
-                        nae {
-                        };
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-                };
-	
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <250>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
-
diff --git a/arch/mips/boot/dts/xlp3xx-netos.dts b/arch/mips/boot/dts/xlp3xx-netos.dts
deleted file mode 100644
index 8f19a89..0000000
--- a/arch/mips/boot/dts/xlp3xx-netos.dts
+++ /dev/null
@@ -1,105 +0,0 @@
-/* XLP3XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-SVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
-			};
-			app-param{
-                                onlinemask = <0xffff>;
-				enable-nae-jumbo = <0>;
-				enable-nae-hw-parser = <0>;
-				enable-nae-p2p = <0>;
-                        };
-			nae{
-			};
-			owner-config {
-				nae = <0x1>;   // currently for node 0
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-		};
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <250>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlp4xx-helinux.dts b/arch/mips/boot/dts/xlp4xx-helinux.dts
index ce9e204..0a1e30f 100644
--- a/arch/mips/boot/dts/xlp4xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp4xx-helinux.dts
@@ -61,7 +61,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 256M @ 1GB
@@ -76,8 +76,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -129,7 +127,7 @@
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x48000000 0x0 0x10000000>; // 128M @ 1152Mb
@@ -144,8 +142,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp4xx-multi-os.dts b/arch/mips/boot/dts/xlp4xx-multi-os.dts
deleted file mode 100644
index 8183951..0000000
--- a/arch/mips/boot/dts/xlp4xx-multi-os.dts
+++ /dev/null
@@ -1,224 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-	/*memory range for linux. This will not appear in dom0*/
-        memory {
-                device_type = "memory";
-                reg =  <0 0x01000000 0 0x0f000000   // 240M at 16M   
-			0 0x20000000 0 0x60000000>;  //  512M at 512M
-        };
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=4 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x4e800000 0x10000000>; /* 1256MB -> 1512MB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0x0f>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x62800000 0x0 0x02000000>;  // 1576MB -> 1608MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "ampload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <1>;
-			};
-
-			cpu {
-				onlinemask = <0xf0>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x5E800000 0x04000000>;  // 1512M -> 1576M (64M)
-			};
-			nae {
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-		};
-		dom@2 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;                   // 32M
-			shared-mem = <0x0 0x68800000 0x0 0x02000000>;  // 1672MB -> 1704MB (32MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x82800000"; // 2088 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0x0f00>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x64800000 0x04000000>;  // 1608M ->1672 M (64M) 
-			};
-			nae {
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-		};
-	        dom@3 {
-                        device_type = "domain";
-                        os = "netos";
-
-                        heap-size = <0x0 0x2000000>;                   // 32M
-                        shared-mem = <0x0 0x7a800000 0x0 0x02000000>;  // 1960MB -> 1992MB (32MB)
-
-                        #address-cells = <1>;
-                        #size-cells = <1>;
-
-                        app-bootcmd = "ampload";
-                        app-loadaddr = "0x82800000"; // 2088Mb
-
-                        kernel {
-                                /* Kernel Memory allocated from xen domain-heap */
-                                size = <0x02000000>;  // 32M
-
-                                /* Location in Dom0 ramdisk */
-                                location = "/tmp/xen/netos.elf";
-
-                                /* Domain destroy currently doesn't work with hyperexec */
-                                dom_destroy_hack = <0>;
-                        };
-
-                        cpu {
-                                onlinemask = <0xf000>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <1>;
-                        };
-                        uart {
-                                id = <0>;
-                                sharedcfg = <0x1f000000>;
-                        };
-                        memory {
-                                reg = <0x6a800000 0x10000000>;  // 1704M -> 1960M (256MB)
-                        };
-                        nae {
-                        };
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-                };
-	
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <500>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
-
diff --git a/arch/mips/boot/dts/xlp4xx-netos.dts b/arch/mips/boot/dts/xlp4xx-netos.dts
deleted file mode 100644
index f08de36..0000000
--- a/arch/mips/boot/dts/xlp4xx-netos.dts
+++ /dev/null
@@ -1,104 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0x40000000 0x0 0x10000000>; //  1GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x2000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0x20000000>;  // 2560M @ 512M
-			};
-			app-param{
-                                onlinemask = <0xffff>;
-				enable-nae-jumbo = <0>;
-				enable-nae-hw-parser = <0>;
-				enable-nae-p2p = <0>;
-                        };
-			nae{
-			};
-			owner-config {
-				nae = <0x1>;   // currently for node 0
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-		};
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <500>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-nat.dts b/arch/mips/boot/dts/xlp8xx-helinux-nat.dts
index 5167b8a..36737f9 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-nat.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-nat.dts
@@ -81,7 +81,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0xe0000000 0x1 0x00000000>; // 4GB @ 3.5GB
@@ -96,8 +96,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts b/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
index 2c5bd7a..d04fe6e 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-pcienet.dts
@@ -59,7 +59,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>; // 32M
 			shared-mem = <0x0 0x50000000 0x0 0x20000000>; // 512M @ 1.25GB
@@ -74,8 +74,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp8xx-helinux-snort.dts b/arch/mips/boot/dts/xlp8xx-helinux-snort.dts
index 7c23aa9..b1361da 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux-snort.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux-snort.dts
@@ -61,7 +61,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
@@ -76,8 +76,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -163,7 +161,7 @@
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x48000000 0x0 0x10000000>; // 128M @ 1152Mb
@@ -178,8 +176,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp8xx-helinux.dts b/arch/mips/boot/dts/xlp8xx-helinux.dts
index d359277..2591cd1 100644
--- a/arch/mips/boot/dts/xlp8xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp8xx-helinux.dts
@@ -74,7 +74,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x40000000 0x0 0x10000000>; // 128M @ 1GB
@@ -89,8 +89,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -185,7 +183,7 @@
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 			shared-mem = <0x0 0x48000000 0x0 0x10000000>; // 128M @ 1152Mb
@@ -200,8 +198,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts
index 8155349..103bb8e 100644
--- a/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/xlp8xx-hybrid-nae-helinux.dts
@@ -80,7 +80,7 @@
 		};
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
@@ -95,8 +95,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -143,7 +141,7 @@
 		};
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x2 0x29000000 0x0 0x04000000>;  // 64MB @ 8848MB
@@ -158,8 +156,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts b/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
deleted file mode 100644
index 5e06f93..0000000
--- a/arch/mips/boot/dts/xlp8xx-hybrid-nae-netos.dts
+++ /dev/null
@@ -1,168 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-	/*memory range for linux. This will not appear in dom0*/
-        memory {
-                device_type = "memory";
-                reg =  <0 0x02000000 0 0x0A000000   
-                        0 0x20000000 0 0x20000000>;
-        };
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <0>;
-		bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0xf0000000 0xc0000000>; /* 3584MB -> 6656MB */
-	};
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "linux";
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			cpu {
-				onlinemask = <0xf>;
-				nae-rx-vc = <0>;
-				nae-fb-vc = <1>;
-				napi-vc-mask = <0x3>;
-			};
-			uart {
-				id = <0>;
-				owner = <1>;
-				sharedcfg = <0x1f000000>;
-			};
-			nae {
-				freein-fifo-mask = <0x30000 0 0 0>;
-				sh-domains = <1>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <32 32 32 32>;
-				vfbtbl-hw-offset = <0 0 0 0>;
-				vfbtbl-hw-nentries = <0 0 0 0>;
-			};
-			owner-config {
-				nae = <0x1>;   // currently for node 0
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-			fmn {
-				node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-				node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-				node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-				node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-			};
-
-
-		};
-		dom@1 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>;		   // 32M
-			shared-mem = <0x0 0xe0000000 0x0 0x04000000>;  // 3584MB -> 3648 MB (64MB)
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xf0>;
-				nae-rx-vc = <2>;
-				nae-fb-vc = <2>;
-			};
-			uart {
-				id = <0>;
-				sharedcfg = <0x1f000000>;
-			};
-			memory {
-				reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
-			};
-			nae {
-				freein-fifo-mask = <0xffff 0 0 0>;
-				sh-domains = <0>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <0 0 0 0>;
-				vfbtbl-hw-offset = <32 32 32 32>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-				/* replenish info syntax */
-				freein-fifo-replenish-by-owner = <1>;
-				/* < node paddr-H32bits paddr-L32bits size-H32bits size-L32bits */
-				freein-fifo-replenish-addr-info = <0x0 0x0 0x80000000 0x0 0x10000000>; /* 256M @2048M*/
-				/* < node fifomask descsize headroom ndescs > */
-				freein-fifo-replenish-desc-info = <0 0xffff 2048 0 64>;
-			};
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x0>;
-			};
-
-			app-param {
-				shm-id = <0>;
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	/* These binaries are downloaded at the resp physical memory locations
-	 * by their corresponding bootstrapping loaders. For example,
-	 * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-	 * at 1M, hypervisor by u-boot hypervisor at 136M.
-	 * On simulator all these binaries are pre-loaded by using '-F' option
-	 * for convenience. On silicon, they will be loaded by their corresponding
-	 * temporary download locations the stage-1/stage-2 firmware
-	 */
-	firmware-download {
-		u-boot	= <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-		sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-		hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-		dom0	  = <0x09000000 0x03000000>; /* 48M @ 144M */
-		domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <500>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
-
diff --git a/arch/mips/boot/dts/xlp8xx-multi-os.dts b/arch/mips/boot/dts/xlp8xx-multi-os.dts
deleted file mode 100644
index 39d9977..0000000
--- a/arch/mips/boot/dts/xlp8xx-multi-os.dts
+++ /dev/null
@@ -1,274 +0,0 @@
-/* XLP8XX Device Tree Source
- *
- */
-
-/dts-v1/;
-/ {
-
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-	/*memory range for linux. This will not appear in dom0*/
-    memory {
-                device_type = "memory";
-                reg =  <0 0x01000000 0 0x0F000000   
-                        0 0x20000000 0 0x10000000
-                        0 0x80000000 0 0x10000000>;
-     };
-
-    hypervisor {
-        hypervisor-name = "Xen";
-        alloc_dom0_memory = <0>;
-        bootargs = "ncores=8 dom0_loadaddr=0x72000000 dom0_size=0x1c000000 dom0_cpumask=0xf -- ";
-        domain_heap = <0xf0000000 0xc0000000>; /* 3584MB -> 6656MB */
-    };
-    doms {
-        #address-cells = <1>;
-        #size-cells = <1>;
-        dom@0 {
-            device_type = "domain";
-            os = "linux";
-
-            #address-cells = <1>;
-            #size-cells = <1>;
-
-            cpu {
-                onlinemask = <0xf>;
-                nae-rx-vc = <0>;
-                nae-fb-vc = <1>;
-                napi-vc-mask = <0x3>;
-            };
-            uart {
-                id = <0>;
-                owner = <1>;
-                sharedcfg = <0x1f000000>;
-            };
-            memory {
-                reg = <    0x01000000 0x0F000000    // 240M at 16M
-                           0x20000000 0x10000000    // 256M at 512M
-                           0x80000000 0x10000000>;  // 256M at 2G
-            };
-            fmn {
-                node_0_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                node_1_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                node_2_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-                node_3_vc_mask = <0x33333333 0x33333333 0x33333333 0x33333333>;
-            };
-			owner-config {
-				nae = <0x0>;
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-        };
-        dom@1 {
-            device_type = "domain";
-            os = "netos";
-
-            heap-size = <0x0 0x02000000>;                   // 32M
-            shared-mem = <0x0 0xe0000000 0x0 0x04000000>;  // 3584MB -> 3648 MB (64MB)
-
-            #address-cells = <1>;
-            #size-cells = <1>;
-
-            app-bootcmd = "smpload";
-            app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-            kernel {
-                /* Kernel Memory allocated from xen domain-heap */
-                size = <0x02000000>;  // 32M
-
-                /* Location in Dom0 ramdisk */
-                location = "/tmp/xen/netos.elf";
-
-                /* Domain destroy currently doesn't work with hyperexec */
-                dom_destroy_hack = <0>;
-            };
-
-            cpu {
-                onlinemask = <0xf0>;
-                nae-rx-vc = <0>;
-                nae-fb-vc = <1>;
-            };
-            uart {
-                id = <0>;
-                sharedcfg = <0x1f000000>;
-            };
-            memory {
-                reg = <0x50000000 0x10000000>;  // 1280M -> 1536M (256M)
-            };
-            nae {
-            };
-	    owner-config {
-	    	nae = <0x0>;
-		sae = <0x0>;
-		rsa = <0x0>;
-		fmn = <0x0>;
-	    };
-            kbp {
-                /* distribute total of 4096 buffer id across cpus. required only for cpus sending requests.
-                 * note : KBP compare/search instructions must use even-numbered buffers. i.e. (buffer_id & 0x1 == 0) is True
-                 */
-                buffers-cpuid-offset-quantity = <  0    0   64
-                                                   1   64   64
-                                                   2  128   64
-                                                   3  192   64
-                                                   4  256   64
-                                                   5  320   64
-                                                   6  384   64
-                                                   7  448   64
-                                                   8  512   64
-                                                   9  576   64
-                                                  10  640   64
-                                                  11  704   64
-                                                  12  768   64
-                                                  13  832   64
-                                                  14  896   64
-                                                  15  960   64
-                                                  16 1024   64
-                                                  17 1088   64
-                                                  18 1152   64
-                                                  19 1216   64
-                                                  20 1280   64
-                                                  21 1344   64
-                                                  22 1408   64
-                                                  23 1472   64
-                                                  24 1536   64
-                                                  25 1600   64
-                                                  26 1664   64
-                                                  27 1728   64
-                                                  28 1792   64
-                                                  29 1856   64
-                                                  30 1920   64
-                                                  31 1984   64>;
-                /* starting address for KBP Driver Data. two 32-bit unsigned integers forms one 64-bit memory address.
-                 * kbp driver requires 2 MBytes of dedicated memory space to store data */
-                memory-offsethigh-offsetlow = <0x00000001 0x00000000>;
-            };
-        };
-        dom@2 {
-            device_type = "domain";
-            os = "netos";
-
-            heap-size = <0x0 0x2000000>;                   // 32M
-            shared-mem = <0x0 0xe4000000 0x0 0x04000000>;  // 3648MB -> 3712 (64MB)
-
-            #address-cells = <1>;
-            #size-cells = <1>;
-
-            app-bootcmd = "smpload";
-            app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-            kernel {
-                /* Kernel Memory allocated from xen domain-heap */
-                size = <0x02000000>;  // 32M
-
-                /* Location in Dom0 ramdisk */
-                location = "/tmp/xen/netos.elf";
-
-                /* Domain destroy currently doesn't work with hyperexec */
-                dom_destroy_hack = <0>;
-            };
-
-            cpu {
-                onlinemask = <0x000fff00>;
-                nae-rx-vc = <0>;
-                nae-fb-vc = <1>;
-            };
-            uart {
-                id = <0>;
-                sharedcfg = <0x1f000000>;
-            };
-            memory {
-                reg = <0x60000000 0x20000000>;  // 1536M -> 2048M (512M)
-            };
-            nae {
-            };
-	    owner-config {
-	    	nae = <0x0>;
-		sae = <0x0>;
-		rsa = <0x0>;
-		fmn = <0x0>;
-	    };
-        };
-        dom@3 {
-            device_type = "domain";
-            os = "netos";
-
-            heap-size = <0x0 0x2000000>;                   // 32M
-            shared-mem = <0x0 0xe8000000 0x0 0x04000000>;  // 3712MB -> 3776 MB (64MB)
-
-            #address-cells = <1>;
-            #size-cells = <1>;
-
-            app-bootcmd = "ampload";
-            app-loadaddr = "0xf4000000"; // 3.75 GB + 64 MB
-
-            kernel {
-                /* Kernel Memory allocated from xen domain-heap */
-                size = <0x02000000>;  // 32M
-
-                /* Location in Dom0 ramdisk */
-                location = "/tmp/xen/netos.elf";
-
-                /* Domain destroy currently doesn't work with hyperexec */
-                dom_destroy_hack = <0>;
-            };
-
-            cpu {
-                onlinemask = <0xfff00000>;
-                nae-rx-vc = <0>;
-                nae-fb-vc = <1>;
-            };
-            uart {
-                id = <0>;
-                sharedcfg = <0x1f000000>;
-            };
-            memory {
-                reg = <0x90000000 0x30000000>;  // 2304M -> 3072M (768MB)
-            };
-            nae {
-            };
-	    owner-config {
-	    	nae = <0x0>;
-		fmn = <0x0>;
-	    };
-        };
-    };
-
-    chosen {
-        bootargs = " console=ttyS0,115200 ";
-    };
-
-    /* These binaries are downloaded at the resp physical memory locations
-     * by their corresponding bootstrapping loaders. For example,
-     * u-boot is loaded by x-load at 193M, sysconfig is loaded by u-boot
-     * at 1M, hypervisor by u-boot hypervisor at 136M.
-     * On simulator all these binaries are pre-loaded by using '-F' option
-     * for convenience. On silicon, they will be loaded by their corresponding
-     * temporary download locations the stage-1/stage-2 firmware
-     */
-    firmware-download {
-        u-boot        = <0x0c100000 0x3f00000>;  /* 63M @ 193M */
-        sysconfig     = <0x00100000 0x00100000>; /* 1M @ 1M */
-        hypervisor    = <0x08800000 0x00800000>; /* 8M @ 136M */
-        dom0          = <0x09000000 0x03000000>; /* 48M @ 144M */
-        domU-ramdisk  = <0x60000000 0x60800000>; /* 8M @ 1536M */
-    };
-
-    soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-    };
-    frequency-config {
-	nae = <500>;
-	sae = <500>;
-	rsa = <500>;
-	dtre = <250>;
-	cde = <250>;
-    };
-};
-
diff --git a/arch/mips/boot/dts/xlp8xx-netos-nat.dts b/arch/mips/boot/dts/xlp8xx-netos-nat.dts
deleted file mode 100644
index e207712..0000000
--- a/arch/mips/boot/dts/xlp8xx-netos-nat.dts
+++ /dev/null
@@ -1,97 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0xe0000000 0x1 0x00000000>; // 128M @ 3.5GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffffffff>;
-                                nae-rx-vc = <2>;
-                                nae-fb-vc = <3>;
-
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
-			};
-			app-param{
-                                onlinemask = <0xffff>;
-				enable-nae-jumbo = <0>;
-                        };
-			nae {
-				freein-fifo-mask = <0xffff 0 0 0>;
-				/* node offsets and size */
-				vfbtbl-sw-offset = <0 0 0 0>;
-				vfbtbl-sw-nentries = <0 0 0 0>;
-				/* hw entries */
-				vfbtbl-hw-offset = <32 32 32 32>;
-				vfbtbl-hw-nentries = <20 20 20 20>;
-			};
-			owner-config {
-				nae = <0x1>;   // currently for node 0
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <500>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlp8xx-netos.dts b/arch/mips/boot/dts/xlp8xx-netos.dts
deleted file mode 100644
index 80dfcf5..0000000
--- a/arch/mips/boot/dts/xlp8xx-netos.dts
+++ /dev/null
@@ -1,144 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0xe0000000 0x0 0x10000000>; // 128M @ 3.5GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0xf0000000"; // 3.75GB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffffffff>;
-                                nae-rx-vc = <0>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0xa0000000>;  // 2560M @ 512M
-			};
-			app-param{
-                                onlinemask = <0xffffffff>;
-				enable-nae-jumbo = <0>;
-				enable-nae-hw-parser = <0>;
-				enable-nae-p2p = <0>;
-                        };
-			nae{
-			};
-			owner-config {
-				nae = <0x1>;   // currently for node 0
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-            kbp {
-                /* distribute total of 4096 buffer id across cpus. required only for cpus sending requests.
-                 * note : KBP compare/search instructions must use even-numbered buffers. i.e. (buffer_id & 0x1 == 0) is True
-                 */
-                buffers-cpuid-offset-quantity = <  0    0   64
-                                                   1   64   64
-                                                   2  128   64
-                                                   3  192   64
-                                                   4  256   64
-                                                   5  320   64
-                                                   6  384   64
-                                                   7  448   64
-                                                   8  512   64
-                                                   9  576   64
-                                                  10  640   64
-                                                  11  704   64
-                                                  12  768   64
-                                                  13  832   64
-                                                  14  896   64
-                                                  15  960   64
-                                                  16 1024   64
-                                                  17 1088   64
-                                                  18 1152   64
-                                                  19 1216   64
-                                                  20 1280   64
-                                                  21 1344   64
-                                                  22 1408   64
-                                                  23 1472   64
-                                                  24 1536   64
-                                                  25 1600   64
-                                                  26 1664   64
-                                                  27 1728   64
-                                                  28 1792   64
-                                                  29 1856   64
-                                                  30 1920   64
-                                                  31 1984   64>;
-                /* starting address for KBP Driver Data. two 32-bit unsigned integers forms one 64-bit memory address.
-                 * kbp driver requires 2 MBytes of dedicated memory space to store data */
-                memory-offsethigh-offsetlow = <0x00000001 0x00000000>;
-            };
-		};
-	};
-
-	chosen {
-		bootargs = " console=ttyS0,115200 ";
-	};
-
-	soc {
-		nodes {
-			num-nodes = <1>;
-		};
-
-	};
-	frequency-config {
-		nae = <500>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlp8xx-pcienet-netos.dts b/arch/mips/boot/dts/xlp8xx-pcienet-netos.dts
deleted file mode 100644
index e6df821..0000000
--- a/arch/mips/boot/dts/xlp8xx-pcienet-netos.dts
+++ /dev/null
@@ -1,137 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0x50000000 0x0 0x20000000>; // 512M @ 1.25GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x48000000"; // 1GB+128MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffff>;
-                                nae-rx-vc = <1>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0x20000000>;  // 512M @ 512M
-			};
-			app-param{
-                                onlinemask = <0xffff>;
-                        };
-
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-            kbp {
-                /* distribute total of 4096 buffer id across cpus. required only for cpus sending requests.
-                 * note : KBP compare/search instructions must use even-numbered buffers. i.e. (buffer_id & 0x1 == 0) is True
-                 */
-                buffers-cpuid-offset-quantity = <  0    0   64
-                                                   1   64   64
-                                                   2  128   64
-                                                   3  192   64
-                                                   4  256   64
-                                                   5  320   64
-                                                   6  384   64
-                                                   7  448   64
-                                                   8  512   64
-                                                   9  576   64
-                                                  10  640   64
-                                                  11  704   64
-                                                  12  768   64
-                                                  13  832   64
-                                                  14  896   64
-                                                  15  960   64
-                                                  16 1024   64
-                                                  17 1088   64
-                                                  18 1152   64
-                                                  19 1216   64
-                                                  20 1280   64
-                                                  21 1344   64
-                                                  22 1408   64
-                                                  23 1472   64
-                                                  24 1536   64
-                                                  25 1600   64
-                                                  26 1664   64
-                                                  27 1728   64
-                                                  28 1792   64
-                                                  29 1856   64
-                                                  30 1920   64
-                                                  31 1984   64>;
-                /* starting address for KBP Driver Data. two 32-bit unsigned integers forms one 64-bit memory address.
-                 * kbp driver requires 2 MBytes of dedicated memory space to store data */
-                memory-offsethigh-offsetlow = <0x00000001 0x00000000>;
-            };
-			owner-config {
-				nae = <0x1>;
-				sae = <0x1>;
-				rsa = <0x1>;
-				fmn = <0x1>;
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	soc {
-
-	};
-	frequency-config {
-		nae = <500>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlp8xx-pcieperf-netos.dts b/arch/mips/boot/dts/xlp8xx-pcieperf-netos.dts
deleted file mode 100644
index 451a9bc..0000000
--- a/arch/mips/boot/dts/xlp8xx-pcieperf-netos.dts
+++ /dev/null
@@ -1,137 +0,0 @@
-/* XLP8XX Device Tree Source 
- *
- */
-
-/dts-v1/;
-/ {
-	model = "netlogic,XLP-EVP";
-        compatible = "netlogic,xlp";
-        #address-cells = <2>;
-        #size-cells = <2>;
-
-	hypervisor {
-		hypervisor-name = "Xen";
-		alloc_dom0_memory = <1>;
-		bootargs = "dom0_loadaddr=0x72000000 dom0_cpumask=0x0f -- ";
-		domain_heap = <0x50000000 0x20000000>;
-	};
-
-	doms {
-		#address-cells = <1>;
-		#size-cells = <1>;
-		dom@0 {
-			device_type = "domain";
-			os = "netos";
-
-			heap-size = <0x0 0x2000000>; // 32M
-			shared-mem = <0x0 0x40000000 0x0 0x8000000>; // 128M @ 1GB
-
-			#address-cells = <1>;
-			#size-cells = <1>;
-
-			app-bootcmd = "smpload";
-			app-loadaddr = "0x48000000"; // 1GB+128MB
-
-			kernel {
-				/* Kernel Memory allocated from xen domain-heap */
-				size = <0x02000000>;  // 32M
-
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
-
-				/* Domain destroy currently doesn't work with hyperexec */
-				dom_destroy_hack = <0>;
-			};
-
-			cpu {
-				onlinemask = <0xffffffff>;
-                                nae-rx-vc = <1>;
-                                nae-fb-vc = <3>;
-				sae-rx-vc = <0>; /* sharing with nae */
-				sae-rx-sync-vc = <2>; /* should be exclusive */
-
-                                /* Setting this to '1' makes NAE driver to skip buf alloction and initial
-                                   sending of packet buffers*/
-                                nae-buf-alloc-by-app = <1>; 
-			};
-			uart {
-				id = <0>;
-			};
-			memory {
-				reg = <0x20000000 0x20000000>;  // 512M @ 512M
-			};
-			app-param{
-                                onlinemask = <0xffffffff>;
-                        };
-
-			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
-                        fmn {
-                                node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_2_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                                node_3_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-                        };
-            kbp {
-                /* distribute total of 4096 buffer id across cpus. required only for cpus sending requests.
-                 * note : KBP compare/search instructions must use even-numbered buffers. i.e. (buffer_id & 0x1 == 0) is True
-                 */
-                buffers-cpuid-offset-quantity = <  0    0   64
-                                                   1   64   64
-                                                   2  128   64
-                                                   3  192   64
-                                                   4  256   64
-                                                   5  320   64
-                                                   6  384   64
-                                                   7  448   64
-                                                   8  512   64
-                                                   9  576   64
-                                                  10  640   64
-                                                  11  704   64
-                                                  12  768   64
-                                                  13  832   64
-                                                  14  896   64
-                                                  15  960   64
-                                                  16 1024   64
-                                                  17 1088   64
-                                                  18 1152   64
-                                                  19 1216   64
-                                                  20 1280   64
-                                                  21 1344   64
-                                                  22 1408   64
-                                                  23 1472   64
-                                                  24 1536   64
-                                                  25 1600   64
-                                                  26 1664   64
-                                                  27 1728   64
-                                                  28 1792   64
-                                                  29 1856   64
-                                                  30 1920   64
-                                                  31 1984   64>;
-                /* starting address for KBP Driver Data. two 32-bit unsigned integers forms one 64-bit memory address.
-                 * kbp driver requires 2 MBytes of dedicated memory space to store data */
-                memory-offsethigh-offsetlow = <0x00000001 0x00000000>;
-            };
-			owner-config {
-				nae = <0x0>;
-				sae = <0x0>;
-				rsa = <0x0>;
-				fmn = <0x1>;
-			};
-		};
-	};
-
-	chosen {
-		bootargs = " xlp_noi2c console=ttyS0,115200 ";
-	};
-
-	soc {
-
-	};
-	frequency-config {
-		nae = <500>;
-		sae = <500>;
-		rsa = <500>;
-		dtre = <250>;
-		cde = <250>;
-	};
-};
diff --git a/arch/mips/boot/dts/xlp9xx-helinux-nat.dts b/arch/mips/boot/dts/xlp9xx-helinux-nat.dts
index a25f4f9..0b47818 100644
--- a/arch/mips/boot/dts/xlp9xx-helinux-nat.dts
+++ b/arch/mips/boot/dts/xlp9xx-helinux-nat.dts
@@ -94,7 +94,7 @@ pktmem {
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
             shared-mem =  <0x0 0xe0000000 0x1 0x00000000>; // 4GB @ 3.5GB 
@@ -109,8 +109,6 @@ pktmem {
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -192,7 +190,7 @@ pktmem {
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 
@@ -206,8 +204,6 @@ pktmem {
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp9xx-helinux.dts b/arch/mips/boot/dts/xlp9xx-helinux.dts
index fe418b2..7a6a187 100644
--- a/arch/mips/boot/dts/xlp9xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp9xx-helinux.dts
@@ -80,7 +80,7 @@
 
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 
@@ -94,8 +94,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -164,7 +162,7 @@
 
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x8000000>; // 128M
 
@@ -178,8 +176,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts b/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts
index cccacc3..e22230d 100644
--- a/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts
+++ b/arch/mips/boot/dts/xlp9xx-hybrid-nae-helinux.dts
@@ -93,7 +93,7 @@
 		};
 		dom@1 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x1 0x00000000 0x0 0x04000000>;  // 64MB @ 4G
@@ -108,8 +108,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
@@ -171,7 +169,7 @@
 		};
 		dom@2 {
 			device_type = "domain";
-			os = "netos";
+			os = "uspace";
 
 			heap-size = <0x0 0x2000000>;		   // 32M
 			shared-mem = <0x2 0x29000000 0x0 0x04000000>;  // 64MB @ 8848MB
@@ -186,8 +184,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
diff --git a/arch/mips/boot/dts/xlr.dts b/arch/mips/boot/dts/xlr.dts
index cccfcce..a111ff2 100644
--- a/arch/mips/boot/dts/xlr.dts
+++ b/arch/mips/boot/dts/xlr.dts
@@ -25,8 +25,6 @@
 				/* Kernel Memory allocated from xen domain-heap */
 				size = <0x02000000>;  // 32M
 
-				/* Location in Dom0 ramdisk */
-				location = "/tmp/xen/netos.elf";
 
 				/* Domain destroy currently doesn't work with hyperexec */
 				dom_destroy_hack = <0>;
-- 
1.9.1

