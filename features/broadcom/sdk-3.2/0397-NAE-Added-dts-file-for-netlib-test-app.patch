From 3cb39559b4d655adec40dc36364076e6c7f6879a Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthi.annadurai@broadcom.com>
Date: Fri, 2 Aug 2013 15:29:40 -0700
Subject: [PATCH 0397/1532] NAE: Added dts file for netlib test app

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp9xx-helinux.dts |  2 +-
 arch/mips/boot/dts/xlp9xx-linux.dts   | 44 ++++++++++++++++++++++++++++++++---
 2 files changed, 42 insertions(+), 4 deletions(-)

diff --git a/arch/mips/boot/dts/xlp9xx-helinux.dts b/arch/mips/boot/dts/xlp9xx-helinux.dts
index 510fb8f..c4a05aa7 100644
--- a/arch/mips/boot/dts/xlp9xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp9xx-helinux.dts
@@ -99,7 +99,7 @@
 
 			cpu {
 				onlinemask = <0xffff>;
-                                nae-rx-vc = <0>;
+                                nae-rx-vc = <2>;
                                 nae-fb-vc = <3>;
 				dtre-rx-vc = <2>;
 				lzs-vc = <2>;
diff --git a/arch/mips/boot/dts/xlp9xx-linux.dts b/arch/mips/boot/dts/xlp9xx-linux.dts
index 72da438..655c7ab 100644
--- a/arch/mips/boot/dts/xlp9xx-linux.dts
+++ b/arch/mips/boot/dts/xlp9xx-linux.dts
@@ -109,7 +109,7 @@
 			device_type = "domain";
 
 			cpu {   
-                                onlinemask = <0xffffffff 0x0 0x0>; 
+                                onlinemask = <0xffff 0x0 0x0>; 
                                 nae-rx-vc = <2>;
 			};
 
@@ -124,6 +124,38 @@
 					sram-off = <0 0 0 0>;
 				};
 				net@1 {
+                                        port-mask = <0 0 0 0>;
+                                        frinlifo-mask = <0 0 0 0>;
+                                        frinlifo-shared-mode = <0 0 0 0>;
+                                        vfbid-sw-offset = <0 0 0 0>;
+                                        vfbid-sw-entries = <0 0 0 0>;
+                                        ucore-mask = <0 0 0 0>;
+                                        sram-off = <0 0 0 0>;
+                                };
+			};
+			app-param{
+                                onlinemask = <0xffff>;
+			};
+		};
+                dom@2 { 
+                        device_type = "domain";
+
+                        cpu {   
+                                onlinemask = <0xffff0000 0x0 0x0>;
+                                nae-rx-vc = <2>;
+                        };
+
+                        resource-allocation {
+                                net@0 { 
+                                        port-mask = <0x0 0 0 0>;
+                                        frinlifo-mask = <0x00 0 0 0>;
+                                        frinlifo-shared-mode = <0 0 0 0>;
+                                        vfbid-sw-offset = <0 0 0 0>;
+                                        vfbid-sw-entries = <0 0 0 0>;
+                                        ucore-mask = <0x0 0 0 0>;
+                                        sram-off = <0 0 0 0>;
+                                };
+                                net@1 { 
                                         port-mask = <0x3 0 0 0>;
                                         frinlifo-mask = <0xff 0 0 0>;
                                         frinlifo-shared-mode = <0xff 0 0 0>;
@@ -132,8 +164,14 @@
                                         ucore-mask = <0xc 0 0 0>;
                                         sram-off = <0 0 0 0>;
                                 };
-			};
-		};
+                        };
+			app-param{
+                                onlinemask = <0xffff0000>;
+                        };
+
+                };
+
+
 	};
 	chosen {
 		/* examples for different core/thread models.
-- 
1.9.1

