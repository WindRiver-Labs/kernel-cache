From 1ee16345a4fae3f901182ca26ac88fa21b08b7c0 Mon Sep 17 00:00:00 2001
From: yan sun <yansun@broadcom.com>
Date: Mon, 9 Sep 2013 18:03:52 -0700
Subject: [PATCH 0786/1532] ale: modified number of bubbles added

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/lib/alelib/ale_node_db.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/mips/netlogic/lib/alelib/ale_node_db.c b/arch/mips/netlogic/lib/alelib/ale_node_db.c
index 53168c0..0ae4a8d 100644
--- a/arch/mips/netlogic/lib/alelib/ale_node_db.c
+++ b/arch/mips/netlogic/lib/alelib/ale_node_db.c
@@ -77,7 +77,7 @@ ale_create_btree(ale_btree_node_t* btree,
         if(prefix[i].pfx_len > 32)
            long_prefix++;  
     }
-    if(prefix_cnt < 400){//insert dummy prefixes
+    if(prefix_cnt + 3 * long_prefix < ALE_NODE_PER_BANK/2){//insert dummy prefixes
         uint32_t prefix_string[4];
         for(i = prefix_cnt; i < 2 * ALE_NODE_PER_BANK - 3 * long_prefix; i++){
             prefix_string[0] = i;
-- 
1.9.1

