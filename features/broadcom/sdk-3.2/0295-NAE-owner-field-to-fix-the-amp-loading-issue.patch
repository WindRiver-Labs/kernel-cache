From ef8c5b091bcbfb4a65d57855a2fc1cce929b166b Mon Sep 17 00:00:00 2001
From: Hareesh R <hareeshr@broadcom.com>
Date: Thu, 15 Mar 2012 23:50:54 +0530
Subject: [PATCH 0295/1532] NAE owner field to fix the amp loading issue

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/boot/dts/xlp3xx-helinux.dts | 4 +++-
 arch/mips/boot/dts/xlp3xx-netos.dts   | 3 +++
 arch/mips/boot/dts/xlp4xx-netos.dts   | 4 +++-
 arch/mips/boot/dts/xlp8xx-netos.dts   | 4 +++-
 4 files changed, 12 insertions(+), 3 deletions(-)

diff --git a/arch/mips/boot/dts/xlp3xx-helinux.dts b/arch/mips/boot/dts/xlp3xx-helinux.dts
index b4b8f46..74a3b70 100644
--- a/arch/mips/boot/dts/xlp3xx-helinux.dts
+++ b/arch/mips/boot/dts/xlp3xx-helinux.dts
@@ -93,7 +93,9 @@
 			app-param{
 				onlinemask = <0xffff>;
 			};
-
+			nae{
+				owner = <1>;
+			};
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
                                 node_1_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
diff --git a/arch/mips/boot/dts/xlp3xx-netos.dts b/arch/mips/boot/dts/xlp3xx-netos.dts
index d7de5cf..5c57145 100644
--- a/arch/mips/boot/dts/xlp3xx-netos.dts
+++ b/arch/mips/boot/dts/xlp3xx-netos.dts
@@ -65,6 +65,9 @@
 			app-param{
                                 onlinemask = <0xffff>;
                         };
+			nae{
+				owner = <1>;
+			};
 			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
diff --git a/arch/mips/boot/dts/xlp4xx-netos.dts b/arch/mips/boot/dts/xlp4xx-netos.dts
index 2988a48..9260682 100644
--- a/arch/mips/boot/dts/xlp4xx-netos.dts
+++ b/arch/mips/boot/dts/xlp4xx-netos.dts
@@ -64,7 +64,9 @@
 			app-param{
                                 onlinemask = <0xffff>;
                         };
-
+			nae{
+				owner = <1>;
+			};
 			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
diff --git a/arch/mips/boot/dts/xlp8xx-netos.dts b/arch/mips/boot/dts/xlp8xx-netos.dts
index 6aa1099..8d7c531 100644
--- a/arch/mips/boot/dts/xlp8xx-netos.dts
+++ b/arch/mips/boot/dts/xlp8xx-netos.dts
@@ -64,7 +64,9 @@
 			app-param{
                                 onlinemask = <0xffffffff>;
                         };
-
+			nae{
+				owner = <1>;
+			};
 			/* In hyperexec-linux mode, vc_mask needs to be synchronized with linux fmn node! */
                         fmn {
                                 node_0_vc_mask = <0x99999999 0x99999999 0x99999999 0x99999999>;
-- 
1.9.1

