From fa110b01900964d29f2ff80a8e2f6bf54186536f Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthia@netlogicmicro.com>
Date: Mon, 30 Jan 2012 10:08:16 +0530
Subject: [PATCH 1343/1532] Removed naecfg_hack

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/broadcom/nae/net_common.h | 5 -----
 drivers/net/ethernet/broadcom/nae/xlp_nae.c    | 7 ++-----
 2 files changed, 2 insertions(+), 10 deletions(-)

diff --git a/drivers/net/ethernet/broadcom/nae/net_common.h b/drivers/net/ethernet/broadcom/nae/net_common.h
index d67f2f5..9cecbcf 100644
--- a/drivers/net/ethernet/broadcom/nae/net_common.h
+++ b/drivers/net/ethernet/broadcom/nae/net_common.h
@@ -65,11 +65,6 @@ static __inline__ void press_key_to_continue(void) {
 #define press_key_to_continue()
 #endif
 
-enum NAE_REG_CMD {
-	CMD_READ = 0,
-	CMD_WRITE
-};
-
 #define NAE_RX_ENABLE 0x1
 #define NAE_TX_ENABLE 0x1
 
diff --git a/drivers/net/ethernet/broadcom/nae/xlp_nae.c b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
index f343a10..262fa73 100755
--- a/drivers/net/ethernet/broadcom/nae/xlp_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
@@ -300,9 +300,6 @@ static int drop_uboot_pkt = 1;
 module_param(drop_uboot_pkt, int, 0);
 static unsigned long stats_uboot_pkts;
 
-extern int naecfg_hack;
-module_param(naecfg_hack, int, 0);
-
 static int rely_on_firmware_config = 1;
 module_param(rely_on_firmware_config, int, 0);
 
@@ -765,8 +762,8 @@ static void nlm_xlp_nae_init(void)
 	}
 
 	printk("======= Module Parameters =========\n");
-	printk("debug = %d, frin_desc_thres=%d naecfg_hack=%d drop_uboot_pkt=%d\n",
-	       debug, frin_desc_thres, naecfg_hack, drop_uboot_pkt);
+	printk("debug = %d, frin_desc_thres=%d drop_uboot_pkt=%d\n",
+	       debug, frin_desc_thres, drop_uboot_pkt);
 	printk("rely_on_firmware_config = %d\n", rely_on_firmware_config);
 
 	if (initialize_nae(cpu_mask[0], cpu_mask[1], cpu_mask[2], cpu_mask[3]))		//FIXME find a better way to do this
-- 
1.9.1

