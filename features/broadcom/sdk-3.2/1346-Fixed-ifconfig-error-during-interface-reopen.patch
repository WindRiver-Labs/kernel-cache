From e570a42a0de34d07db202c8aae53d646fbad7e37 Mon Sep 17 00:00:00 2001
From: Jayanthi A <jayanthia@netlogicmicro.com>
Date: Wed, 8 Feb 2012 12:05:49 +0530
Subject: [PATCH 1346/1532] Fixed ifconfig error during interface reopen

[Based on SDK 3.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/broadcom/nae/xlp_nae.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/broadcom/nae/xlp_nae.c b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
index 15f9ae3..3548017 100755
--- a/drivers/net/ethernet/broadcom/nae/xlp_nae.c
+++ b/drivers/net/ethernet/broadcom/nae/xlp_nae.c
@@ -711,7 +711,7 @@ static int mac_fill_rxfr(struct net_device *dev)
 				get_page(pg);
 			j++;
 			nr_buffs--;
-			atomic_inc(&priv->frin_to_be_sent);
+			atomic_dec(&priv->frin_to_be_sent);
 
 			atomic_inc(&priv->total_frin_sent);
 		}
-- 
1.9.1

