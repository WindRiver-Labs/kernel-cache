From c8ffc1dd57405e4185d732e89334b1936b59ea5c Mon Sep 17 00:00:00 2001
From: Quanyang Wang <quanyang.wang@windriver.com>
Date: Wed, 11 Feb 2015 15:56:31 +0800
Subject: [PATCH 1066/1532] Add SDK libraries Makefiles

These Makefiles are picked from the path "buildroot/output/build/libraries"
in SDK 3.2.

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/netlogic/Makefile                |  1 +
 arch/mips/netlogic/lib/Makefile            |  7 +++++++
 arch/mips/netlogic/lib/alelib/Makefile     |  7 +++++++
 arch/mips/netlogic/lib/cdelib/Makefile     |  7 +++++++
 arch/mips/netlogic/lib/fdt/Makefile        |  1 +
 arch/mips/netlogic/lib/fdt/libfdt/Makefile |  7 +++++++
 arch/mips/netlogic/lib/fmnlib/Makefile     |  8 ++++++++
 arch/mips/netlogic/lib/netlib/Makefile     | 25 +++++++++++++++++++++++++
 arch/mips/netlogic/lib/syslib/Makefile     |  9 +++++++++
 9 files changed, 72 insertions(+)
 create mode 100644 arch/mips/netlogic/lib/Makefile
 create mode 100644 arch/mips/netlogic/lib/alelib/Makefile
 create mode 100644 arch/mips/netlogic/lib/cdelib/Makefile
 create mode 100644 arch/mips/netlogic/lib/fdt/Makefile
 create mode 100644 arch/mips/netlogic/lib/fdt/libfdt/Makefile
 create mode 100644 arch/mips/netlogic/lib/fmnlib/Makefile
 create mode 100644 arch/mips/netlogic/lib/netlib/Makefile
 create mode 100644 arch/mips/netlogic/lib/syslib/Makefile

diff --git a/arch/mips/netlogic/Makefile b/arch/mips/netlogic/Makefile
index 7602d13..93a849f3 100644
--- a/arch/mips/netlogic/Makefile
+++ b/arch/mips/netlogic/Makefile
@@ -2,3 +2,4 @@ obj-$(CONFIG_NLM_COMMON)	+=	common/
 obj-$(CONFIG_CPU_XLR)		+=	xlr/
 obj-$(CONFIG_CPU_XLP)		+=	xlp/
 obj-$(CONFIG_CPU_XLP)		+=	dts/
+obj-$(CONFIG_NLM_XLP_BOARD)    	+=      lib/
diff --git a/arch/mips/netlogic/lib/Makefile b/arch/mips/netlogic/lib/Makefile
new file mode 100644
index 0000000..f1d0b3f
--- /dev/null
+++ b/arch/mips/netlogic/lib/Makefile
@@ -0,0 +1,7 @@
+obj-$(CONFIG_NLM_XLP_BOARD) += alelib/
+obj-$(CONFIG_NLM_XLP_BOARD) += fdt/
+obj-$(CONFIG_NLM_XLP_BOARD) += fmnlib/
+#obj-$(CONFIG_NLM_XLP_BOARD) += lzslib/
+obj-$(CONFIG_NLM_XLP_BOARD) += netlib/
+#obj-$(CONFIG_NLM_XLP_BOARD) += seclib/
+obj-$(CONFIG_NLM_XLP_BOARD) += syslib/
diff --git a/arch/mips/netlogic/lib/alelib/Makefile b/arch/mips/netlogic/lib/alelib/Makefile
new file mode 100644
index 0000000..8a58995
--- /dev/null
+++ b/arch/mips/netlogic/lib/alelib/Makefile
@@ -0,0 +1,7 @@
+ccflags-y := -DNLM_HAL_LINUX_KERNEL -Wno-maybe-uninitialized
+ccflags-y += -Iarch/mips/netlogic/lib/syslib/include
+ccflags-y += -Iarch/mips/netlogic/lib/fmnlib
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt
+
+obj-y += alelib.o
+alelib-objs := ale_api.o ale_fdt.o ale_node_db.o ale_sw_search.o
diff --git a/arch/mips/netlogic/lib/cdelib/Makefile b/arch/mips/netlogic/lib/cdelib/Makefile
new file mode 100644
index 0000000..4f1cb5a
--- /dev/null
+++ b/arch/mips/netlogic/lib/cdelib/Makefile
@@ -0,0 +1,7 @@
+ccflags-y := -DNLM_HAL_LINUX_KERNEL -Wno-maybe-uninitialized
+ccflags-y += -Iarch/mips/netlogic/lib/syslib/include
+ccflags-y += -Iarch/mips/netlogic/lib/fmnlib
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt
+
+obj-y += cdelib.o
+cdelib-objs := cde_hal.o cde_lib.o
diff --git a/arch/mips/netlogic/lib/fdt/Makefile b/arch/mips/netlogic/lib/fdt/Makefile
new file mode 100644
index 0000000..b1b9443
--- /dev/null
+++ b/arch/mips/netlogic/lib/fdt/Makefile
@@ -0,0 +1 @@
+obj-y	+=	libfdt/
diff --git a/arch/mips/netlogic/lib/fdt/libfdt/Makefile b/arch/mips/netlogic/lib/fdt/libfdt/Makefile
new file mode 100644
index 0000000..63ae372
--- /dev/null
+++ b/arch/mips/netlogic/lib/fdt/libfdt/Makefile
@@ -0,0 +1,7 @@
+ccflags-y := -DNLM_HAL_LINUX_KERNEL -DNLM_CORTINA_SUPPORT
+ccflags-y += -Iarch/mips/netlogic/boot/
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt/contrib
+
+obj-y += fdt_interface.o
+fdt_interface-objs := fdt.o fdt_ro.o fdt_wip.o fdt_sw.o fdt_rw.o fdt_strerror.o contrib/fdt_export.o contrib/fdt_helper.o
diff --git a/arch/mips/netlogic/lib/fmnlib/Makefile b/arch/mips/netlogic/lib/fmnlib/Makefile
new file mode 100644
index 0000000..325bd80
--- /dev/null
+++ b/arch/mips/netlogic/lib/fmnlib/Makefile
@@ -0,0 +1,8 @@
+ccflags-y := -DNLM_HAL_LINUX_KERNEL -DNLM_CORTINA_SUPPORT -Wno-maybe-uninitialized -Wno-unused-variable -Wno-undef
+ccflags-y += -Iarch/mips/netlogic/boot/
+ccflags-y += -Iarch/mips/netlogic/lib/syslib/include
+ccflags-y += -Iarch/mips/netlogic/lib/fmnlib
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt/contrib
+obj-y += fmnlib.o
+fmnlib-objs := nlm_hal_fmn_config.o
diff --git a/arch/mips/netlogic/lib/netlib/Makefile b/arch/mips/netlogic/lib/netlib/Makefile
new file mode 100644
index 0000000..cd5f15e7
--- /dev/null
+++ b/arch/mips/netlogic/lib/netlib/Makefile
@@ -0,0 +1,25 @@
+ccflags-y := -DNLM_HAL_LINUX_KERNEL -DNLM_CORTINA_SUPPORT -Wno-maybe-uninitialized -Wno-unused-function -Wno-unused-variable
+ccflags-y += -Iarch/mips/netlogic/boot/
+ccflags-y += -Iarch/mips/netlogic/lib/syslib/include
+ccflags-y += -Iarch/mips/netlogic/lib/fmnlib
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt/contrib
+ccflags-y += -Iarch/mips/netlogic/lib/netlib/include
+ccflags-y += -Iarch/mips/netlogic/lib/netlib/external
+
+CORTINA_DIR = ./external/cortina_cs34x7
+
+obj-y   := netlib.o
+netlib-objs := src/netsoc_api.o src/netsoc_config.o src/netsoc_fdt.o src/netsoc_dbg.o
+netlib-objs   += src/netsoc_nae.o  src/netsoc_pcs.o src/netsoc_bkpl_ether.o src/netsoc_poe.o src/netsoc_parser.o  src/netsoc_msg.o src/netsoc_v1_msg.o
+netlib-objs   += src/ext_phy.o external/ext_phy_mvl.o external/ext_phy_bcm.o
+netlib-objs   += src/nlm_hal_pma2p0_config.o src/nlm_hal_nae.o src/nlm_hal_phy.o
+netlib-objs   += $(CORTINA_DIR)/nlm_cortina_cs34x7.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p1.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p2.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p3.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p4.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p5.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p6.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p7.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p8.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p9.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p10.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p11.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p12.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p1_9xx.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p2_9xx.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p3_9xx.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p4_9xx.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p5_9xx.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p6_9xx.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p7_9xx.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p8_9xx.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p9_9xx.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p10_9xx.o $(CORTINA_DIR)/nlm_cortina_cs34x7_p11_9xx.o \
+$(CORTINA_DIR)/nlm_cortina_cs34x7_p12_9xx.o
diff --git a/arch/mips/netlogic/lib/syslib/Makefile b/arch/mips/netlogic/lib/syslib/Makefile
new file mode 100644
index 0000000..eeb3025
--- /dev/null
+++ b/arch/mips/netlogic/lib/syslib/Makefile
@@ -0,0 +1,9 @@
+ccflags-y := -DNLM_HAL_LINUX_KERNEL -DNLM_CORTINA_SUPPORT -Wno-maybe-uninitialized
+ccflags-y += -Iarch/mips/netlogic/boot/
+ccflags-y += -Iarch/mips/netlogic/lib/syslib/include
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt
+ccflags-y += -Iarch/mips/netlogic/lib/fdt/libfdt/contrib
+
+obj-y += syslib.o
+syslib-objs := src/nlm_hal.o src/nlm_eeprom.o src/nlm_evp_cpld.o src/nlm_hal_cpu_info.o \
+	src/nlm_hal_sys.o
-- 
1.9.1

