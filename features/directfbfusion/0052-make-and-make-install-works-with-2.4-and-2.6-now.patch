From fb132f40ad7c21c26791c79c2ac5f2f6edce52d3 Mon Sep 17 00:00:00 2001
From: Denis Oliver Kropp <dok@directfb.org>
Date: Mon, 15 Dec 2003 17:11:48 +0000
Subject: [PATCH] 'make' and 'make install' works with 2.4 and 2.6 now.

---
 drivers/char/fusion/.cvsignore   |    3 +++
 drivers/char/fusion/Makefile     |    6 ------
 drivers/char/fusion/Makefile-2.4 |    6 ++++++
 drivers/char/fusion/Makefile-2.5 |    3 ---
 drivers/char/fusion/Makefile-2.6 |    3 +++
 5 files changed, 12 insertions(+), 9 deletions(-)
 delete mode 100644 drivers/char/fusion/Makefile
 create mode 100644 drivers/char/fusion/Makefile-2.4
 delete mode 100644 drivers/char/fusion/Makefile-2.5
 create mode 100644 drivers/char/fusion/Makefile-2.6

diff --git a/drivers/char/fusion/.cvsignore b/drivers/char/fusion/.cvsignore
index 06f57a9..a4abad5 100644
--- a/drivers/char/fusion/.cvsignore
+++ b/drivers/char/fusion/.cvsignore
@@ -1,2 +1,5 @@
 *.o.flags
+*.cmd
 Makefile
+fusion.ko
+fusion.mod.c
diff --git a/drivers/char/fusion/Makefile b/drivers/char/fusion/Makefile
deleted file mode 100644
index 4503602..0000000
--- a/drivers/char/fusion/Makefile
+++ /dev/null
@@ -1,6 +0,0 @@
-O_TARGET := fusion.o
-
-obj-y   := call.o fifo.o fusiondev.o fusionee.o list.o property.o reactor.o ref.o skirmish.o
-obj-m   := $(O_TARGET)
-
-include $(TOPDIR)/Rules.make
diff --git a/drivers/char/fusion/Makefile-2.4 b/drivers/char/fusion/Makefile-2.4
new file mode 100644
index 0000000..4503602
--- /dev/null
+++ b/drivers/char/fusion/Makefile-2.4
@@ -0,0 +1,6 @@
+O_TARGET := fusion.o
+
+obj-y   := call.o fifo.o fusiondev.o fusionee.o list.o property.o reactor.o ref.o skirmish.o
+obj-m   := $(O_TARGET)
+
+include $(TOPDIR)/Rules.make
diff --git a/drivers/char/fusion/Makefile-2.5 b/drivers/char/fusion/Makefile-2.5
deleted file mode 100644
index 81b547a..0000000
--- a/drivers/char/fusion/Makefile-2.5
+++ /dev/null
@@ -1,3 +0,0 @@
-obj-$(CONFIG_FUSION_DEVICE) := fusion.o
-
-fusion-objs := call.o fifo.o fusiondev.o fusionee.o list.o property.o reactor.o ref.o skirmish.o
diff --git a/drivers/char/fusion/Makefile-2.6 b/drivers/char/fusion/Makefile-2.6
new file mode 100644
index 0000000..d7d5027
--- /dev/null
+++ b/drivers/char/fusion/Makefile-2.6
@@ -0,0 +1,3 @@
+obj-m += fusion.o
+
+fusion-y := call.o fifo.o fusiondev.o fusionee.o list.o property.o reactor.o ref.o skirmish.o
-- 
1.7.3.3

