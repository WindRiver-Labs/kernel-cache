From 6ca4582934488d0758d7c93934e7dd4199f31f03 Mon Sep 17 00:00:00 2001
From: Jonathan Fournier <jonathan.fournier@windriver.com>
Date: Thu, 28 Aug 2008 08:25:47 -0400
Subject: [PATCH] ipmi serial add sun cp3220 product id

Add the Sun CP3220 ProductID to have the ipmi_serial driver
detects the BMC when the module loads.

Signed-off-by: Jonathan Fournier <jonathan.fournier@windriver.com>
---
 drivers/char/ipmi/ipmi_serial_direct.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/char/ipmi/ipmi_serial_direct.c b/drivers/char/ipmi/ipmi_serial_direct.c
index e59cfca..728c72e 100644
--- a/drivers/char/ipmi/ipmi_serial_direct.c
+++ b/drivers/char/ipmi/ipmi_serial_direct.c
@@ -108,6 +108,7 @@ struct ipmi_serial_codec_data {
 
 #define SUN_MFG_ID		0x00002a
 #define SUN_CP3020_PROD_ID	0x0bcc
+#define SUN_CP3220_PROD_ID	0x0c94
 
 /*
  * BMCs that support using the ASCII escape char (0x1b) as attention.
@@ -123,6 +124,7 @@ static struct { unsigned int mfg_id, prod_id; } attn_bmcs[] =
 static struct { unsigned int mfg_id, prod_id, val; } eattn_bmcs[] =
 {
 	{ SUN_MFG_ID,		SUN_CP3020_PROD_ID,		0x47 },
+   { SUN_MFG_ID,     SUN_CP3220_PROD_ID,     0x47 },
 	{ 0, 0 }
 };
 
-- 
1.5.5.1

