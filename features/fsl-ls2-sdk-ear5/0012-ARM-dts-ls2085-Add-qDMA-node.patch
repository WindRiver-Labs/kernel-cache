From fe927c1dfbb02fe812a5b31ffc94fcf882e09c31 Mon Sep 17 00:00:00 2001
From: Yuan Yao <yao.yuan@freescale.com>
Date: Tue, 21 Apr 2015 22:50:44 +0800
Subject: [PATCH 012/214] ARM: dts: ls2085: Add qDMA node

Add Freescale Queue Direct Memory Access (qDMA) controller support.

Signed-off-by: Yuan Yao <yao.yuan@freescale.com>
Change-Id: I88e32610a2acdea8828e4a9cf07f7ea338198c37
Reviewed-on: http://git.am.freescale.net:8181/35382
Tested-by: Review Code-CDREVIEW <CDREVIEW@freescale.com>
Reviewed-by: Stuart Yoder <stuart.yoder@freescale.com>
[Original patch extracted from FSL LS2085 SDK EAR5.0,
Layerscape2-SDK-SOURCE-20150828-yocto.iso]
Signed-off-by: Jiang Lu <lu.jiang@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls2085a.dtsi | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls2085a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls2085a.dtsi
index 5d0bccd..a81fde8 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls2085a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls2085a.dtsi
@@ -377,6 +377,15 @@
 		clock-names = "qspi_en", "qspi";
 	};
 
+	qdma: qdma@8380000 {
+		compatible = "fsl,ls-qdma";
+		reg = <0x0 0x8380000 0x0 0x20000>;
+		interrupts = <0 42 0x4>,
+				<0 43 0x4>;
+		interrupt-names = "qdma-tx", "qdma-err";
+		channels = <1>;
+	};
+
 	pcie@3400000 {
 		compatible = "fsl,ls2085a-pcie", "snps,dw-pcie";
 		reg = <0x00 0x03400000 0x0 0x00100000   /* controller registers */
-- 
2.5.3

