From 1c2705e331e4db58eef4522a7c75fe0c3a1880a0 Mon Sep 17 00:00:00 2001
From: Yongli He <yongli.he@windriver.com>
Date: Fri, 8 Aug 2008 14:50:14 +0800
Subject: [PATCH] revoke wire up powerpc system calls

Add support for revoke on powerpc by wiring up the appropriate
syscalls.

Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
Integrated-by: Yongli he   <yongli.he@windriver.com>
---
 arch/powerpc/include/asm/systbl.h |    1 +
 arch/powerpc/include/asm/unistd.h |    3 ++-
 2 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/arch/powerpc/include/asm/systbl.h b/arch/powerpc/include/asm/systbl.h
index b313e72..2242514 100644
--- a/arch/powerpc/include/asm/systbl.h
+++ b/arch/powerpc/include/asm/systbl.h
@@ -334,3 +334,4 @@ COMPAT_SYS_SPU(sched_setparam_ex)
 COMPAT_SYS_SPU(sched_getparam_ex)
 COMPAT_SYS_SPU(sched_wait_interval)
 SYSCALL(setns)
+SYSCALL(revokeat)
diff --git a/arch/powerpc/include/asm/unistd.h b/arch/powerpc/include/asm/unistd.h
index eb178ce..b1dedb2 100644
--- a/arch/powerpc/include/asm/unistd.h
+++ b/arch/powerpc/include/asm/unistd.h
@@ -353,6 +353,7 @@
 #define __NR_sched_getparam_ex		328
 #define __NR_sched_wait_interval	329
 #define __NR_setns              330
+#define __NR_revokeat		331
 
 #define VBI_MEM_READ		0x0010
 #define VBI_MEM_WRITE		0x0100
@@ -362,7 +363,7 @@
 
 #ifdef __KERNEL__
 
-#define __NR_syscalls		331
+#define __NR_syscalls		332
 
 #define __NR__exit __NR_exit
 #define NR_syscalls	__NR_syscalls
-- 
1.7.0.2

