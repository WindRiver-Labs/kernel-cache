From 9337b0bfbcb0e6cb406149a10ab43404e0903109 Mon Sep 17 00:00:00 2001
From: Francis Giraldeau <francis.giraldeau@gmail.com>
Date: Thu, 10 May 2012 11:53:20 -0400
Subject: [PATCH 02/55] Add makefile target for preprocessor

commit 23e6a44f127a046d02dbe8e9895cc2baf0d57c7d lttng.org/lttng-modules.git

By specifying .i target, it runs gcc preprocessor for that file.
Example:

  make myfile.i

will read myfile.c and output preprocessor to myfile.i

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Signed-off-by: Paul Barrette <paul.barrette@windriver.com>
---
 drivers/staging/lttng2/Makefile |    2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/staging/lttng2/Makefile b/drivers/staging/lttng2/Makefile
index dfa0792..d06e676 100644
--- a/drivers/staging/lttng2/Makefile
+++ b/drivers/staging/lttng2/Makefile
@@ -55,4 +55,6 @@ modules_install:
 clean:
 	$(MAKE) -C $(KERNELDIR) M=$(PWD) clean
 
+%.i: %.c
+	$(MAKE) -C $(KERNELDIR) M=$(PWD) $@
 endif
-- 
1.7.9.7

