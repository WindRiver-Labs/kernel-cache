From f0d74a3094d05e48f3faf0be6078a85e7e88bbc7 Mon Sep 17 00:00:00 2001
From: Michel Thebeau <michel.thebeau@windriver.com>
Date: Fri, 13 Sep 2013 13:41:33 -0400
Subject: [PATCH 3/3] Clean up the remaining obsolete PREEMPT_RT

This carries forward the change for lttng2 within kernel-cache
commit 0d73f061df4a4a6f7016e2a8382d8261b70185f2:

    Author: Jim Somerville <Jim.Somerville@windriver.com>
    Date:   Tue Feb 26 15:24:40 2013 -0500

    CQID:  WIND00405023

    Patches to the existing kernel-cache patches.

    Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>

Signed-off-by: Michel Thebeau <michel.thebeau@windriver.com>
---
 drivers/staging/lttng2/lttng-events.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/staging/lttng2/lttng-events.c b/drivers/staging/lttng2/lttng-events.c
index 4b891cd..408f434 100644
--- a/drivers/staging/lttng2/lttng-events.c
+++ b/drivers/staging/lttng2/lttng-events.c
@@ -60,7 +60,7 @@ void _lttng_metadata_channel_hangup(struct lttng_metadata_stream *stream);
 void synchronize_trace(void)
 {
 	synchronize_sched();
-#ifdef CONFIG_PREEMPT_RT
+#ifdef CONFIG_PREEMPT_RT_FULL
 	synchronize_rcu();
 #endif
 }
-- 
1.8.4.93.g57e4c17

