From 1188acf5df744a678e413589344962d6e714c8c6 Mon Sep 17 00:00:00 2001
From: Bogdan Hamciuc <bogdan.hamciuc@nxp.com>
Date: Mon, 11 Jan 2016 17:18:02 +0200
Subject: [PATCH 427/452] fsl-dpaa2: eth: Remove dead code in IRQ handler

If any of those conditions were met, it is unlikely we'd ever be there
in the first place.

Signed-off-by: Bogdan Hamciuc <bogdan.hamciuc@nxp.com>
[Xulin: Original patch taken from FSL LS2085 SDK EAR6.0,
LS2085A-SDK-SOURCE-20160304-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/staging/fsl-dpaa2/ethernet/dpaa2-eth.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

diff --git a/drivers/staging/fsl-dpaa2/ethernet/dpaa2-eth.c b/drivers/staging/fsl-dpaa2/ethernet/dpaa2-eth.c
index f471952..b1c015e 100644
--- a/drivers/staging/fsl-dpaa2/ethernet/dpaa2-eth.c
+++ b/drivers/staging/fsl-dpaa2/ethernet/dpaa2-eth.c
@@ -2317,11 +2317,6 @@ static irqreturn_t dpni_irq0_handler_thread(int irq_num, void *arg)
 	int err;
 
 	netdev_dbg(net_dev, "IRQ %d received\n", irq_num);
-	if (!dpni_dev || !dpni_dev->irqs || !dpni_dev->irqs[irq_index])
-		goto out;
-	if (dpni_dev->irqs[irq_index]->irq_number != irq_num)
-		goto out;
-
 	err = dpni_get_irq_status(dpni_dev->mc_io, 0, dpni_dev->mc_handle,
 				  irq_index, &status);
 	if (unlikely(err)) {
-- 
1.7.5.4

