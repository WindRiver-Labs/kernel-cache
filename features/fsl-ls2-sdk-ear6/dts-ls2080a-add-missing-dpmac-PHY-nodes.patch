From e6a299240b28d26066d47e0156b52236e20d574e Mon Sep 17 00:00:00 2001
From: Stuart Yoder <stuart.yoder@freescale.com>
Date: Thu, 19 Nov 2015 09:01:47 -0600
Subject: [PATCH 338/452] dts/ls2080a: add missing dpmac/PHY nodes

While the LS2080A supports 5 ports at a time, there are 8 ports on the
RDB board-- add the missing ports.

Signed-off-by: Stuart Yoder <stuart.yoder@freescale.com>
[Xulin: Original patch taken from FSL LS2085 SDK EAR6.0,
LS2085A-SDK-SOURCE-20160304-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts |   24 +++++++++++++++++++++
 arch/arm64/boot/dts/freescale/fsl-ls2080a.dtsi    |   12 ++++++++++
 2 files changed, 36 insertions(+), 0 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts b/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts
index fab7bbc..b80fa2c 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts
@@ -157,6 +157,21 @@
 		reg = <0x0>;
 		phy-connection-type = "xfi";
 	};
+	mdio2_phy2: emdio2_phy@2 {
+		compatible = "ethernet-phy-ieee802.3-c45";
+		reg = <0x1>;
+		phy-connection-type = "xfi";
+	};
+	mdio2_phy3: emdio2_phy@3 {
+		compatible = "ethernet-phy-ieee802.3-c45";
+		reg = <0x2>;
+		phy-connection-type = "xfi";
+	};
+	mdio2_phy4: emdio2_phy@4 {
+		compatible = "ethernet-phy-ieee802.3-c45";
+		reg = <0x3>;
+		phy-connection-type = "xfi";
+	};
 };
 
 /* Update DPMAC connections to external PHYs, under the assumption of
@@ -177,3 +192,12 @@
 &dpmac5 {
 	phy-handle = <&mdio2_phy1>;
 };
+&dpmac6 {
+	phy-handle = <&mdio2_phy2>;
+};
+&dpmac7 {
+	phy-handle = <&mdio2_phy3>;
+};
+&dpmac8 {
+	phy-handle = <&mdio2_phy4>;
+};
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls2080a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls2080a.dtsi
index f55ad79..802f63b 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls2080a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls2080a.dtsi
@@ -649,6 +649,18 @@
 				compatible = "fsl,qoriq-mc-dpmac";
 				reg = <5>;
 			};
+			dpmac6: dpmac@6 {
+				compatible = "fsl,qoriq-mc-dpmac";
+				reg = <6>;
+			};
+			dpmac7: dpmac@7 {
+				compatible = "fsl,qoriq-mc-dpmac";
+				reg = <7>;
+			};
+			dpmac8: dpmac@8 {
+				compatible = "fsl,qoriq-mc-dpmac";
+				reg = <8>;
+			};
 			dpmac9: dpmac@9 {
 				compatible = "fsl,qoriq-mc-dpmac";
 				reg = <9>;
-- 
1.7.5.4

