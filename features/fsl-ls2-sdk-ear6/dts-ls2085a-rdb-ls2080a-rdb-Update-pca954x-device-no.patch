From a545c1fd959bd2c3c1caad84a9bbd1ca2f28231c Mon Sep 17 00:00:00 2001
From: Priyanka Jain <Priyanka.Jain@freescale.com>
Date: Tue, 3 Nov 2015 10:27:55 +0530
Subject: [PATCH 299/452] dts/ls2085a-rdb, ls2080a-rdb: Update pca954x device
 node

On LS2085ARDB/LS2080ARDB, input pull-up resistors on PCA954x Mux
device are missing on board.
So, Mux should not be disabled after power-on.
Add 'i2c-mux-never-disable' property to prevent
disabling pca954x Mux for proper functionality.

Signed-off-by: Priyanka Jain <Priyanka.Jain@freescale.com>
[Xulin: Original patch taken from FSL LS2085 SDK EAR6.0,
LS2085A-SDK-SOURCE-20160304-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts |    1 +
 arch/arm64/boot/dts/freescale/fsl-ls2085a-rdb.dts |    2 +-
 2 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts b/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts
index 580d68a..3e1c863 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls2080a-rdb.dts
@@ -63,6 +63,7 @@
 		reg = <0x75>;
 		#address-cells = <1>;
 		#size-cells = <0>;
+		i2c-mux-never-disable;
 		i2c@1 {
 			#address-cells = <1>;
 			#size-cells = <0>;
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls2085a-rdb.dts b/arch/arm64/boot/dts/freescale/fsl-ls2085a-rdb.dts
index 2555a3d..62a462d 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls2085a-rdb.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls2085a-rdb.dts
@@ -62,7 +62,7 @@
 		reg = <0x75>;
 		#address-cells = <1>;
 		#size-cells = <0>;
-		status = "disabled";
+		i2c-mux-never-disable;
 		i2c@1 {
 			#address-cells = <1>;
 			#size-cells = <0>;
-- 
1.7.5.4

