From c1720f11bbe80461919ae11219e7d6a08594c7a3 Mon Sep 17 00:00:00 2001
From: Rai Harninder-B01044 <harninder.rai@freescale.com>
Date: Wed, 28 Oct 2015 13:03:35 +0530
Subject: [PATCH 282/452] clk: Move conditional code under ARCH_LAYERSCAPE

The erstwhile ARCH_FSL_LS2085A is now replaced by a more generic
ARCH_LAYERSCAPE

Signed-off-by: Rai Harninder-B01044 <harninder.rai@freescale.com>
[Xulin: Original patch taken from FSL LS2085 SDK EAR6.0,
LS2085A-SDK-SOURCE-20160304-yocto.iso]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/clk/clk-qoriq.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/clk/clk-qoriq.c b/drivers/clk/clk-qoriq.c
index ebbff67..e6d5298 100644
--- a/drivers/clk/clk-qoriq.c
+++ b/drivers/clk/clk-qoriq.c
@@ -40,7 +40,7 @@ static int cmux_set_parent(struct clk_hw *hw, u8 idx)
 	if (clk->flags & CLKSEL_ADJUST)
 		clksel += 8;
 	clksel = (clksel & 0xf) << CLKSEL_SHIFT;
-#ifdef CONFIG_ARCH_FSL_LS2085A
+#ifdef CONFIG_ARCH_LAYERSCAPE
 	/* FIXME: Make this better */
 	iowrite32(clksel, clk->reg);
 #else
@@ -55,7 +55,7 @@ static u8 cmux_get_parent(struct clk_hw *hw)
 	struct cmux_clk *clk = to_cmux_clk(hw);
 	u32 clksel;
 
-#ifdef CONFIG_ARCH_FSL_LS2085A
+#ifdef CONFIG_ARCH_LAYERSCAPE
 	/* FIXME: Make this better */
 	clksel = ioread32(clk->reg);
 #else
@@ -181,7 +181,7 @@ static void __init core_pll_init(struct device_node *np)
 	}
 
 	/* get the multiple of PLL */
-#ifdef CONFIG_ARCH_FSL_LS2085A
+#ifdef CONFIG_ARCH_LAYERSCAPE
 	/* FIXME: Make this better */
 	mult = ioread32(base);
 	/* check if this PLL is disabled */
-- 
1.7.5.4

