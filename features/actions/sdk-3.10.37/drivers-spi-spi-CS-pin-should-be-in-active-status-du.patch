From 26da659f09f4ee0d261d19f057e08c4b04cdaaa7 Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Tue, 6 Dec 2016 13:36:19 +0800
Subject: [PATCH 94/94] drivers: spi: spi CS pin should be in active status
 during command communication

when communicating between SPI master and SPI slave IC, the SPI CS
pin should be always in active status during a whole session. In
other words,  SPI master send out a command and then receive a
response, in this period, SPI CS pin should be always in active status.

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/spi/spi_owl.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/drivers/spi/spi_owl.c b/drivers/spi/spi_owl.c
index e88a72b..ac9bc39 100755
--- a/drivers/spi/spi_owl.c
+++ b/drivers/spi/spi_owl.c
@@ -1213,7 +1213,6 @@ static void asoc_spi_work(struct work_struct *work)
 				udelay(t->delay_usecs);
 
 			if (t->cs_change) {
-				asoc_spi_deactivate_cs(spi);
 				cs_active = 0;
 			}
 			dev_dbg(asoc_spi->dev, "asoc_spi: end one transfer\n");
-- 
1.7.5.4

