From ad76a641973ae082b646932a062d977c3a989a6d Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Tue, 29 Nov 2016 14:45:09 +0800
Subject: [PATCH] drivers: mmc: fix an emmc bug

when implement emmc feature in commit 063aab1daef0 ("drivers: mmc:
implement mmc feature"), there is a bug involved, we should set
MMC_CAP_8_BIT_DATA into caps filed of struct mmc_host,
not MMC_CAP_1_8V_DDR.

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/mmc/host/gl520x_mmc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/mmc/host/gl520x_mmc.c b/drivers/mmc/host/gl520x_mmc.c
index b24d4b6..6168805 100755
--- a/drivers/mmc/host/gl520x_mmc.c
+++ b/drivers/mmc/host/gl520x_mmc.c
@@ -1747,7 +1747,7 @@ static int __init acts_mmc_probe(struct platform_device *pdev)
 		mmc->caps &= ~MMC_CAP_4_BIT_DATA;
 
 	if (mmc_card_expected_emmc(host->type_expected))
-		mmc->caps |= MMC_CAP_1_8V_DDR;
+		mmc->caps |= MMC_CAP_8_BIT_DATA;
 	//emmc and sd card support earse (discard,trim,sediscard)
 	if(mmc_card_expected_emmc(host->type_expected)||\
 		mmc_card_expected_mem(host->type_expected)){
-- 
1.7.5.4

