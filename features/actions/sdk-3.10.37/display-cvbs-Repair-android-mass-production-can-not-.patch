From 0d752ab10e8978c8562895c93624bd484c935c52 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=E8=B0=A2=E5=8F=8C=E5=8F=8C?= <xieshsh@srv-pad-compile2.actions.com.cn>
Date: Mon, 4 Jan 2016 11:25:13 +0800
Subject: [PATCH 55/62] display: cvbs: Repair android mass production can not
 start

commit 09156d42ed60004d46495065f970cc7d66f71859 from
https://github.com/xapp-le/kernel.git

Change-Id: I14548846730d4d74d26da75b797673de3515e432
---
 drivers/video/fbdev/owl/displays/cvbs/cvbs.c |    6 ++++--
 drivers/video/fbdev/owl/fb/owlfb-dc.c        |    3 +--
 2 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/drivers/video/fbdev/owl/displays/cvbs/cvbs.c b/drivers/video/fbdev/owl/displays/cvbs/cvbs.c
index 36928b3..442a8f2 100755
--- a/drivers/video/fbdev/owl/displays/cvbs/cvbs.c
+++ b/drivers/video/fbdev/owl/displays/cvbs/cvbs.c
@@ -342,12 +342,14 @@ static void cvbs_check_status (struct work_struct *work)
 
 	if(cvbs_read_reg( TVOUT_EN) && cvbs_state ==CVBS_IN )
 	{
-			set_cvbs_status(&cdev, 1);
+			
+			switch_set_state(&cdev, 1);
 			DEBUG_CVBS("set_cvbs_status is IN");
 	}
 	if(!(cvbs_read_reg( TVOUT_EN)) && cvbs_state ==CVBS_OUT )
 	{
-			set_cvbs_status(&cdev, 0);
+		
+			switch_set_state(&cdev, 0);
 			DEBUG_CVBS("set_cvbs_status is OUT");
 	}
 		
diff --git a/drivers/video/fbdev/owl/fb/owlfb-dc.c b/drivers/video/fbdev/owl/fb/owlfb-dc.c
index 1e18806..b04c99b 100755
--- a/drivers/video/fbdev/owl/fb/owlfb-dc.c
+++ b/drivers/video/fbdev/owl/fb/owlfb-dc.c
@@ -271,8 +271,7 @@ static int owlfb_dc_check_frame_scale_by_display(struct owl_dss_device *dssdev,
 	{
 		return 0;
 	}
-	printk("dw %d  dh %d my_fbdev->xres %d ,my_fbdev->yres %d \n",dw, dh,my_fbdev->xres ,my_fbdev->yres);
-	printk("window (%d %d %d %d ) \n",info->pos_x,info->pos_y,info->out_width,info->out_height);
+
 	info->out_width = info->out_width * dw / my_fbdev->xres; 
 	info->out_height = info->out_height *  dh / my_fbdev->yres;
 			
-- 
1.7.5.4

