From f8ce99e44f701c1a16c8d437b825cb200470c39e Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Mon, 16 Jan 2017 16:27:00 +0800
Subject: [PATCH] driver: usb: use macro MONITOR_PRINTK to instead of printk
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

In file umonitor_core.c, there are some debug logs with build path
outputted by printk() function. It is unreasonable in final release
version.
So, use macro MONITOR_PRINTK which is controlled by a debug switch to
instead of printk().
This issue is introduced by commit 22a7b36a1f20
(“usb: add owl usb driver”) when merge SDK patch related with
usb driver.

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/usb/monitor/umonitor_core.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/drivers/usb/monitor/umonitor_core.c b/drivers/usb/monitor/umonitor_core.c
index d768a7b..d084f83 100755
--- a/drivers/usb/monitor/umonitor_core.c
+++ b/drivers/usb/monitor/umonitor_core.c
@@ -734,16 +734,14 @@ void umonitor_timer_func(void)
 		ret = usb_timer_det_udisk(pStatus);
 		status = pStatus->message_status & (0x1 << MONITOR_A_IN);
 		if ((status != 0) && (ret == USB_DET_HOST_NONE)) {
-			//MONITOR_PRINTK("\n%s--%d, SYS_MSG_USB_A_OUT\n", __FILE__, __LINE__);
-			printk("\n%s--%d, SYS_MSG_USB_A_OUT\n", __FILE__, __LINE__);
+			MONITOR_PRINTK("\n%s--%d, SYS_MSG_USB_A_OUT\n", __FILE__, __LINE__);
 			pStatus->core_ops->putt_msg(MON_MSG_USB_A_OUT);
 			pStatus->message_status = pStatus->message_status & (~(0x1 << MONITOR_A_IN));
 			goto out;
 		}
 		if (ret == USB_DET_HOST_UDISK) {
 			p_hal->set_mode(p_hal, USB_IN_HOST_MOD);
-			//MONITOR_PRINTK("\n%s--%d, SYS_MSG_USB_A_IN\n", __FILE__, __LINE__);
-			printk("\n%s--%d, SYS_MSG_USB_A_IN\n", __FILE__, __LINE__);
+			MONITOR_PRINTK("\n%s--%d, SYS_MSG_USB_A_IN\n", __FILE__, __LINE__);
 			pStatus->core_ops->putt_msg(MON_MSG_USB_A_IN);
 			pStatus->message_status |= 0x1 << MONITOR_A_IN;
 
-- 
1.7.5.4

