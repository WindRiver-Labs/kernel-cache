From cc30fa19118b1b1d92d7b1891abb26300cb57fd3 Mon Sep 17 00:00:00 2001
From: wurui <wurui@actions-semi.com>
Date: Mon, 7 Dec 2015 11:44:36 +0800
Subject: [PATCH 10/62] flash: add spi nor flash winbond-w25q16 driver

commit 17676d94eaab0e9f8308674f66093d92a2a61050 from
https://github.com/xapp-le/kernel.git

Change-Id: I065d56ae477caff80875f2894ed6960c7f0b6844
---
 drivers/mtd/devices/m25p80.c  |    2 +-
 drivers/mtd/spi-nor/spi-nor.c |    1 +
 2 files changed, 2 insertions(+), 1 deletions(-)
 mode change 100644 => 100755 drivers/mtd/devices/m25p80.c
 mode change 100644 => 100755 drivers/mtd/spi-nor/spi-nor.c

diff --git a/drivers/mtd/devices/m25p80.c b/drivers/mtd/devices/m25p80.c
old mode 100644
new mode 100755
index 3af137f..3e5e84a
--- a/drivers/mtd/devices/m25p80.c
+++ b/drivers/mtd/devices/m25p80.c
@@ -296,7 +296,7 @@ static const struct spi_device_id m25p_ids[] = {
 	{"m25px16"},	{"m25px32"},	{"m25px32-s0"},	{"m25px32-s1"},
 	{"m25px64"},	{"m25px80"},
 	{"w25x10"},	{"w25x20"},	{"w25x40"},	{"w25x80"},
-	{"w25x16"},	{"w25x32"},	{"w25q32"},	{"w25q32dw"},
+	{"w25x16"},	{"w25q16"}, {"w25x32"},	{"w25q32"},	{"w25q32dw"},
 	{"w25x64"},	{"w25q64"},	{"w25q80"},	{"w25q80bl"},
 	{"w25q128"},	{"w25q256"},	{"cat25c11"},
 	{"cat25c03"},	{"cat25c09"},	{"cat25c17"},	{"cat25128"},
diff --git a/drivers/mtd/spi-nor/spi-nor.c b/drivers/mtd/spi-nor/spi-nor.c
old mode 100644
new mode 100755
index 14a5d23..a6e06ef
--- a/drivers/mtd/spi-nor/spi-nor.c
+++ b/drivers/mtd/spi-nor/spi-nor.c
@@ -670,6 +670,7 @@ static const struct spi_device_id spi_nor_ids[] = {
 	{ "w25x40", INFO(0xef3013, 0, 64 * 1024,  8,  SECT_4K) },
 	{ "w25x80", INFO(0xef3014, 0, 64 * 1024,  16, SECT_4K) },
 	{ "w25x16", INFO(0xef3015, 0, 64 * 1024,  32, SECT_4K) },
+	{ "w25q16", INFO(0xef4015, 0, 64 * 1024,  32, SECT_4K) },
 	{ "w25x32", INFO(0xef3016, 0, 64 * 1024,  64, SECT_4K) },
 	{ "w25q32", INFO(0xef4016, 0, 64 * 1024,  64, SECT_4K) },
 	{ "w25q32dw", INFO(0xef6016, 0, 64 * 1024,  64, SECT_4K) },
-- 
1.7.5.4

