From 5f45a9e85daa7fa6c406571871d8fc7195f86e62 Mon Sep 17 00:00:00 2001
From: huoysh <huoysh@actions-semi.com>
Date: Tue, 5 Jan 2016 14:32:15 +0800
Subject: [PATCH 57/62] usb: BUGFIX: fix aotg device transfor slow
 (20Mbyte/s),ep buffer change 1 to 4

commit 2c8bf09c4c05ddea32c8830c2ddf3bb94791fd29 from
https://github.com/xapp-le/kernel.git

Change-Id: I792ea536cc70858a00e278e58b68b9f3e8b282d2
---
 drivers/usb/aotg/aotg_udc.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/drivers/usb/aotg/aotg_udc.c b/drivers/usb/aotg/aotg_udc.c
index d1f56df..e1efcfb 100755
--- a/drivers/usb/aotg/aotg_udc.c
+++ b/drivers/usb/aotg/aotg_udc.c
@@ -1888,14 +1888,14 @@ void udc_reinit(struct aotg_udc *dev)
 
 void aotg_udc_endpoint_config(struct aotg_udc *udc)
 {
-	UDC_BULK_EP(1, "ep1out", USB_DIR_OUT | 1, EPCON_BUF_SINGLE);
-	UDC_BULK_EP(2, "ep1in", USB_DIR_IN | 1, EPCON_BUF_SINGLE);
-	UDC_BULK_EP(3, "ep2out", USB_DIR_OUT | 2, EPCON_BUF_SINGLE);
-	UDC_BULK_EP(4, "ep2in", USB_DIR_IN | 2, EPCON_BUF_SINGLE);
-	UDC_BULK_EP(5, "ep3out", USB_DIR_OUT | 3, EPCON_BUF_SINGLE);
-	/*UDC_INT_EP(6, "ep3in", USB_DIR_IN | 3, EPCON_BUF_SINGLE);*/
-	UDC_BULK_EP(6, "ep3in", USB_DIR_IN | 3, EPCON_BUF_SINGLE);
-	UDC_ISO_EP(7, "ep4in", USB_DIR_IN | 4, EPCON_BUF_SINGLE);
+	UDC_BULK_EP(1, "ep1out", USB_DIR_OUT | 1, EPCON_BUF_QUAD);
+	UDC_BULK_EP(2, "ep1in", USB_DIR_IN | 1, EPCON_BUF_QUAD);
+	UDC_BULK_EP(3, "ep2out", USB_DIR_OUT | 2, EPCON_BUF_QUAD);
+	UDC_BULK_EP(4, "ep2in", USB_DIR_IN | 2, EPCON_BUF_QUAD);
+	UDC_BULK_EP(5, "ep3out", USB_DIR_OUT | 3, EPCON_BUF_QUAD);
+	/*UDC_INT_EP(6, "ep3in", USB_DIR_IN | 3, EPCON_BUF_QUAD);*/
+	UDC_BULK_EP(6, "ep3in", USB_DIR_IN | 3, EPCON_BUF_QUAD);
+	UDC_ISO_EP(7, "ep4in", USB_DIR_IN | 4, EPCON_BUF_QUAD);
 
 	udc_ep_packet_config(USB_SPEED_FULL, udc);
 }
-- 
1.7.5.4

