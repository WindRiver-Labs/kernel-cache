From d25add3ff9e7426abc7bff9dbfe2315cc47303ca Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Tue, 6 Dec 2016 13:13:01 +0800
Subject: [PATCH 93/94] rose-apple-pi: arm: dts: add tpm node for tpm 2.0 IC

tpm 2.0 IC(ST33TPHF2ESPI) is connected to spi2 interface, so delete
spi-nor flash node and then add tpm node.

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 .../boot/dts/actduino_bubble_gum_sdboot_linux.dts  |   11 +++--------
 1 files changed, 3 insertions(+), 8 deletions(-)

diff --git a/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts b/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts
index d288063..43f9d38 100755
--- a/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts
+++ b/arch/arm/boot/dts/actduino_bubble_gum_sdboot_linux.dts
@@ -908,15 +908,10 @@
 		pinctrl-names = "default";
 		pinctrl-0 = <&spi2_state_default>;
 		status = "okay";
-		m25p80@0 {
-			#address-cells = <1>;
-			#size-cells = <1>;
-			compatible = "winbond,w25q32";
-			spi-cpha = <1>;
-			spi-cpol = <1>;
-			spi-max-frequency = <40000000>;
+		st33tphf2espi@0 {
+			compatible = "st,st33htpm-spi";
+			spi-max-frequency = <10000000>;
 			reg = <0>;
-			m25p,fast-read;
 		};
 	};
 
-- 
1.7.5.4

