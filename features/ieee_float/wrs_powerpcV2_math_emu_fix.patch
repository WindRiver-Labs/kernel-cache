You don't want sigfpe handling if you only have SPE
enabled. You need both SPE and math emulation. Otherwise
you'll get an unresolved symbol

Signed-off-by: <bruce.ashfield@windriver.com>
---
 arch/powerpc/sysdev/Makefile |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/arch/powerpc/sysdev/Makefile b/arch/powerpc/sysdev/Makefile
index 6fc42d8..e316460 100644
--- a/arch/powerpc/sysdev/Makefile
+++ b/arch/powerpc/sysdev/Makefile
@@ -24,7 +24,9 @@ obj-$(CONFIG_MV64X60)		+= $(mv64x60-y) mv64x60_pic.o mv64x60_dev.o \
 				   mv64x60_udbg.o
 obj-$(CONFIG_RTC_DRV_CMOS)	+= rtc_cmos_setup.o
 obj-$(CONFIG_AXON_RAM)		+= axonram.o
+ifeq ($(CONFIG_MATH_EMULATION),y)
 obj-$(CONFIG_SPE)              += sigfpe_handler.o
+endif
 
 obj-$(CONFIG_PPC_INDIRECT_PCI)	+= indirect_pci.o
 obj-$(CONFIG_PPC_I8259)		+= i8259.o
