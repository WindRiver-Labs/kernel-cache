From d37cf5a3b8aae7ede5c977b0036df0c05c0b4c7f Mon Sep 17 00:00:00 2001
From: Donn Seeley <donn.seeley@windriver.com>
Date: Tue, 12 Jun 2012 10:02:58 -0600
Subject: [PATCH 05/19] emgd: Add explicit includes for module headers.

Some EMGD files failed to compile because they were missing some
includes for module-related headers, which must be explicit in recent
kernel versions.

Signed-off-by: Donn Seeley <donn.seeley@windriver.com>
---
 drivers/gpu/drm/emgd/emgd/drm/emgd_drv.c           |    2 ++
 drivers/gpu/drm/emgd/emgd/video/msvdx/msvdx_init.c |    1 +
 .../3rdparty/emgd_bufferclass/emgd_bc_linux.c      |    1 +
 3 files changed, 4 insertions(+)

diff --git a/drivers/gpu/drm/emgd/emgd/drm/emgd_drv.c b/drivers/gpu/drm/emgd/emgd/drm/emgd_drv.c
index 92f70a7..2da7a2e 100644
--- a/drivers/gpu/drm/emgd/emgd/drm/emgd_drv.c
+++ b/drivers/gpu/drm/emgd/emgd/drm/emgd_drv.c
@@ -38,6 +38,8 @@
 #include <drm/drm_crtc_helper.h>
 #include <linux/version.h>
 #include <linux/device.h>
+#include <linux/export.h>
+#include <linux/module.h>
 #include <drm/drm_pciids.h>
 #include <intelpci.h>
 #include "drm_emgd_private.h"
diff --git a/drivers/gpu/drm/emgd/emgd/video/msvdx/msvdx_init.c b/drivers/gpu/drm/emgd/emgd/video/msvdx/msvdx_init.c
index 6591224..d2fd1de 100644
--- a/drivers/gpu/drm/emgd/emgd/video/msvdx/msvdx_init.c
+++ b/drivers/gpu/drm/emgd/emgd/video/msvdx/msvdx_init.c
@@ -44,6 +44,7 @@
  *-----------------------------------------------------------------------------
  */
 
+#include <linux/module.h>
 #include <io.h>
 #include <pci.h>
 #include <memmap.h>
diff --git a/drivers/gpu/drm/emgd/pvr/services4/3rdparty/emgd_bufferclass/emgd_bc_linux.c b/drivers/gpu/drm/emgd/pvr/services4/3rdparty/emgd_bufferclass/emgd_bc_linux.c
index 983b768..567caaf 100644
--- a/drivers/gpu/drm/emgd/pvr/services4/3rdparty/emgd_bufferclass/emgd_bc_linux.c
+++ b/drivers/gpu/drm/emgd/pvr/services4/3rdparty/emgd_bufferclass/emgd_bc_linux.c
@@ -27,6 +27,7 @@
 
 #include <linux/version.h>
 #include <linux/kernel.h>
+#include <linux/export.h>
 #include <linux/module.h>
 #include <linux/fs.h>
 #include <asm/uaccess.h>
-- 
1.7.9.7

