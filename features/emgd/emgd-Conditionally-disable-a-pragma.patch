From b52b767aebc0c4c99fda0c21808721a9f4310f7c Mon Sep 17 00:00:00 2001
From: Donn Seeley <donn.seeley@windriver.com>
Date: Tue, 12 Jun 2012 10:53:33 -0600
Subject: [PATCH 14/19] emgd: Conditionally disable a #pragma.

GCC complains about an unconditional ICC-specific #pragma in EMGD,
so we make the #pragma conditional on ICC.

Signed-off-by: Donn Seeley <donn.seeley@windriver.com>
---
 drivers/gpu/drm/emgd/emgd/pal/ch7036/lvds/lvds.c |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/gpu/drm/emgd/emgd/pal/ch7036/lvds/lvds.c b/drivers/gpu/drm/emgd/emgd/pal/ch7036/lvds/lvds.c
index 2b92556..18d1b23 100644
--- a/drivers/gpu/drm/emgd/emgd/pal/ch7036/lvds/lvds.c
+++ b/drivers/gpu/drm/emgd/emgd/pal/ch7036/lvds/lvds.c
@@ -31,7 +31,9 @@
  *-----------------------------------------------------------------------------
  */
 
+#ifdef __INTEL_COMPILER
 #pragma optimize ("",off)
+#endif
 
 #include <config.h>
 #include <igd_pd.h>
@@ -1584,4 +1586,6 @@ static void internal_lvds_get_dclk(internal_lvds_context_t *pd_context, pd_dvo_i
 	PD_DEBUG("internal_lvds_dclk: at the end\n");
 }
 
+#ifdef __INTEL_COMPILER
 #pragma optimize ("",on)
+#endif
-- 
1.7.9.7

