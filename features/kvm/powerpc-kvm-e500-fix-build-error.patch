From 2a5fa47bacff4dfaefaa4c668942a4c5d9d0c796 Mon Sep 17 00:00:00 2001
From: Liang Li <liang.li@windriver.com>
Date: Mon, 28 May 2012 16:11:26 +0800
Subject: [PATCH] powerpc: kvm: e500: fix build error

Fixed below compiling error:
...
  CC      arch/powerpc/kvm/booke_emulate.o
.../arch/powerpc/kvm/booke.c: In function 'kvmppc_vcpu_disable_spe':
.../arch/powerpc/kvm/booke.c:86:2: error: implicit declaration of
 function 'enable_kernel_spe' [-Werror=implicit-function-declaration]
cc1: all warnings being treated as errors
make[3]: *** [arch/powerpc/kvm/booke.o] Error 1

Signed-off-by: Liang Li <liang.li@windriver.com>
---
 arch/powerpc/kvm/booke.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/powerpc/kvm/booke.c b/arch/powerpc/kvm/booke.c
index ee9e1ee..b176cf4 100644
--- a/arch/powerpc/kvm/booke.c
+++ b/arch/powerpc/kvm/booke.c
@@ -32,7 +32,7 @@
 #include <asm/kvm_ppc.h>
 #include "timing.h"
 #include <asm/cacheflush.h>
-
+#include <asm/switch_to.h>
 #include "booke.h"
 
 unsigned long kvmppc_booke_handlers;
-- 
1.7.7.6

