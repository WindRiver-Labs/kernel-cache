From 11a0295bf978879952a433e9a356aa0e5bce411b Mon Sep 17 00:00:00 2001
From: Liang Li <liang.li@windriver.com>
Date: Wed, 4 Aug 2010 13:35:51 +0800
Subject: [PATCH] wrhv/x86: no need to specify options for self-reset

According to hyp's implementation, no need to specify options when
AP reset itself.

Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>
Signed-off-by: Liang Li <liang.li@windriver.com>
---
 arch/x86/kernel/vbi/wrhv.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/arch/x86/kernel/vbi/wrhv.c b/arch/x86/kernel/vbi/wrhv.c
index 2ff7c73..1fca229 100644
--- a/arch/x86/kernel/vbi/wrhv.c
+++ b/arch/x86/kernel/vbi/wrhv.c
@@ -1472,10 +1472,7 @@ static void wrhv_cpu_play_dead(void)
 	 * funtion call hence the rest codes after this vbi call
 	 * won't being executed in normal case
 	 */
-	ret = vbi_vb_reset(VBI_BOARD_ID_GET(), smp_processor_id(),
-		VBI_VBMGMT_RESET_DOWNLOAD |
-		VBI_VBMGMT_RESET_CLEAR
-		);
+	ret = vbi_vb_reset(VBI_BOARD_ID_GET(), smp_processor_id(), 0);
 
 	printk(KERN_ERR "wrhv_cpu_play_dead: reset self failed."
 			"ret = %d\n", ret);
-- 
1.6.5.2

