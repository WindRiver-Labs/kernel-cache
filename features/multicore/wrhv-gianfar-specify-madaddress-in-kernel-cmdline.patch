From a1143695153f749d60a5ff27c26d4ba55b9146bb Mon Sep 17 00:00:00 2001
From: Liang Li <liang.li@windriver.com>
Date: Wed, 12 Jan 2011 19:42:34 +0800
Subject: [PATCH 4/4] wrhv/gianfar: specify madaddress in kernel cmdline

Different target have different mac address for its
gianfar NIC. Other than specify mac address in dts
file for each board, provide mechanism to enable users
specify mac address in XML file by change kernel
command line parameter would be more flexiable.

Signed-off-by: Liang Li <liang.li@windriver.com>
---
 arch/powerpc/kernel/vbi/wrhv.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/powerpc/kernel/vbi/wrhv.c b/arch/powerpc/kernel/vbi/wrhv.c
index 6f0cff3..2f3f819 100644
--- a/arch/powerpc/kernel/vbi/wrhv.c
+++ b/arch/powerpc/kernel/vbi/wrhv.c
@@ -149,7 +149,7 @@ extern int vb_context_mmu_on(int pid,  /* context id */
 unsigned long wrhv_cpu_freq = 0;
 
 int wrhv_earlycon = -1;
-int wrhv_pci_devfn = -1;
+int gfar_fn = -1;
 char wrhv_macaddr[6];
 
 /* interface to wrhv duart actual device driver */
@@ -192,11 +192,11 @@ int __init wrhv_earlycon_setup(void)
 
 static int __init wrhv_pci_devfn_setup(char *s)
 {
-	wrhv_pci_devfn = simple_strtoul(s, NULL, 0);
+	gfar_fn = simple_strtoul(s, NULL, 0);
 	return 1;
 }
 
-__setup("wrhv_pci_devfn=", wrhv_pci_devfn_setup);
+__setup("gfar_fn=", wrhv_pci_devfn_setup);
 
 static int __init wrhv_macaddr_setup(char *str)
 {
-- 
1.6.5.2

