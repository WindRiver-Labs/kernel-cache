From 17ea5a0c7b47ce99e3f8103169aabc3343033b49 Mon Sep 17 00:00:00 2001
From: WRS Support <support@windriver.com>
Date: Fri, 2 Oct 2009 16:12:13 -0400
Subject: [PATCH] hypervisor: relocate SMP defs for multi users

The enum def needs to be relocated from smp.c into smp.h
so that it can be reused by other places.

---
 include/linux/smp.h          |    5 +++++
 kernel/smp.c                 |    5 -----

diff --git a/include/linux/smp.h b/include/linux/smp.h
index 66484d4..fdebfdb 100644
--- a/include/linux/smp.h
+++ b/include/linux/smp.h
@@ -168,4 +168,9 @@ static inline void init_call_single_data(void)
 
 void smp_setup_processor_id(void);
 
+enum {
+	CSD_FLAG_WAIT		= 0x01,
+	CSD_FLAG_ALLOC		= 0x02,
+};
+
 #endif /* __LINUX_SMP_H */
diff --git a/kernel/smp.c b/kernel/smp.c
index f362a85..6c04381 100644
--- a/kernel/smp.c
+++ b/kernel/smp.c
@@ -15,11 +15,6 @@ static DEFINE_PER_CPU(struct call_single_queue, call_single_queue);
 static LIST_HEAD(call_function_queue);
 __cacheline_aligned_in_smp DEFINE_SPINLOCK(call_function_lock);
 
-enum {
-	CSD_FLAG_WAIT		= 0x01,
-	CSD_FLAG_ALLOC		= 0x02,
-};
-
 struct call_function_data {
 	struct call_single_data csd;
 	spinlock_t lock;
-- 
1.6.5.2

