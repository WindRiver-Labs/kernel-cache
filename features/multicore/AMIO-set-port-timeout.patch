From 25d61c87e6292e4ac4facda6964c3d2c68c2d97a Mon Sep 17 00:00:00 2001
From: Keith Backensto <keith.backensto@windriver.com>
Date: Thu, 17 Jun 2010 11:03:34 -0700
Subject: [PATCH 1/1] AMIO: set port timeout

Set port timeout to prevent excessive wait times.

Signed-off-by: Keith Backensto <keith.backensto@windriver.com>
---
 drivers/serial/amio_uart.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/drivers/serial/amio_uart.c b/drivers/serial/amio_uart.c
index 0044cb0..3d73458 100644
--- a/drivers/serial/amio_uart.c
+++ b/drivers/serial/amio_uart.c
@@ -308,6 +308,7 @@ static int __init amio_init_port(int line, int channel_id)
 	aport->port.flags = UPF_BOOT_AUTOCONF;
 	aport->port.line = line;
 	aport->port.fifosize = shmsize;
+	aport->port.timeout = HZ / 50;
 
 	return 0;
 }
-- 
1.6.5.3

