From 17ea5a0c7b47ce99e3f8103169aabc3343033b49 Mon Sep 17 00:00:00 2001
From: WRS Support <support@windriver.com>
Date: Fri, 2 Oct 2009 16:12:13 -0400
Subject: [PATCH] hypervisor: basic hooks in of hypervisor content

Put in place the Kconfig and Makefile hooks for WR HV/guest
content.

---
 init/Kconfig                 |    2 ++
 kernel/Makefile              |    1 +

diff --git a/init/Kconfig b/init/Kconfig
index 182303f..a2cef77 100644
--- a/init/Kconfig
+++ b/init/Kconfig
@@ -18,6 +18,8 @@ config DEFCONFIG_LIST
 
 menu "General setup"
 
+source init/Kconfig.wrhv
+
 config EXPERIMENTAL
 	bool "Prompt for development and/or incomplete code/drivers"
 	---help---
diff --git a/kernel/Makefile b/kernel/Makefile
index 77a91d8..c723c24 100644
--- a/kernel/Makefile
+++ b/kernel/Makefile
@@ -35,6 +35,7 @@ obj-$(CONFIG_FUTEX) += futex.o
 ifeq ($(CONFIG_COMPAT),y)
 obj-$(CONFIG_FUTEX) += futex_compat.o
 endif
+obj-$(CONFIG_WRHV) += vbi/
 obj-$(CONFIG_RT_MUTEXES) += rtmutex.o
 obj-$(CONFIG_DEBUG_RT_MUTEXES) += rtmutex-debug.o
 obj-$(CONFIG_RT_MUTEX_TESTER) += rtmutex-tester.o
-- 
1.6.5.2

