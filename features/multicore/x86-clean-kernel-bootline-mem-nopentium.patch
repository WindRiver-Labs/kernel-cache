From 6074cca43465e56ec7d6fd119c3c9f3eb9f095c5 Mon Sep 17 00:00:00 2001
From: Weiwei Wang <weiwei.wang@windriver.com>
Date: Thu, 20 May 2010 20:37:40 -0700
Subject: [PATCH] x86: clean kernel bootline mem=nopentium

WRHV 1.2 has already support 4M large page support for
x86-32, so here clean bootline mem=nopentium, and then
linux will determine from cpuid whether it can use large
pages or not.

Signed-off-by: Weiwei Wang <weiwei.wang@windriver.com>
---
 arch/x86/kernel/vbi/wrhv.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/x86/kernel/vbi/wrhv.c b/arch/x86/kernel/vbi/wrhv.c
index 2ad07d0..eaabda1 100644
--- a/arch/x86/kernel/vbi/wrhv.c
+++ b/arch/x86/kernel/vbi/wrhv.c
@@ -516,7 +516,7 @@ void __init wrhv_boot_config(void)
 	/* Use the config space copy here, since we haven't mapped in the
 	   actual hypervisor config/status/control space yet */
         snprintf(boot_command_line, COMMAND_LINE_SIZE,
-		"retain_initrd pci=wrhv idle=wrhv mem=nopentium serialnumber nolapic nomce nosep memmap=exactmap memmap=%dK@0 %s",
+		"retain_initrd pci=wrhv idle=wrhv serialnumber nolapic nomce nosep memmap=exactmap memmap=%dK@0 %s",
 		wr_config->phys_mem_size / 1024,
 		wr_config->bootLine);
 #endif
-- 
1.6.5.2

