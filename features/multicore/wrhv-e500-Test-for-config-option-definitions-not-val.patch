From e485fc41b7a4cece1e221a674dd7e6285942a5e9 Mon Sep 17 00:00:00 2001
From: Jim Somerville <Jim.Somerville@windriver.com>
Date: Tue, 22 Jun 2010 14:21:25 -0700
Subject: [PATCH] wrhv/e500: Test for config option definitions not values.

Corrected two simple #elif tests to check for powerpc
config option definitions not their values.

Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>
---
 arch/powerpc/include/asm/pv_hw_irq.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/include/asm/pv_hw_irq.h b/arch/powerpc/include/asm/pv_hw_irq.h
index cdd3c99..b8feb99 100644
--- a/arch/powerpc/include/asm/pv_hw_irq.h
+++ b/arch/powerpc/include/asm/pv_hw_irq.h
@@ -22,7 +22,7 @@ extern int wrhv_int_lvl_get (void);
 #ifdef CONFIG_WRHV_E500
 #define IRQS_ENABLED 0
 #define IRQS_DISABLED -1
-#elif CONFIG_WRHV_P4080DS
+#elif defined(CONFIG_WRHV_P4080DS)
 #define IRQS_ENABLED 1
 #define IRQS_DISABLED 0
 #endif
@@ -69,7 +69,7 @@ static inline void pv_local_irq_save_ptr(unsigned long *flags)
 		pv_local_irq_disable();         \
 	} while (IRQS_DISABLED)
 
-#elif CONFIG_WRHV_E500
+#elif defined(CONFIG_WRHV_E500)
 #define raw_local_irq_save(flags)      pv_local_irq_save_ptr(&flags)
 #endif
 
-- 
1.6.5.2

