Received: from ala-mail06.corp.ad.wrs.com ([147.11.57.147]) by ala-mail09.corp.ad.wrs.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 14 Jun 2010 07:56:42 -0700
Received: from localhost.localdomain ([128.224.144.36]) by ala-mail06.corp.ad.wrs.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 14 Jun 2010 07:56:42 -0700
From: Thomas Tai <thomas.tai@windriver.com>
To: eng-lpg-multicore@windriver.com,
	thomas.tai@windriver.com,
	paul.gortmaker@windriver.com,
	jeremy.mcnicoll@windriver.com
Subject: [PATCH] add clock frequency and default baud rate in dts
Date: Mon, 14 Jun 2010 10:56:39 -0400
Message-Id: <1276527399-605-2-git-send-email-thomas.tai@windriver.com>
X-Mailer: git-send-email 1.6.6.GIT
In-Reply-To: <1276527399-605-1-git-send-email-thomas.tai@windriver.com>
References: <1276527399-605-1-git-send-email-thomas.tai@windriver.com>
Return-Path: thomas.tai@windriver.com
X-OriginalArrivalTime: 14 Jun 2010 14:56:42.0216 (UTC) FILETIME=[CCCBA680:01CB0BD1]

The default baud rate for ttyS0 is 115200, while the
default setting for ttyS1 is 9600. In order to change
speed during bootup, the correct clock frequency and
baud rate needed to be in the dts.

Signed-off-by: Thomas Tai <thomas.tai@windriver.com>
---
 arch/powerpc/boot/dts/wrhv_mpc8641d.dts |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/arch/powerpc/boot/dts/wrhv_mpc8641d.dts b/arch/powerpc/boot/dts/wrhv_mpc8641d.dts
index 80bf932..6b9ec54 100644
--- a/arch/powerpc/boot/dts/wrhv_mpc8641d.dts
+++ b/arch/powerpc/boot/dts/wrhv_mpc8641d.dts
@@ -266,7 +266,8 @@
 			device_type = "serial";
 			compatible = "ns16550";
 			reg = <0x4500 0x100>;
-			clock-frequency = <0>;
+			clock-frequency = <500000000>;
+			current-speed = <115200>;
 			interrupts = <42 2>;
 			interrupt-parent = <&mpic>;
 		};
@@ -276,7 +277,8 @@
 			device_type = "serial";
 			compatible = "ns16550";
 			reg = <0x4600 0x100>;
-			clock-frequency = <0>;
+			clock-frequency = <500000000>;
+			current-speed = <9600>;
 			interrupts = <28 2>;
 			interrupt-parent = <&mpic>;
 		};
-- 
1.6.6.GIT

