From 95f49e9f0da2d30f8af7f731c8986ccd28ed9ee0 Mon Sep 17 00:00:00 2001
From: Jim Somerville <Jim.Somerville@windriver.com>
Date: Thu, 4 Feb 2010 13:54:36 -0800
Subject: [PATCH] x86 - Remove const declaration on smp ops

The const keyword on the smp ops declaration interferes
with CONFIG_CC_OPTIMIZE_FOR_SIZE.  This might be
useful to atom at some point in the future, and the
const keyword isn't needed anyway.

Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>
---
 arch/x86/kernel/vbi/wrhv.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/x86/kernel/vbi/wrhv.c b/arch/x86/kernel/vbi/wrhv.c
index a6614eb..a01608f 100644
--- a/arch/x86/kernel/vbi/wrhv.c
+++ b/arch/x86/kernel/vbi/wrhv.c
@@ -1244,7 +1244,7 @@ static void wrhv_smp_send_call_func_ipi(cpumask_t mask)
 	wrhv_send_IPI_mask(WRHV_IPI_FUNC_CALL, mask);
 }
 
-static const struct smp_ops wrhv_smp_ops __initdata = {
+static struct smp_ops wrhv_smp_ops __initdata = {
 	.smp_prepare_boot_cpu = wrhv_smp_prepare_boot_cpu,
 	.smp_prepare_cpus = wrhv_smp_prepare_cpus,
 	.cpu_up = wrhv_cpu_up,
-- 
1.6.5.2

