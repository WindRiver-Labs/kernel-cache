From 6831a36b7dcb164d1a44a0839e84e6621f95fc21 Mon Sep 17 00:00:00 2001
From: Gregory Haskins <ghaskins@novell.com>
Date: Thu, 17 Sep 2009 16:18:00 -0400
Subject: [PATCH 041/119] venettap: be sure to initialize tx-mitigation

This was inadvertently dropped during the refactorization of the code.

Signed-off-by: Gregory Haskins <ghaskins@novell.com>
---
 kernel/vbus/devices/venet/device.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/kernel/vbus/devices/venet/device.c b/kernel/vbus/devices/venet/device.c
index 1f80315..50e269f 100644
--- a/kernel/vbus/devices/venet/device.c
+++ b/kernel/vbus/devices/venet/device.c
@@ -1193,6 +1193,7 @@ void venetdev_init(struct venetdev *device, struct net_device *dev)
 	device->vbus.rx_ops      = &venetdev_flat_rx_ops;
 	init_waitqueue_head(&device->vbus.rx_empty);
 	device->burst.thresh     = 0; /* microseconds, 0 = disabled */
+	device->txmitigation     = 10; /* nr-packets, 0 = disabled */
 
 	/*
 	 * netif init
-- 
1.6.5.2

