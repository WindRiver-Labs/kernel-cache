From ebe13e291b06df58de2c39eca232cdfdb467549e Mon Sep 17 00:00:00 2001
From: Mark Asselstine <mark.asselstine@windriver.com>
Date: Fri, 24 Jun 2011 14:36:18 -0400
Subject: [PATCH] kvm: remove unnecessary and incorrect typecast

set_64bit() takes a u64 for its first param __set_spte()
already has sptep as a u64 so no need to perform a cast.

Signed-off-by: Mark Asselstine <mark.asselstine@windriver.com>
---
 arch/x86/kvm/mmu.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

diff --git a/arch/x86/kvm/mmu.c b/arch/x86/kvm/mmu.c
index ca850d4..555825c 100644
--- a/arch/x86/kvm/mmu.c
+++ b/arch/x86/kvm/mmu.c
@@ -287,11 +287,7 @@ static gfn_t pse36_gfn_delta(u32 gpte)
 
 static void __set_spte(u64 *sptep, u64 spte)
 {
-#ifdef CONFIG_X86_64
-	set_64bit((unsigned long *)sptep, spte);
-#else
-	set_64bit((unsigned long long *)sptep, spte);
-#endif
+	set_64bit(sptep, spte);
 }
 
 static int mmu_topup_memory_cache(struct kvm_mmu_memory_cache *cache,
-- 
1.7.4.1

