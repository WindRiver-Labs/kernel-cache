From d7231877f3b8784c1be5eb4652d6a20f5ec5bdae Mon Sep 17 00:00:00 2001
From: Bruce Ashfield <bruce.ashfield@windriver.com>
Date: Thu, 27 May 2010 00:34:47 -0400
Subject: [PATCH] kgdb: export dbg_kdb_mode

dbg_kdb_mode is used outside of debug_core, if those files are
built into modules you end up with an unresolved symbol. This
removes that error by exporting the variable.

Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
---
 kernel/debug/debug_core.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/kernel/debug/debug_core.c b/kernel/debug/debug_core.c
index b55368b..682cb9f 100644
--- a/kernel/debug/debug_core.c
+++ b/kernel/debug/debug_core.c
@@ -86,6 +86,7 @@ int dbg_switch_cpu;
 
 /* Use kdb or gdbserver mode */
 int dbg_kdb_mode = 1;
+EXPORT_SYMBOL_GPL(dbg_kdb_mode);
 
 static int __init opt_kgdb_con(char *str)
 {
-- 
1.6.0.3

