From 516e16ae339d27f4301001a3e2a3caf1ad2b14d5 Mon Sep 17 00:00:00 2001
From: "Lespiau, Damien" <damien.lespiau@intel.com>
Date: Mon, 24 Mar 2014 15:53:16 +0000
Subject: [PATCH 0069/1369] drm: drm_ut_debug_printk() isn't called with NULL
 anywmore

commit 1288c19fbefa44bac4ba0bab8aa4b2607741f0eb upstream.

The DRM_LOG* macros where the only sites where drm_ut_debug_printk was
called with NULL arguments for prefix and function_name. Now that they
are gone, we can remove that case.

Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
Signed-off-by: Dave Airlie <airlied@redhat.com>
Signed-off-by: Pengyu Ma <pengyu.ma@windriver.com>
---
 drivers/gpu/drm/drm_stub.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

diff --git a/drivers/gpu/drm/drm_stub.c b/drivers/gpu/drm/drm_stub.c
index 971738b..cd4a6c712 100644
--- a/drivers/gpu/drm/drm_stub.c
+++ b/drivers/gpu/drm/drm_stub.c
@@ -108,11 +108,7 @@ void drm_ut_debug_printk(const char *prefix,
 	vaf.fmt = format;
 	vaf.va = &args;
 
-	if (function_name)
-		printk(KERN_DEBUG "[%s:%s], %pV", prefix,
-		       function_name, &vaf);
-	else
-		printk(KERN_DEBUG "%pV", &vaf);
+	printk(KERN_DEBUG "[%s:%s], %pV", prefix, function_name, &vaf);
 
 	va_end(args);
 }
-- 
1.7.5.4

