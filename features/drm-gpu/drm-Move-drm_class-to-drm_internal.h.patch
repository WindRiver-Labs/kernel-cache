From 2ecb80f5aca542a797be50b363db7794bef9cb04 Mon Sep 17 00:00:00 2001
From: Daniel Vetter <daniel.vetter@ffwll.ch>
Date: Wed, 10 Sep 2014 12:43:59 +0200
Subject: [PATCH 1292/1369] drm: Move drm_class to drm_internal.h

commit 00285be8ff2c07379d4809ed2750f8244f0c23fa upstream.

Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
Signed-off-by: Pengyu Ma <pengyu.ma@windriver.com>
---
 drivers/gpu/drm/drm_internal.h |    2 ++
 include/drm/drmP.h             |    2 --
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/drm_internal.h b/drivers/gpu/drm/drm_internal.h
index d6dc755..7e459bf 100644
--- a/drivers/gpu/drm/drm_internal.h
+++ b/drivers/gpu/drm/drm_internal.h
@@ -71,6 +71,8 @@ int drm_authmagic(struct drm_device *dev, void *data,
 int drm_remove_magic(struct drm_master *master, drm_magic_t magic);
 
 /* drm_sysfs.c */
+extern struct class *drm_class;
+
 struct class *drm_sysfs_create(struct module *owner, char *name);
 void drm_sysfs_destroy(void);
 struct device *drm_sysfs_minor_alloc(struct drm_minor *minor);
diff --git a/include/drm/drmP.h b/include/drm/drmP.h
index e063c2d..23f8a8e 100644
--- a/include/drm/drmP.h
+++ b/include/drm/drmP.h
@@ -1049,8 +1049,6 @@ extern void drm_put_dev(struct drm_device *dev);
 extern void drm_unplug_dev(struct drm_device *dev);
 extern unsigned int drm_debug;
 
-extern struct class *drm_class;
-
 				/* Debugfs support */
 #if defined(CONFIG_DEBUG_FS)
 extern int drm_debugfs_init(struct drm_minor *minor, int minor_id,
-- 
1.7.5.4

