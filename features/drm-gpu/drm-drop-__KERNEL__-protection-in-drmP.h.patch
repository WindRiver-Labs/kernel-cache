From aaed2603a054519d1661f651fd874b5df3621b78 Mon Sep 17 00:00:00 2001
From: David Herrmann <dh.herrmann@gmail.com>
Date: Fri, 29 Aug 2014 12:12:34 +0200
Subject: [PATCH 1260/1369] drm: drop __KERNEL__ protection in drmP.h

commit 32abc552bc869edcfa7b1c6ee365e0b58a134ec6 upstream.

drmP.h is internal to the kernel. No need to keep the __KERNEL__
protection.

Signed-off-by: David Herrmann <dh.herrmann@gmail.com>
Reviewed-by: Thierry Reding <treding@nvidia.com>
Signed-off-by: Dave Airlie <airlied@redhat.com>
Signed-off-by: Pengyu Ma <pengyu.ma@windriver.com>
---
 include/drm/drmP.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/include/drm/drmP.h b/include/drm/drmP.h
index c3c0a4b..cdae81f 100644
--- a/include/drm/drmP.h
+++ b/include/drm/drmP.h
@@ -35,7 +35,6 @@
 #ifndef _DRM_P_H_
 #define _DRM_P_H_
 
-#ifdef __KERNEL__
 #include <linux/sched.h>
 #include <linux/kernel.h>
 #include <linux/kref.h>
@@ -1551,5 +1550,4 @@ static __inline__ bool drm_can_sleep(void)
 	return true;
 }
 
-#endif				/* __KERNEL__ */
 #endif
-- 
1.7.5.4

