From 6da2eba50c51c8b78f66969bff0f69bbe98b0077 Mon Sep 17 00:00:00 2001
From: Alex Deucher <alexander.deucher@amd.com>
Date: Mon, 1 Jul 2013 16:04:02 -0400
Subject: [PATCH 688/886] drm/radeon/dpm: re-enable state transitions for BTC

commit 4b5c006ef2bd70ca8c06d74694e0e56719f15d91 upstream

Was disabled due to stability issues on certain boards
caused by the a bug in the parsing of the atom mc reg tables.
That's fixed now so re-enable.

Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
---
 drivers/gpu/drm/radeon/btc_dpm.c |    3 ---
 1 file changed, 3 deletions(-)

diff --git a/drivers/gpu/drm/radeon/btc_dpm.c b/drivers/gpu/drm/radeon/btc_dpm.c
index bab0185..f072660 100644
--- a/drivers/gpu/drm/radeon/btc_dpm.c
+++ b/drivers/gpu/drm/radeon/btc_dpm.c
@@ -2326,14 +2326,11 @@ int btc_dpm_set_power_state(struct radeon_device *rdev)
 		return ret;
 	}
 
-#if 0
-	/* XXX */
 	ret = rv770_unrestrict_performance_levels_after_switch(rdev);
 	if (ret) {
 		DRM_ERROR("rv770_unrestrict_performance_levels_after_switch failed\n");
 		return ret;
 	}
-#endif
 
 	return 0;
 }
-- 
1.7.9.5

