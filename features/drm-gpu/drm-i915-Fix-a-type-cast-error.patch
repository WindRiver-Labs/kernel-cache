From e8d31d34db1b1da0a76d23a571f3f48dabc52f5c Mon Sep 17 00:00:00 2001
From: "yadi.hu@windriver.com" <yadi.hu@windriver.com>
Date: Fri, 14 Nov 2014 11:11:22 +0800
Subject: [PATCH 4/4] drm/i915:Fix a type cast error

linux/drivers/gpu/drm/i915/i915_cmd_parser.c: In function 'i915_parse_cmds':
linux/drivers/gpu/drm/i915/i915_cmd_parser.c:405:4: warning: format '%td'
expects argument of type 'ptrdiff_t', but argument 7 has type 'long unsigned int' [-Wformat=]

Signed-off-by: Hu <yadi.hu@windriver.com>
---
 drivers/gpu/drm/i915/i915_cmd_parser.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/gpu/drm/i915/i915_cmd_parser.c b/drivers/gpu/drm/i915/i915_cmd_parser.c
index 4cf6d02..d8ce12b 100644
--- a/drivers/gpu/drm/i915/i915_cmd_parser.c
+++ b/drivers/gpu/drm/i915/i915_cmd_parser.c
@@ -405,7 +405,7 @@ int i915_parse_cmds(struct intel_ring_buffer *ring,
 			DRM_DEBUG_DRIVER("CMD: Command length exceeds batch length: 0x%08X length=%d batchlen=%td\n",
 					 *cmd,
 					 length,
-					 (unsigned long)(batch_end - cmd));
+					 (ptrdiff_t)(batch_end - cmd));
 			ret = -EINVAL;
 			break;
 		}
-- 
1.7.5.4

