From 4c7062d702b7d9a3843fcf33fc5cb899ecb72d1e Mon Sep 17 00:00:00 2001
From: Alex Deucher <alexander.deucher@amd.com>
Date: Mon, 1 Jul 2013 13:32:49 -0400
Subject: [PATCH 686/886] drm/radeon/atom: fix endian bug in
 radeon_atom_init_mc_reg_table()

commit 5c7524bf068ebe077254a6c37fcfa27e6cb6a1f3 upstream

Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
---
 drivers/gpu/drm/radeon/radeon_atombios.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/radeon/radeon_atombios.c b/drivers/gpu/drm/radeon/radeon_atombios.c
index 77300e3..6ddcfb0 100644
--- a/drivers/gpu/drm/radeon/radeon_atombios.c
+++ b/drivers/gpu/drm/radeon/radeon_atombios.c
@@ -3737,7 +3737,7 @@ int radeon_atom_init_mc_reg_table(struct radeon_device *rdev,
 							}
 							num_ranges++;
 						}
-						reg_data += reg_block->usRegDataBlkSize;
+						reg_data += le16_to_cpu(reg_block->usRegDataBlkSize);
 					}
 					if (*(u32 *)reg_data != END_OF_REG_DATA_BLOCK)
 						return -EINVAL;
-- 
1.7.9.5

