From 1b7b85b7f02db831313a3171c8f5f24f33b8eef9 Mon Sep 17 00:00:00 2001
From: Yanjiang Jin <yanjiang.jin@windriver.com>
Date: Thu, 18 Sep 2014 12:11:09 +0800
Subject: [PATCH] export symbol irq_set_affinity

If we build Cavium octeon watchdog driver as module, we would get the below error:

ERROR: "irq_set_affinity" [drivers/watchdog/octeon-wdt.ko] undefined!

So export this symbol.

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 kernel/irq/manage.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/kernel/irq/manage.c b/kernel/irq/manage.c
index 252bf10..271fdbf 100644
--- a/kernel/irq/manage.c
+++ b/kernel/irq/manage.c
@@ -275,6 +275,7 @@ int irq_set_affinity(unsigned int irq, const struct cpumask *mask)
 	raw_spin_unlock_irqrestore(&desc->lock, flags);
 	return ret;
 }
+EXPORT_SYMBOL_GPL(irq_set_affinity);
 
 int irq_set_affinity_hint(unsigned int irq, const struct cpumask *m)
 {
-- 
1.7.5.4

