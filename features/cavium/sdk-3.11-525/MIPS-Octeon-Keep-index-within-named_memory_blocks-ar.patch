From 6cb8898fb0e8470fa9db31844eeb8761da9efce8 Mon Sep 17 00:00:00 2001
From: Bin Jiang <bin.jiang@windriver.com>
Date: Thu, 23 Oct 2014 09:32:23 +0000
Subject: [PATCH] MIPS: Octeon: Keep index within named_memory_blocks array.

Following error is caused for exceeding named_memory_blocks array:
    arch/mips/cavium-octeon/setup.c:979:30: eraror: statement may be
    undefined in the final loop iteration.
        named_memory_blocks[i][0] && i < ARRAY_SIZE(named_memory_blocks);
                              ^
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/mips/cavium-octeon/setup.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index fdece83..26daf3a 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -976,7 +976,7 @@ void __init plat_mem_setup(void)
 		int i;
 
 		for (i = 0;
-		     named_memory_blocks[i][0] && i < ARRAY_SIZE(named_memory_blocks);
+		     i < ARRAY_SIZE(named_memory_blocks) && named_memory_blocks[i][0];
 		     i++) {
 			named_block = cvmx_bootmem_find_named_block(named_memory_blocks[i]);
 			if (!named_block) {
-- 
1.7.5.4

