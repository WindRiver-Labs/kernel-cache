From 2298cdbdae7c17bf5b6aa5242cc2b1a159a6bab9 Mon Sep 17 00:00:00 2001
From: Aaron Williams <aaron.williams@cavium.com>
Date: Mon, 7 Jan 2013 16:46:19 -0800
Subject: [PATCH 135/518] netdev/phy: Fixed mask for active copper cable check.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: e62d7b0e7207effdae7f6ae15a07c5e010e19e4b
Description:

Signed-off-by: Aaron Williams <aaron.williams@cavium.com>
Signed-off-by: Leonid Rosenboim <lrosenboim@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from Cavium SDK 3.1.1 525]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/phy/vsc848x.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/phy/vsc848x.c b/drivers/net/phy/vsc848x.c
index eea21c7..67fe374 100644
--- a/drivers/net/phy/vsc848x.c
+++ b/drivers/net/phy/vsc848x.c
@@ -508,7 +508,7 @@ static int vsc848x_read_sfp(struct phy_device *phydev)
 	} else if (mode == VITESSE_FUNC_MODE_COPPER) {
 		if (sfp_buffer[8] & 0x4) {
 			mode_str = "10G Passive Copper";
-		} else if (sfp_buffer[8] & 0x2) {
+		} else if (sfp_buffer[8] & 0x8) {
 			mode_str = "10G Active Copper";
 			mode = VITESSE_FUNC_MODE_LIMITING;
 		} else {
-- 
1.9.1

