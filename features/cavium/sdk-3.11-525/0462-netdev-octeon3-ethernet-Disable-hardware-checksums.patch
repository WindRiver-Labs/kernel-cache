From 84ee5fa93199df5db732b3475e907731588d46ed Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Thu, 8 May 2014 09:20:06 -0400
Subject: [PATCH 462/518] netdev: octeon3-ethernet: Disable hardware checksums.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: 4c17faf46cf81dc3c4ffa6d6cfeebe7b0601ff5a
Description:

They are not correct for IPv4/ICMP

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from Cavium SDK 3.1.1 525]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/ethernet/octeon/octeon3-ethernet.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/octeon/octeon3-ethernet.c b/drivers/net/ethernet/octeon/octeon3-ethernet.c
index b423f1c..06d73b80 100644
--- a/drivers/net/ethernet/octeon/octeon3-ethernet.c
+++ b/drivers/net/ethernet/octeon/octeon3-ethernet.c
@@ -552,7 +552,7 @@ static int octeon3_eth_napi(struct napi_struct *napi, int budget)
 	return rx_count;
 }
 
-//#define BROKEN_SIMULATOR_CSUM 1
+#define BROKEN_SIMULATOR_CSUM 1
 
 static int octeon3_eth_ndo_init(struct net_device *netdev)
 {
-- 
1.9.1

