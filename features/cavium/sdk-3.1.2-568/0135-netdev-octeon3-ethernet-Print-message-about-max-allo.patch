From 811f1830275ef7345e5c177abd5494eaa5bf42a3 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Thu, 6 Aug 2015 16:53:32 -0700
Subject: [PATCH 135/184] netdev:octeon3-ethernet: Print message about max
 allowed MTU.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: 6ce30d673509a2ff24ff7028f88a9daa9175bd7a
Description:

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/ethernet/octeon/octeon-bgx-port.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/octeon/octeon-bgx-port.c b/drivers/net/ethernet/octeon/octeon-bgx-port.c
index 9b3726a..2498382 100644
--- a/drivers/net/ethernet/octeon/octeon-bgx-port.c
+++ b/drivers/net/ethernet/octeon/octeon-bgx-port.c
@@ -436,8 +436,11 @@ int bgx_port_change_mtu(struct net_device *netdev, int new_mtu)
 	struct bgx_port_priv *priv = bgx_port_netdev2priv(netdev);
 	int max_frame;
 
-	if (new_mtu < 60 || new_mtu > 65392)
+	if (new_mtu < 60 || new_mtu > 65392) {
+		netdev_warn(netdev, "Maximum MTU supported is 65392\n");
+		
 		return -EINVAL;
+	}
 
 	netdev->mtu = new_mtu;
 
-- 
1.9.1

