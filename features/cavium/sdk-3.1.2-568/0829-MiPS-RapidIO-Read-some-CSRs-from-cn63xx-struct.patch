From 7fb5f6d1b5501df54e05482926d0521b13420301 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Tue, 1 Jul 2014 18:05:50 -0700
Subject: [PATCH 829/974] MiPS: RapidIO: Read some CSRs from cn63xx struct.

Bug #14147

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/rapidio/devices/cn6xxx.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/rapidio/devices/cn6xxx.c b/drivers/rapidio/devices/cn6xxx.c
index b1ed3bb..b54227e 100644
--- a/drivers/rapidio/devices/cn6xxx.c
+++ b/drivers/rapidio/devices/cn6xxx.c
@@ -108,7 +108,7 @@ static int cn6xxx_probe(struct rio_dev *dev, const struct rio_device_id *id)
 	/* Setup BAR2 */
 	sriomaintx_m2s_bar2_start.u32 = 0;
 	sriomaintx_m2s_bar2_start.s.addr64 = BAR2_ADDRESS >> 48;
-	sriomaintx_m2s_bar2_start.s.addr48 = BAR2_ADDRESS >> 41;
+	sriomaintx_m2s_bar2_start.cn63xx.addr48 = BAR2_ADDRESS >> 41;
 	sriomaintx_m2s_bar2_start.s.esx = 0;
 	sriomaintx_m2s_bar2_start.s.cax = 0;
 	sriomaintx_m2s_bar2_start.s.addr66 = 0; /* BAR2_ADDRESS >> 64; */
-- 
2.6.2

