From b705267a04b7beb5d0d234be234de07a489767bc Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Sat, 28 Sep 2013 10:29:21 -0700
Subject: [PATCH 314/974] MIPS: OCTEON: Sync up SE files.

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/cavium-octeon/executive/cvmx-helper-agl.c | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

diff --git a/arch/mips/cavium-octeon/executive/cvmx-helper-agl.c b/arch/mips/cavium-octeon/executive/cvmx-helper-agl.c
index c3e6ce2..a56fc07 100644
--- a/arch/mips/cavium-octeon/executive/cvmx-helper-agl.c
+++ b/arch/mips/cavium-octeon/executive/cvmx-helper-agl.c
@@ -233,7 +233,9 @@ int __cvmx_helper_agl_enable(int interface)
  */
 cvmx_helper_link_info_t __cvmx_helper_agl_link_get(int ipd_port)
 {
-	return cvmx_agl_link_get(ipd_port);
+	int interface = cvmx_helper_get_interface_num(ipd_port);
+	int port = cvmx_helper_agl_get_port(interface);
+	return cvmx_agl_link_get(port);
 }
 
 /**
@@ -251,5 +253,7 @@ cvmx_helper_link_info_t __cvmx_helper_agl_link_get(int ipd_port)
  */
 int __cvmx_helper_agl_link_set(int ipd_port, cvmx_helper_link_info_t link_info)
 {
-	return cvmx_agl_link_set(ipd_port, link_info, 1);	
+	int interface = cvmx_helper_get_interface_num(ipd_port);
+	int port = cvmx_helper_agl_get_port(interface);
+	return cvmx_agl_link_set(port, link_info, 1);
 }
-- 
2.6.2

