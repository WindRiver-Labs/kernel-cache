From ef080c10e6ad0cd347c30aaea63cc2c1ce47fc6b Mon Sep 17 00:00:00 2001
From: Quanyang Wang <quanyang.wang@windriver.com>
Date: Sun, 3 Jan 2016 20:28:48 +0800
Subject: [PATCH 1/2] perf tools: Add missing macro definition for UNW_MIPS_PC

Add definition for UNW_MIPS_PC, or else it will occurr compile error when
build perf tool as below:

CC bitbake_build/tmp/work/cav_octeon3-wrs-linux/perf/1.0-r8/perf-1.0/arch/mips/util/unwind.o
| arch/mips/util/unwind.c: In function 'unwind__arch_reg_id':
| arch/mips/util/unwind.c:14:7: error: 'UNW_MIPS_PC' undeclared (first use in this function)
|   case UNW_MIPS_PC:
|        ^
| arch/mips/util/unwind.c:14:7: note: each undeclared identifier is reported only once for each function it appears in
| make: *** bitbake_build/tmp/work/cav_octeon3-wrs-linux/perf/1.0-r8/perf-1.0/arch/mips/util/unwind.o] Error 1

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 tools/perf/arch/mips/include/perf_regs.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/tools/perf/arch/mips/include/perf_regs.h b/tools/perf/arch/mips/include/perf_regs.h
index a91b904..df06057 100644
--- a/tools/perf/arch/mips/include/perf_regs.h
+++ b/tools/perf/arch/mips/include/perf_regs.h
@@ -10,6 +10,8 @@
 
 #define PERF_REGS_MASK ((1ULL << PERF_REG_MIPS_MAX) - 1)
 
+#define UNW_MIPS_PC 34
+
 static inline const char *perf_reg_name(int id)
 {
 	switch (id) {
-- 
1.7.5.4

