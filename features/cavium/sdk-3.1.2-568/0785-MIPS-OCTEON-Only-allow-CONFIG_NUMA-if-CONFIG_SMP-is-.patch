From b3b96d9247b78a6c13fb702ee83d17196d0a4def Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Fri, 25 Jul 2014 18:05:50 -0700
Subject: [PATCH 785/974] MIPS: OCTEON: Only allow CONFIG_NUMA if CONFIG_SMP is
 also set.

Otherwise it is possible to create a configuration that cannot build.

Signed-off-by: David Daney <david.daney@cavium.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/Kconfig | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index eaa7907..c3c352c 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -768,7 +768,7 @@ config CAVIUM_OCTEON_SOC
 	select SYS_SUPPORTS_SMP
 	select NR_CPUS_DEFAULT_64
 	select MIPS_NR_CPU_NR_MAP_1024
-	select SYS_SUPPORTS_NUMA
+	select SYS_SUPPORTS_NUMA if SMP
 	select SPARSE_IRQ if NUMA
 	select HANDLE_DOMAIN_IRQ
 	select USB_ARCH_HAS_XHCI
-- 
2.6.2

