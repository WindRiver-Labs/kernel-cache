From d0f4202f445c611b3c9862b064d352e59dbe4b89 Mon Sep 17 00:00:00 2001
From: Peter Swain <peter.swain@cavium.com>
Date: Sat, 19 Jul 2014 18:05:50 -0700
Subject: [PATCH 644/974] mips: octeon-ethernet: extend ethtool PCS-reset to
 30mS

PHY-reset for qca833x can need longer than 10mS
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/octeon/ethernet-mdio.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/octeon/ethernet-mdio.c b/drivers/net/ethernet/octeon/ethernet-mdio.c
index 79adb11..ec9d916 100644
--- a/drivers/net/ethernet/octeon/ethernet-mdio.c
+++ b/drivers/net/ethernet/octeon/ethernet-mdio.c
@@ -163,7 +163,7 @@ static int cvm_eth_reset(struct net_device *dev, u32 *maskp)
 			down_info.s.link_up = 0;
 			cvmx_helper_link_set(priv->ipd_port, down_info);
 			set_port_pcs(dev, 0);
-			msleep(10);
+			msleep(30);
 			set_port_pcs(dev, 1);
 			link_info.s.link_up = 1;
 			cvmx_helper_link_set(priv->ipd_port, link_info);
-- 
2.6.2

