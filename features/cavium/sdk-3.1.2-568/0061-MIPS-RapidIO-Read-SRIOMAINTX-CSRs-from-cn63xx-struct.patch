From 44271d72bbf9525ba3c2fc20e73a4e52abc328a0 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Mon, 2 Feb 2015 14:56:14 -0800
Subject: [PATCH 061/184] MIPS: RapidIO: Read SRIOMAINTX CSRs from cn63xx
 struct.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: 71b44ec5c6c8df7efca226eaeffe08f32418b90a
Description:

Bug #14147

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/rapidio/devices/cn6xxx.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/rapidio/devices/cn6xxx.c b/drivers/rapidio/devices/cn6xxx.c
index b54227e..a8749c2 100644
--- a/drivers/rapidio/devices/cn6xxx.c
+++ b/drivers/rapidio/devices/cn6xxx.c
@@ -206,7 +206,7 @@ static int cn6xxx_probe(struct rio_dev *dev, const struct rio_device_id *id)
 	for (index = 0; index < 16; index++) {
 		union cvmx_sriomaintx_bar1_idxx sriomaintx_bar1_idxx;
 		sriomaintx_bar1_idxx.u32 = 0;
-		sriomaintx_bar1_idxx.s.la = index;
+		sriomaintx_bar1_idxx.cn63xx.la = index;
 		sriomaintx_bar1_idxx.s.enable = 1;
 		if (rio_write_config_32(dev, CVMX_SRIOMAINTX_BAR1_IDXX(index, 0),
 			sriomaintx_bar1_idxx.u32))
-- 
1.9.1

