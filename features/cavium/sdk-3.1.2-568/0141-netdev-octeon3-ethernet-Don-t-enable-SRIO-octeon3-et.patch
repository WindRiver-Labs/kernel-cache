From b0f4853412c346126f9c5d691c2e952f0aac4975 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Wed, 26 Aug 2015 09:40:50 -0700
Subject: [PATCH 141/184] netdev: octeon3-ethernet: Don't enable SRIO octeon3
 ethernet driver by default

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: c1ca745410e054b9d50e017b9678eed0c2878606
Description:

The SRIO driver depends on octeon3-ethernet driver, if ethernet driver is
built as module, SRIO driver also need to be built as module.

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/ethernet/octeon/Kconfig | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/octeon/Kconfig b/drivers/net/ethernet/octeon/Kconfig
index 8bb8fd0..061fff3 100644
--- a/drivers/net/ethernet/octeon/Kconfig
+++ b/drivers/net/ethernet/octeon/Kconfig
@@ -28,10 +28,9 @@ config OCTEON3_ETHERNET
 	  for cn70xx chips (use OCTEON_ETHERNET for cn70xx).
 
 config OCTEON3_ETHERNET_SRIO
-	bool "Cavium Inc. SRIO support for OCTEON III Ethernet driver"
+	tristate "Cavium Inc. SRIO support for OCTEON III Ethernet driver"
 	depends on (OCTEON3_ETHERNET && CAVIUM_OCTEON_RAPIDIO)
 	select OCTEON_SRIO_NEXUS
-	default y
 	help
 	  This driver adds 'SRIO' support to the Ethernet driver via PKI/PKO
 	  units. It supports Caviums CNF75XX SOC. To compile this driver as a
-- 
1.9.1

