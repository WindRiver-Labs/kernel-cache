From 8ca582bb164f1e596e5fde94e4cb347aac8426e0 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Sun, 1 Feb 2015 12:19:28 -0800
Subject: [PATCH 060/184] MiPS: RapidIO: Read some CSRs from cn63xx struct.

Source: Cavium Networks, Inc.
MR: 14147
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: ecfd7f5f4428bdd2a1ffb9c05821635c704491fa
Description:

Bug #14147

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/rapidio/devices/cn6xxx.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/rapidio/devices/cn6xxx.c b/drivers/rapidio/devices/cn6xxx.c
index b1ed3bb..b54227e 100644
--- a/drivers/rapidio/devices/cn6xxx.c
+++ b/drivers/rapidio/devices/cn6xxx.c
@@ -108,7 +108,7 @@ static int cn6xxx_probe(struct rio_dev *dev, const struct rio_device_id *id)
 	/* Setup BAR2 */
 	sriomaintx_m2s_bar2_start.u32 = 0;
 	sriomaintx_m2s_bar2_start.s.addr64 = BAR2_ADDRESS >> 48;
-	sriomaintx_m2s_bar2_start.s.addr48 = BAR2_ADDRESS >> 41;
+	sriomaintx_m2s_bar2_start.cn63xx.addr48 = BAR2_ADDRESS >> 41;
 	sriomaintx_m2s_bar2_start.s.esx = 0;
 	sriomaintx_m2s_bar2_start.s.cax = 0;
 	sriomaintx_m2s_bar2_start.s.addr66 = 0; /* BAR2_ADDRESS >> 64; */
-- 
1.9.1

