From b3668edcdd670826c4e506450899aafe26b656f1 Mon Sep 17 00:00:00 2001
From: Yanjiang Jin <yanjiang.jin@windriver.com>
Date: Mon, 7 Aug 2017 13:48:08 +0800
Subject: [PATCH 177/184] octeon3-ethernet.c: replace __bitmap_empty() with
 find_first_bit()

The commit 2afe27c718b66(lib/bitmap.c: bitmap_[empty,full]: remove
code duplication) removes __bitmap_empty.

Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/ethernet/octeon/octeon3-ethernet.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/octeon/octeon3-ethernet.c b/drivers/net/ethernet/octeon/octeon3-ethernet.c
index 9ba3118..f7125bf 100644
--- a/drivers/net/ethernet/octeon/octeon3-ethernet.c
+++ b/drivers/net/ethernet/octeon/octeon3-ethernet.c
@@ -1903,7 +1903,7 @@ static int octeon3_eth_common_ndo_stop(struct net_device *netdev)
 
 		octeon3_rm_napi_from_cxt(priv->numa_node, rx->napiw);
 		rx->napiw = NULL;
-		BUG_ON(!__bitmap_empty(rx->napi_idx_bitmap, CVMX_MAX_CORES));
+		BUG_ON(!(find_first_bit(rx->napi_idx_bitmap, CVMX_MAX_CORES) == CVMX_MAX_CORES));
 	}
 
 	/* Free the packet buffers */
-- 
1.9.1

