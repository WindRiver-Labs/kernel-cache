From ea1123eed6c3a5aa44afe82cf29a87ea7812465f Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Mon, 17 Aug 2015 08:56:41 -0700
Subject: [PATCH 137/184] mtd: m25p80: Add Micron (MT25Q*) SPI flash devices.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: ecf68d427ceee02941dc6de903fb499255054a82
Description:

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/mtd/devices/m25p80.c | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/drivers/mtd/devices/m25p80.c b/drivers/mtd/devices/m25p80.c
index 3af137f..dac2e32 100644
--- a/drivers/mtd/devices/m25p80.c
+++ b/drivers/mtd/devices/m25p80.c
@@ -301,6 +301,18 @@ static const struct spi_device_id m25p_ids[] = {
 	{"w25q128"},	{"w25q256"},	{"cat25c11"},
 	{"cat25c03"},	{"cat25c09"},	{"cat25c17"},	{"cat25128"},
 
+	{ "mt25ql064", INFO(0x20ba17, 0, 64 * 1024, 128, SECT_4K) },
+	{ "mt25qu064", INFO(0x20bb17, 0, 64 * 1024, 128, SECT_4K) },
+	{ "mt25ql128", INFO(0x20ba18, 0, 64 * 1024, 256, SECT_4K) },
+	{ "mt25qu128", INFO(0x20bb18, 0, 64 * 1024, 256, SECT_4K) },
+	{ "mt25ql256", INFO(0x20ba19, 0, 64 * 1024, 512, SECT_4K) },
+	{ "mt25qu256", INFO(0x20bb19, 0, 64 * 1024, 512, SECT_4K) },
+	{ "mt25ql512", INFO(0x20ba20, 0, 64 * 1024, 1024, SECT_4K) },
+	{ "mt25qu512", INFO(0x20bb20, 0, 64 * 1024, 1024, SECT_4K) },
+	{ "mt25ql01g", INFO(0x20ba21, 0, 64 * 1024, 2048, SECT_4K) },
+	{ "mt25qu01g", INFO(0x20bb21, 0, 64 * 1024, 2048, SECT_4K) },
+	{ "mt25ql02g", INFO(0x20ba22, 0, 64 * 1024, 4096, SECT_4K) },
+	{ "mt25qu02g", INFO(0x20bb22, 0, 64 * 1024, 4096, SECT_4K) },
 	/*
 	 * Generic support for SPI NOR that can be identified by the JEDEC READ
 	 * ID opcode (0x9F). Use this, if possible.
-- 
1.9.1

