From 5527c586e921c2dd90f6b4193374b71b66f5bc2a Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Tue, 25 Nov 2014 10:41:55 -0800
Subject: [PATCH 032/184] MIPS: OCTEON: Only allow CONFIG_NUMA if CONFIG_SMP is
 also set.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: fb3a56c900c1e0f2abaa7287c412ffdf0aa8dded
Description:

Otherwise it is possible to create a configuration that cannot build.

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/Kconfig | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index 44a8cc4..8c8b768 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -838,7 +838,7 @@ config CAVIUM_OCTEON_SOC
 	select SYS_SUPPORTS_SMP
 	select NR_CPUS_DEFAULT_64
 	select MIPS_NR_CPU_NR_MAP_1024
-	select SYS_SUPPORTS_NUMA
+	select SYS_SUPPORTS_NUMA if SMP
 	select SPARSE_IRQ if NUMA
 	select HANDLE_DOMAIN_IRQ
 	select USB_ARCH_HAS_XHCI
-- 
1.9.1

