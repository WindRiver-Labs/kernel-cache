From af726f88a4e7cc811fe9fdbac58495b6e29af5c6 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@localhost.localdomain>
Date: Thu, 10 Jul 2014 18:05:50 -0700
Subject: [PATCH 666/974] MIPS:OCTEON: Sync-up cvmx-fpa-resource.c file.

Signed-off-by: Chandrakala Chavva <cchavva@localhost.localdomain>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/cavium-octeon/executive/cvmx-fpa-resource.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/arch/mips/cavium-octeon/executive/cvmx-fpa-resource.c b/arch/mips/cavium-octeon/executive/cvmx-fpa-resource.c
index 5fc6787..1306a53 100644
--- a/arch/mips/cavium-octeon/executive/cvmx-fpa-resource.c
+++ b/arch/mips/cavium-octeon/executive/cvmx-fpa-resource.c
@@ -75,9 +75,10 @@ int cvmx_fpa_get_max_pools(void)
 	if (octeon_has_feature(OCTEON_FEATURE_FPA3))
 		return CVMX_FPA3_NUM_AURAS;
 	else if (OCTEON_IS_MODEL(OCTEON_CN68XX))
+		/* 68xx pool 8 is not available via API */
 		return  CVMX_FPA1_NUM_POOLS;
 	else
-		return  CVMX_FPA1_NUM_POOLS-1;
+		return  CVMX_FPA1_NUM_POOLS;
 }
 
 uint64_t cvmx_fpa3_get_aura_owner(cvmx_fpa3_gaura_t aura)
@@ -303,3 +304,5 @@ EXPORT_SYMBOL(cvmx_fpa3_reserve_aura);
 EXPORT_SYMBOL(cvmx_fpa3_release_aura);
 EXPORT_SYMBOL(cvmx_fpa3_reserve_pool);
 EXPORT_SYMBOL(cvmx_fpa3_release_pool);
+EXPORT_SYMBOL(cvmx_fpa1_reserve_pool);
+EXPORT_SYMBOL(cvmx_fpa1_release_pool);
-- 
2.6.2

