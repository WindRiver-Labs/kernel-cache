From 6bd08fa97398e6341b7277befa36d226055b098e Mon Sep 17 00:00:00 2001
From: Peter Swain <peter.swain@cavium.com>
Date: Tue, 29 Jul 2014 18:05:50 -0700
Subject: [PATCH 661/974] MIPS: OCTEON: cpu_state not just for _HOTPLUG

previous commit 770fd1 "Remove oct-app-ctl hooks from SMP handlers"
placed cpu_state definition under CONFIG_CPU_HOTPLUG,
but it's also used in non-hotplug smp startup

Signed-off-by: Peter Swain <peter.swain@cavium.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/cavium-octeon/smp.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/mips/cavium-octeon/smp.c b/arch/mips/cavium-octeon/smp.c
index 323f46f..f79817b 100644
--- a/arch/mips/cavium-octeon/smp.c
+++ b/arch/mips/cavium-octeon/smp.c
@@ -28,10 +28,10 @@ __cpuinitdata unsigned long octeon_processor_gp;
 static struct cvmx_boot_vector_element *octeon_bootvector;
 static void *octeon_hotplug_entry_raw;
 extern asmlinkage void octeon_hotplug_entry(void);
+#endif
 
 /* State of each CPU. */
 DEFINE_PER_CPU(int, cpu_state);
-#endif
 
 static void octeon_icache_flush(void)
 {
-- 
2.6.2

