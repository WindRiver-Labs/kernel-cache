From 964f5fcf82f2f90016820165f6552b1fc2e95f82 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Fri, 4 Jul 2014 18:05:50 -0700
Subject: [PATCH 742/974] MIPS: OCTEON: Rename csrc-octeon clocksource
 variables for clarity.

Signed-off-by: David Daney <david.daney@cavium.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/cavium-octeon/csrc-octeon.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/mips/cavium-octeon/csrc-octeon.c b/arch/mips/cavium-octeon/csrc-octeon.c
index 05493a2..0d242fd 100644
--- a/arch/mips/cavium-octeon/csrc-octeon.c
+++ b/arch/mips/cavium-octeon/csrc-octeon.c
@@ -106,7 +106,7 @@ static cycle_t octeon_cvmcount_read(struct clocksource *cs)
 	return read_c0_cvmcount();
 }
 
-static struct clocksource clocksource_mips = {
+static struct clocksource csrc_octeon = {
 	.name		= "OCTEON_CVMCOUNT",
 	.read		= octeon_cvmcount_read,
 	.mask		= CLOCKSOURCE_MASK(64),
@@ -118,8 +118,8 @@ unsigned long long notrace sched_clock(void)
 	/* 64-bit arithmatic can overflow, so use 128-bit.  */
 	u64 t1, t2, t3;
 	unsigned long long rv;
-	u64 mult = clocksource_mips.mult;
-	u64 shift = clocksource_mips.shift;
+	u64 mult = csrc_octeon.mult;
+	u64 shift = csrc_octeon.shift;
 	u64 cnt = read_c0_cvmcount();
 
 	asm (
@@ -139,8 +139,8 @@ unsigned long long notrace sched_clock(void)
 
 void __init plat_time_init(void)
 {
-	clocksource_mips.rating = 300;
-	clocksource_register_hz(&clocksource_mips, octeon_get_clock_rate());
+	csrc_octeon.rating = 300;
+	clocksource_register_hz(&csrc_octeon, octeon_get_clock_rate());
 }
 
 void __udelay(unsigned long us)
-- 
2.6.2

