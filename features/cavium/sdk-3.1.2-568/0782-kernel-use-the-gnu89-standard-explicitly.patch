From c07875b4d99c33c3cc7bf49bc19dfc1b1cd0142c Mon Sep 17 00:00:00 2001
From: Andrew Pinski <apinski@cavium.com>
Date: Mon, 21 Jul 2014 18:05:50 -0700
Subject: [PATCH 782/974] kernel: use the gnu89 standard explicitly

gcc5 changes the default standard to c11, which makes kernel
build unhappy.

Explicitly define the kernel standard to be gnu89 which should
keep everything working exactly like it was before gcc5.

Pull from http://lkml.iu.edu/hypermail/linux/kernel/1410.2/01608.html .

Signed-off-by: Sasha Levin <sasha.levin@oracle.com>
Signed-off-by: Andrew Pinski <apinski@cavium.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 Makefile | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index f96df3f..cc4c5d1 100644
--- a/Makefile
+++ b/Makefile
@@ -373,7 +373,8 @@ KBUILD_CFLAGS   := -Wall -Wundef -Wstrict-prototypes -Wno-trigraphs \
 		   -fno-strict-aliasing -fno-common \
 		   -Werror-implicit-function-declaration \
 		   -Wno-format-security \
-		   -fno-delete-null-pointer-checks
+		   -fno-delete-null-pointer-checks \
+		   std=gnu89
 KBUILD_AFLAGS_KERNEL :=
 KBUILD_CFLAGS_KERNEL :=
 KBUILD_AFLAGS   := -D__ASSEMBLY__
-- 
2.6.2

