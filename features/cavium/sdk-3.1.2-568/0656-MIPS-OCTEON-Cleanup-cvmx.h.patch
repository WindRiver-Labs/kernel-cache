From bdbc8991fbb7674dbed7c96d6487e9dc6fbbd118 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Sat, 26 Jul 2014 18:05:50 -0700
Subject: [PATCH 656/974] MIPS: OCTEON: Cleanup cvmx.h

We make it buildable with (but don't change) CVMX_ENABLE_DEBUG_PRINTS=0

Get rid of unused cvmx_dvprintf().

Signed-off-by: David Daney <david.daney@cavium.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/include/asm/octeon/cvmx.h | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/arch/mips/include/asm/octeon/cvmx.h b/arch/mips/include/asm/octeon/cvmx.h
index 2ec712e..dc8763d 100644
--- a/arch/mips/include/asm/octeon/cvmx.h
+++ b/arch/mips/include/asm/octeon/cvmx.h
@@ -117,11 +117,10 @@ static inline unsigned int cvmx_get_node_num(void)
 
 #if CVMX_ENABLE_DEBUG_PRINTS
 #define cvmx_dprintf        pr_debug
-#define cvmx_dvprintf       vprintk
 #else
-#define cvmx_dprintf(...)   {}
-#define cvmx_dvprintf(a, b)   {(void)(a);(void)(b);}
+#define cvmx_dprintf(...)   do { } while(0)
 #endif
+#define cvmx_printf        pr_notice
 
 #define CVMX_CACHE_LINE_SIZE    (128)	/* In bytes */
 #define CVMX_CACHE_LINE_MASK    (CVMX_CACHE_LINE_SIZE - 1)	/* In bytes */
-- 
2.6.2

