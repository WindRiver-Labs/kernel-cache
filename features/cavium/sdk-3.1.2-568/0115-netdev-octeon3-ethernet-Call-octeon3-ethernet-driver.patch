From d020fd670b84fe64518b32ed551cc295b5a32480 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Tue, 5 May 2015 13:46:43 -0700
Subject: [PATCH 115/184] netdev:octeon3-ethernet: Call octeon3 ethernet driver
 for BGX interfaces

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: fba243ea9795f6c70fc33c674b8df4f97dafd093
Description:

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/net/ethernet/octeon/octeon3-ethernet.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/octeon/octeon3-ethernet.c b/drivers/net/ethernet/octeon/octeon3-ethernet.c
index b1ca495..6511c98 100644
--- a/drivers/net/ethernet/octeon/octeon3-ethernet.c
+++ b/drivers/net/ethernet/octeon/octeon3-ethernet.c
@@ -2429,7 +2429,7 @@ module_init(octeon3_eth_init);
 
 static void __exit octeon3_eth_exit(void)
 {
-	if (!OCTEON_IS_MODEL(OCTEON_CN78XX))
+	if (!octeon_has_feature(OCTEON_FEATURE_BGX))
 		return;
 
 	platform_driver_unregister(&octeon3_eth_driver);
-- 
1.9.1

