From 3c5b033556f28a2c257dd8989c381a917c5c60a3 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Tue, 15 Jul 2014 18:05:50 -0700
Subject: [PATCH 668/974] MIPS: OCTEON: Trivial, fix a few code formatting
 issues in setup.c.

Signed-off-by: David Daney <david.daney@cavium.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 arch/mips/cavium-octeon/setup.c | 25 ++++++++++---------------
 1 file changed, 10 insertions(+), 15 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index 97a2715..8792f90 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -83,8 +83,8 @@ static void octeon_kexec_smp_down(void *ignored)
 		cpu_relax();
 
 	asm volatile (
-	"	sync						\n"
-	"	synci	($0)					\n");
+	"	sync\n"
+	"	synci	($0)\n");
 
 	relocated_kexec_smp_wait(NULL);
 }
@@ -294,8 +294,7 @@ void octeon_check_cpu_bist(void)
 	else
 		bist_val = read_octeon_c0_dcacheerr();
 	if (bist_val & 1)
-		pr_err("Core%d L1 Dcache parity error: "
-		       "CacheErr(dcache) = 0x%llx\n",
+		pr_err("Core%d L1 Dcache parity error: CacheErr(dcache) = 0x%llx\n",
 		       coreid, bist_val);
 
 	mask = 0xfc00000000000000ull;
@@ -544,7 +543,7 @@ void octeon_user_io_init(void)
 		/* 4096 cycles */
 		nm_tim.s.nw_tim = 3;
 		cvmx_write_csr(CVMX_SSO_NW_TIM, nm_tim.u64);
-	} else if (!OCTEON_IS_MODEL(OCTEON_CN78XX)){
+	} else if (!OCTEON_IS_MODEL(OCTEON_CN78XX)) {
 		union cvmx_pow_nw_tim nm_tim;
 		nm_tim.u64 = 0;
 		/* 4096 cycles */
@@ -715,16 +714,14 @@ void __init prom_init(void)
 	 * Allocate memory for RESERVE32 aligned on 2MB boundary. This
 	 * is in case we later use hugetlb entries with it.
 	 */
-	if ( CONFIG_CAVIUM_RESERVE32 > 0 ) {
+	if (CONFIG_CAVIUM_RESERVE32 > 0) {
 		int64_t addr = -1;
-		addr = 
-			cvmx_bootmem_phy_named_block_alloc(
+		addr = cvmx_bootmem_phy_named_block_alloc(
 				CONFIG_CAVIUM_RESERVE32 << 20,
 				0, 0, 2 << 20,
 				"CAVIUM_RESERVE32", 0);
 		if (addr < 0)
-			pr_err("Failed to allocate "
-				"CAVIUM_RESERVE32 memory area\n");
+			pr_err("Failed to allocate CAVIUM_RESERVE32 memory area\n");
 		else
 			octeon_reserve32_memory = addr;
 	}
@@ -803,8 +800,7 @@ void __init prom_init(void)
 		} else if (strcmp(arg, "ecc_verbose") == 0) {
 #ifdef CONFIG_CAVIUM_REPORT_SINGLE_BIT_ECC
 			__cvmx_interrupt_ecc_report_single_bit_errors = 1;
-			pr_notice("Reporting of single bit ECC errors is "
-				  "turned on\n");
+			pr_notice("Reporting of single bit ECC errors is turned on\n");
 #endif
 			goto append_arg;
 		} else {
@@ -843,7 +839,7 @@ append_arg:
 	octeon_setup_smp();
 
 #ifdef CONFIG_CAVIUM_GDB
-	cvmx_debug_init ();
+	cvmx_debug_init();
 #endif
 	pr_info("Cavium Inc. SDK-" SDK_VERSION "\n");
 }
@@ -1068,8 +1064,7 @@ mem_alloc_done:
 		cvmx_bootmem_free_named("CAVIUM_RESERVE32");
 
 	if (total == 0)
-		panic("Unable to allocate memory from "
-		      "cvmx_bootmem_phy_alloc\n");
+		panic("Unable to allocate memory from cvmx_bootmem_phy_alloc\n");
 
 	/* Initialize QLM and also apply any erratas */
 	cvmx_qlm_init();
-- 
2.6.2

