From 1b87c90c6e08759f9986ccfbd703a2571667fe48 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Tue, 4 Nov 2014 14:23:40 -0800
Subject: [PATCH 013/184] MIPS: OCTEON: #define a bunch of topology.h symbols.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: c1d994c6e82d5b0dc7c9c19287a40fd21ab62be3
Description:

These make it work properly with the asm-generic version.

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/include/asm/mach-cavium-octeon/topology.h | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/arch/mips/include/asm/mach-cavium-octeon/topology.h b/arch/mips/include/asm/mach-cavium-octeon/topology.h
index 5a0a586..2e6a1b5 100644
--- a/arch/mips/include/asm/mach-cavium-octeon/topology.h
+++ b/arch/mips/include/asm/mach-cavium-octeon/topology.h
@@ -7,6 +7,7 @@ static inline int cpu_to_node(int cpu)
 {
 	return (cpu_logical_map(cpu) >> 7) & 7;
 }
+#define cpu_to_node cpu_to_node
 
 static inline struct cpumask *cpumask_of_node(int node)
 {
@@ -14,22 +15,26 @@ static inline struct cpumask *cpumask_of_node(int node)
 		return cpu_all_mask;
 	return &__node_data[node].cpumask_on_node;
 }
+#define cpumask_of_node cpumask_of_node
 
 static inline int parent_node(int node)
 {
 	return node;
 }
+#define parent_node parent_node
 
 struct pci_bus;
 static inline int pcibus_to_node(struct pci_bus *bus)
 {
 	return 0;
 }
+#define pcibus_to_node pcibus_to_node
 
 static inline struct cpumask *cpumask_of_pcibus(struct pci_bus *bus)
 {
 	return cpumask_of_node(pcibus_to_node(bus));
 }
+#define cpumask_of_pcibus cpumask_of_pcibus
 
 struct device_node;
 int of_node_to_nid(struct device_node *np);
-- 
1.9.1

