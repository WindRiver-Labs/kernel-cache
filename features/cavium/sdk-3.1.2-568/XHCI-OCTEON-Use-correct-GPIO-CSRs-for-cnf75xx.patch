From 8c319b6b6db04084377368c1317afe68407a88bf Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Wed, 2 Dec 2015 09:02:15 -0800
Subject: [PATCH 02/13] XHCI:OCTEON: Use correct GPIO CSRs for cnf75xx

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
[Original patch taken from patch set for OCTEON SDK 3.1.2]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/usb/host/xhci-octeon.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/drivers/usb/host/xhci-octeon.c b/drivers/usb/host/xhci-octeon.c
index 8c83535..5081ebd 100644
--- a/drivers/usb/host/xhci-octeon.c
+++ b/drivers/usb/host/xhci-octeon.c
@@ -67,7 +67,9 @@ static int octeon3_usb_config_power(struct device_node *node, u64 base)
 			pr_err("Invalid power GPIO device tree entry\n");
 			return -1;
 		}
-		if (OCTEON_IS_MODEL(OCTEON_CN73XX) && gpio <= 31) {
+		if ((OCTEON_IS_MODEL(OCTEON_CN73XX)
+		     || OCTEON_IS_MODEL(OCTEON_CNF75XX))
+		    && gpio <= 31) {
 			gpio_bit.u64 = cvmx_read_csr(CVMX_GPIO_BIT_CFGX(gpio));
 			gpio_bit.s.tx_oe = 1;
 			gpio_bit.cn73xx.output_sel = (index == 0 ? 0x14 : 0x15);
-- 
1.7.5.4

