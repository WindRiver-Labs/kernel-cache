From c0906734f9f72eca873eca3925c3bcc025797c71 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Mon, 20 Jul 2015 15:25:52 -0700
Subject: [PATCH 129/184] MIPS: RapidIO: Read more SRIOMAINTX CSRs from 63xx
 struct.

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: 743d863174e9cee6201605e5dda6e29f89aace58
Description:

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from octeon-linux-kernel-patches-SDK-3.1.2-release]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 drivers/rapidio/devices/cn6xxx.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/rapidio/devices/cn6xxx.c b/drivers/rapidio/devices/cn6xxx.c
index a8749c2..7fbaed4 100644
--- a/drivers/rapidio/devices/cn6xxx.c
+++ b/drivers/rapidio/devices/cn6xxx.c
@@ -138,7 +138,7 @@ static int cn6xxx_probe(struct rio_dev *dev, const struct rio_device_id *id)
 	sriomaintx_m2s_bar1_start0.s.addr64 = BAR1_ADDRESS >> 48;
 	sriomaintx_m2s_bar1_start0.s.addr48 = BAR1_ADDRESS >> 32;
 	sriomaintx_m2s_bar1_start1.u32 = 0;
-	sriomaintx_m2s_bar1_start1.s.addr32 = (BAR1_ADDRESS >> 20) & 0xfff;
+	sriomaintx_m2s_bar1_start1.cn63xx.addr32 = (BAR1_ADDRESS >> 20) & 0xfff;
 	sriomaintx_m2s_bar1_start1.s.barsize = BAR1_SHIFT;
 	sriomaintx_m2s_bar1_start1.s.addr66 = 0; /* BAR1_ADDRESS >> 64; */
 	sriomaintx_m2s_bar1_start1.s.enable = 1;
@@ -156,7 +156,7 @@ static int cn6xxx_probe(struct rio_dev *dev, const struct rio_device_id *id)
 	sriomaintx_m2s_bar0_start0.s.addr64 = BAR0_ADDRESS >> 48;
 	sriomaintx_m2s_bar0_start0.s.addr48 = BAR0_ADDRESS >> 32;
 	sriomaintx_m2s_bar0_start1.u32 = 0;
-	sriomaintx_m2s_bar0_start1.s.addr32 = (BAR0_ADDRESS >> 14) & 0x3ffff;
+	sriomaintx_m2s_bar0_start1.cn63xx.addr32 = (BAR0_ADDRESS >> 14) & 0x3ffff;
 	sriomaintx_m2s_bar0_start1.s.addr66 = 0; /* BAR0_ADDRESS >> 64; */
 	sriomaintx_m2s_bar0_start1.s.enable = 1;
 	if (rio_write_config_32(dev, CVMX_SRIOMAINTX_M2S_BAR0_START0(0),
-- 
1.9.1

