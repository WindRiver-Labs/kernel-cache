From 0189c963bde6e679630bfcf4aa41e6bfa1d1fb70 Mon Sep 17 00:00:00 2001
From: Chandrakala Chavva <cchavva@caviumnetworks.com>
Date: Sat, 5 Jul 2014 18:05:50 -0700
Subject: [PATCH 886/974] netdev:octeon3-ethernet: Call octeon3 ethernet driver
 for BGX interfaces

Signed-off-by: Chandrakala Chavva <cchavva@caviumnetworks.com>
[Original patch taken from Cavium SDK 3.1.2-568]
Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/net/ethernet/octeon/octeon3-ethernet.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/octeon/octeon3-ethernet.c b/drivers/net/ethernet/octeon/octeon3-ethernet.c
index 40b9c3b..682186c 100644
--- a/drivers/net/ethernet/octeon/octeon3-ethernet.c
+++ b/drivers/net/ethernet/octeon/octeon3-ethernet.c
@@ -2413,7 +2413,7 @@ module_init(octeon3_eth_init);
 
 static void __exit octeon3_eth_exit(void)
 {
-	if (!OCTEON_IS_MODEL(OCTEON_CN78XX))
+	if (!octeon_has_feature(OCTEON_FEATURE_BGX))
 		return;
 
 	platform_driver_unregister(&octeon3_eth_driver);
-- 
2.6.2

