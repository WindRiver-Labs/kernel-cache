From 23c25cb43de7adef87ac63ae245e206b06799526 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Mon, 26 Aug 2013 16:10:05 -0700
Subject: [PATCH 070/122] MIPS: OCTEON: Fix section mismatch warnings in smp.c

Source: Cavium Networks, Inc.
MR: 00000
Type: Integration
Disposition: Merged from Octeon Tree
ChangeID: 11dde5ee15aa17f25ec3eccf11bf54195cf7465b
Description:

The last commit caused some warnings due to poorly named variables.
Also add some 'static' and remove bogus 'inline'.

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
[Original patch taken from Cavium SDK 3.1.1 525]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/mips/cavium-octeon/smp.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/arch/mips/cavium-octeon/smp.c b/arch/mips/cavium-octeon/smp.c
index 6a25ce4..5728edc 100644
--- a/arch/mips/cavium-octeon/smp.c
+++ b/arch/mips/cavium-octeon/smp.c
@@ -472,7 +472,7 @@ late_initcall(register_cavium_notifier);
 
 #endif	/* CONFIG_HOTPLUG_CPU */
 
-struct plat_smp_ops octeon_smp_ops = {
+static struct plat_smp_ops octeon_smp_ops = {
 	.send_ipi_single	= octeon_send_ipi_single,
 	.send_ipi_mask		= octeon_send_ipi_mask,
 	.init_secondary		= octeon_init_secondary,
@@ -527,7 +527,7 @@ static void octeon_78xx_prepare_cpus(unsigned int max_cpus)
 	}
 }
 
-static inline void octeon_78xx_send_ipi_single(int cpu, unsigned int action)
+static void octeon_78xx_send_ipi_single(int cpu, unsigned int action)
 {
 	int i;
 
@@ -538,8 +538,8 @@ static inline void octeon_78xx_send_ipi_single(int cpu, unsigned int action)
 	}
 }
 
-static inline void octeon_78xx_send_ipi_mask(const struct cpumask *mask,
-					     unsigned int action)
+static void octeon_78xx_send_ipi_mask(const struct cpumask *mask,
+				      unsigned int action)
 {
 	unsigned int cpu;
 
@@ -547,7 +547,7 @@ static inline void octeon_78xx_send_ipi_mask(const struct cpumask *mask,
 		octeon_78xx_send_ipi_single(cpu, action);
 }
 
-struct plat_smp_ops octeon_smp_ops_78xx = {
+static struct plat_smp_ops octeon_78xx_smp_ops = {
 	.send_ipi_single	= octeon_78xx_send_ipi_single,
 	.send_ipi_mask		= octeon_78xx_send_ipi_mask,
 	.init_secondary		= octeon_init_secondary,
@@ -567,7 +567,7 @@ void __init octeon_setup_smp(void)
 	struct plat_smp_ops *ops;
 
 	if (OCTEON_IS_MODEL(OCTEON_CN78XX))
-		ops = &octeon_smp_ops_78xx;
+		ops = &octeon_78xx_smp_ops;
 	else
 		ops = &octeon_smp_ops;
 
-- 
1.8.2.1

