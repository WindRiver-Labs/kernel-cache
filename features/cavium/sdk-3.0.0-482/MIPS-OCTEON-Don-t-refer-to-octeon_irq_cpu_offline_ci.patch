From 7f564023508b821e12161ecb5b27f2d535cc0637 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Fri, 6 Apr 2012 16:22:37 -0700
Subject: [PATCH 036/337] MIPS: OCTEON: Don't refer to
 octeon_irq_cpu_offline_ciu() when !CONFIG_SMP

Based On SDK 3.0.0-482

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/cavium-octeon/octeon-irq.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-irq.c b/arch/mips/cavium-octeon/octeon-irq.c
index 2a942f3..a506cd2 100644
--- a/arch/mips/cavium-octeon/octeon-irq.c
+++ b/arch/mips/cavium-octeon/octeon-irq.c
@@ -761,8 +761,8 @@ static struct irq_chip octeon_irq_chip_ciu_v2 = {
 	.irq_unmask = octeon_irq_ciu_enable_v2,
 #ifdef CONFIG_SMP
 	.irq_set_affinity = octeon_irq_ciu_set_affinity_v2,
-#endif
 	.irq_cpu_offline = octeon_irq_cpu_offline_ciu,
+#endif
 };
 
 static struct irq_chip octeon_irq_chip_ciu = {
@@ -774,8 +774,8 @@ static struct irq_chip octeon_irq_chip_ciu = {
 	.irq_unmask = octeon_irq_ciu_enable,
 #ifdef CONFIG_SMP
 	.irq_set_affinity = octeon_irq_ciu_set_affinity,
-#endif
 	.irq_cpu_offline = octeon_irq_cpu_offline_ciu,
+#endif
 };
 
 /* The mbox versions don't do any affinity or round-robin. */
@@ -1479,8 +1479,8 @@ static struct irq_chip octeon_irq_chip_ciu2 = {
 	.irq_unmask = octeon_irq_ciu2_enable,
 #ifdef CONFIG_SMP
 	.irq_set_affinity = octeon_irq_ciu2_set_affinity,
-#endif
 	.irq_cpu_offline = octeon_irq_cpu_offline_ciu,
+#endif
 };
 
 static struct irq_chip octeon_irq_chip_ciu2_mbox = {
@@ -1513,8 +1513,8 @@ static struct irq_chip octeon_irq_chip_ciu2_gpio = {
 	.irq_set_type = octeon_irq_ciu_gpio_set_type,
 #ifdef CONFIG_SMP
 	.irq_set_affinity = octeon_irq_ciu2_set_affinity,
-#endif
 	.irq_cpu_offline = octeon_irq_cpu_offline_ciu,
+#endif
 	.flags = IRQCHIP_SET_TYPE_MASKED,
 };
 
-- 
1.7.5.4

