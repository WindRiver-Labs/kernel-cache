From c8dd4627fcc0d89ab252ab95134af71df1b006a4 Mon Sep 17 00:00:00 2001
From: Corey Minyard <cminyard@mvista.com>
Date: Wed, 28 Nov 2012 08:57:03 -0600
Subject: [PATCH 243/337] octeon: Fix bootmem descriptor

Based On SDK 3.0.0-482

The bootmem descriptor didn't need phys_to_virt, but somehow that got
set in the cge kernel.

Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/cavium-octeon/setup.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index be85971..d395778 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -585,7 +585,7 @@ void __init prom_init(void)
 	 */
 	octeon_boot_desc_ptr = (struct octeon_boot_descriptor *)fw_arg3;
 	octeon_bootinfo = phys_to_virt(octeon_boot_desc_ptr->cvmx_desc_vaddr);
-	cvmx_bootmem_init(phys_to_virt(octeon_bootinfo->phy_mem_desc_addr));
+	cvmx_bootmem_init(octeon_bootinfo->phy_mem_desc_addr);
 
 	sysinfo = cvmx_sysinfo_get();
 	memset(sysinfo, 0, sizeof(*sysinfo));
-- 
1.7.5.4

