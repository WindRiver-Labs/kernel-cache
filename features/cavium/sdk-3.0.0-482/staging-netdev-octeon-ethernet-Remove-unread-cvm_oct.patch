From 5fa597b901dd1f547f766f6e5f1aab63480acb72 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Mon, 9 Jul 2012 15:58:22 -0700
Subject: [PATCH 122/337] staging/netdev: octeon-ethernet: Remove unread
 cvm_oct_tx_poll_interval

Based On SDK 3.0.0-482

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 drivers/staging/octeon/ethernet.c        |    7 -------
 drivers/staging/octeon/octeon-ethernet.h |    1 -
 2 files changed, 0 insertions(+), 8 deletions(-)

diff --git a/drivers/staging/octeon/ethernet.c b/drivers/staging/octeon/ethernet.c
index d1c24f5..48fc1b7 100644
--- a/drivers/staging/octeon/ethernet.c
+++ b/drivers/staging/octeon/ethernet.c
@@ -101,8 +101,6 @@ struct octeon_ethernet *cvm_oct_by_port[TOTAL_NUMBER_OF_PORTS] __cacheline_align
 /* cvm_oct_list is a list of all cvm_oct_private_t created by this driver. */
 LIST_HEAD(cvm_oct_list);
 
-u64 cvm_oct_tx_poll_interval;
-
 static void cvm_oct_rx_refill_worker(struct work_struct *work);
 static DECLARE_DELAYED_WORK(cvm_oct_rx_refill_work, cvm_oct_rx_refill_worker);
 
@@ -725,11 +723,6 @@ static int __devinit cvm_oct_probe(struct platform_device *pdev)
 	cvm_oct_tx_initialize();
 	cvm_oct_rx_initialize();
 
-	/*
-	 * 150 uS: about 10 1500-byte packtes at 1GE.
-	 */
-	cvm_oct_tx_poll_interval = 150 * (octeon_get_clock_rate() / 1000000);
-
 	queue_delayed_work(cvm_oct_poll_queue, &cvm_oct_rx_refill_work, HZ);
 
 	return 0;
diff --git a/drivers/staging/octeon/octeon-ethernet.h b/drivers/staging/octeon/octeon-ethernet.h
index 02de192..e361927 100644
--- a/drivers/staging/octeon/octeon-ethernet.h
+++ b/drivers/staging/octeon/octeon-ethernet.h
@@ -137,7 +137,6 @@ extern struct octeon_ethernet *cvm_oct_by_port[];
 
 extern struct workqueue_struct *cvm_oct_poll_queue;
 extern atomic_t cvm_oct_poll_queue_stopping;
-extern u64 cvm_oct_tx_poll_interval;
 
 extern int max_rx_cpus;
 extern int rx_napi_weight;
-- 
1.7.5.4

