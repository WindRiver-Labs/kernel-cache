From 4d02dc971a12e62f05fcd49fd80f1649636a2ed9 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Mon, 6 Aug 2012 16:32:30 -0700
Subject: [PATCH 132/337] staging/netdev: octeon-ethernet: Update copyright
 and fix comment formatting.

Based On SDK 3.0.0-482

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 drivers/staging/octeon/ethernet-defines.h |   10 +++---
 drivers/staging/octeon/ethernet-mdio.c    |   13 ++++-----
 drivers/staging/octeon/ethernet-mem.c     |    2 +-
 drivers/staging/octeon/ethernet-rgmii.c   |   12 ++++----
 drivers/staging/octeon/ethernet-rx.c      |   10 +++---
 drivers/staging/octeon/ethernet-sgmii.c   |    7 ++---
 drivers/staging/octeon/ethernet-spi.c     |   10 +++---
 drivers/staging/octeon/ethernet-tx.c      |   12 ++++----
 drivers/staging/octeon/ethernet.c         |   43 +++++++++++------------------
 drivers/staging/octeon/octeon-ethernet.h  |   13 ++++-----
 10 files changed, 59 insertions(+), 73 deletions(-)

diff --git a/drivers/staging/octeon/ethernet-defines.h b/drivers/staging/octeon/ethernet-defines.h
index 3eba272..96109a1 100644
--- a/drivers/staging/octeon/ethernet-defines.h
+++ b/drivers/staging/octeon/ethernet-defines.h
@@ -1,10 +1,10 @@
 /**********************************************************************
- * Author: Cavium Networks
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2007 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-**********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 
 /*
  * A few defines are used to control the operation of this driver:
diff --git a/drivers/staging/octeon/ethernet-mdio.c b/drivers/staging/octeon/ethernet-mdio.c
index 4446c7b..5342f8b 100644
--- a/drivers/staging/octeon/ethernet-mdio.c
+++ b/drivers/staging/octeon/ethernet-mdio.c
@@ -1,10 +1,10 @@
 /**********************************************************************
- * Author: Cavium Networks
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2007 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-**********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 #include <linux/kernel.h>
 #include <linux/ethtool.h>
 #include <linux/phy.h>
@@ -310,8 +310,7 @@ int cvm_oct_phy_setup_device(struct net_device *dev)
 
 	return 0;
 no_phy:
-	/*
-	 * If there is no phy, assume a direct MAC connection and that
+	/* If there is no phy, assume a direct MAC connection and that
 	 * the link is up.
 	 */
 	netif_carrier_on(dev);
diff --git a/drivers/staging/octeon/ethernet-mem.c b/drivers/staging/octeon/ethernet-mem.c
index 6b2741e..19f6034 100644
--- a/drivers/staging/octeon/ethernet-mem.c
+++ b/drivers/staging/octeon/ethernet-mem.c
@@ -23,7 +23,7 @@
  *
  * This file may also be available under a different license from Cavium.
  * Contact Cavium, Inc. for more information
-**********************************************************************/
+ **********************************************************************/
 #include <linux/netdevice.h>
 #include <linux/export.h>
 #include <linux/kernel.h>
diff --git a/drivers/staging/octeon/ethernet-rgmii.c b/drivers/staging/octeon/ethernet-rgmii.c
index 07bceee..2db614f 100644
--- a/drivers/staging/octeon/ethernet-rgmii.c
+++ b/drivers/staging/octeon/ethernet-rgmii.c
@@ -1,10 +1,10 @@
-/*********************************************************************
- * Author: Cavium Networks
+/**********************************************************************
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2007 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-**********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 #include <linux/kernel.h>
 #include <linux/netdevice.h>
 #include <linux/interrupt.h>
diff --git a/drivers/staging/octeon/ethernet-rx.c b/drivers/staging/octeon/ethernet-rx.c
index 771e321..950cac0 100644
--- a/drivers/staging/octeon/ethernet-rx.c
+++ b/drivers/staging/octeon/ethernet-rx.c
@@ -1,10 +1,10 @@
 /**********************************************************************
- * Author: Cavium Networks
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2010 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-**********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 #include <linux/module.h>
 #include <linux/kernel.h>
 #include <linux/cache.h>
diff --git a/drivers/staging/octeon/ethernet-sgmii.c b/drivers/staging/octeon/ethernet-sgmii.c
index 5e957cf..c6768af 100644
--- a/drivers/staging/octeon/ethernet-sgmii.c
+++ b/drivers/staging/octeon/ethernet-sgmii.c
@@ -1,7 +1,7 @@
 /**********************************************************************
- * Author: Cavium Networks
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
  * Copyright (c) 2003-2012 Cavium, Inc.
@@ -39,8 +39,7 @@
 
 #include <asm/octeon/cvmx-gmxx-defs.h>
 
-/*
- * Although these functions are called cvm_oct_sgmii_*, they also
+/* Although these functions are called cvm_oct_sgmii_*, they also
  * happen to be used for the XAUI ports as well.
  */
 
diff --git a/drivers/staging/octeon/ethernet-spi.c b/drivers/staging/octeon/ethernet-spi.c
index a1c05a6..d37e53f 100644
--- a/drivers/staging/octeon/ethernet-spi.c
+++ b/drivers/staging/octeon/ethernet-spi.c
@@ -1,10 +1,10 @@
 /**********************************************************************
- * Author: Cavium Networks
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2007 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-**********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 #include <linux/kernel.h>
 #include <linux/netdevice.h>
 #include <linux/interrupt.h>
diff --git a/drivers/staging/octeon/ethernet-tx.c b/drivers/staging/octeon/ethernet-tx.c
index f78b729..95572f1 100644
--- a/drivers/staging/octeon/ethernet-tx.c
+++ b/drivers/staging/octeon/ethernet-tx.c
@@ -1,10 +1,10 @@
-/*********************************************************************
- * Author: Cavium Networks
+/**********************************************************************
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2010 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-*********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 #include <linux/module.h>
 #include <linux/kernel.h>
 #include <linux/netdevice.h>
diff --git a/drivers/staging/octeon/ethernet.c b/drivers/staging/octeon/ethernet.c
index 65175f8..b6c782f 100644
--- a/drivers/staging/octeon/ethernet.c
+++ b/drivers/staging/octeon/ethernet.c
@@ -1,10 +1,10 @@
 /**********************************************************************
- * Author: Cavium Networks
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2007 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-**********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 #include <linux/platform_device.h>
 #include <linux/kernel.h>
 #include <linux/init.h>
@@ -106,8 +106,7 @@ static DECLARE_DELAYED_WORK(cvm_oct_rx_refill_work, cvm_oct_rx_refill_worker);
 
 static void cvm_oct_rx_refill_worker(struct work_struct *work)
 {
-	/*
-	 * FPA 0 may have been drained, try to refill it if we need
+	/* FPA 0 may have been drained, try to refill it if we need
 	 * more than num_packet_buffers / 2, otherwise normal receive
 	 * processing will refill it.  If it were drained, no packets
 	 * could be received so cvm_oct_napi_poll would never be
@@ -235,13 +234,11 @@ static struct net_device_stats *cvm_oct_common_get_stats(struct net_device *dev)
 		cvmx_pko_get_port_status(priv->ipd_port, 0, &tx_status);
 		current_tx_packets = tx_status.packets;
 		current_tx_octets = tx_status.octets;
-		/*
-		 * The tx_packets counter is 32-bits as are all these
+		/* The tx_packets counter is 32-bits as are all these
 		 * variables.  No truncation necessary.
 		 */
 		tx_status.packets = current_tx_packets - priv->last_tx_packets;
-		/*
-		 * The tx_octets counter is only 48-bits, so we need
+		/* The tx_octets counter is only 48-bits, so we need
 		 * to truncate in case there was a wrap-around
 		 */
 		tx_status.octets = (current_tx_octets - priv->last_tx_octets) & 0xffffffffffffull;
@@ -258,8 +255,7 @@ static struct net_device_stats *cvm_oct_common_get_stats(struct net_device *dev)
 	dev->stats.rx_crc_errors += rx_status.inb_errors;
 	dev->stats.rx_frame_errors += rx_status.fcs_align_err_packets;
 
-	/*
-	 * The drop counter must be incremented atomically since the
+	/* The drop counter must be incremented atomically since the
 	 * RX tasklet also increments it.
 	 */
 	atomic64_add(rx_status.dropped_packets,
@@ -284,8 +280,7 @@ static int cvm_oct_common_change_mtu(struct net_device *dev, int new_mtu)
 	int vlan_bytes = 0;
 #endif
 
-	/*
-	 * Limit the MTU to make sure the ethernet packets are between
+	/* Limit the MTU to make sure the ethernet packets are between
 	 * 64 bytes and 65535 bytes.
 	 */
 	if ((new_mtu + 14 + 4 + vlan_bytes < 64)
@@ -313,8 +308,7 @@ static int cvm_oct_common_change_mtu(struct net_device *dev, int new_mtu)
 
 			port_cfg.u64 = cvmx_read_csr(CVMX_PIP_PRT_CFGX(offset));
 			if (port_cfg.s.maxerr_en) {
-				/*
-				 * Disable the PIP check as it can
+				/* Disable the PIP check as it can
 				 * only be controlled over a group of
 				 * ports, let the check be done in the
 				 * GMX instead.
@@ -323,8 +317,7 @@ static int cvm_oct_common_change_mtu(struct net_device *dev, int new_mtu)
 				cvmx_write_csr(CVMX_PIP_PRT_CFGX(offset), port_cfg.u64);
 			}
 		}
-		/*
-		 * Set the hardware to truncate packets larger than
+		/* Set the hardware to truncate packets larger than
 		 * the MTU. The jabber register must be set to a
 		 * multiple of 8 bytes, so round up.
 		 */
@@ -359,8 +352,7 @@ static void cvm_oct_common_set_multicast_list(struct net_device *dev)
 			control.s.mcst = 1;
 
 		if (dev->flags & IFF_PROMISC)
-			/*
-			 * Reject matches if promisc. Since CAM is
+			/* Reject matches if promisc. Since CAM is
 			 * shut off, should accept everything.
 			 */
 			control.s.cam_mode = 0;
@@ -480,8 +472,7 @@ int cvm_oct_common_init(struct net_device *dev)
 	cvmx_pko_get_port_status(priv->ipd_port, 0, &tx_status);
 	priv->last_tx_packets = tx_status.packets;
 	priv->last_tx_octets = tx_status.octets;
-	/*
-	 * Zero out stats for port so we won't mistakenly show
+	/* Zero out stats for port so we won't mistakenly show
 	 * counters from the bootloader.
 	 */
 	memset(&dev->stats, 0, sizeof(struct net_device_stats));
@@ -629,8 +620,7 @@ static int __devinit cvm_oct_probe(struct platform_device *pdev)
 
 	cvmx_helper_ipd_and_packet_input_enable();
 
-	/*
-	 * Initialize the FAU used for counting packet buffers that
+	/* Initialize the FAU used for counting packet buffers that
 	 * need to be freed.
 	 */
 	cvmx_fau_atomic_write32(FAU_NUM_PACKET_BUFFERS_TO_FREE, 0);
@@ -733,8 +723,7 @@ static int __devinit cvm_oct_probe(struct platform_device *pdev)
 			} else {
 				list_add_tail(&priv->list, &cvm_oct_list);
 				cvm_oct_by_port[priv->ipd_port] = priv;
-				/*
-				 * Each transmit queue will need its
+				/* Each transmit queue will need its
 				 * own MAX_OUT_QUEUE_DEPTH worth of
 				 * WQE to track the transmit skbs.
 				 */
diff --git a/drivers/staging/octeon/octeon-ethernet.h b/drivers/staging/octeon/octeon-ethernet.h
index 7f04a86..8358e91 100644
--- a/drivers/staging/octeon/octeon-ethernet.h
+++ b/drivers/staging/octeon/octeon-ethernet.h
@@ -1,10 +1,10 @@
 /**********************************************************************
- * Author: Cavium Networks
+ * Author: Cavium, Inc.
  *
- * Contact: support@caviumnetworks.com
+ * Contact: support@cavium.com
  * This file is part of the OCTEON SDK
  *
- * Copyright (c) 2003-2010 Cavium Networks
+ * Copyright (c) 2003-2012 Cavium, Inc.
  *
  * This file is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License, Version 2, as
@@ -22,8 +22,8 @@
  * or visit http://www.gnu.org/licenses/.
  *
  * This file may also be available under a different license from Cavium.
- * Contact Cavium Networks for more information
-**********************************************************************/
+ * Contact Cavium, Inc. for more information
+ **********************************************************************/
 
 /*
  * External interface for the Cavium Octeon ethernet driver.
@@ -51,8 +51,7 @@ struct octeon_ethernet {
 	/* My location in the cvm_oct_list */
 	struct list_head list;
 
-	/*
-	 * Type of port. This is one of the enums in
+	/* Type of port. This is one of the enums in
 	 * cvmx_helper_interface_mode_t
 	 */
 	int imode;
-- 
1.7.5.4

