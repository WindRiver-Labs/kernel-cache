From e96d1dc0f7e93ad370423ddeea8debbcac76bf9d Mon Sep 17 00:00:00 2001
From: Ralf Baechle <rbaechle@caviumnetworks.com>
Date: Thu, 3 Jan 2013 12:29:22 +0100
Subject: [PATCH 289/337] NET: Octeon: Fix error messages

Based On SDK 3.0.0-482

The error message didn't contain the exact operation that had failed.

Signed-off-by: Ralf Baechle <rbaechle@caviumnetworks.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 drivers/net/ethernet/octeon/ethernet.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/net/ethernet/octeon/ethernet.c b/drivers/net/ethernet/octeon/ethernet.c
index 846d71e..b3916e0 100644
--- a/drivers/net/ethernet/octeon/ethernet.c
+++ b/drivers/net/ethernet/octeon/ethernet.c
@@ -268,7 +268,7 @@ static __devinit int cvm_oct_configure_common_hw(void)
 	/* allocate packet pool */
 	packet_pool = cvm_oct_alloc_fpa_pool(packet_pool, FPA_PACKET_POOL_SIZE);
 	if (packet_pool < 0) {
-		pr_err("cvm_oct_alloc_fpa_pool(FPA_PACKET_POOL, FPA_PACKET_POOL_SIZE) failed.\n");
+		pr_err("cvm_oct_alloc_fpa_pool(%d, FPA_PACKET_POOL_SIZE) failed.\n", packet_pool);
 		return -ENOMEM;
 	}
 	cvm_oct_mem_fill_fpa(packet_pool, num_packet_buffers);
@@ -280,7 +280,7 @@ static __devinit int cvm_oct_configure_common_hw(void)
 	/* allocate wqe pool */
 	wqe_pool = cvm_oct_alloc_fpa_pool(-1, FPA_WQE_POOL_SIZE);
 	if (wqe_pool < 0) {
-		pr_err("cvm_oct_alloc_fpa_pool(FPA_WQE_POOL, FPA_WQE_POOL_SIZE) failed.\n");
+		pr_err("cvm_oct_alloc_fpa_pool(-1, FPA_WQE_POOL_SIZE) failed.\n");
 		return -ENOMEM;;
 	}
 	cvm_oct_mem_fill_fpa(wqe_pool, num_packet_buffers);
@@ -299,7 +299,7 @@ static __devinit int cvm_oct_configure_common_hw(void)
 	/* alloc fpa pool for output buffers */
 	output_pool = cvm_oct_alloc_fpa_pool(-1, FPA_OUTPUT_BUFFER_POOL_SIZE);
 	if (output_pool < 0) {
-		pr_err("cvm_oct_alloc_fpa_pool(FPA_OUTPUT_BUFFER_POOL, FPA_OUTPUT_BUFFER_POOL_SIZE) failed.\n");
+		pr_err("cvm_oct_alloc_fpa_pool(-1, FPA_OUTPUT_BUFFER_POOL_SIZE) failed.\n");
 		return -ENOMEM;;
 	}
 	cvm_oct_mem_fill_fpa(output_pool, cvm_oct_num_output_buffers);
-- 
1.7.5.4

