From 9e7803717750c59bfb1868be6a6e80828af0d298 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Fri, 6 Apr 2012 15:35:30 -0700
Subject: [PATCH 034/337] MIPS: Octeon: Make OCTEON_IRQ_PCI_MSI{0,1,2,3}
 available on all cn68XX passes.

Based On SDK 3.0.0-482

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/cavium-octeon/octeon-irq.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-irq.c b/arch/mips/cavium-octeon/octeon-irq.c
index eb3ec5e..2a942f3 100644
--- a/arch/mips/cavium-octeon/octeon-irq.c
+++ b/arch/mips/cavium-octeon/octeon-irq.c
@@ -1711,10 +1711,9 @@ static void __init octeon_irq_init_ciu2(void)
 		octeon_irq_set_ciu_mapping(i + OCTEON_IRQ_PCI_INT0, 4, i, 0,
 					   &octeon_irq_chip_ciu2, handle_level_irq);
 
-	if (OCTEON_IS_MODEL(OCTEON_CN68XX_PASS1_X))
-		for (i = 0; i < 4; i++)
-			octeon_irq_set_ciu_mapping(i + OCTEON_IRQ_PCI_MSI0, 4, i + 8, 0,
-						   &octeon_irq_chip_ciu2, handle_level_irq);
+	for (i = 0; i < 4; i++)
+		octeon_irq_set_ciu_mapping(i + OCTEON_IRQ_PCI_MSI0, 4, i + 8, 0,
+					   &octeon_irq_chip_ciu2, handle_level_irq);
 
 	irq_set_chip_and_handler(OCTEON_IRQ_MBOX0, &octeon_irq_chip_ciu2_mbox, handle_percpu_irq);
 	irq_set_chip_and_handler(OCTEON_IRQ_MBOX1, &octeon_irq_chip_ciu2_mbox, handle_percpu_irq);
-- 
1.7.5.4

