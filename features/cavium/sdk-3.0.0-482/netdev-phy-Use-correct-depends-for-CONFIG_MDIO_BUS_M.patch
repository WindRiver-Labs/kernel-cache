From 297275d16a9ee9b9ebf427d6ce1a540a9d689597 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Wed, 18 Apr 2012 15:54:17 -0700
Subject: [PATCH 058/337] netdev/phy: Use correct depends for
 CONFIG_MDIO_BUS_MUX_GPIO

Based On SDK 3.0.0-482

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 drivers/net/phy/Kconfig |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/phy/Kconfig b/drivers/net/phy/Kconfig
index 39d8c66..32e9be0 100644
--- a/drivers/net/phy/Kconfig
+++ b/drivers/net/phy/Kconfig
@@ -145,7 +145,7 @@ config MDIO_BUS_MUX
 
 config MDIO_BUS_MUX_GPIO
 	tristate "Support for GPIO controlled MDIO bus multiplexers"
-	depends on GENERIC_GPIO
+	depends on OF_GPIO && OF_MDIO
 	select MDIO_BUS_MUX
 	help
 	  This module provides a driver for MDIO bus multiplexers that
-- 
1.7.5.4

