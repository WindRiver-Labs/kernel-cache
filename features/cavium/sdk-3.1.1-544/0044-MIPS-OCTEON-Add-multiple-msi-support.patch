From 8af05c3a3d73e35fe8cc86f2b22727dd83aeb58c Mon Sep 17 00:00:00 2001
From: Carlos Munoz <cmunoz@caviumnetworks.com>
Date: Fri, 13 Feb 2015 14:08:28 +0530
Subject: [PATCH 044/132] MIPS/OCTEON: Add multiple msi support.

Commit 084bf10190e48827f20de730c12f20937766c365 from
git://git.yoctoproject.org/linux-yocto-3.14

Signed-off-by: Carlos Munoz <cmunoz@caviumnetworks.com>
Signed-off-by: Abhishek Paliwal <abhishek.paliwal@aricent.com>
[Original patch taken from OCTEON-SDK 3.1.1-544.]
Signed-off-by: Yanjiang Jin <yanjiang.jin@windriver.com>
---
 arch/mips/include/asm/pci.h | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/arch/mips/include/asm/pci.h b/arch/mips/include/asm/pci.h
index d969299..ad14d25 100644
--- a/arch/mips/include/asm/pci.h
+++ b/arch/mips/include/asm/pci.h
@@ -158,4 +158,9 @@ static inline void pci_load_of_ranges(struct pci_controller *hose,
 				      struct device_node *node) {}
 #endif
 
+#ifdef CONFIG_CAVIUM_OCTEON_SOC
+/* MSI arch hook */
+#define arch_setup_msi_irqs arch_setup_msi_irqs
+#endif
+
 #endif /* _ASM_PCI_H */
-- 
1.9.1

