From 57036dcac001463c84ab4d3e21d6f92d26841248 Mon Sep 17 00:00:00 2001
From: Zhixiong Chi <zhixiong.chi@windriver.com>
Date: Thu, 12 Jan 2017 15:52:05 +0800
Subject: [PATCH] MIPS: OCTEON: use cpumask_set_cpu function replace cpu_set

Use cpumask_set_cpu() replace cpu_set function which is not defined or
declared in the file, so when we build kernel with NUMA supported config
via menuconfig, it will occour the error info as follows:
In function 'octeon_setup_numa':
arch/mips/cavium-octeon/octeon-numa.c:41:2: error:
  implicit declaration of function 'cpu_set' [-Werror=implicit-function-declaration]
  cpu_set(0, *mask);
  ^

Signed-off-by: Zhixiong Chi <zhixiong.chi@windriver.com>
---
 arch/mips/cavium-octeon/octeon-numa.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/mips/cavium-octeon/octeon-numa.c b/arch/mips/cavium-octeon/octeon-numa.c
index d32960a..1a3e3cb 100644
--- a/arch/mips/cavium-octeon/octeon-numa.c
+++ b/arch/mips/cavium-octeon/octeon-numa.c
@@ -38,7 +38,7 @@ void octeon_setup_numa(void)
 	node = (coreid >> 7) & 7;
 	mask = cpumask_of_node(node);
 	/* The boot CPU will be CPU 0 */
-	cpu_set(0, *mask);
+	cpumask_set_cpu(0, mask);
 }
 
 void octeon_numa_cpu_online(void)
@@ -49,7 +49,7 @@ void octeon_numa_cpu_online(void)
 
 	node = (coreid >> 7) & 7;
 	mask = cpumask_of_node(node);
-	cpu_set(smp_processor_id(), *mask);
+	cpumask_set_cpu(smp_processor_id(), mask);
 }
 
 void __init paging_init(void)
-- 
1.7.5.4

