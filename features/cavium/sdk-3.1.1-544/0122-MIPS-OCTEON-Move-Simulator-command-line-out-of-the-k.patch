From c88288f0ac7eb517f387e4c1b0a1d0b8f38d09e4 Mon Sep 17 00:00:00 2001
From: David Daney <david.daney@cavium.com>
Date: Fri, 13 Feb 2015 15:29:23 +0530
Subject: [PATCH 122/148] MIPS: OCTEON: Move Simulator command line out of the
 kernel.

Commit fa201e7a1b34c7dd20822fe1f4d64d3e23ede845 from
git://git.yoctoproject.org/linux-yocto-3.14

You must set it from the simulator u-boot environment now.

Signed-off-by: David Daney <david.daney@cavium.com>
Signed-off-by: Abhishek Paliwal <abhishek.paliwal@aricent.com>
---
 arch/mips/cavium-octeon/setup.c | 9 ---------
 1 file changed, 9 deletions(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index e1fb02a..e5cae27 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -914,15 +914,6 @@ void __init prom_init(void)
 			strcat(arcs_cmdline, " console=ttyS0,115200");
 	}
 
-	if (octeon_is_simulation()) {
-		/*
-		 * The simulator uses a mtdram device pre filled with
-		 * the filesystem. Also specify the calibration delay
-		 * to avoid calculating it every time.
-		 */
-		strcat(arcs_cmdline, " rw root=1f00 slram=root,0x40000000,+1073741824");
-	}
-
 	mips_hpt_frequency = octeon_get_clock_rate();
 
 	octeon_init_cvmcount();
-- 
1.8.2.1

