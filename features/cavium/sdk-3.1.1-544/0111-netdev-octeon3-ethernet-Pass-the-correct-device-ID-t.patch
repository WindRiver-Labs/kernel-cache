From 577e84fcbb55ce0f5905429fa74bdcf6e630e8c9 Mon Sep 17 00:00:00 2001
From: Carlos Munoz <cmunoz@caviumnetworks.com>
Date: Thu, 26 Jun 2014 12:34:31 -0700
Subject: [PATCH 111/202] netdev: octeon3-ethernet: Pass the correct device ID
 to free_irq().

Signed-off-by: Carlos Munoz <cmunoz@caviumnetworks.com>
[Original patch taken from Cavium SDK 3.1.1-544]
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 drivers/net/ethernet/octeon/octeon3-ethernet.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/octeon/octeon3-ethernet.c b/drivers/net/ethernet/octeon/octeon3-ethernet.c
index 947b68a..c55bf8c 100644
--- a/drivers/net/ethernet/octeon/octeon3-ethernet.c
+++ b/drivers/net/ethernet/octeon/octeon3-ethernet.c
@@ -999,7 +999,7 @@ static int octeon3_eth_ndo_stop(struct net_device *netdev)
 		octeon3_eth_sso_irq_set_armed(priv->numa_node, rx->rx_grp, false);
 
 		irq_set_affinity_hint(rx->rx_irq, NULL);
-		free_irq(rx->rx_irq, netdev);
+		free_irq(rx->rx_irq, rx);
 		rx->rx_irq = 0;
 	}
 	msleep(20);
-- 
1.8.2.1

