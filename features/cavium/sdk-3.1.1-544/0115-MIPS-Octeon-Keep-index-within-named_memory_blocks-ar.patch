From 3712d584b70d737c860693d31f936ed3da44d1b9 Mon Sep 17 00:00:00 2001
From: Bin Jiang <bin.jiang@windriver.com>
Date: Thu, 23 Oct 2014 09:32:23 +0000
Subject: [PATCH 115/132] MIPS: Octeon: Keep index within named_memory_blocks
 array.

Following error is caused for exceeding named_memory_blocks array:
    arch/mips/cavium-octeon/setup.c:979:30: eraror: statement may be
    undefined in the final loop iteration.
        named_memory_blocks[i][0] && i < ARRAY_SIZE(named_memory_blocks);
                              ^
Signed-off-by: Bin Jiang <bin.jiang@windriver.com>
---
 arch/mips/cavium-octeon/setup.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/mips/cavium-octeon/setup.c b/arch/mips/cavium-octeon/setup.c
index 69d943b..33376c19 100644
--- a/arch/mips/cavium-octeon/setup.c
+++ b/arch/mips/cavium-octeon/setup.c
@@ -968,7 +968,7 @@ void __init plat_mem_setup(void)
                 kernel_end = PFN_UP(__pa_symbol(&_end)) << PAGE_SHIFT;
 
                 for (i = 0;
-                     named_memory_blocks[i][0] && i < ARRAY_SIZE(named_memory_blocks);
+                     i < ARRAY_SIZE(named_memory_blocks) && named_memory_blocks[i][0];
                      i++) {
                         named_block = cvmx_bootmem_find_named_block(named_memory_blocks[i]);
                         if (!named_block) {
-- 
1.9.1

