From 3ca29631822ddacb5cb6edea30859bd80fbe7d7f Mon Sep 17 00:00:00 2001
From: Xufeng Zhang <xufeng.zhang@windriver.com>
Date: Wed, 28 Nov 2012 15:38:39 +0800
Subject: [PATCH] ocf/talitos: Remove SEC-4.0 compatible entry from match_table

ocf/talitos driver is made to support freescale SEC 3.x and
backward hardware, however, SEC 4.0 security engine which is
supported by caam driver isn't backward compatible with SEC 3.x.
So ocf/talitos isn't suitable for SEC 4.0 hardware and it would
make target board hang in booting process when caam driver is disabled.

Remove SEC-4.0 compatible entry from talitos_driver's match_table, this entry
is added mistakenly by commit "ocf-talitos: modify talitos_match so as to keep
consistent with dts"

Signed-off-by: Xufeng Zhang <xufeng.zhang@windriver.com>
---
 crypto/ocf/talitos/talitos.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/crypto/ocf/talitos/talitos.c b/crypto/ocf/talitos/talitos.c
index 320ae5b..d3a650a 100644
--- a/crypto/ocf/talitos/talitos.c
+++ b/crypto/ocf/talitos/talitos.c
@@ -1322,7 +1322,6 @@ static int talitos_remove(struct platform_device *pdev)
 
 #ifdef CONFIG_PPC_MERGE
 static struct of_device_id talitos_match[] = {
-	{ .compatible = "fsl,sec4.0", },
 	{ .compatible = "fsl,sec3.0", },
 	{ .compatible = "fsl,sec2.0", },
 	{},
-- 
1.7.0

