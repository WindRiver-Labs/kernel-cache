From f470df8c143ebdfedae83e102cd24a3ff7c916f4 Mon Sep 17 00:00:00 2001
From: Xufeng Zhang <xufeng.zhang@windriver.com>
Date: Tue, 17 Jul 2012 11:23:52 +0800
Subject: [PATCH] crypto/ocf: Add extra dependency for OCF_TALITOS

When use OCF talitos driver, CRYPTO_DEV_TALITOS and
CRYPTO_DEV_EXTENS_T23X should be disabled as they share
the same hardware device.

Signed-off-by: Xufeng Zhang <xufeng.zhang@windriver.com>
---
 crypto/ocf/Kconfig |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/crypto/ocf/Kconfig b/crypto/ocf/Kconfig
index 07736ad..5384b1f 100644
--- a/crypto/ocf/Kconfig
+++ b/crypto/ocf/Kconfig
@@ -68,7 +68,7 @@ config OCF_HIFNHIPP
 
 config OCF_TALITOS
 	tristate "talitos (HW crypto engine)"
-	depends on OCF_OCF && FSL_SOC
+	depends on OCF_OCF && FSL_SOC && CRYPTO_DEV_TALITOS=n && CRYPTO_DEV_EXTENS_T23X=n
 	select PPC_MERGE
 	help
 	  OCF driver for Freescale's security engine (SEC/talitos).
-- 
1.7.0

