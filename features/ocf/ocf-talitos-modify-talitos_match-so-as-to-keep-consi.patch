From 9f737237bd913d6a92e8c1e7c13f5a6fd136431e Mon Sep 17 00:00:00 2001
From: Xufeng Zhang <xufeng.zhang@windriver.com>
Date: Fri, 13 May 2011 12:11:06 +0800
Subject: [PATCH] ocf-talitos: modify talitos_match so as to keep consistent with dts

The match_table for ocf talitos driver is not consistent with dts,
this makes talitos_probe() never be called, so talitos driver
cannot work.

Modify entries of talitos_match so as to make it keep consistent with dts.

Signed-off-by: Xufeng Zhang <xufeng.zhang@windriver.com>
---
 crypto/ocf/talitos/talitos.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/crypto/ocf/talitos/talitos.c b/crypto/ocf/talitos/talitos.c
index 359d684..376cdf3 100644
--- a/crypto/ocf/talitos/talitos.c
+++ b/crypto/ocf/talitos/talitos.c
@@ -1305,10 +1305,9 @@ static int talitos_remove(struct platform_device *pdev)
 
 #ifdef CONFIG_PPC_MERGE
 static struct of_device_id talitos_match[] = {
-	{
-		.type = "crypto",
-		.compatible = "talitos",
-	},
+	{ .compatible = "fsl,sec4.0", },
+	{ .compatible = "fsl,sec3.0", },
+	{ .compatible = "fsl,sec2.0", },
 	{},
 };
 
-- 
1.7.0.4

