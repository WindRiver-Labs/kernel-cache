From bdf48637e79c568ecb5cb055d42d1ee727d1978a Mon Sep 17 00:00:00 2001
From: Joe MacDonald <joe.macdonald@windriver.com>
Date: Thu, 19 Jul 2012 17:00:23 -0400
Subject: [PATCH 5/6] lttng: Remove duplicate def of is_signed_type

lttng and ftrace both define is_signed_type() in very similar ways.  Make
them step around each other.

Signed-off-by: Joe MacDonald <joe.macdonald@windriver.com>
---
 drivers/staging/lttng2/lttng-events.h |    5 +++--
 include/linux/ftrace_event.h          |    2 ++
 2 files changed, 5 insertions(+), 2 deletions(-)

diff --git a/drivers/staging/lttng2/lttng-events.h b/drivers/staging/lttng2/lttng-events.h
index f12d91f..9529cf5 100644
--- a/drivers/staging/lttng2/lttng-events.h
+++ b/drivers/staging/lttng2/lttng-events.h
@@ -28,8 +28,9 @@
 #include "wrapper/uuid.h"
 #include "lttng-abi.h"
 
-#undef is_signed_type
-#define is_signed_type(type)		(((type)(-1)) < 0)
+#ifndef is_signed_type
+#define is_signed_type(type)		(((type)(-1)) < (type)0)
+#endif
 
 struct lttng_channel;
 struct lttng_session;
diff --git a/include/linux/ftrace_event.h b/include/linux/ftrace_event.h
index 1462211..e606e7e 100644
--- a/include/linux/ftrace_event.h
+++ b/include/linux/ftrace_event.h
@@ -263,7 +263,9 @@ extern int trace_define_field(struct ftrace_event_call *call, const char *type,
 extern int trace_add_event_call(struct ftrace_event_call *call);
 extern void trace_remove_event_call(struct ftrace_event_call *call);
 
+#ifndef is_signed_type
 #define is_signed_type(type)	(((type)(-1)) < (type)1)
+#endif
 
 int trace_set_clr_event(const char *system, const char *event, int set);
 
-- 
1.7.9.7

