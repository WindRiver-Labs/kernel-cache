From 04895c716e670d0876efedc164ade998eb9883d1 Mon Sep 17 00:00:00 2001
From: czou <cao.zou@windriver.com>
Date: Wed, 22 Jun 2016 16:59:23 +0800
Subject: [PATCH] RT:imx-sdma: fixed a build warning about spin lock

It fixed a build warning as follow:
drivers/dma/imx-sdma.c:758:2: warning: passing argument 1 of
'rt_spin_lock' from incompatible pointer type [enabled by default]

Signed-off-by: czou <cao.zou@windriver.com>
---
 drivers/dma/imx-sdma.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/dma/imx-sdma.c b/drivers/dma/imx-sdma.c
index 64b9052..94031ed 100644
--- a/drivers/dma/imx-sdma.c
+++ b/drivers/dma/imx-sdma.c
@@ -755,12 +755,12 @@ static irqreturn_t sdma_int_handler(int irq, void *dev_id)
 	struct sdma_engine *sdma = dev_id;
 	unsigned long stat, flags;
 
-	spin_lock_irqsave(&sdma->channel_0_lock, flags);
+	raw_spin_lock_irqsave(&sdma->channel_0_lock, flags);
 	stat = readl_relaxed(sdma->regs + SDMA_H_INTR);
 	/* not interested in channel 0 interrupts */
 	stat &= ~1;
 	writel_relaxed(stat, sdma->regs + SDMA_H_INTR);
-	spin_unlock_irqrestore(&sdma->channel_0_lock, flags);
+	raw_spin_unlock_irqrestore(&sdma->channel_0_lock, flags);
 
 	while (stat) {
 		int channel = fls(stat) - 1;
-- 
1.7.5.4

