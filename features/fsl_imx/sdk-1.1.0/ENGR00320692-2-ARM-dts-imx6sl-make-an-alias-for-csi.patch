From 52279684cffc3c856d3f7d07f5c557cde2d257f9 Mon Sep 17 00:00:00 2001
From: Robby Cai <r63905@freescale.com>
Date: Tue, 1 Jul 2014 21:26:25 +0800
Subject: [PATCH 0439/1074] ENGR00320692-2 ARM: dts: imx6sl: make an alias for
 csi

Becuase in fsl_csi.c, there's a function call as follows.

        id = of_alias_get_id(pdev->dev.of_node, "csi");

The corresponding change has been made for imx6sx, but not for imx6sl.
This patch fixed it by making an alias csi0.

Signed-off-by: Robby Cai <r63905@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sl-evk-common.dtsi |    2 +-
 arch/arm/boot/dts/imx6sl-evk-csi.dts     |    2 +-
 arch/arm/boot/dts/imx6sl.dtsi            |    5 +++--
 3 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sl-evk-common.dtsi b/arch/arm/boot/dts/imx6sl-evk-common.dtsi
index c334443..5fd2c6a 100644
--- a/arch/arm/boot/dts/imx6sl-evk-common.dtsi
+++ b/arch/arm/boot/dts/imx6sl-evk-common.dtsi
@@ -128,7 +128,7 @@
 	status = "okay";
 };
 
-&csi {
+&csi1 {
 	status = "disabled";
 };
 
diff --git a/arch/arm/boot/dts/imx6sl-evk-csi.dts b/arch/arm/boot/dts/imx6sl-evk-csi.dts
index 795be40..cae31bb 100644
--- a/arch/arm/boot/dts/imx6sl-evk-csi.dts
+++ b/arch/arm/boot/dts/imx6sl-evk-csi.dts
@@ -14,7 +14,7 @@
 	};
 };
 
-&csi {
+&csi1 {
 	status = "okay";
 };
 
diff --git a/arch/arm/boot/dts/imx6sl.dtsi b/arch/arm/boot/dts/imx6sl.dtsi
index 79d033b..57725d7 100644
--- a/arch/arm/boot/dts/imx6sl.dtsi
+++ b/arch/arm/boot/dts/imx6sl.dtsi
@@ -20,6 +20,7 @@
 		gpio4 = &gpio5;
 		usbphy0 = &usbphy1;
 		usbphy1 = &usbphy2;
+		csi0 = &csi1;
 		mmc0 = &usdhc1;
 		mmc1 = &usdhc2;
 		mmc2 = &usdhc3;
@@ -650,7 +651,7 @@
 					};
 				};
 
-				csi {
+				csi1 {
 					pinctrl_csi_0: csigrp-0 {
 						fsl,pins = <
 							MX6SL_PAD_EPDC_GDRL__CSI_MCLK	0x110b0
@@ -1032,7 +1033,7 @@
 				};
 			};
 
-			csi: csi@020e4000 {
+			csi1: csi@020e4000 {
 				compatible = "fsl,imx6sl-csi";
 				reg = <0x020e4000 0x4000>;
 				interrupts = <0 7 0x04>;
-- 
1.7.5.4

