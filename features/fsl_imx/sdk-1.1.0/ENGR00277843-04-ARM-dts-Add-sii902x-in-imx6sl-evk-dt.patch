From 6ba51215ee0278ae4f9e91b371da3add2b0d5229 Mon Sep 17 00:00:00 2001
From: Sandor Yu <R01008@freescale.com>
Date: Wed, 4 Sep 2013 15:47:46 +0800
Subject: [PATCH 0147/1074] ENGR00277843-04 ARM: dts: Add sii902x in imx6sl
 evk dts

- Add sii902x driver to imx6sl-evk.dts
- Set LCD_RESET pin work in GPIO mode, the pin is not
   use by imx6sl evk lcd panel.

Signed-off-by: Sandor Yu <R01008@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sl-evk.dts |   18 ++++++++++++++++++
 arch/arm/boot/dts/imx6sl.dtsi    |    1 -
 2 files changed, 18 insertions(+), 1 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sl-evk.dts b/arch/arm/boot/dts/imx6sl-evk.dts
index 6c436a0..312817d 100644
--- a/arch/arm/boot/dts/imx6sl-evk.dts
+++ b/arch/arm/boot/dts/imx6sl-evk.dts
@@ -113,6 +113,13 @@
 		spdif-controller = <&spdif>;
 		spdif-out;
 	};
+
+	sii902x_reset: sii902x-reset {
+		compatible = "gpio-reset";
+		reset-gpios = <&gpio2 19 1>;
+		reset-delay-us = <100000>;
+		#reset-cells = <0>;
+	};
 };
 
 &audmux {
@@ -370,6 +377,16 @@
 		SPKVDD2-supply = <&reg_aud4v>;
 		amic-mono;
 	};
+
+	sii902x@39 {
+		compatible = "SiI,sii902x";
+		interrupt-parent = <&gpio2>;
+		interrupts = <10 2>;
+		mode_str ="1280x720M@60";
+		bits-per-pixel = <32>;
+		resets = <&sii902x_reset>;
+		reg = <0x39>;
+	};
 };
 
 &i2c3 {
@@ -407,6 +424,7 @@
 				MX6SL_PAD_ECSPI2_MOSI__GPIO4_IO13 0x17000
 				MX6SL_PAD_ECSPI2_SS0__GPIO4_IO15  0x17000
 				MX6SL_PAD_FEC_RX_ER__GPIO4_IO19   0x80000000
+				MX6SL_PAD_LCD_RESET__GPIO2_IO19 0x1b0b0
 			>;
 		};
 	};
diff --git a/arch/arm/boot/dts/imx6sl.dtsi b/arch/arm/boot/dts/imx6sl.dtsi
index 1b8def8..f7ffb1e 100644
--- a/arch/arm/boot/dts/imx6sl.dtsi
+++ b/arch/arm/boot/dts/imx6sl.dtsi
@@ -922,7 +922,6 @@
 							MX6SL_PAD_LCD_ENABLE__LCD_ENABLE 0x1b0b0
 							MX6SL_PAD_LCD_HSYNC__LCD_HSYNC 0x1b0b0
 							MX6SL_PAD_LCD_VSYNC__LCD_VSYNC 0x1b0b0
-							MX6SL_PAD_LCD_RESET__LCD_RESET 0x1b0b0
 						>;
 					};
 				};
-- 
1.7.5.4

