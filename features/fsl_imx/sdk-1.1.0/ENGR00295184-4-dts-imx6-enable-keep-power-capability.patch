From 245d832002227832994170d779084b93912a77d4 Mon Sep 17 00:00:00 2001
From: Dong Aisheng <b29396@freescale.com>
Date: Mon, 13 Jan 2014 16:20:55 +0800
Subject: [PATCH 0252/1074] ENGR00295184-4 dts: imx6: enable keep power
 capability for corresponding boards

All i.MX6 SabreAuto/SabreSD/EVK has the ability to keep card power
during suspend. So add this capability for them.

Signed-off-by: Dong Aisheng <b29396@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6qdl-sabreauto.dtsi |    2 ++
 arch/arm/boot/dts/imx6qdl-sabresd.dtsi   |    3 +++
 arch/arm/boot/dts/imx6sl-evk.dts         |    3 +++
 3 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi b/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
index 559ed0e..6db8175 100644
--- a/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
@@ -335,6 +335,7 @@
 	cd-gpios = <&gpio1 1 0>;
 	wp-gpios = <&gpio5 20 0>;
 	no-1-8-v;
+	keep-power-in-suspend;
 	status = "okay";
 };
 
@@ -357,6 +358,7 @@
 	 * Note: reg_sd3_vmmc is also need to be enabled
 	 */
 	/* vmmc-supply = <&reg_sd3_vmmc>; */
+	keep-power-in-suspend;
 	status = "okay";
 };
 
diff --git a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
index 267d018..2819302 100644
--- a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
@@ -551,6 +551,7 @@
 	cd-gpios = <&gpio2 2 0>;
 	wp-gpios = <&gpio2 3 0>;
 	no-1-8-v;
+	keep-power-in-suspend;
 	status = "okay";
 };
 
@@ -561,6 +562,7 @@
 	cd-gpios = <&gpio2 0 0>;
 	wp-gpios = <&gpio2 1 0>;
 	no-1-8-v;
+	keep-power-in-suspend;
 	status = "okay";
 };
 
@@ -584,6 +586,7 @@
         bus-width = <8>;
         non-removable;
         no-1-8-v;
+	keep-power-in-suspend;
         status = "okay";
 };
 
diff --git a/arch/arm/boot/dts/imx6sl-evk.dts b/arch/arm/boot/dts/imx6sl-evk.dts
index a401708..98b0eaf 100644
--- a/arch/arm/boot/dts/imx6sl-evk.dts
+++ b/arch/arm/boot/dts/imx6sl-evk.dts
@@ -613,6 +613,7 @@
 	bus-width = <8>;
 	cd-gpios = <&gpio4 7 0>;
 	wp-gpios = <&gpio4 6 0>;
+	keep-power-in-suspend;
 	status = "okay";
 };
 
@@ -623,6 +624,7 @@
 	pinctrl-2 = <&pinctrl_usdhc2_1_200mhz>;
 	cd-gpios = <&gpio5 0 0>;
 	wp-gpios = <&gpio4 29 0>;
+	keep-power-in-suspend;
 	status = "okay";
 };
 
@@ -632,6 +634,7 @@
 	pinctrl-1 = <&pinctrl_usdhc3_1_100mhz>;
 	pinctrl-2 = <&pinctrl_usdhc3_1_200mhz>;
 	cd-gpios = <&gpio3 22 0>;
+	keep-power-in-suspend;
 	status = "okay";
 };
 
-- 
1.7.5.4

