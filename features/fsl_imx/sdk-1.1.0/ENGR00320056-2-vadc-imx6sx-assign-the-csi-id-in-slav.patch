From ce8d2b834cc6fa460ab4e08f708baf1ec73506e5 Mon Sep 17 00:00:00 2001
From: Robby Cai <r63905@freescale.com>
Date: Thu, 26 Jun 2014 13:51:07 +0800
Subject: [PATCH 0873/1074] ENGR00320056-2 vadc: imx6sx: assign the csi id in
 slave data struct

Assign csi id in struct sensor_data of the slave, which will be used
to judge if it need to be attached to the master.

Signed-off-by: Robby Cai <r63905@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 drivers/media/platform/mxc/capture/mxc_vadc.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/media/platform/mxc/capture/mxc_vadc.c b/drivers/media/platform/mxc/capture/mxc_vadc.c
index bb114e1..a5aa3f1 100644
--- a/drivers/media/platform/mxc/capture/mxc_vadc.c
+++ b/drivers/media/platform/mxc/capture/mxc_vadc.c
@@ -885,6 +885,8 @@ static int vadc_probe(struct platform_device *pdev)
 		return ret;
 	}
 
+	vadc->sen.csi = csi_id;
+
 	/* remap GPR register */
 	vadc->gpr = syscon_regmap_lookup_by_phandle(pdev->dev.of_node,
 			"gpr");
-- 
1.7.5.4

