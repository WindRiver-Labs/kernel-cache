From 505371f6070c73ad52c8c079109ffd5e9587ba27 Mon Sep 17 00:00:00 2001
From: Jason Liu <r64343@freescale.com>
Date: Sat, 7 Sep 2013 13:11:22 +0800
Subject: [PATCH 0160/1074] ENGR00278672-2 ARM: dts: add the imx6qdl.dtsi dts
 support for crypto/caam

This patch add the imx6qdl.dtsi dts support for crypto/caam

Signed-off-by: Kudrick Jeffery <B37172@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6qdl.dtsi |   26 +++++++++++++++++++++++---
 1 files changed, 23 insertions(+), 3 deletions(-)

diff --git a/arch/arm/boot/dts/imx6qdl.dtsi b/arch/arm/boot/dts/imx6qdl.dtsi
index e13f56f..606afc7 100644
--- a/arch/arm/boot/dts/imx6qdl.dtsi
+++ b/arch/arm/boot/dts/imx6qdl.dtsi
@@ -1416,9 +1416,29 @@
 			reg = <0x02100000 0x100000>;
 			ranges;
 
-			caam@02100000 {
-				reg = <0x02100000 0x40000>;
-				interrupts = <0 105 0x04 0 106 0x04>;
+			crypto: caam@2100000 {
+				compatible = "fsl,sec-v4.0";
+				#address-cells = <1>;
+				#size-cells = <1>;
+				reg = <0x2100000 0x40000>;
+				ranges = <0 0x2100000 0x40000>;
+				interrupt-parent = <&intc>; /* interrupts = <0 92 0x4>; */
+				clocks = <&clks 203>, <&clks 201>, <&clks 202>;
+				clock-names = "caam_ipg", "caam_mem", "caam_aclk";
+
+				sec_jr0: jr0@1000 {
+					compatible = "fsl,sec-v4.0-job-ring";
+					reg = <0x1000 0x1000>;
+					interrupt-parent = <&intc>;
+					interrupts = <0 105 0x4>;
+				};
+
+				sec_jr1: jr1@2000 {
+					compatible = "fsl,sec-v4.0-job-ring";
+					reg = <0x2000 0x1000>;
+					interrupt-parent = <&intc>;
+					interrupts = <0 106 0x4>;
+				};
 			};
 
 			aipstz@0217c000 { /* AIPSTZ2 */
-- 
1.7.5.4

