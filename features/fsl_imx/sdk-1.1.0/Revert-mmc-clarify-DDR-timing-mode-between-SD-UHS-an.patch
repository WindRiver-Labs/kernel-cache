From 26e95495a26b67d0f6992826213f06e03bc2a8cb Mon Sep 17 00:00:00 2001
From: Biyao Zhai <biyao.zhai@windriver.com>
Date: Mon, 11 May 2015 10:50:47 +0000
Subject: [PATCH 1073/1074] Revert "mmc: clarify DDR timing mode between
 SD-UHS and eMMC"

This reverts commit 5a06ddd755ba208ce0a1f13f9114148d6cf21c59.

As the verdon sdk use 3.10 kernel (use MMC_TIMING_MMC_DDR52),
if use the MMC_TIMING_UHS_DDR50 the fsl emmc card can't work normally .
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 drivers/mmc/core/debugfs.c |    3 ---
 drivers/mmc/core/mmc.c     |    2 +-
 include/linux/mmc/host.h   |    3 +--
 3 files changed, 2 insertions(+), 6 deletions(-)

diff --git a/drivers/mmc/core/debugfs.c b/drivers/mmc/core/debugfs.c
index 509229b..54829c0 100644
--- a/drivers/mmc/core/debugfs.c
+++ b/drivers/mmc/core/debugfs.c
@@ -135,9 +135,6 @@ static int mmc_ios_show(struct seq_file *s, void *data)
 	case MMC_TIMING_UHS_DDR50:
 		str = "sd uhs DDR50";
 		break;
-	case MMC_TIMING_MMC_DDR52:
-		str = "mmc DDR52";
-		break;
 	case MMC_TIMING_MMC_HS200:
 		str = "mmc high-speed SDR200";
 		break;
diff --git a/drivers/mmc/core/mmc.c b/drivers/mmc/core/mmc.c
index b791e06..42d74d7 100644
--- a/drivers/mmc/core/mmc.c
+++ b/drivers/mmc/core/mmc.c
@@ -1637,7 +1637,7 @@ static int mmc_init_card(struct mmc_host *host, u32 ocr,
 					goto err;
 			}
 			mmc_card_set_ddr_mode(card);
-			mmc_set_timing(card->host, MMC_TIMING_MMC_DDR52);
+			mmc_set_timing(card->host, MMC_TIMING_UHS_DDR50);
 			mmc_set_bus_width(card->host, bus_width);
 		}
 	}
diff --git a/include/linux/mmc/host.h b/include/linux/mmc/host.h
index 87b1f4f..99f5709 100644
--- a/include/linux/mmc/host.h
+++ b/include/linux/mmc/host.h
@@ -58,8 +58,7 @@ struct mmc_ios {
 #define MMC_TIMING_UHS_SDR50	5
 #define MMC_TIMING_UHS_SDR104	6
 #define MMC_TIMING_UHS_DDR50	7
-#define MMC_TIMING_MMC_DDR52	8
-#define MMC_TIMING_MMC_HS200	9
+#define MMC_TIMING_MMC_HS200	8
 
 #define MMC_SDR_MODE		0
 #define MMC_1_2V_DDR_MODE	1
-- 
1.7.5.4

