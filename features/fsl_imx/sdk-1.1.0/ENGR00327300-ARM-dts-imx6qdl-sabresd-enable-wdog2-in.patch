From ff11c991d2d597f1e6aeadd238718c191fb58305 Mon Sep 17 00:00:00 2001
From: Robin Gong <b38343@freescale.com>
Date: Thu, 14 Aug 2014 13:40:22 +0800
Subject: [PATCH 0462/1074] ENGR00327300 ARM: dts: imx6qdl-sabresd: enable
 wdog2 instead of wdog1 in ldo-bypass board.

As we use WDOG_B pin of wdog2 to reset extenal pmic in ldo-bypass mode, so we need
use WDOG2 as the default watchdog device in kernel.

Signed-off-by: Robin Gong <b38343@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6dl-sabresd-ldo.dts   |    8 ++++++++
 arch/arm/boot/dts/imx6dl-sabresd-pf200.dts |    8 ++++++++
 arch/arm/boot/dts/imx6q-sabresd-ldo.dts    |    8 ++++++++
 arch/arm/boot/dts/imx6qdl-sabresd.dtsi     |    8 ++++++++
 4 files changed, 32 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6dl-sabresd-ldo.dts b/arch/arm/boot/dts/imx6dl-sabresd-ldo.dts
index 2b5d869..4b0ac84 100644
--- a/arch/arm/boot/dts/imx6dl-sabresd-ldo.dts
+++ b/arch/arm/boot/dts/imx6dl-sabresd-ldo.dts
@@ -27,3 +27,11 @@
 &vpu {
 	pu-supply = <&reg_pu>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
+
+&wdog1 {
+	status = "okay";
+};
+
+&wdog2 {
+	status = "disabled";
+};
diff --git a/arch/arm/boot/dts/imx6dl-sabresd-pf200.dts b/arch/arm/boot/dts/imx6dl-sabresd-pf200.dts
index 499f7d3..1c38289 100644
--- a/arch/arm/boot/dts/imx6dl-sabresd-pf200.dts
+++ b/arch/arm/boot/dts/imx6dl-sabresd-pf200.dts
@@ -37,6 +37,14 @@
 	pu-supply = <&reg_pu>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
 
+&wdog1 {
+	status = "okay";
+};
+
+&wdog2 {
+	status = "disabled";
+};
+
 &i2c2 {
 	pmic: pfuze200@08 {
 		compatible = "fsl,pfuze200";
diff --git a/arch/arm/boot/dts/imx6q-sabresd-ldo.dts b/arch/arm/boot/dts/imx6q-sabresd-ldo.dts
index e2744f2..64abeb6 100644
--- a/arch/arm/boot/dts/imx6q-sabresd-ldo.dts
+++ b/arch/arm/boot/dts/imx6q-sabresd-ldo.dts
@@ -32,3 +32,11 @@
 &vpu {
 	pu-supply = <&reg_pu>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
+
+&wdog1 {
+	status = "okay";
+};
+
+&wdog2 {
+	status = "disabled";
+};
diff --git a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
index 408cc87..49cf72b 100644
--- a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
@@ -602,6 +602,14 @@
 	pu-supply = <&pu_dummy>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
 
+&wdog1 {
+	status = "disabled";
+};
+
+&wdog2 {
+	status = "okay";
+};
+
 &gpu {
 	pu-supply = <&pu_dummy>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
-- 
1.7.5.4

