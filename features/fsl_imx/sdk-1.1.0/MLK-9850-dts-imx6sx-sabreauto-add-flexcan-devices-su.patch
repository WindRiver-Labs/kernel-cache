From 769bdfd47d8a6f756983cb834845ea4f7e4425fa Mon Sep 17 00:00:00 2001
From: Dong Aisheng <b29396@freescale.com>
Date: Fri, 14 Nov 2014 14:13:48 +0800
Subject: [PATCH 0529/1074] MLK-9850 dts: imx6sx-sabreauto: add flexcan
 devices support

add flexcan devices support

Signed-off-by: Dong Aisheng <b29396@freescale.com>
(cherry picked from commit 5a4fd0864013a5e50b6cdb8132fc4caf15aa1d4b)
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sx-sabreauto.dts |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sx-sabreauto.dts b/arch/arm/boot/dts/imx6sx-sabreauto.dts
index 2d8912a..d340209 100644
--- a/arch/arm/boot/dts/imx6sx-sabreauto.dts
+++ b/arch/arm/boot/dts/imx6sx-sabreauto.dts
@@ -270,6 +270,22 @@
 	status = "okay";
 };
 
+&flexcan1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_flexcan1_1>;
+	trx-en-gpio = <&max7310_b 5 GPIO_ACTIVE_HIGH>;
+	trx-stby-gpio = <&max7310_b 3 GPIO_ACTIVE_HIGH>;
+	status = "okay";
+};
+
+&flexcan2 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_flexcan2_1>;
+	trx-en-gpio = <&max7310_b 5 GPIO_ACTIVE_HIGH>;
+	trx-stby-gpio = <&max7310_b 3 GPIO_ACTIVE_HIGH>;
+	status = "okay";
+};
+
 &gpc {
 	fsl,cpu_pupscr_sw2iso = <0x2>;
 	fsl,cpu_pupscr_sw = <0x1>;
-- 
1.7.5.4

