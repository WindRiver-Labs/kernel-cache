From 54769c36de0273836cfe3efffcedb9601f4316fa Mon Sep 17 00:00:00 2001
From: Anson Huang <b20788@freescale.com>
Date: Sat, 12 Oct 2013 13:35:12 -0400
Subject: [PATCH 0207/1074] ENGR00283540-01 dts:imx6sl: add fec sleep pinctrl
 for pin PM state

when system suspend, need to set pins to low power state to
save IO power consumption, there are three states of pinctrl:
"default", "idle" and "sleep". Currently enet supports default
and sleep state.

Signed-off-by: Anson Huang <b20788@freescale.com>
Signed-off-by: Fugang Duan  <B38611@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sl-evk.dts |    3 ++-
 arch/arm/boot/dts/imx6sl.dtsi    |   13 +++++++++++++
 2 files changed, 15 insertions(+), 1 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sl-evk.dts b/arch/arm/boot/dts/imx6sl-evk.dts
index f3f967b..b49f177 100644
--- a/arch/arm/boot/dts/imx6sl-evk.dts
+++ b/arch/arm/boot/dts/imx6sl-evk.dts
@@ -187,8 +187,9 @@
 };
 
 &fec {
-	pinctrl-names = "default";
+	pinctrl-names = "default", "sleep";
 	pinctrl-0 = <&pinctrl_fec_1>;
+	pinctrl-1 = <&pinctrl_fec_1_sleep>;
 	phy-mode = "rmii";
 	phy-reset-gpios = <&gpio4 21 0>; /* GPIO4_21 */
 	phy-reset-duration = <1>;
diff --git a/arch/arm/boot/dts/imx6sl.dtsi b/arch/arm/boot/dts/imx6sl.dtsi
index 9c4da85..08307f6 100644
--- a/arch/arm/boot/dts/imx6sl.dtsi
+++ b/arch/arm/boot/dts/imx6sl.dtsi
@@ -689,6 +689,19 @@
 							MX6SL_PAD_FEC_REF_CLK__FEC_REF_OUT 0x4001b0a8
 						>;
 					};
+
+					pinctrl_fec_1_sleep: fecgrp-1-sleep {
+						fsl,pins = <
+							MX6SL_PAD_FEC_MDC__GPIO4_IO23      0x3080
+							MX6SL_PAD_FEC_CRS_DV__GPIO4_IO25   0x3080
+							MX6SL_PAD_FEC_RXD0__GPIO4_IO17     0x3080
+							MX6SL_PAD_FEC_RXD1__GPIO4_IO18     0x3080
+							MX6SL_PAD_FEC_TX_EN__GPIO4_IO22    0x3080
+							MX6SL_PAD_FEC_TXD0__GPIO4_IO24     0x3080
+							MX6SL_PAD_FEC_TXD1__GPIO4_IO16     0x3080
+							MX6SL_PAD_FEC_REF_CLK__GPIO4_IO26  0x3080
+						>;
+					};
 				};
 
 				spdif {
-- 
1.7.5.4

