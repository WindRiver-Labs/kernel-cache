From 1c3f31bf4945905cb939d395b923ef1abdc97830 Mon Sep 17 00:00:00 2001
From: Fugang Duan <B38611@freescale.com>
Date: Wed, 19 Feb 2014 14:49:27 +0800
Subject: [PATCH 0272/1074] ENGR00300074-2 ARM:imx:clk: Remove enet clock gate
 enabled after system boot

After enet bootup, enet disable all clock to save power causes
system hang, so there had workaround to enable enet clock gate.
Now the issue is fixed, remove the workaround.

Signed-off-by: Fugang Duan <B38611@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/mach-imx/clk-imx6sx.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

diff --git a/arch/arm/mach-imx/clk-imx6sx.c b/arch/arm/mach-imx/clk-imx6sx.c
index ec1c5fd..a374979 100644
--- a/arch/arm/mach-imx/clk-imx6sx.c
+++ b/arch/arm/mach-imx/clk-imx6sx.c
@@ -440,12 +440,6 @@ static void __init imx6sx_clocks_init(struct device_node *ccm_node)
 	clk_set_rate(clks[IMX6SX_CLK_ENET_REF], 125000000);
 	clk_set_rate(clks[IMX6SX_CLK_ENET2_REF], 125000000);
 
-	/*
-	 * Need to keep the ENET clocks enabled, else the system
-	 * hangs when ENET clocks are disabled in the driver.
-	 */
-	clk_prepare_enable(clks[IMX6SX_CLK_ENET]);
-
 	/* Set initial power mode */
 	imx6q_set_lpm(WAIT_CLOCKED);
 
-- 
1.7.5.4

