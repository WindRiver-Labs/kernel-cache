From 1c6e5f8ae9ab673bc26420aef3571dd7d5ca0fa2 Mon Sep 17 00:00:00 2001
From: luweizhou <b45643@freescale.com>
Date: Fri, 27 Jun 2014 08:32:57 +0800
Subject: [PATCH 0425/1074] ENGR00320101 dts: imx6sx: Update the mma8451
 device tree to add interrupt mode option.

The driver for android team need to enalbe mma8451 fifo overflow interrupt feather.
So add the interrupt option into device tree.

Signed-off-by: Luwei Zhou <b45643@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6qdl-sabreauto.dtsi |    6 +++++-
 arch/arm/boot/dts/imx6qdl-sabresd.dtsi   |    6 +++++-
 arch/arm/boot/dts/imx6sx-sdb.dts         |    3 +++
 3 files changed, 13 insertions(+), 2 deletions(-)

diff --git a/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi b/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
index f411bdd..65ce09c 100644
--- a/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabreauto.dtsi
@@ -240,7 +240,10 @@
 	mma8451@1c {
 		compatible = "fsl,mma8451";
 		reg = <0x1c>;
-		position = <3>;
+		position = <7>;
+		interrupt-parent = <&gpio6>;
+		interrupts = <31 8>;
+		interrupt-route = <1>;
 	};
 
 	mag3110@0e {
@@ -284,6 +287,7 @@
 				MX6QDL_PAD_CSI0_DATA_EN__GPIO5_IO20 0x17059
 				MX6QDL_PAD_GPIO_1__GPIO1_IO01 0x17059
 				MX6QDL_PAD_SD3_RST__GPIO7_IO08 0x80000000
+				MX6QDL_PAD_EIM_BCLK__GPIO6_IO31 0x80000000
 			>;
 		};
 
diff --git a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
index b938626..8157a98 100644
--- a/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-sabresd.dtsi
@@ -326,9 +326,12 @@
 	mma8451@1c {
 		compatible = "fsl,mma8451";
 		reg = <0x1c>;
-		position = <1>;
+		position = <0>;
 		vdd-supply = <&reg_sensor>;
 		vddio-supply = <&reg_sensor>;
+		interrupt-parent = <&gpio1>;
+		interrupts = <18 8>;
+		interrupt-route = <1>;
 	};
 };
 
@@ -460,6 +463,7 @@
 				MX6QDL_PAD_GPIO_9__GPIO1_IO09 0x80000000
 				MX6QDL_PAD_GPIO_1__WDOG2_B 0x80000000
 				MX6QDL_PAD_GPIO_2__GPIO1_IO02 0x80000000
+				MX6QDL_PAD_SD1_CMD__GPIO1_IO18 0x80000000
 			>;
 		};
 	};
diff --git a/arch/arm/boot/dts/imx6sx-sdb.dts b/arch/arm/boot/dts/imx6sx-sdb.dts
index dc1013e..6a82e96 100644
--- a/arch/arm/boot/dts/imx6sx-sdb.dts
+++ b/arch/arm/boot/dts/imx6sx-sdb.dts
@@ -342,6 +342,9 @@
 		compatible = "fsl,mma8451";
 		reg = <0x1c>;
 		position = <1>;
+		interrupt-parent = <&gpio6>;
+		interrupts = <2 8>;
+		interrupt-route = <2>;
 	};
 };
 
-- 
1.7.5.4

