From 20ec0823137e0c68e5a1f5dcf345e0a7d51ae16d Mon Sep 17 00:00:00 2001
From: Robby Cai <r63905@freescale.com>
Date: Tue, 1 Jul 2014 21:17:26 +0800
Subject: [PATCH 0438/1074] ENGR00320692-1 ARM: dts: imx6sl: fix "csi_id is
 missing or invalid" issue

csi_id property is missing in dts file for imx6sl-evk board, which
causes the following kernel dump when insert the csi_v4l2_capture module.
This patch fixed it.

csi_v4l2 csi_v4l2_cap.22: csi_id missing or invalid
Unable to handle kernel NULL pointer dereference at virtual address 00000034
pgd = a8774000
[00000034] *pgd=a957f831, *pte=00000000, *ppte=00000000
Internal error: Oops: 817 [#1] PREEMPT SMP ARM
Modules linked in: csi_v4l2_capture(+) fsl_csi ov5642_camera ov5640_camera evbug
CPU: 0 PID: 829 Comm: modprobe Not tainted 3.10.31-1.1.0_beta+g3c16fd0 #1
task: a881ef00 ti: a892c000 task.ti: a892c000
PC is at csi_v4l2_probe+0x2a0/0x35c [csi_v4l2_capture]
LR is at csi_v4l2_probe+0x290/0x35c [csi_v4l2_capture]

Signed-off-by: Robby Cai <r63905@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sl-evk-common.dtsi |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sl-evk-common.dtsi b/arch/arm/boot/dts/imx6sl-evk-common.dtsi
index 0eb4295..c334443 100644
--- a/arch/arm/boot/dts/imx6sl-evk-common.dtsi
+++ b/arch/arm/boot/dts/imx6sl-evk-common.dtsi
@@ -78,6 +78,7 @@
 
 	csi_v4l2_cap {
 		compatible = "fsl,imx6sl-csi-v4l2";
+		csi_id = <0>;
 		status = "disabled";
 	};
 
-- 
1.7.5.4

