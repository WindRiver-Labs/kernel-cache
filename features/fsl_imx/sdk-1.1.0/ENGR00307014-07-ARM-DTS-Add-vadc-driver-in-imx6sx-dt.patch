From 8169aa1de15433a09dd7a06746ef7da564e6d62b Mon Sep 17 00:00:00 2001
From: Sandor Yu <R01008@freescale.com>
Date: Fri, 11 Apr 2014 14:08:59 +0800
Subject: [PATCH 0389/1074] ENGR00307014-07 ARM: DTS: Add vadc driver in
 imx6sx dts

Add vadc item in imx6sx.dtsi
and enable it in 19x19 arm2 and sdb board.

Signed-off-by: Sandor Yu <R01008@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sx-19x19-arm2.dts |    6 ++++++
 arch/arm/boot/dts/imx6sx-sdb.dts        |    6 ++++++
 arch/arm/boot/dts/imx6sx.dtsi           |   12 ++++++++++++
 3 files changed, 24 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sx-19x19-arm2.dts b/arch/arm/boot/dts/imx6sx-19x19-arm2.dts
index 505bcbf..8b8db30 100644
--- a/arch/arm/boot/dts/imx6sx-19x19-arm2.dts
+++ b/arch/arm/boot/dts/imx6sx-19x19-arm2.dts
@@ -497,3 +497,9 @@
 				0x0000c000 0x1404a38e 0x00000000>;
 	};
 };
+
+&vadc {
+	vadc_in = <0>;
+	csi_id = <0>;
+	status = "okay";
+};
diff --git a/arch/arm/boot/dts/imx6sx-sdb.dts b/arch/arm/boot/dts/imx6sx-sdb.dts
index b171896..dc1013e 100644
--- a/arch/arm/boot/dts/imx6sx-sdb.dts
+++ b/arch/arm/boot/dts/imx6sx-sdb.dts
@@ -569,3 +569,9 @@
 		reg = <1>;
 	};
 };
+
+&vadc {
+	vadc_in = <0>;
+	csi_id = <0>;
+	status = "okay";
+};
diff --git a/arch/arm/boot/dts/imx6sx.dtsi b/arch/arm/boot/dts/imx6sx.dtsi
index dd88a9e..c6bac08 100644
--- a/arch/arm/boot/dts/imx6sx.dtsi
+++ b/arch/arm/boot/dts/imx6sx.dtsi
@@ -822,6 +822,18 @@
 					status = "disabled";
 				};
 
+				vadc: vadc@02228000 {
+					compatible = "fsl,imx6sx-vadc";
+					reg = <0x02228000 0x4000>, <0x0222c000 0x4000>;
+					reg-names = "vadc-vafe", "vadc-vdec";
+					clocks = <&clks IMX6SX_CLK_VADC>,
+							<&clks IMX6SX_CLK_CSI>;
+					clock-names = "vadc", "csi";
+					gpr = <&gpr>;
+					csi_id = <0>;
+					status = "disabled";
+				};
+
 				spba@0223c000 {
 					reg = <0x0223c000 0x4000>;
 				};
-- 
1.7.5.4

