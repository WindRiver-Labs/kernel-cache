From dad1dc4eecc1a7160713fb8d5517de5a952ab9ad Mon Sep 17 00:00:00 2001
From: Fugang Duan <B38611@freescale.com>
Date: Mon, 19 Aug 2013 10:58:24 +0800
Subject: [PATCH 0077/1074] ENGR00275619 net: fec: set reset phy gpio to high
 in .probe().

In .probe() call fec_of_init() to parse phy reset gpio, and
request the gpio for later use. For the init, we must set the
gpio to high to let phy power on.

Signed-off-by: Fugang Duan  <B38611@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 drivers/net/ethernet/freescale/fec_main.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/ethernet/freescale/fec_main.c b/drivers/net/ethernet/freescale/fec_main.c
index 15acfbe..602f794 100644
--- a/drivers/net/ethernet/freescale/fec_main.c
+++ b/drivers/net/ethernet/freescale/fec_main.c
@@ -2082,7 +2082,7 @@ static void fec_of_init(struct platform_device *pdev)
 		return;
 
 	err = devm_gpio_request_one(&pdev->dev, fep->phy_reset_gpio,
-				    GPIOF_OUT_INIT_LOW, "phy-reset");
+				    GPIOF_OUT_INIT_HIGH, "phy-reset");
 	if (err) {
 		dev_err(&pdev->dev, "failed to get phy-reset-gpios: %d\n", err);
 		fep->phy_reset_gpio = -1;
-- 
1.7.5.4

