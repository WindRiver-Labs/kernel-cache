From e47da3bb6b6d79fb56a5e4ddafa8304e5383134c Mon Sep 17 00:00:00 2001
From: Robin Gong <b38343@freescale.com>
Date: Wed, 16 Apr 2014 17:53:39 +0800
Subject: [PATCH 0810/1074] ENGR00308770-2 : dma: sdma: add new sdma scripts
 for qspi/canfd

update sdma script and the script number.

Signed-off-by: Robin Gong <b38343@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 drivers/dma/imx-sdma.c                |    2 +-
 firmware/imx/sdma/sdma-imx6q.bin.ihex |  242 ++++++++++++++++++---------------
 2 files changed, 135 insertions(+), 109 deletions(-)

diff --git a/drivers/dma/imx-sdma.c b/drivers/dma/imx-sdma.c
index 6355d3c..1bf69ce 100644
--- a/drivers/dma/imx-sdma.c
+++ b/drivers/dma/imx-sdma.c
@@ -1576,7 +1576,7 @@ void sdma_set_event_pending(struct dma_chan *chan)
 }
 EXPORT_SYMBOL(sdma_set_event_pending);
 
-#define SDMA_SCRIPT_ADDRS_ARRAY_SIZE_V1	38
+#define SDMA_SCRIPT_ADDRS_ARRAY_SIZE_V1	40
 #define SDMA_SCRIPT_ADDRS_ARRAY_SIZE_V2	39
 
 static void sdma_add_scripts(struct sdma_engine *sdma,
diff --git a/firmware/imx/sdma/sdma-imx6q.bin.ihex b/firmware/imx/sdma/sdma-imx6q.bin.ihex
index 2e561f0..2511daa 100644
--- a/firmware/imx/sdma/sdma-imx6q.bin.ihex
+++ b/firmware/imx/sdma/sdma-imx6q.bin.ihex
@@ -1,116 +1,142 @@
 :1000000053444D4101000000010000001C000000AD
-:1000100026000000B40000007A0600008202000002
-:10002000FFFFFFFF00000000FFFFFFFFFFFFFFFFDC
+:1000100028000000BC000000100800008202000060
+:10002000FFFFFFFF00000000FFFFFFFFA90400002B
 :10003000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD0
 :10004000FFFFFFFFFFFFFFFF6A1A0000FFFFFFFF38
-:10005000EB020000BB180000FFFFFFFF08040000D8
+:10005000EB020000BB180000FFFFFFFFBC1A00000E
 :10006000FFFFFFFFC0030000FFFFFFFFFFFFFFFFD9
 :10007000FFFFFFFFAB020000FFFFFFFF7B0300005D
 :10008000FFFFFFFFFFFFFFFF4C0400006E040000B6
-:10009000FFFFFFFF00180000FFFFFFFFFFFFFFFF54
+:10009000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF70
 :1000A000000000000018000062180000161A00008E
-:1000B000061B0000E3C1DB57E35FE357F352016A1D
-:1000C0008F00D500017D8D00A005EB5D7804037DD8
-:1000D00079042C7D367C79041F7CEE56000F600677
-:1000E000057D0965437E0A62417E20980A623E7E54
-:1000F00009653C7E12051205AD026007037DFB55C4
-:10010000D36D2B98FB55041DD36DC86A2F7F011F3B
-:1001100003200048E47C5398FB55D76D1500057803
-:100120000962C86A0962C86AD76D5298FB55D76DD3
-:100130001500150005780A62C86A0A62C86AD76D98
-:100140005298FB55D76D15001500150005780B6208
-:10015000C86A0B62C86AD76D097CDF6D077F000033
-:10016000EB55004D077DFAC1E35706980700CC68B0
-:100170000C6813C20AC20398D9C1E3C1DB57E35F1D
-:10018000E357F352216A8F00D500017D8D00A00551
-:10019000EB5DFB567804037D79042A7D317C79047C
-:1001A000207C700B1103EB53000F6003057D096584
-:1001B000377E0A62357E86980A62327E0965307E15
-:1001C00012051205AD026007027C065A8E98265A67
-:1001D000277F011F03200048E87C700B1103135395
-:1001E000AF98150004780962065A0962265AAE983B
-:1001F0001500150004780A62065A0A62265AAE985B
-:1002000015001500150004780B62065A0B62265A79
-:10021000077C0000EB55004D067DFAC1E357699855
-:1002200007000C6813C20AC26698700B11031353BF
-:100230006C07017CD9C1FB5E8A066B07017CD9C1C2
-:10024000F35EDB59D3588F0110010F398B003CC18D
-:100250002B7DC05AC85B4EC1277C88038906E35CAE
-:10026000FF0D1105FF1DBC053E07004D187D7008F0
-:1002700011007E07097D7D07027D2852E698F8521D
-:10028000DB54BC02CC02097C7C07027D2852EF982B
-:10029000F852D354BC02CC02097D0004DD988B00D7
-:1002A000C052C85359C1D67D0002CD98FF08BF0087
-:1002B0007F07157D8804D500017D8D00A005EB5DCD
-:1002C0008F0212021202FF3ADA05027C3E071899E9
-:1002D000A402DD02027D3E0718995E071899EB55CE
-:1002E0009805EB5DF352FB546A07267D6C07017D90
-:1002F00055996B07577C6907047D6807027D010EDD
-:100300002F999358D600017D8E009355A005935DDB
-:10031000A00602780255045D1D7C004E087C69072A
-:10032000037D0255177E3C99045D147F8906935026
-:100330000048017D2799A099150006780255045DB3
-:100340004F070255245D2F07017CA09917006F0706
-:10035000017C012093559D000700A7D9F598D36C27
-:100360006907047D6807027D010E64999358D600E1
-:10037000017D8E009355A005935DA006027802557D
-:10038000C86D0F7C004E087C6907037D0255097E0D
-:100390007199C86D067F890693500048017D5C996C
-:1003A000A0999A99C36A6907047D6807027D010EC6
-:1003B00087999358D600017D8E009355A005935DD3
-:1003C000A0060278C865045D0F7C004E087C6907B2
-:1003D000037DC865097E9499045D067F8906935064
-:1003E0000048017D7F99A09993559D000700FF6CFF
-:1003F000A7D9F5980000E354EB55004D017CF59822
-:10040000DD98E354EB55FF0A1102FF1A7F07027CC7
-:10041000A005B4999D008C05BA05A0051002BA0488
-:10042000AD0454040600E3C1DB57FB52C36AF35228
-:10043000056A8F00D500017D8D00A005EB5D780475
-:10044000037D79042B7D1E7C7904337CEE56000FEE
-:10045000FB556007027DC36DD599041DC36DC8624D
-:100460003B7E6006027D10021202096A357F12028D
-:10047000096A327F1202096A2F7F011F0320004898
-:10048000E77C099AFB55C76D150015001500057826
-:10049000C8620B6AC8620B6AC76D089AFB55C76DC4
-:1004A000150015000578C8620A6AC8620A6AC76D35
-:1004B000089AFB55C76D15000578C862096AC862BD
-:1004C000096AC76D097C286A077F0000EB55004D5B
-:1004D000057DFAC1DB57BF9977C254040AC2BA99A5
-:1004E000D9C1E3C1DB57F352056A8F00D500017D06
-:1004F0008D00A005FB567804037D7904297D1F7CBF
-:1005000079042E7CE35D700D1105ED55000F600739
-:10051000027D0652329A2652337E6005027D100219
-:100520001202096A2D7F1202096A2A7F1202096AE1
-:10053000277F011F03200048EA7CE3555D9A1500E0
-:1005400015001500047806520B6A26520B6A5C9A55
-:1005500015001500047806520A6A26520A6A5C9A47
-:10056000150004780652096A2652096A097C286A2D
-:10057000077F0000DB57004D057DFAC1DB571B9A52
-:1005800077C254040AC2189AE3C1DB57F352056AD2
-:10059000FB568E02941AC36AC8626902247D941EB7
-:1005A000C36ED36EC8624802C86A9426981EC36E92
-:1005B000D36EC8624C02C86A9826C36E981EC36E7A
-:1005C000C8629826C36E6002097CC8626E02247DF0
-:1005D000096A1E7F0125004D257D849A286A187FAF
-:1005E00004627AC2B89AE36E8F00D805017D8D004F
-:1005F000A005C8626E02107D096A0A7F0120F97C9D
-:10060000286A067F0000004D0D7DFAC1DB576E9A07
-:10061000070004620C6AB59A286AFA7F04627AC2FB
-:1006200058045404286AF47F0AC26B9AD9C1E3C102
-:10063000DB57F352056AFB568E02941A0252690286
-:100640001D7D941E06524802065A9426981E065294
-:100650004C02065A9826981E065260020A7C98267A
-:1006600006526E02237D096A1D7F0125004D247DFF
-:10067000D19A286A177F04627AC2029B8F00D8053C
-:10068000017D8D00A00506526E02107D096A0A7F69
-:100690000120F97C286A067F0000004D0D7DFAC11B
-:1006A000DB57C19A070004620C6AFF9A286AFA7F36
-:1006B00004627AC258045404286AF47F0AC2BE9ABB
-:1006C000016E0B612F7E0B622D7E0B632B7E0C0D5A
-:1006D0001704170417049D04081DCC05017C0C0D9C
-:1006E000D16A000F4207C86FDD6F1C7F8E009D002E
-:1006F00001680B67177ED56B04080278C86F120774
-:10070000117C0B670F7E04080278C86F12070A7C01
-:10071000DD6F087FD169010FC86FDD6F037F0101B5
-:0E0720000004129B0700FF680C680002129B89
+:1000B0006B1B0000061B0000A21B0000E3C1DB5706
+:1000C000E35FE357F352016A8F00D500017D8D0095
+:1000D000A005EB5D7804037D79042C7D367C7904E2
+:1000E0001F7CEE56000F6006057D0965437E0A629F
+:1000F000417E20980A623E7E09653C7E120512050B
+:10010000AD026007037DFB55D36D2B98FB55041D95
+:10011000D36DC86A2F7F011F03200048E47C5398E9
+:10012000FB55D76D150005780962C86A0962C86A6F
+:10013000D76D5298FB55D76D1500150005780A62EA
+:10014000C86A0A62C86AD76D5298FB55D76D150008
+:100150001500150005780B62C86A0B62C86AD76D76
+:10016000097CDF6D077F0000EB55004D077DFAC16C
+:10017000E35706980700CC680C6813C20AC20398BC
+:10018000D9C1E3C1DB57E35FE357F352216A8F0024
+:10019000D500017D8D00A005EB5DFB567804037D45
+:1001A00079042A7D317C7904207C700B1103EB5398
+:1001B000000F6003057D0965377E0A62357E8698EB
+:1001C0000A62327E0965307E12051205AD026007B3
+:1001D000027C065A8E98265A277F011F032000486A
+:1001E000E87C700B11031353AF9815000478096273
+:1001F000065A0962265AAE981500150004780A625C
+:10020000065A0A62265AAE981500150015000478A1
+:100210000B62065A0B62265A077C0000EB55004D14
+:10022000067DFAC1E357699807000C6813C20AC239
+:100230006698700B110313536C07017CD9C1FB5EE8
+:100240008A066B07017CD9C1F35EDB59D3588F0155
+:1002500010010F398B003CC12B7DC05AC85B4EC1C9
+:10026000277C88038906E35CFF0D1105FF1DBC0593
+:100270003E07004D187D700811007E07097D7D073F
+:10028000027D2852E698F852DB54BC02CC02097C6D
+:100290007C07027D2852EF98F852D354BC02CC025E
+:1002A000097D0004DD988B00C052C85359C1D67D2A
+:1002B0000002CD98FF08BF007F07157D8804D50098
+:1002C000017D8D00A005EB5D8F0212021202FF3A44
+:1002D000DA05027C3E071899A402DD02027D3E0782
+:1002E00018995E071899EB559805EB5DF352FB548E
+:1002F0006A07267D6C07017D55996B07577C690756
+:10030000047D6807027D010E2F999358D600017D68
+:100310008E009355A005935DA00602780255045DFA
+:100320001D7C004E087C6907037D0255177E3C99B1
+:10033000045D147F890693500048017D2799A09998
+:10034000150006780255045D4F070255245D2F07FE
+:10035000017CA09917006F07017C012093559D0037
+:100360000700A7D9F598D36C6907047D6807027D5B
+:10037000010E64999358D600017D8E009355A00517
+:10038000935DA00602780255C86D0F7C004E087C74
+:100390006907037D0255097E7199C86D067F89063C
+:1003A00093500048017D5C99A0999A99C36A6907A6
+:1003B000047D6807027D010E87999358D600017D60
+:1003C0008E009355A005935DA0060278C865045D74
+:1003D0000F7C004E087C6907037DC865097E9499EF
+:1003E000045D067F890693500048017D7F99A0999E
+:1003F00093559D000700FF6CA7D9F5980000E354C2
+:10040000EB55004D017CF598DD98E354EB55FF0A60
+:100410001102FF1A7F07027CA005B4999D008C058C
+:10042000BA05A0051002BA04AD0454040600E3C1E5
+:10043000DB57FB52C36AF352056A8F00D500017D7A
+:100440008D00A005EB5D7804037D79042B7D1E7C77
+:100450007904337CEE56000FFB556007027DC36DB7
+:10046000D599041DC36DC8623B7E6006027D1002F3
+:100470001202096A357F1202096A327F1202096A82
+:100480002F7F011F03200048E77C099AFB55C76DA9
+:100490001500150015000578C8620B6AC8620B6A62
+:1004A000C76D089AFB55C76D150015000578C86221
+:1004B0000A6AC8620A6AC76D089AFB55C76D1500BB
+:1004C0000578C862096AC862096AC76D097C286A2A
+:1004D000077F0000EB55004D057DFAC1DB57BF9942
+:1004E00077C254040AC2BA99D9C1E3C1DB57F352A7
+:1004F000056A8F00D500017D8D00A005FB567804AC
+:10050000037D7904297D1F7C79042E7CE35D700DC9
+:100510001105ED55000F6007027D0652329A2652F2
+:10052000337E6005027D10021202096A2D7F1202DD
+:10053000096A2A7F1202096A277F011F03200048E7
+:10054000EA7CE3555D9A1500150015000478065203
+:100550000B6A26520B6A5C9A150015000478065245
+:100560000A6A26520A6A5C9A150004780652096AD9
+:100570002652096A097C286A077F0000DB57004D74
+:10058000057DFAC1DB571B9A77C254040AC2189A38
+:10059000E3C1DB57F352056AFB568E02941AC36A15
+:1005A000C8626902247D941EC36ED36EC86248027D
+:1005B000C86A9426981EC36ED36EC8624C02C86A7D
+:1005C0009826C36E981EC36EC8629826C36E6002DA
+:1005D000097CC8626E02247D096A1E7F0125004DD8
+:1005E000257D849A286A187F04627AC2B89AE36EDD
+:1005F0008F00D805017D8D00A005C8626E02107DB8
+:10060000096A0A7F0120F97C286A067F0000004DF4
+:100610000D7DFAC1DB576E9A070004620C6AB59A29
+:10062000286AFA7F04627AC258045404286AF47F64
+:100630000AC26B9AD9C1E3C1DB57F352056AFB5674
+:100640008E02941A025269021D7D941E06524802BF
+:10065000065A9426981E06524C02065A9826981E50
+:10066000065260020A7C982606526E02237D096AB1
+:100670001D7F0125004D247DD19A286A177F0462D1
+:100680007AC2029B8F00D805017D8D00A00506521D
+:100690006E02107D096A0A7F0120F97C286A067FB4
+:1006A0000000004D0D7DFAC1DB57C19A07000462BE
+:1006B0000C6AFF9A286AFA7F04627AC258045404CA
+:1006C000286AF47F0AC2BE9A4ADBDB57F352056AF6
+:1006D000C7698F00D500017D8D00A0057804037DDA
+:1006E00079041C7D157C79041E7CEE56C862287E38
+:1006F0006006027D10021202096A227F1202096A54
+:100700001F7F1202096A1C7F03200048EF7C399B7F
+:10071000150015000278C8620B6A389B1500027834
+:10072000C8620A6A389B0278C862096A097C286A2A
+:10073000077F004D077DD3520108025800040A9B31
+:1007400077C25404D35201080258010462DB079BAC
+:10075000700B11031353DB5F0A07D3588B00FB5E4A
+:100760003CC1157DC05AC85B4EC1117C8803F05D49
+:10077000FF0D1105FF1DBC05004D047D619B0807A1
+:10078000DB5F0A078B00C352CB5359C1EC7D0002DB
+:10079000529B016E0B612F7E0B622D7E0B632B7EB5
+:1007A0000C0D1704170417049D04081DCC05017CCB
+:1007B0000C0DD16A000F4207C86FDD6F1C7F8E00E1
+:1007C0009D0001680B67177ED56B04080278C86F1F
+:1007D0001207117C0B670F7E04080278C86F12079E
+:1007E0000A7CDD6F087FD169010FC86FDD6F037F61
+:1007F00001010004779B0700FF680C680002779BEB
+:10080000E7DBDB57F352056AFB52C76A8F00D5005E
+:10081000017D8D00A0057804037D79041C7D157C85
+:1008200079041E7CEE56C862287E6006027D1002A6
+:100830001202096A227F1202096A1F7F1202096AE4
+:100840001C7F03200048EF7CD69B15001500027822
+:10085000C8620B6AD59B15000278C8620A6AD59BEC
+:100860000278C862096A097C286A077F004D077D03
+:10087000D352010802580004A69B77C25404D352F5
+:10088000010802580104FFDBA39B700B11031353F3
+:10089000DB5F0A07D3588B00FB5E3CC1157DC05A55
+:1008A000C85B4EC1117C8803F05DFF0D1105FF1D73
+:1008B000BC05004D047DFE9B0807DB5F0A078B002B
+:0C08C000C352CB5359C1EC7D0002EF9BEA
 :00000001FF
-- 
1.7.5.4

