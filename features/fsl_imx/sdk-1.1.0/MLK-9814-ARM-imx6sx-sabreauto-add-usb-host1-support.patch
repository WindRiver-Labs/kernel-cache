From ca4ae33b57286cd5bf7664d96a71bcb9bc8f780c Mon Sep 17 00:00:00 2001
From: Li Jun <B47624@freescale.com>
Date: Fri, 7 Nov 2014 14:51:54 +0800
Subject: [PATCH 0523/1074] MLK-9814 ARM: imx6sx-sabreauto: add usb host1
 support

Enable USB OTG2 as a host only port.

Signed-off-by: Li Jun <b47624@freescale.com>
(cherry picked from commit 11c9528c60e0452ba9ce1a53f673be2fc3c04813)
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sx-sabreauto.dts |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sx-sabreauto.dts b/arch/arm/boot/dts/imx6sx-sabreauto.dts
index de9752b..2d8912a 100644
--- a/arch/arm/boot/dts/imx6sx-sabreauto.dts
+++ b/arch/arm/boot/dts/imx6sx-sabreauto.dts
@@ -149,6 +149,15 @@
 			gpio = <&gpio1 9 0>;
 			enable-active-high;
 		};
+
+		reg_usb_otg2_vbus: usb_otg2_vbus {
+			compatible = "regulator-fixed";
+			regulator-name = "usb_otg2_vbus";
+			regulator-min-microvolt = <5000000>;
+			regulator-max-microvolt = <5000000>;
+			gpio = <&gpio1 12 0>;
+			enable-active-high;
+		};
 	};
 
 	sound-cs42888 {
@@ -543,6 +552,12 @@
 	status = "okay";
 };
 
+&usbotg2 {
+	vbus-supply = <&reg_usb_otg2_vbus>;
+	dr_mode = "host";
+	status = "okay";
+};
+
 &usdhc3 {
 	pinctrl-names = "default", "state_100mhz", "state_200mhz";
 	pinctrl-0 = <&pinctrl_usdhc3_1>;
-- 
1.7.5.4

