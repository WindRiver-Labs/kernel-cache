From b5f6bc2282641e44cfefb86e93d18fd1ece0c9fc Mon Sep 17 00:00:00 2001
From: Dong Aisheng <b29396@freescale.com>
Date: Wed, 5 Mar 2014 16:19:49 +0800
Subject: [PATCH 0302/1074] ENGR00302227-2 dts: imx6sx-17x17-arm2: fix the pad
 setting of can gpios

We use the default GPIO pad ctrl setting for CAN before.
However, we found the reset value of CAN gpio pad ctrl setting is
000030c1 which indicates the Drive Strength Field is HIZ.
Thus there will be no output and GPIO output function will not work.
Altough the board level pull up will make the CAN tranceiver work
properly by default, however, we will not be able to shutdown
the tranceiver by GPIO.
Setting the correct driver strength for GPIO pad ctrl to make the pad
out work properly.

Signed-off-by: Dong Aisheng <b29396@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sx-17x17-arm2.dts |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sx-17x17-arm2.dts b/arch/arm/boot/dts/imx6sx-17x17-arm2.dts
index 51cbab8..6a45c5a 100644
--- a/arch/arm/boot/dts/imx6sx-17x17-arm2.dts
+++ b/arch/arm/boot/dts/imx6sx-17x17-arm2.dts
@@ -272,13 +272,13 @@
 				MX6SX_PAD_KEY_ROW0__GPIO2_IO_15		0x1f059
 				MX6SX_PAD_QSPI1A_SS0_B__GPIO4_IO_22     0x80000000
 				/* CAN1_2_EN */
-				MX6SX_PAD_QSPI1B_DATA1__GPIO4_IO_25     0x80000000
+				MX6SX_PAD_QSPI1B_DATA1__GPIO4_IO_25     0x17059
 				/* CAN1_2_STBY_B */
-				MX6SX_PAD_QSPI1B_DATA3__GPIO4_IO_27     0x80000000
+				MX6SX_PAD_QSPI1B_DATA3__GPIO4_IO_27     0x17059
 				/* CAN1_ERR_B */
-				MX6SX_PAD_QSPI1B_DATA0__GPIO4_IO_24	0x80000000
+				MX6SX_PAD_QSPI1B_DATA0__GPIO4_IO_24	0x17059
 				/* CAN2_ERR_B */
-				MX6SX_PAD_QSPI1B_SS0_B__GPIO4_IO_30     0x80000000
+				MX6SX_PAD_QSPI1B_SS0_B__GPIO4_IO_30     0x17059
 				/* SD2_PWROFF */
 				MX6SX_PAD_KEY_COL1__GPIO2_IO_11		0x17059
 			>;
-- 
1.7.5.4

