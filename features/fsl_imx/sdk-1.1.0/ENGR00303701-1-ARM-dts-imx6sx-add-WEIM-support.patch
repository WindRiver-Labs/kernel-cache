From 2d036163ee1aeaae82e1f66c9f0245d0ecac9fce Mon Sep 17 00:00:00 2001
From: Huang Shijie <b32955@freescale.com>
Date: Mon, 17 Mar 2014 13:36:23 +0800
Subject: [PATCH 0367/1074] ENGR00303701-1 ARM: dts: imx6sx: add WEIM support

Add the WEIM node and the pinctrl.

Signed-off-by: Huang Shijie <b32955@freescale.com>
[Original patch taken from git://git.freescale.com/imx/linux-2.6-imx.git]
Signed-off-by: Biyao Zhai <biyao.zhai@windriver.com>
---
 arch/arm/boot/dts/imx6sx.dtsi |   67 +++++++++++++++++++++++++++++++++++++++++
 1 files changed, 67 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sx.dtsi b/arch/arm/boot/dts/imx6sx.dtsi
index 229d63a..fb4f870 100644
--- a/arch/arm/boot/dts/imx6sx.dtsi
+++ b/arch/arm/boot/dts/imx6sx.dtsi
@@ -529,6 +529,13 @@
 				status = "disabled";
 			};
 
+			weim: weim@021b8000 {
+				compatible = "fsl,imx6q-weim";
+				reg = <0x021b8000 0x4000>;
+				interrupts = <0 14 0x04>;
+				clocks = <&clks IMX6SX_CLK_EIM_SLOW>;
+			};
+
 			i2c1: i2c@021a0000 {
 				#address-cells = <1>;
 				#size-cells = <0>;
@@ -1328,4 +1335,64 @@
 			};
 
 	};
+
+	weim {
+		pinctrl_weim_cs0_1: weim_cs0grp-1 {
+			fsl,pins = <
+				MX6SX_PAD_NAND_ALE__WEIM_CS0_B       0xb0b1
+			>;
+		};
+
+		pinctrl_weim_nor_1: weim_norgrp-1 {
+			fsl,pins = <
+				MX6SX_PAD_NAND_CE1_B__WEIM_OE        0xb0b1
+				MX6SX_PAD_NAND_RE_B__WEIM_RW         0xb0b1
+				MX6SX_PAD_NAND_WE_B__WEIM_WAIT       0xb060
+				/* data */
+				MX6SX_PAD_QSPI1A_SCLK__WEIM_DATA_0   0x1b0b0
+				MX6SX_PAD_QSPI1A_SS0_B__WEIM_DATA_1  0x1b0b0
+				MX6SX_PAD_QSPI1A_SS1_B__WEIM_DATA_2  0x1b0b0
+				MX6SX_PAD_QSPI1A_DATA3__WEIM_DATA_3  0x1b0b0
+				MX6SX_PAD_QSPI1A_DATA2__WEIM_DATA_4  0x1b0b0
+				MX6SX_PAD_QSPI1A_DATA1__WEIM_DATA_5  0x1b0b0
+				MX6SX_PAD_QSPI1A_DATA0__WEIM_DATA_6  0x1b0b0
+				MX6SX_PAD_QSPI1A_DQS__WEIM_DATA_7    0x1b0b0
+				MX6SX_PAD_QSPI1B_SCLK__WEIM_DATA_8   0x1b0b0
+				MX6SX_PAD_QSPI1B_SS0_B__WEIM_DATA_9  0x1b0b0
+				MX6SX_PAD_QSPI1B_SS1_B__WEIM_DATA_10 0x1b0b0
+				MX6SX_PAD_QSPI1B_DATA3__WEIM_DATA_11 0x1b0b0
+				MX6SX_PAD_QSPI1B_DATA2__WEIM_DATA_12 0x1b0b0
+				MX6SX_PAD_QSPI1B_DATA1__WEIM_DATA_13 0x1b0b0
+				MX6SX_PAD_QSPI1B_DATA0__WEIM_DATA_14 0x1b0b0
+				MX6SX_PAD_QSPI1B_DQS__WEIM_DATA_15   0x1b0b0
+				/* address */
+				MX6SX_PAD_NAND_DATA00__WEIM_AD_0     0xb0b1
+				MX6SX_PAD_NAND_DATA01__WEIM_AD_1     0xb0b1
+				MX6SX_PAD_NAND_DATA02__WEIM_AD_2     0xb0b1
+				MX6SX_PAD_NAND_DATA03__WEIM_AD_3     0xb0b1
+				MX6SX_PAD_NAND_DATA04__WEIM_AD_4     0xb0b1
+				MX6SX_PAD_NAND_DATA05__WEIM_AD_5     0xb0b1
+				MX6SX_PAD_NAND_DATA06__WEIM_AD_6     0xb0b1
+				MX6SX_PAD_NAND_DATA07__WEIM_AD_7     0xb0b1
+				MX6SX_PAD_LCD1_DATA08__WEIM_AD_8     0xb0b1
+				MX6SX_PAD_LCD1_DATA09__WEIM_AD_9     0xb0b1
+				MX6SX_PAD_LCD1_DATA10__WEIM_AD_10    0xb0b1
+				MX6SX_PAD_LCD1_DATA11__WEIM_AD_11    0xb0b1
+				MX6SX_PAD_LCD1_DATA12__WEIM_AD_12    0xb0b1
+				MX6SX_PAD_LCD1_DATA13__WEIM_AD_13    0xb0b1
+				MX6SX_PAD_LCD1_DATA14__WEIM_AD_14    0xb0b1
+				MX6SX_PAD_LCD1_DATA15__WEIM_AD_15    0xb0b1
+				MX6SX_PAD_LCD1_DATA16__WEIM_ADDR_16  0xb0b1
+				MX6SX_PAD_LCD1_DATA17__WEIM_ADDR_17  0xb0b1
+				MX6SX_PAD_LCD1_DATA18__WEIM_ADDR_18  0xb0b1
+				MX6SX_PAD_LCD1_DATA19__WEIM_ADDR_19  0xb0b1
+				MX6SX_PAD_LCD1_DATA20__WEIM_ADDR_20  0xb0b1
+				MX6SX_PAD_LCD1_DATA21__WEIM_ADDR_21  0xb0b1
+				MX6SX_PAD_LCD1_DATA22__WEIM_ADDR_22  0xb0b1
+				MX6SX_PAD_LCD1_DATA03__WEIM_ADDR_24  0xb0b1
+				MX6SX_PAD_LCD1_DATA04__WEIM_ADDR_25  0xb0b1
+				MX6SX_PAD_LCD1_DATA05__WEIM_ADDR_26  0xb0b1
+			>;
+		};
+	};
 };
-- 
1.7.5.4

