From 76aeb822f30fea7f2d01da7d6ca3da149af46fc1 Mon Sep 17 00:00:00 2001
From: Fugang Duan <b38611@freescale.com>
Date: Tue, 1 Sep 2015 09:51:38 +0800
Subject: [PATCH 0619/1691] MLK-10479 ARM: dts: i.MX6QP: add enet pin setting
 for i.MX6QP

commit 76aeb822f30fea7f2d01da7d6ca3da149af46fc1 from
git://git.freescale.com/imx/linux-2.6-imx.git imx_4.1.15_1.0.0_ga

Enet has overrun by using the i.MX6Q PAD setting when VDDIO is 1.8V.
Change the DSE from 40Ohm to 80Ohm, the overrun disappear. After measure
the waveform, the tx amplitude reach at 2.4V with DSE 40Ohm, at 1.8V with
DSE 80Ohm. So the patch just set the suitable pad setting for i.MX6QP with
ethernet daughter board.

Signed-off-by: Fugang Duan <B38611@freescale.com>
(cherry picked from commit: cca23dd5005d0c48256562c5561eb6036979b904)
---
 arch/arm/boot/dts/imx6qp-sabreauto.dts | 24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

diff --git a/arch/arm/boot/dts/imx6qp-sabreauto.dts b/arch/arm/boot/dts/imx6qp-sabreauto.dts
index 21a7246..cc961c7 100644
--- a/arch/arm/boot/dts/imx6qp-sabreauto.dts
+++ b/arch/arm/boot/dts/imx6qp-sabreauto.dts
@@ -26,6 +26,30 @@
 	};
 };
 
+&iomuxc {
+	imx6qdl-sabreauto {
+		pinctrl_enet: enetgrp {
+			fsl,pins = <
+				MX6QDL_PAD_KEY_COL1__ENET_MDIO          0x1b0b0
+				MX6QDL_PAD_KEY_COL2__ENET_MDC           0x1b0b0
+				MX6QDL_PAD_RGMII_TXC__RGMII_TXC         0x1b018
+				MX6QDL_PAD_RGMII_TD0__RGMII_TD0         0x1b018
+				MX6QDL_PAD_RGMII_TD1__RGMII_TD1         0x1b018
+				MX6QDL_PAD_RGMII_TD2__RGMII_TD2         0x1b018
+				MX6QDL_PAD_RGMII_TD3__RGMII_TD3         0x1b018
+				MX6QDL_PAD_RGMII_TX_CTL__RGMII_TX_CTL   0x1b018
+				MX6QDL_PAD_RGMII_RXC__RGMII_RXC         0x1b018
+				MX6QDL_PAD_RGMII_RD0__RGMII_RD0         0x1b018
+				MX6QDL_PAD_RGMII_RD1__RGMII_RD1         0x1b018
+				MX6QDL_PAD_RGMII_RD2__RGMII_RD2         0x1b018
+				MX6QDL_PAD_RGMII_RD3__RGMII_RD3         0x1b018
+				MX6QDL_PAD_RGMII_RX_CTL__RGMII_RX_CTL   0x1b018
+				MX6QDL_PAD_GPIO_16__ENET_REF_CLK        0x4001b0a8
+			>;
+		};
+	};
+};
+
 &pcie {
 	reset-gpio = <&max7310_c 5 GPIO_ACTIVE_LOW>;
 	status = "okay";
-- 
1.9.1

