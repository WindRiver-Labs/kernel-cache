From f0e1860daddb4caf8cb10424eff4fcdf39eeb7ca Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Wed, 6 Apr 2016 10:16:13 +0800
Subject: [PATCH] mtd: nand: gpmi-nand: add terminal entry at the end of
 gpmi_nand_id_table[]

When configure CONFIG_MTD=m, there is an error during building
gpmi-nand.c. detail error info as below:
drivers/mtd/nand/gpmi-nand/gpmi_nand: struct of_device_id is 196
bytes. The last of 7 is:
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x66
0x73 0x6c 0x2c 0x69 0x6d 0x78 0x37 0x64 0x2d 0x67 0x70 0x6d 0x69
0x2d 0x6e 0x61 0x6e 0x64 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0xe4 0x05 0x00 0x00
FATAL: drivers/mtd/nand/gpmi-nand/gpmi_nand: struct of_device_id is
not terminated with a NULL entry!

The reason is that there is no NULL entry at the end of structure
array gpmi_nand_id_table[]. So add NULL as a terminal entry.

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/mtd/nand/gpmi-nand/gpmi-nand.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/drivers/mtd/nand/gpmi-nand/gpmi-nand.c b/drivers/mtd/nand/gpmi-nand/gpmi-nand.c
index 802afd9..02af5ae 100644
--- a/drivers/mtd/nand/gpmi-nand/gpmi-nand.c
+++ b/drivers/mtd/nand/gpmi-nand/gpmi-nand.c
@@ -2046,7 +2046,8 @@ static const struct of_device_id gpmi_nand_id_table[] = {
 	}, {
 		.compatible = "fsl,imx7d-gpmi-nand",
 		.data = (void *)&gpmi_devdata_imx7d,
-	}
+	},
+	{}
 };
 MODULE_DEVICE_TABLE(of, gpmi_nand_id_table);
 
-- 
1.7.5.4

