From 5ae16791d49a1e77c10e1d83eb39f8dea2eaa5aa Mon Sep 17 00:00:00 2001
From: Peter Chen <peter.chen@freescale.com>
Date: Thu, 5 Feb 2015 16:38:52 +0800
Subject: [PATCH 1374/1594] MLK-10218-1 charger: imx6_usb: change detection
 timeout to 500ms

commit e212e3f63ae499b1da079f2ac7b74d5506828c76 from
git://git.freescale.com/imx/linux-2.6-imx.git

With IC engineer confirmation, 500ms is enough to detect whether
it is a standard USB connection or not. Decrease the timeout value
can reduce the system suspending time if it is not a standard
USB connection.

Signed-off-by: Peter Chen <peter.chen@freescale.com>
---
 drivers/power/imx6_usb_charger.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/power/imx6_usb_charger.c b/drivers/power/imx6_usb_charger.c
index f7834d5..8c6a3f9 100644
--- a/drivers/power/imx6_usb_charger.c
+++ b/drivers/power/imx6_usb_charger.c
@@ -106,7 +106,7 @@ static int imx6_usb_charger_detect(struct usb_charger *charger)
 				usleep_range(5000, 10000);
 		} else {
 			data_pin_contact_count = 0;
-			msleep(20);
+			usleep_range(5000, 6000);
 		}
 	}
 
-- 
1.7.5.4

