From 9bc945597328bd98cd047d89f13d5aaebead7539 Mon Sep 17 00:00:00 2001
From: Dong Aisheng <b29396@freescale.com>
Date: Fri, 4 Jul 2014 22:01:55 +0800
Subject: [PATCH 0160/1594] ENGR00321358-2 dts: imx6sx: change m_can message
 ram to a small size

commit d9ddf116a943a330f937155cae24b42bd504590e from
git://git.freescale.com/imx/linux-2.6-imx.git

We met an issue that access the 0x2600 offset of message ram
does not work although the mx6sx spec claims a 16KB size.
The reason is still unkown.
Change the RAM size to a small size to use the first 2K
to avoid such issue.

Signed-off-by: Dong Aisheng <b29396@freescale.com>
(cherry picked from commit fd99f25c703eeffa74fc09e448f3d87ad049ab87)
---
 arch/arm/boot/dts/imx6sx.dtsi |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sx.dtsi b/arch/arm/boot/dts/imx6sx.dtsi
index 76f08e1..f70e05f 100644
--- a/arch/arm/boot/dts/imx6sx.dtsi
+++ b/arch/arm/boot/dts/imx6sx.dtsi
@@ -726,7 +726,7 @@
 				reg-names = "canfd", "message_ram";
 				interrupts = <0 114 0x04>;
 				clocks = <&clks IMX6SX_CLK_CANFD>;
-				mram-cfg = <0x0 0 0 32 32 32 0 1>;
+				mram-cfg = <0x0 0 0 32 0 0 0 1>;
 				status = "disabled";
 			};
 
@@ -736,7 +736,7 @@
 				reg-names = "canfd", "message_ram";
 				interrupts = <0 115 0x04>;
 				clocks = <&clks IMX6SX_CLK_CANFD>;
-				mram-cfg = <0x2000 0 0 32 32 32 0 1>;
+				mram-cfg = <0x400 0 0 32 0 0 0 1>;
 				status = "disabled";
 			};
 
-- 
1.7.5.4

