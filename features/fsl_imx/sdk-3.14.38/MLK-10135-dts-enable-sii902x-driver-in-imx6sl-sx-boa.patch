From 24df7bfe95eb723e942f3c91adae01b68fb88719 Mon Sep 17 00:00:00 2001
From: Sandor Yu <R01008@freescale.com>
Date: Wed, 28 Jan 2015 17:57:47 +0800
Subject: [PATCH 0822/1594] MLK-10135 dts:enable sii902x driver in imx6sl/sx
 board

commit f2d5a72c49f3aba964f005d824b3bf0adaf40b6d from
git://git.freescale.com/imx/linux-2.6-imx.git

Enable sii902x driver in imx6sl/sx board

Signed-off-by: Sandor Yu <R01008@freescale.com>
---
 arch/arm/boot/dts/imx6sl-evk.dts  |   18 ++++++++++++++++++
 arch/arm/boot/dts/imx6sx-sdb.dts  |   10 ++++++++++
 arch/arm/boot/dts/imx6sx-sdb.dtsi |    8 ++++++++
 3 files changed, 36 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx6sl-evk.dts b/arch/arm/boot/dts/imx6sl-evk.dts
index 891ad1c..d15f75c 100644
--- a/arch/arm/boot/dts/imx6sl-evk.dts
+++ b/arch/arm/boot/dts/imx6sl-evk.dts
@@ -137,6 +137,13 @@
 		spdif-controller = <&spdif>;
 		spdif-out;
 	};
+
+	sii902x_reset: sii902x-reset {
+		compatible = "gpio-reset";
+		reset-gpios = <&gpio2 19 1>;
+		reset-delay-us = <100000>;
+		#reset-cells = <0>;
+	};
 };
 
 &audmux {
@@ -422,6 +429,16 @@
 		SPKVDD2-supply = <&reg_aud4v>;
 		amic-mono;
 	};
+
+	sii902x@39 {
+		compatible = "SiI,sii902x";
+		interrupt-parent = <&gpio2>;
+		interrupts = <10 2>;
+		mode_str ="1280x720M@60";
+		bits-per-pixel = <32>;
+		resets = <&sii902x_reset>;
+		reg = <0x39>;
+	};
 };
 
 &i2c3 {
@@ -474,6 +491,7 @@
 				MX6SL_PAD_EPDC_PWRCTRL3__GPIO2_IO10 0x17000
 				MX6SL_PAD_EPDC_PWRCTRL2__GPIO2_IO09 0x80000000
 				MX6SL_PAD_KEY_COL6__GPIO4_IO04    0x110b0
+				MX6SL_PAD_LCD_RESET__GPIO2_IO19   0x1b0b0
 			>;
 		};
 
diff --git a/arch/arm/boot/dts/imx6sx-sdb.dts b/arch/arm/boot/dts/imx6sx-sdb.dts
index 0ced457..0eee7d8 100644
--- a/arch/arm/boot/dts/imx6sx-sdb.dts
+++ b/arch/arm/boot/dts/imx6sx-sdb.dts
@@ -155,6 +155,16 @@
 			};
 		};
 	};
+
+	sii902x@39 {
+		compatible = "SiI,sii902x";
+		interrupt-parent = <&gpio4>;
+		interrupts = <21 2>;
+		mode_str ="1280x720M@60";
+		bits-per-pixel = <32>;
+		resets = <&sii902x_reset>;
+		reg = <0x39>;
+	};
 };
 
 &flexcan1 {
diff --git a/arch/arm/boot/dts/imx6sx-sdb.dtsi b/arch/arm/boot/dts/imx6sx-sdb.dtsi
index 6f25f7d..35e750e 100644
--- a/arch/arm/boot/dts/imx6sx-sdb.dtsi
+++ b/arch/arm/boot/dts/imx6sx-sdb.dtsi
@@ -198,6 +198,13 @@
 		spdif-controller = <&spdif>;
 		spdif-out;
 	};
+
+	sii902x_reset: sii902x-reset {
+		compatible = "gpio-reset";
+		reset-gpios = <&gpio3 27 1>;
+		reset-delay-us = <100000>;
+		#reset-cells = <0>;
+	};
 };
 
 &pcie {
@@ -561,6 +568,7 @@
 				MX6SX_PAD_SD1_DATA3__GPIO6_IO_5 0xb000
 				MX6SX_PAD_CSI_DATA03__GPIO1_IO_17 0x17059
 				MX6SX_PAD_GPIO1_IO13__WDOG1_WDOG_ANY 0x30b0
+				MX6SX_PAD_QSPI1A_SCLK__GPIO4_IO_21  0x17059
 			>;
 		};
 
-- 
1.7.5.4

