From 16c344c6903e4226c935d07e2751c800b6d2ed9a Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Thu, 3 Mar 2016 19:21:15 +0800
Subject: [PATCH 1594/1594] driver: gpio: pca953x: define an null function for
 platform that doesn't support ACPI

The pca953x_setup_int3491() in commit 94bfb66b8887 ("gpio: pca953x:
provide GPIO base based on _UID") uses an ACPI api and would cause
build error on platform (such as imx6) which doesn't support ACPI.
Introduce acorresponding null function for non-ACPI platform to fix
this issue.

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/gpio/gpio-pca953x.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/drivers/gpio/gpio-pca953x.c b/drivers/gpio/gpio-pca953x.c
index 3445644..4ab723b 100644
--- a/drivers/gpio/gpio-pca953x.c
+++ b/drivers/gpio/gpio-pca953x.c
@@ -111,6 +111,7 @@ struct pca953x_info {
 	void (*setup)(struct pca953x_chip *chip);
 };
 
+#ifdef	CONFIG_ACPI
 static void pca953x_setup_int3491(struct pca953x_chip *chip)
 {
 	struct acpi_device *adev = ACPI_COMPANION(&chip->client->dev);
@@ -123,6 +124,9 @@ static void pca953x_setup_int3491(struct pca953x_chip *chip)
 			   8 /* gpio-dwapb */ +
 			  16 /* pca9535 */ * uid;
 }
+#else	/* !CONFIG_ACPI */
+static void pca953x_setup_int3491(struct pca953x_chip *chip) {}
+#endif
 
 static const struct pca953x_info pca953x_info_int3491 = {
 	.driver_data = 16 | PCA953X_TYPE | PCA_INT,
-- 
1.7.5.4

