From d510c1452523365eafc360c7e86498eba7ce5604 Mon Sep 17 00:00:00 2001
From: Bai Ping <b51503@freescale.com>
Date: Fri, 19 Jun 2015 01:34:19 +0800
Subject: [PATCH 1275/1594] MLK-11126 ARM: dts: imx: update the setpoints data
 on imx6ul

commit 3ad1f7690d4bc1cd3c89925da6a8274c9e49ecb7 from
git://git.freescale.com/imx/linux-2.6-imx.git

Updating the setpoint data on i.MX6UL According to the latest
datasheet(Rev. B, 04/2015). Additionally, we add a 25mV margin
to cover the board tolerence and IR drop.

Signed-off-by: Bai Ping <b51503@freescale.com>
(cherry picked from commit 20b60a54ca413ff4183b895c247794f3f7626e69)
---
 arch/arm/boot/dts/imx6ul-14x14-ddr3-arm2.dts |   18 ++++++++++++++++++
 arch/arm/boot/dts/imx6ul.dtsi                |   12 ++++++------
 2 files changed, 24 insertions(+), 6 deletions(-)

diff --git a/arch/arm/boot/dts/imx6ul-14x14-ddr3-arm2.dts b/arch/arm/boot/dts/imx6ul-14x14-ddr3-arm2.dts
index 72dc89c..0f69e1a 100644
--- a/arch/arm/boot/dts/imx6ul-14x14-ddr3-arm2.dts
+++ b/arch/arm/boot/dts/imx6ul-14x14-ddr3-arm2.dts
@@ -94,6 +94,24 @@
 };
 
 &cpu0 {
+	/*
+	 * on i.MX6UL, no seperated VDD_ARM_IN and VDD_SOC_IN,
+	 * to align with other platform and use the same cpufreq
+	 * driver, still use the seperated OPP define for arm
+	 * and soc.
+	 */
+	operating-points = <
+		/* kHz	uV */
+		528000	1175000
+		396000	1175000
+		198000	1175000
+	>;
+	fsl,soc-operating-points = <
+		/* KHz	uV */
+		528000	1175000
+		396000	1175000
+		198000	1175000
+	>;
 	arm-supply = <&sw1a_reg>;
 	soc-supply = <&sw1a_reg>;
 	fsl,arm-soc-shared = <1>;
diff --git a/arch/arm/boot/dts/imx6ul.dtsi b/arch/arm/boot/dts/imx6ul.dtsi
index 458a527..dac4076 100644
--- a/arch/arm/boot/dts/imx6ul.dtsi
+++ b/arch/arm/boot/dts/imx6ul.dtsi
@@ -54,15 +54,15 @@
 			clock-latency = <61036>; /* two CLK32 periods */
 			operating-points = <
 				/* kHz	uV */
-				528000	1250000
-				396000	1150000
-				198000	1150000
+				528000	1175000
+				396000	1025000
+				198000	950000
 			>;
 			fsl,soc-operating-points = <
 				/* KHz	uV */
-				528000	1250000
-				396000	1150000
-				198000	1150000
+				528000	1175000
+				396000	1175000
+				198000	1175000
 			>;
 			clocks = <&clks IMX6UL_CLK_ARM>,
 				 <&clks IMX6UL_CLK_PLL2_BUS>,
-- 
1.7.5.4

