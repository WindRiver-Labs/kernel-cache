From 52442bbd19fba0817157597e43325fc48159d6c5 Mon Sep 17 00:00:00 2001
From: Kevin Hao <kexin.hao@windriver.com>
Date: Mon, 3 Aug 2015 13:37:42 +0800
Subject: [PATCH] arm: imx6: fix several build warnings

arch/arm/mach-imx/pm-imx6.c: In function 'imx6_dt_find_lpsram':
arch/arm/mach-imx/pm-imx6.c:807:8: warning: assignment discards 'const' qualifier from pointer target type
   prop = of_get_flat_dt_prop(node, "reg", NULL);
        ^
arch/arm/mach-imx/busfreq-imx6.c: In function 'imx6_dt_find_ddr_sram':
arch/arm/mach-imx/busfreq-imx6.c:752:10: warning: passing argument 3 of 'of_get_flat_dt_prop' from incompatible pointer type
   prop = of_get_flat_dt_prop(node, "reg", &len);
          ^
In file included from arch/arm/mach-imx/busfreq-imx6.c:43:0:
include/linux/of_fdt.h:88:20: note: expected 'int *' but argument is of type 'long unsigned int *'
 extern const void *of_get_flat_dt_prop(unsigned long node, const char *name,
                    ^
arch/arm/mach-imx/busfreq-imx6.c:752:8: warning: assignment discards 'const' qualifier from pointer target type
   prop = of_get_flat_dt_prop(node, "reg", &len);
        ^

Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm/mach-imx/busfreq-imx6.c |    4 ++--
 arch/arm/mach-imx/pm-imx6.c      |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-imx/busfreq-imx6.c b/arch/arm/mach-imx/busfreq-imx6.c
index af7982f..d185fa7 100644
--- a/arch/arm/mach-imx/busfreq-imx6.c
+++ b/arch/arm/mach-imx/busfreq-imx6.c
@@ -745,10 +745,10 @@ static int __init imx6_dt_find_ddr_sram(unsigned long node,
 		const char *uname, int depth, void *data)
 {
 	unsigned long ddr_iram_addr;
-	__be32 *prop;
+	const __be32 *prop;
 
 	if (of_flat_dt_match(node, ddr_freq_iram_match)) {
-		unsigned long len;
+		int len;
 		prop = of_get_flat_dt_prop(node, "reg", &len);
 		if (prop == NULL || len != (sizeof(unsigned long) * 2))
 			return EINVAL;
diff --git a/arch/arm/mach-imx/pm-imx6.c b/arch/arm/mach-imx/pm-imx6.c
index 03f0ed2..19532a0 100644
--- a/arch/arm/mach-imx/pm-imx6.c
+++ b/arch/arm/mach-imx/pm-imx6.c
@@ -801,7 +801,7 @@ static int __init imx6_dt_find_lpsram(unsigned long node, const char *uname,
 				      int depth, void *data)
 {
 	unsigned long lpram_addr;
-	__be32 *prop;
+	const __be32 *prop;
 
 	if (of_flat_dt_match(node, low_power_ocram_match)) {
 		prop = of_get_flat_dt_prop(node, "reg", NULL);
-- 
1.7.5.4

