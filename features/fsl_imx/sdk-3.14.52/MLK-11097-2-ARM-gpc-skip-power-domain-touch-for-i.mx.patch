From c509447447aad8cfd105fcf8ea5082b22901dae6 Mon Sep 17 00:00:00 2001
From: Robin Gong <b38343@freescale.com>
Date: Fri, 12 Jun 2015 11:26:52 +0800
Subject: [PATCH 0800/1221] MLK-11097-2: ARM: gpc: skip power domain touch for
 i.mx6ul

Skip power domain touch since there are no PU and display misc power domain
on i.mx6ul.

Signed-off-by: Robin Gong <b38343@freescale.com>
[zou:Original patch taken from
git.freescale.com/imx/fsl-arm-yocto-bsp.git-b imx-3.14.52-1.1.0_ga]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm/mach-imx/gpc.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-imx/gpc.c b/arch/arm/mach-imx/gpc.c
index e5f5ad4..9974433 100644
--- a/arch/arm/mach-imx/gpc.c
+++ b/arch/arm/mach-imx/gpc.c
@@ -559,6 +559,10 @@ static int imx_gpc_genpd_init(struct device *dev, struct regulator *pu_reg)
 	int pu_clks, disp_clks, ipg_clks = 1;
 	int i = 0, k = 0;
 
+	/* No pu and display misc on i.mx6ul */
+	if (cpu_is_imx6ul())
+		return 0;
+
 	imx6q_pu_domain.base.of_node = dev->of_node;
 	imx6q_pu_domain.reg = pu_reg;
 
-- 
1.7.5.4

