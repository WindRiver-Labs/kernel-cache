From a6114b7bc2c58b54dbd12554d9b0e2acad60983a Mon Sep 17 00:00:00 2001
From: Robin Gong <b38343@freescale.com>
Date: Tue, 27 Jan 2015 10:27:36 +0800
Subject: [PATCH 0052/1221] MLK-10244-10 ARM: dts: imx7d: add snvs-power key
 support

Enable rtc-snvs and snvs-power key, now we can use POWER key to wakeup
system.

Signed-off-by: Robin Gong <b38343@freescale.com>
(cherry picked from commit f292db590e0b01cf9580109c35d2a80a4b936c17)
[zou:Original patch taken from
git.freescale.com/imx/fsl-arm-yocto-bsp.git-b imx-3.14.52-1.1.0_ga]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm/boot/dts/imx7d.dtsi |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx7d.dtsi b/arch/arm/boot/dts/imx7d.dtsi
index a5de876..23d89bc 100644
--- a/arch/arm/boot/dts/imx7d.dtsi
+++ b/arch/arm/boot/dts/imx7d.dtsi
@@ -354,6 +354,14 @@
 				};
 			};
 
+			snvs-pwrkey@0x30370000 {
+				compatible = "fsl, imx7d-snvs-pwrkey", "fsl,imx6sx-snvs-pwrkey";
+				reg = <0x30370000 0x10000>;
+				interrupts = <GIC_SPI 4 IRQ_TYPE_LEVEL_HIGH>;
+				fsl,keycode = <116>; /* KEY_POWER */
+				fsl,wakeup;
+			};
+
 			clks: ccm@30380000 {
 				compatible = "fsl,imx7d-ccm";
 				reg = <0x30380000 0x10000>;
-- 
1.7.5.4

