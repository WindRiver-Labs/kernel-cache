From 0d5c9eeb15f97d3a0b9106e1e569cdbb5277288b Mon Sep 17 00:00:00 2001
From: Peter Chen <peter.chen@freescale.com>
Date: Mon, 9 Mar 2015 13:56:53 +0800
Subject: [PATCH 0150/1221] MLK-10387-1 ARM: imx7d: set dr_mode for "host" if
 controller is host-only

The dts is used to describe hardware capabilities, so it is
better to add dr_mode = "host" if the controller is host-only,
it can also eliminate "doesn't support gadget" message for host-only
controller initialization. Below thread also discuss it:

http://lkml.iu.edu/hypermail/linux/kernel/1502.3/02871.html

Signed-off-by: Peter Chen <peter.chen@freescale.com>
[zou:Original patch taken from
git.freescale.com/imx/fsl-arm-yocto-bsp.git-b imx-3.14.52-1.1.0_ga]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 arch/arm/boot/dts/imx7d.dtsi |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/arm/boot/dts/imx7d.dtsi b/arch/arm/boot/dts/imx7d.dtsi
index 77f29b5..908f5993e 100644
--- a/arch/arm/boot/dts/imx7d.dtsi
+++ b/arch/arm/boot/dts/imx7d.dtsi
@@ -1017,6 +1017,7 @@
 				fsl,usbphy = <&usbphy_nop3>;
 				fsl,usbmisc = <&usbmisc3 0>;
 				phy_type = "hsic";
+				dr_mode = "host";
 				status = "disabled";
 			};
 
-- 
1.7.5.4

