From 98604190c9c47296ae34cc55afc5ce24928a3578 Mon Sep 17 00:00:00 2001
From: Sandor Yu <R01008@freescale.com>
Date: Thu, 14 May 2015 18:01:41 +0800
Subject: [PATCH 0555/1221] MLK-10895: CSI: Add more time to wait frame SOF
 interrupter

For big frame size video mode, such as 1920x1080.
CSI driver need more time to wait SOF interrupter.

Signed-off-by: Sandor Yu <R01008@freescale.com>
[zou:Original patch taken from
git.freescale.com/imx/fsl-arm-yocto-bsp.git-b imx-3.14.52-1.1.0_ga]
Signed-off-by: zou cao <cao.zou@windriver.com>
---
 drivers/media/platform/mxc/subdev/mx6s_capture.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/media/platform/mxc/subdev/mx6s_capture.c b/drivers/media/platform/mxc/subdev/mx6s_capture.c
index c2aab5b..e74fb10 100644
--- a/drivers/media/platform/mxc/subdev/mx6s_capture.c
+++ b/drivers/media/platform/mxc/subdev/mx6s_capture.c
@@ -704,7 +704,7 @@ static int mx6s_csi_enable(struct mx6s_csi_dev *csi_dev)
 		csi_tvdec_enable(csi_dev, true);
 
 	local_irq_save(flags);
-	for (timeout = 1000000; timeout > 0; timeout--) {
+	for (timeout = 10000000; timeout > 0; timeout--) {
 		if (csi_read(csi_dev, CSI_CSISR) & BIT_SOF_INT) {
 			val = csi_read(csi_dev, CSI_CSICR3);
 			csi_write(csi_dev, val | BIT_DMA_REFLASH_RFF,
-- 
1.7.5.4

