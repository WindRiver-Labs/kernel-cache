From 409ee42aee6277e6cfd172dff1bde86102b09bac Mon Sep 17 00:00:00 2001
From: Andi Kleen <ak@linux.intel.com>
Date: Mon, 27 Sep 2010 23:36:05 +0200
Subject: [PATCH 46/49] HWPOISON: Turn addr_valid from bitfield into char

Upstream ID: 898e70d1e526d7814bd2f64c907706b83ffca9af

The addr_valid flag is the only flag in "to_kill" and it's slightly more
efficient to have it as char instead of a bitfield.

Signed-off-by: Andi Kleen <ak@linux.intel.com>
---
 mm/memory-failure.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/mm/memory-failure.c b/mm/memory-failure.c
index b239744..2f5b598 100644
--- a/mm/memory-failure.c
+++ b/mm/memory-failure.c
@@ -271,7 +271,7 @@ struct to_kill {
 	struct list_head nd;
 	struct task_struct *tsk;
 	unsigned long addr;
-	unsigned addr_valid:1;
+	char addr_valid;
 };
 
 /*
-- 
1.7.0.2

