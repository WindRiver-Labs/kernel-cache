From ffc927e54bef1264ef3a590f2e365cb6666abfe2 Mon Sep 17 00:00:00 2001
From: Mark Pauna <mark.pauna@windriver.com>
Date: Thu, 6 Nov 2008 13:49:42 -0600
Subject: [PATCH] oprofile: export unwind_stack for MIPS

Export the unwind_stack() routine to make it available for
oprofile and other processes which can use a kernel stack unwind routine.

Signed-off-by: Mark Pauna <mark.pauna@windriver.com>
Signed-off-by: Dave Lerner <dave.lerner@windriver.com>
---
 arch/mips/kernel/process.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/mips/kernel/process.c b/arch/mips/kernel/process.c
index dd35de7..3685b6e 100644
--- a/arch/mips/kernel/process.c
+++ b/arch/mips/kernel/process.c
@@ -433,6 +433,7 @@ unsigned long unwind_stack(struct task_struct *task, unsigned long *sp,
 	*ra = 0;
 	return __kernel_text_address(pc) ? pc : 0;
 }
+EXPORT_SYMBOL_GPL(unwind_stack);
 #endif
 
 /*
-- 
1.6.0.90.g436ed

