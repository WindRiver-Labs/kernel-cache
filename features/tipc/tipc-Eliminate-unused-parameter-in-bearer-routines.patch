From 114376495d5dcc5c3f7ffe00f9a763993129d3be Mon Sep 17 00:00:00 2001
From: Allan Stephens <allan.stephens@windriver.com>
Date: Fri, 5 Nov 2010 11:00:48 -0400
Subject: [PATCH 07/32] tipc: Eliminate unused parameter in bearer routines

commit 59b6bd0a4ba5ff78d04990824c1356688b255031 from
git://tipc.cslab.ericsson.net/pub/git/people/allan/tipc.git

Gets rid of an unused parameter in the definitions of two routines
in TIPC's bearer code.

Signed-off-by: Allan Stephens <allan.stephens@windriver.com>
Integrated-by: Howard Xu <hao.xu@windriver.com>
---
 net/tipc/tipc_bearer.c |    6 ++----
 net/tipc/tipc_bearer.h |    8 +++-----
 net/tipc/tipc_link.c   |    4 ++--
 3 files changed, 7 insertions(+), 11 deletions(-)

diff --git a/net/tipc/tipc_bearer.c b/net/tipc/tipc_bearer.c
index 9ee7814..561d07f 100644
--- a/net/tipc/tipc_bearer.c
+++ b/net/tipc/tipc_bearer.c
@@ -336,8 +336,7 @@ struct sk_buff *tipc_bearer_get_names(void)
 
 #endif
 
-void tipc_bearer_add_dest(struct bearer *b_ptr, u32 dest,
-			  struct tipc_media_addr *maddr)
+void tipc_bearer_add_dest(struct bearer *b_ptr, u32 dest)
 {
 	struct discoverer *d_ptr;
 	struct discoverer *temp_d_ptr;
@@ -355,8 +354,7 @@ void tipc_bearer_add_dest(struct bearer *b_ptr, u32 dest,
 	}
 }
 
-void tipc_bearer_remove_dest(struct bearer *b_ptr, u32 dest,
-			  struct tipc_media_addr *maddr)
+void tipc_bearer_remove_dest(struct bearer *b_ptr, u32 dest)
 {
 	struct discoverer *d_ptr;
 	struct discoverer *temp_d_ptr;
diff --git a/net/tipc/tipc_bearer.h b/net/tipc/tipc_bearer.h
index 6ab9c5c..3d77a09 100644
--- a/net/tipc/tipc_bearer.h
+++ b/net/tipc/tipc_bearer.h
@@ -2,7 +2,7 @@
  * net/tipc/tipc_bearer.h: Include file for TIPC bearer code
  * 
  * Copyright (c) 1996-2006, Ericsson AB
- * Copyright (c) 2005-2008, Wind River Systems
+ * Copyright (c) 2005-2008, 2010, Wind River Systems
  * All rights reserved.
  *
  * Redistribution and use in source and binary forms, with or without
@@ -91,10 +91,8 @@ void tipc_media_addr_printf(struct print_buf *pb, struct tipc_media_addr *a);
 struct sk_buff *tipc_media_get_names(void);
 
 struct sk_buff *tipc_bearer_get_names(void);
-void tipc_bearer_add_dest(struct bearer *b_ptr, u32 dest,
-			  struct tipc_media_addr *maddr);
-void tipc_bearer_remove_dest(struct bearer *b_ptr, u32 dest,
-			     struct tipc_media_addr *maddr);
+void tipc_bearer_add_dest(struct bearer *b_ptr, u32 dest);
+void tipc_bearer_remove_dest(struct bearer *b_ptr, u32 dest);
 void tipc_bearer_remove_discoverer(struct bearer *b_ptr, u32 dest);
 void tipc_bearer_schedule(struct bearer *b_ptr, struct link *l_ptr);
 struct bearer *tipc_bearer_find(const char *name);
diff --git a/net/tipc/tipc_link.c b/net/tipc/tipc_link.c
index ebe4c81..0ec7773 100644
--- a/net/tipc/tipc_link.c
+++ b/net/tipc/tipc_link.c
@@ -668,7 +668,7 @@ void tipc_link_reset(struct link *l_ptr)
 		return;
 
 	tipc_node_link_down(l_ptr->owner, l_ptr);
-	tipc_bearer_remove_dest(l_ptr->b_ptr, l_ptr->addr, &l_ptr->media_addr);
+	tipc_bearer_remove_dest(l_ptr->b_ptr, l_ptr->addr);
 #if 0
 	printk("\nReset link <%s>\n", l_ptr->name);
 	dbg_link_dump("\n\nDumping link <%s>:\n", l_ptr->name);
@@ -714,7 +714,7 @@ static void link_activate(struct link *l_ptr)
 {
 	l_ptr->next_in_no = l_ptr->stats.recv_info = 1;
 	tipc_node_link_up(l_ptr->owner, l_ptr);
-	tipc_bearer_add_dest(l_ptr->b_ptr, l_ptr->addr, &l_ptr->media_addr);
+	tipc_bearer_add_dest(l_ptr->b_ptr, l_ptr->addr);
 }
 
 /**
-- 
1.7.0

