From 9d0264753e869d21ec4d9a6dd5558de73d64f94d Mon Sep 17 00:00:00 2001
From: Kishore Bodke <kishore.k.bodke@intel.com>
Date: Fri, 9 Mar 2012 11:03:56 -0800
Subject: [PATCH] yocto/pvr: add hdmi/acpi definitions

Adding the identifier for the CedarTrail HDMI to allow peripheral
detection.

Signed-off-by: Kishore Bodke <kishore.k.bodke@intel.com>
---
 drivers/acpi/video.c       |    2 --
 sound/pci/hda/patch_hdmi.c |    2 ++
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/acpi/video.c b/drivers/acpi/video.c
index db39e9e..47a98ff 100644
--- a/drivers/acpi/video.c
+++ b/drivers/acpi/video.c
@@ -1732,7 +1732,6 @@ static int acpi_video_bus_remove(struct acpi_device *device, int type)
 
 static int __init intel_opregion_present(void)
 {
-#if defined(CONFIG_DRM_I915) || defined(CONFIG_DRM_I915_MODULE)
 	struct pci_dev *dev = NULL;
 	u32 address;
 
@@ -1746,7 +1745,6 @@ static int __init intel_opregion_present(void)
 			continue;
 		return 1;
 	}
-#endif
 	return 0;
 }
 
diff --git a/sound/pci/hda/patch_hdmi.c b/sound/pci/hda/patch_hdmi.c
index bd0ae69..1b05ed1 100644
--- a/sound/pci/hda/patch_hdmi.c
+++ b/sound/pci/hda/patch_hdmi.c
@@ -1671,6 +1671,7 @@ static const struct hda_codec_preset snd_hda_preset_hdmi[] = {
 { .id = 0x80862805, .name = "CougarPoint HDMI",	.patch = patch_generic_hdmi },
 { .id = 0x80862806, .name = "PantherPoint HDMI", .patch = patch_generic_hdmi },
 { .id = 0x808629fb, .name = "Crestline HDMI",	.patch = patch_generic_hdmi },
+{ .id = 0x80862880, .name = "CedarTrail HDMI", .patch = patch_generic_hdmi },
 {} /* terminator */
 };
 
@@ -1717,6 +1718,7 @@ MODULE_ALIAS("snd-hda-codec-id:80862804");
 MODULE_ALIAS("snd-hda-codec-id:80862805");
 MODULE_ALIAS("snd-hda-codec-id:80862806");
 MODULE_ALIAS("snd-hda-codec-id:808629fb");
+MODULE_ALIAS("snd-hda-codec-id:80862880");
 
 MODULE_LICENSE("GPL");
 MODULE_DESCRIPTION("HDMI HD-audio codec");
-- 
1.7.5.4

