From e7d292aafbccb290b674cb7478a928a9bd2fa039 Mon Sep 17 00:00:00 2001
From: Wu Zhangjin <wuzhangjin@gmail.com>
Date: Wed, 10 Mar 2010 01:35:44 +0800
Subject: [PATCH 19/22] RT: MIPS: Un-thread i8259A cascade interrupt

commit 6d848200e90f273a5bcdf9b0e6f2e312bbad8266 from linux-2.6-tip

This patch un-threads the i8259A cascade interrupts, and convert the
related lock to raw_spinlock_t type.

Signed-off-by: Wu Zhangjin <wuzhangjin@gmail.com>
[removed all the already applied raw_spin* conversions]
Integrated-by: Mark Asselstine <mark.asselstine@windriver.com>
---
 arch/mips/kernel/i8259.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/arch/mips/kernel/i8259.c b/arch/mips/kernel/i8259.c
index 2779911..811564c 100644
--- a/arch/mips/kernel/i8259.c
+++ b/arch/mips/kernel/i8259.c
@@ -306,6 +306,7 @@ static void init_8259A(int auto_eoi)
  */
 static struct irqaction irq2 = {
 	.handler = no_action,
+	.flags = IRQF_NODELAY,
 	.name = "cascade",
 };
 
-- 
1.7.0

