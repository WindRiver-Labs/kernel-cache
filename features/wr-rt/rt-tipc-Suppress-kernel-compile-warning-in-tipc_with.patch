From dbc056514c4c8da46635e3335d8ab18121e1f31b Mon Sep 17 00:00:00 2001
From: Xufeng Zhang <xufeng.zhang@windriver.com>
Date: Thu, 10 Apr 2014 13:02:53 +0800
Subject: [PATCH] rt/tipc: Suppress kernel compile warning in tipc_withdraw()

After commit 8998d072("rt/tipc: Fix system deadlock when do tipc stress test"),
a kernel compile warning happens in tipc_withdraw():
net/tipc/port.c:1068:3: warning: suggest parentheses around assignment used
as truth value [-Wparentheses]

Adding one parenthesis to suppress this kernel warning.

Signed-off-by: Xufeng Zhang <xufeng.zhang@windriver.com>
---
 net/tipc/port.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/net/tipc/port.c b/net/tipc/port.c
index 0a1af71..e485d6b 100644
--- a/net/tipc/port.c
+++ b/net/tipc/port.c
@@ -1051,7 +1051,7 @@ int tipc_withdraw(u32 ref, unsigned int scope, struct tipc_name_seq const *seq)
 	tipc_port_unlock(p_ptr);
 
 	if (!skb_queue_empty(&nametbl_queue)) {
-		while (tbuf = skb_dequeue(&nametbl_queue))
+		while ((tbuf = skb_dequeue(&nametbl_queue)))
 			named_cluster_distribute(tbuf);
 	}
 	return res;
-- 
1.7.5.4

