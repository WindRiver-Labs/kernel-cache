From e4d44ce90bb8e7ef1b5bc57a27b1f8290fcec995 Mon Sep 17 00:00:00 2001
From: Paul Gortmaker <paul.gortmaker@windriver.com>
Date: Fri, 13 Nov 2015 13:02:26 -0500
Subject: [PATCH] mm: remove warning introduced by -rt patch for unused idx
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

We see:

mm/slub.c: In function ‘allocate_slab’:
mm/slub.c:1350:6: warning: unused variable ‘idx’ [-Wunused-variable]
  int idx, order;
      ^

...introduced by:

Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Tue Jul 14 14:26:34 2015 +0200

    mm/slub: move slab initialization into irq enabled region

The variable was never used anywhere in that commit that added it, so
we just remove it.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

diff --git a/mm/slub.c b/mm/slub.c
index f21e9bcb9094..7e64cbe0a4a6 100644
--- a/mm/slub.c
+++ b/mm/slub.c
@@ -1347,7 +1347,7 @@ static struct page *allocate_slab(struct kmem_cache *s, gfp_t flags, int node)
 	gfp_t alloc_gfp;
 	bool enableirqs;
 	void *start, *last, *p;
-	int idx, order;
+	int order;
 
 	flags &= gfp_allowed_mask;
 
-- 
2.1.4

