From fb9bc7057faa9bf6b27a7c1db0abbb6f6b4a750b Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
Date: Tue, 12 Aug 2008 10:33:06 -0400
Subject: [PATCH] add-input-subsystem-instrumentation

Allows tracing of all input events that pass through the input subsystem.

Signed-off-by: Pierre-Marc Fournier <pierre-marc.fournier@polymtl.ca>
---
 drivers/input/input.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/input/input.c b/drivers/input/input.c
index c13ced3..290e4b1 100644
--- a/drivers/input/input.c
+++ b/drivers/input/input.c
@@ -142,6 +142,8 @@ static void input_handle_event(struct input_dev *dev,
 {
 	int disposition = INPUT_IGNORE_EVENT;
 
+	trace_mark(input_event, "type %u code %u value %d", type, code, value);
+
 	switch (type) {
 
 	case EV_SYN:
-- 
1.5.5.1

