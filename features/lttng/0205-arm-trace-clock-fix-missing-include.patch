From 189d6db4db23bdaf6cba775a9a59bdae1d64b0d1 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Wed, 18 May 2011 18:42:51 -0400
Subject: [PATCH 205/248] arm-trace-clock-fix-missing-include

arm trace clock fix missing include

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
---
 arch/arm/mach-omap2/clkt34xx_dpll3m2.c        |    1 +
 arch/arm/mach-omap2/clock34xx.c               |    1 +
 arch/arm/mach-omap2/trace-clock.c             |    1 +
 arch/arm/plat-omap/include/plat/trace-clock.h |    1 +
 4 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/arch/arm/mach-omap2/clkt34xx_dpll3m2.c b/arch/arm/mach-omap2/clkt34xx_dpll3m2.c
index c88512f..2a77faf 100644
--- a/arch/arm/mach-omap2/clkt34xx_dpll3m2.c
+++ b/arch/arm/mach-omap2/clkt34xx_dpll3m2.c
@@ -24,6 +24,7 @@
 #include <plat/clock.h>
 #include <plat/sram.h>
 #include <plat/sdrc.h>
+#include <asm/trace-clock.h>
 
 #include "clock.h"
 #include "clock3xxx.h"
diff --git a/arch/arm/mach-omap2/clock34xx.c b/arch/arm/mach-omap2/clock34xx.c
index 5d93ec7..6f5401b 100644
--- a/arch/arm/mach-omap2/clock34xx.c
+++ b/arch/arm/mach-omap2/clock34xx.c
@@ -18,6 +18,7 @@
 #undef DEBUG
 
 #include <linux/kernel.h>
+#include <linux/module.h>
 #include <linux/clk.h>
 #include <linux/io.h>
 
diff --git a/arch/arm/mach-omap2/trace-clock.c b/arch/arm/mach-omap2/trace-clock.c
index cd10065..62d5970 100644
--- a/arch/arm/mach-omap2/trace-clock.c
+++ b/arch/arm/mach-omap2/trace-clock.c
@@ -16,6 +16,7 @@
 
 #include <plat/clock.h>
 #include <asm/trace-clock.h>
+#include <asm/pmu.h>
 
 /* depends on CONFIG_OMAP_32K_TIMER */
 /* Need direct access to the clock from arch/arm/mach-omap2/timer-gp.c */
diff --git a/arch/arm/plat-omap/include/plat/trace-clock.h b/arch/arm/plat-omap/include/plat/trace-clock.h
index a960d71..7fcdbf9 100644
--- a/arch/arm/plat-omap/include/plat/trace-clock.h
+++ b/arch/arm/plat-omap/include/plat/trace-clock.h
@@ -9,6 +9,7 @@
 
 #include <linux/clk.h>
 #include <linux/timer.h>
+#include <linux/percpu.h>
 #include <plat/clock.h>
 
 /*
-- 
1.7.0.4

