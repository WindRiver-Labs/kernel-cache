From 2d3c56896f85bcff2afddfb8ff0651e324a2bb43 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Thu, 13 May 2010 19:28:32 -0400
Subject: [PATCH 367/391] arm-fix-comment-2-byte-cmpxchg

arm 32v6k fix comment 2-byte cmpxchg

commit ecd322c9b3e4ac70f9f108badde3eb6b99c7993d introduced a 2-byte cmpxchg with
a comment mismatch (labeled __cmpxchg1).

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
CC: Catalin Marinas <catalin.marinas@arm.com>
CC: Nicolas Pitre <nico@cam.org>
CC: Russell King <rmk+kernel@arm.linux.org.uk>
CC: Alexander Shishkin <virtuoso@slind.org>
---
 arch/arm/include/asm/system.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/arch/arm/include/asm/system.h b/arch/arm/include/asm/system.h
index 4ace45e..077b548 100644
--- a/arch/arm/include/asm/system.h
+++ b/arch/arm/include/asm/system.h
@@ -375,7 +375,7 @@ static inline unsigned long __cmpxchg(volatile void *ptr, unsigned long old,
 		break;
 	case 2:
 		do {
-			asm volatile("@ __cmpxchg1\n"
+			asm volatile("@ __cmpxchg2\n"
 			"	ldrexh	%1, [%2]\n"
 			"	mov	%0, #0\n"
 			"	teq	%1, %3\n"
-- 
1.6.5.2

