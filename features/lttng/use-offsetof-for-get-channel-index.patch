From eae01bc184b7917fda3f7ebaed35559940876021 Mon Sep 17 00:00:00 2001
From: auto commit <unknown@unknown>
Date: Tue, 15 Jul 2008 15:19:04 -0400
Subject: [PATCH] up a home-brewed macro, fixing several compiler warnings on

x86-64.

Signed-off-by: Jan Kiszka <jan.kiszka@siemens.com>
---
 include/linux/ltt-tracer.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/include/linux/ltt-tracer.h b/include/linux/ltt-tracer.h
index aa197cd..826b775 100644
--- a/include/linux/ltt-tracer.h
+++ b/include/linux/ltt-tracer.h
@@ -405,7 +405,7 @@ static inline unsigned int ltt_subbuf_header_len(void)
 
 /* Get the offset of the channel in the ltt_trace_struct */
 #define GET_CHANNEL_INDEX(chan)	\
-	(unsigned int)&((struct ltt_trace_struct *)NULL)->channel.chan
+	offsetof(struct ltt_trace_struct, channel.chan)
 
 static inline struct ltt_channel_struct *ltt_get_channel_from_index(
 		struct ltt_trace_struct *trace, unsigned int index)
-- 
1.5.5.1

