From 258e1439bf3b9c4970ebe3e241119cfbd7552fc9 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Wed, 18 May 2011 18:41:58 -0400
Subject: [PATCH 094/248] lttng-statedump/lttng-export-tasklist-lock

LTTng export tasklist lock

Needed by LTTng modules.

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
---
 kernel/fork.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/kernel/fork.c b/kernel/fork.c
index d186182..33750f2 100644
--- a/kernel/fork.c
+++ b/kernel/fork.c
@@ -92,6 +92,7 @@ int max_threads;		/* tunable limit on nr_threads */
 DEFINE_PER_CPU(unsigned long, process_counts) = 0;
 
 __cacheline_aligned DEFINE_RWLOCK(tasklist_lock);  /* outer */
+EXPORT_SYMBOL(tasklist_lock);
 
 #ifdef CONFIG_PROVE_RCU
 int lockdep_tasklist_lock_is_held(void)
-- 
1.7.0.4

