From 354660301f5cada4154ef45336492be3e4379b04 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
Date: Thu, 2 Oct 2008 14:36:08 -0400
Subject: [PATCH] tracepoint-update-locking-comment

Tracepoint Update Locking Comment

Specify the fact that modules now use a preemptable psrwlock read lock.

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
---
 kernel/tracepoint.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/kernel/tracepoint.c b/kernel/tracepoint.c
index f2b7c28..ab5e343 100644
--- a/kernel/tracepoint.c
+++ b/kernel/tracepoint.c
@@ -32,7 +32,8 @@ extern struct tracepoint __stop___tracepoints[];
 static const int tracepoint_debug;
 
 /*
- * tracepoints_mutex nests inside module_mutex. Tracepoints mutex protects the
+ * tracepoints_mutex nests inside the preemptable module_psrwlock read lock.
+ * It also nests inside the markers_mutex. Tracepoints mutex protects the
  * builtin and module tracepoints and the hash table.
  */
 static DEFINE_MUTEX(tracepoints_mutex);
-- 
1.5.5.1

