From 3f9b73332ad52d435baecce123d45df660393e78 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
Date: Thu, 30 Oct 2008 23:26:55 -0400
Subject: [PATCH] lttng-tracer-cleanup-ltt_trace_find

Avoid using 2 local variables.

Impact: cleanup, no functionality changed

From: Zhao Lei <zhaolei@cn.fujitsu.com>
Signed-off-by: Zhao Lei <zhaolei@cn.fujitsu.com>
Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
---
 ltt/ltt-tracer.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

diff --git a/ltt/ltt-tracer.c b/ltt/ltt-tracer.c
index 42d0015..9a4f859 100644
--- a/ltt/ltt-tracer.c
+++ b/ltt/ltt-tracer.c
@@ -243,19 +243,13 @@ static void async_wakeup(unsigned long data)
  * Returns a pointer to the trace structure, NULL if not found. */
 static struct ltt_trace_struct *_ltt_trace_find(char *trace_name)
 {
-	int compare;
-	struct ltt_trace_struct *trace, *found = NULL;
-
-	list_for_each_entry(trace, &ltt_traces.head, list) {
-		compare = strncmp(trace->trace_name, trace_name, NAME_MAX);
+	struct ltt_trace_struct *trace;
 
-		if (compare == 0) {
-			found = trace;
-			break;
-		}
-	}
+	list_for_each_entry(trace, &ltt_traces.head, list)
+		if (!strncmp(trace->trace_name, trace_name, NAME_MAX))
+			return trace;
 
-	return found;
+	return NULL;
 }
 
 /* This function must be called with traces semaphore held. */
-- 
1.5.5.1

