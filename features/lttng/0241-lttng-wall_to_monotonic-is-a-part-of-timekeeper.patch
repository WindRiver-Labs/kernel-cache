From 466e8174e2c992bfdd58d2c2d1eab03e81104e2c Mon Sep 17 00:00:00 2001
From: Yang Shi <yang.shi@windriver.com>
Date: Thu, 24 May 2012 16:15:03 -0700
Subject: [PATCH 241/248] lttng: wall_to_monotonic is a part of timekeeper

Due to upstream commit d9f7217aac6833cc634741f2f771a87fd1518fee
[time: Move wall_to_monotonic into the timekeeper structure],
wall_to_monotonic is a part of timekeeper struct, fix it to prevent building failure.

Signed-off-by: Yang Shi <yang.shi@windriver.com>
---
 kernel/time/timekeeping.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/kernel/time/timekeeping.c b/kernel/time/timekeeping.c
index b5f8402..2f43b12 100644
--- a/kernel/time/timekeeping.c
+++ b/kernel/time/timekeeping.c
@@ -84,7 +84,7 @@ static struct timekeeper timekeeper;
 
 struct timespec __get_wall_to_monotonic(void)
 {
-        return wall_to_monotonic;
+	return timekeeper.wall_to_monotonic;
 }
 
 
@@ -1238,7 +1238,7 @@ void do_timer(unsigned long ticks)
 	jiffies_64 += ticks;
 	update_wall_time();
 	curtime = __current_kernel_time();
-	wtom = wall_to_monotonic;
+	wtom = timekeeper.wall_to_monotonic;
 	trace_timer_update_time(&curtime, &wtom);
 	calc_global_load(ticks);
 }
-- 
1.7.0.4

