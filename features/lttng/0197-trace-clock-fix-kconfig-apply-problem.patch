From 20c3d6e52b08b9d33d381ca1041097c7f66427d1 Mon Sep 17 00:00:00 2001
From: Yang Shi <yang.shi@windriver.com>
Date: Thu, 10 May 2012 14:35:37 -0700
Subject: [PATCH 197/248] trace-clock-fix-kconfig-apply-problem

trace clock kconfig options were incorrectly in cgroups menu (rebase error)

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
---
 init/Kconfig |   70 +++++++++++++++++++++++++++++-----------------------------
 1 files changed, 35 insertions(+), 35 deletions(-)

diff --git a/init/Kconfig b/init/Kconfig
index e49d80f..e1f78e8 100644
--- a/init/Kconfig
+++ b/init/Kconfig
@@ -706,16 +706,6 @@ config CGROUP_MEM_RES_CTLR_KMEM
 	  the kmem extension can use it to guarantee that no group of processes
 	  will ever exhaust kernel resources alone.
 
-#
-# Architectures with a 64-bits get_cycles() should select this.
-# They should also define
-# get_cycles_barrier() : instruction synchronization barrier if required
-# get_cycles_rate() : cycle counter rate, in HZ. If 0, TSC are not synchronized
-# across CPUs or their frequency may vary due to frequency scaling.
-#
-config HAVE_GET_CYCLES
-	def_bool n
-
 config CGROUP_PERF
 	bool "Enable perf_event per-cpu per-container group (cgroup) monitoring"
 	depends on PERF_EVENTS && CGROUPS
@@ -726,31 +716,6 @@ config CGROUP_PERF
 
 	  Say N if unsure.
 
-#
-# Architectures with a specialized tracing clock should select this.
-#
-config HAVE_TRACE_CLOCK
-	def_bool n
-
-config HAVE_TRACE_CLOCK_GENERIC
-	bool
-	default y if (!HAVE_TRACE_CLOCK)
-	default n if HAVE_TRACE_CLOCK
-	select HAVE_TRACE_CLOCK_32_TO_64 if (!64BIT)
-
-#
-# Architectures with only a 32-bits clock source should select this.
-#
-config HAVE_TRACE_CLOCK_32_TO_64
-	def_bool n
-
-#
-# Architectures which need to dynamically detect if their TSC is unsynchronized
-# across cpus should select this.
-#
-config HAVE_UNSYNCHRONIZED_TSC
-	def_bool n
-
 menuconfig CGROUP_SCHED
 	bool "Group CPU scheduler"
 	default n
@@ -887,6 +852,41 @@ config NET_NS
 
 endif # NAMESPACES
 
+#
+# Architectures with a 64-bits get_cycles() should select this.
+# They should also define
+# get_cycles_barrier() : instruction synchronization barrier if required
+# get_cycles_rate() : cycle counter rate, in HZ. If 0, TSC are not synchronized
+# across CPUs or their frequency may vary due to frequency scaling.
+#
+config HAVE_GET_CYCLES
+	def_bool n
+
+#
+# Architectures with a specialized tracing clock should select this.
+#
+config HAVE_TRACE_CLOCK
+	def_bool n
+
+config HAVE_TRACE_CLOCK_GENERIC
+	bool
+	default y if (!HAVE_TRACE_CLOCK)
+	default n if HAVE_TRACE_CLOCK
+	select HAVE_TRACE_CLOCK_32_TO_64 if (!64BIT)
+
+#
+# Architectures with only a 32-bits clock source should select this.
+#
+config HAVE_TRACE_CLOCK_32_TO_64
+	def_bool n
+
+#
+# Architectures which need to dynamically detect if their TSC is unsynchronized
+# across cpus should select this.
+#
+config HAVE_UNSYNCHRONIZED_TSC
+	def_bool n
+
 config SCHED_AUTOGROUP
 	bool "Automatic process group scheduling"
 	select EVENTFD
-- 
1.7.0.4

