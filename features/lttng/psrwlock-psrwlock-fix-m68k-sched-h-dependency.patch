From 7a4ab5d0df2ffdf5bfb0e784ca63090021d02ac9 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Thu, 13 May 2010 19:26:46 -0400
Subject: [PATCH 167/390] psrwlock/psrwlock-fix-m68k-sched-h-dependency

psrwlock-fix-m68k-sched-h-dependency

Fix m68k circular dependency on sched.h.

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
---
 include/linux/psrwlock.h |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/include/linux/psrwlock.h b/include/linux/psrwlock.h
index 64cfe7f..415ff39 100644
--- a/include/linux/psrwlock.h
+++ b/include/linux/psrwlock.h
@@ -24,6 +24,10 @@
 
 #include <asm/atomic.h>
 
+#ifdef CONFIG_M68K	/* system.h local_irq_enable depends on sched.h */
+#include <linux/sched.h>
+#endif
+
 #define NR_PREEMPT_BUSY_LOOPS	100
 
 /*
-- 
1.6.5.2

