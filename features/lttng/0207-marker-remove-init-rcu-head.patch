From c806fb32d9e80544a7ce3a802cc6fa4ad5e0726c Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Wed, 18 May 2011 18:42:52 -0400
Subject: [PATCH 207/248] marker-remove-init-rcu-head

marker remove init rcu head

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
---
 kernel/marker.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/kernel/marker.c b/kernel/marker.c
index d22bbc6..eac8ebf 100644
--- a/kernel/marker.c
+++ b/kernel/marker.c
@@ -292,7 +292,6 @@ marker_entry_add_probe(struct marker_entry *entry,
 			GFP_KERNEL);
 	if (new == NULL)
 		return ERR_PTR(-ENOMEM);
-	INIT_RCU_HEAD(&new->rcu);
 	if (!old)
 		new->c[0] = entry->single;
 	else
@@ -361,7 +360,6 @@ marker_entry_remove_probe(struct marker_entry *entry,
 			      GFP_KERNEL);
 		if (new == NULL)
 			return ERR_PTR(-ENOMEM);
-		INIT_RCU_HEAD(&new->rcu);
 		for (i = 0; old->c[i].func; i++)
 			if ((probe && old->c[i].func != probe) ||
 			    old->c[i].probe_private != probe_private)
-- 
1.7.0.4

