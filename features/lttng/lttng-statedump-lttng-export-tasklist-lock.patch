From 2c2fe9111d2ea4c5e8f731b071349ec9929e7a71 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Thu, 13 May 2010 19:26:36 -0400
Subject: [PATCH 148/391] lttng-statedump/lttng-export-tasklist-lock

LTTng export tasklist lock

Needed by LTTng modules.

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
---
 kernel/fork.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/kernel/fork.c b/kernel/fork.c
index a8ba1ff..3618c04 100644
--- a/kernel/fork.c
+++ b/kernel/fork.c
@@ -86,6 +86,7 @@ int max_threads;		/* tunable limit on nr_threads */
 DEFINE_PER_CPU(unsigned long, process_counts) = 0;
 
 __cacheline_aligned DEFINE_RWLOCK(tasklist_lock);  /* outer */
+EXPORT_SYMBOL(tasklist_lock);
 
 #ifdef CONFIG_PROVE_RCU
 int lockdep_tasklist_lock_is_held(void)
-- 
1.6.5.2

