From c8f5283f7d30a91824f0e3ff569a00f9d4298ecd Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Thu, 13 May 2010 19:28:36 -0400
Subject: [PATCH 374/391] lttng-use-generic-alignment

lttng use generic alignment

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
---
 include/linux/ltt-core.h |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/include/linux/ltt-core.h b/include/linux/ltt-core.h
index 2e58eee..55a66d2 100644
--- a/include/linux/ltt-core.h
+++ b/include/linux/ltt-core.h
@@ -54,8 +54,7 @@ extern void ltt_filter_unregister(void);
  */
 static inline unsigned int ltt_align(size_t align_drift, size_t size_of_type)
 {
-	size_t alignment = min(sizeof(void *), size_of_type);
-	return (alignment - align_drift) & (alignment - 1);
+	return offset_align(align_drift, min(sizeof(void *), size_of_type));
 }
 /* Default arch alignment */
 #define LTT_ALIGN
-- 
1.6.5.2

