From efc448bb54954023e0cb91f43a92a3605854de9c Mon Sep 17 00:00:00 2001
From: Yang Shi <yang.shi@windriver.com>
Date: Thu, 24 May 2012 16:09:23 -0700
Subject: [PATCH 240/248] lttng: Add idle stuff for x86_32

lttng defined pm trace point in enter|exit_idle functions which were empty for
x86_32, so remove '#ifdef CONFIG_X86_64' to make those functions available
for x86_32 as well.

Signed-off-by: Yang Shi <yang.shi@windriver.com>
---
 arch/x86/kernel/process.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

diff --git a/arch/x86/kernel/process.c b/arch/x86/kernel/process.c
index 5f92378..8778758 100644
--- a/arch/x86/kernel/process.c
+++ b/arch/x86/kernel/process.c
@@ -33,9 +33,7 @@
 DEFINE_TRACE(pm_idle_exit);
 DEFINE_TRACE(pm_idle_entry);
 
-#ifdef CONFIG_X86_64
 static DEFINE_PER_CPU(unsigned char, is_idle);
-#endif
 
 DEFINE_TRACE(sched_kthread_create);
 
@@ -373,7 +371,6 @@ static inline void play_dead(void)
 }
 #endif
 
-#ifdef CONFIG_X86_64
 void enter_idle(void)
 {
 	percpu_write(is_idle, 1);
@@ -404,7 +401,6 @@ void exit_idle(void)
 	__exit_idle();
 }
 EXPORT_SYMBOL_GPL(exit_idle);
-#endif
 
 /*
  * The idle thread. There's no useful work to be
-- 
1.7.0.4

