From f59f9db4334f05e109467e1dd54f75b8a8f96e7d Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
Date: Thu, 30 Oct 2008 23:27:12 -0400
Subject: [PATCH] traceprobes

Traceprobes

Menu option to activate tracing probes.

Masami Hiramatsu <mhiramat@redhat.com :

Tested on x86-64.

Changelog :
- Default to m instead of y.

Signed-off-by: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
Acked-by: Masami Hiramatsu <mhiramat@redhat.com>
CC: Alexander Viro <viro@zeniv.linux.org.uk>
CC: 'Peter Zijlstra' <peterz@infradead.org>
CC: "Frank Ch. Eigler" <fche@redhat.com>
CC: 'Ingo Molnar' <mingo@elte.hu>
CC: 'Hideo AOKI' <haoki@redhat.com>
CC: Takashi Nishiie <t-nishiie@np.css.fujitsu.com>
CC: 'Steven Rostedt' <rostedt@goodmis.org>
---
 ltt/Kconfig         |    9 +++++++++
 ltt/Makefile        |    1 +
 ltt/probes/Makefile |    1 +
 3 files changed, 11 insertions(+), 0 deletions(-)
 create mode 100644 ltt/probes/Makefile

diff --git a/ltt/Kconfig b/ltt/Kconfig
index 88398d2..6cf9a7b 100644
--- a/ltt/Kconfig
+++ b/ltt/Kconfig
@@ -28,6 +28,15 @@ config LTT
 	  please check the following address :
 	       http://ltt.polymtl.ca
 
+config LTT_TRACEPROBES
+	tristate "Compile lttng tracing probes"
+	depends on LTT
+	default m
+	help
+	  Compile lttng tracing probes, which connect to the tracepoints when
+	  loaded and format the information collected by the tracepoints with
+	  the Markers.
+
 config LTT_RELAY_ALLOC
 	def_bool n
 
diff --git a/ltt/Makefile b/ltt/Makefile
index fb84a80..3313f21 100644
--- a/ltt/Makefile
+++ b/ltt/Makefile
@@ -11,3 +11,4 @@ obj-$(CONFIG_LTT_NETLINK_CONTROL)	+= ltt-control.o
 obj-$(CONFIG_LTT_SERIALIZE)		+= ltt-serialize.o
 obj-$(CONFIG_LTT_STATEDUMP)		+= ltt-statedump.o
 obj-$(CONFIG_LTT_MARKER_CONTROL)	+= ltt-marker-control.o
+obj-$(CONFIG_LTT_TRACEPROBES)		+= probes/
diff --git a/ltt/probes/Makefile b/ltt/probes/Makefile
new file mode 100644
index 0000000..a8b481e
--- /dev/null
+++ b/ltt/probes/Makefile
@@ -0,0 +1 @@
+# LTTng tracing probes
-- 
1.5.5.1

