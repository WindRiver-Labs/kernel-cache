From 2903e746130c76923bcc5fa5d32093865eb6f3b7 Mon Sep 17 00:00:00 2001
From: Jack Tan <jack.tan@windriver.com>
Date: Tue, 20 Nov 2012 21:28:42 +0800
Subject: [PATCH] fixed the mips64 build issue when enable the MIPS32_COMPAT

DEFINE_TRACE(ipc_call) had duplicate definition in
arch/mips/kernel/linux32.c and ipc/syscall.c

If we enable the MIPS32_COMPAT in mips64 kernel we would
get the following message:

...
ipc/built-in.o:(__tracepoints+0x78): multiple definition of `__tracepoint_ipc_call'
arch/mips/built-in.o:(__tracepoints+0xc8): first defined here
make: *** [vmlinux.o] Error 1
...

We need to remove the line from linux32.c

Signed-off-by: Jack Tan <jack.tan@windriver.com>
---
 arch/mips/kernel/linux32.c |    2 --
 1 file changed, 2 deletions(-)

diff --git a/arch/mips/kernel/linux32.c b/arch/mips/kernel/linux32.c
index efb3878..09c443a 100644
--- a/arch/mips/kernel/linux32.c
+++ b/arch/mips/kernel/linux32.c
@@ -45,8 +45,6 @@
 #include <asm/mmu_context.h>
 #include <asm/mman.h>
 
-DEFINE_TRACE(ipc_call);
-
 /* Use this to get at 32-bit user passed pointers. */
 /* A() macro should be used for places where you e.g.
    have some internal variable u32 and just want to get
-- 
1.7.9.7

