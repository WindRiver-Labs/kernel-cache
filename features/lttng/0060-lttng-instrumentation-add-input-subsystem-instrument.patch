From bad7a3f1ec93e127a3781b5722d2bc94e58f0ba9 Mon Sep 17 00:00:00 2001
From: Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Date: Wed, 18 May 2011 18:41:43 -0400
Subject: [PATCH 060/248] lttng-instrumentation/add-input-subsystem-instrumentation

Allows tracing of all input events that pass through the input subsystem.

Signed-off-by: Pierre-Marc Fournier <pierre-marc.fournier@polymtl.ca>
---
 drivers/input/input.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/input/input.c b/drivers/input/input.c
index 8921c61..42eec5b 100644
--- a/drivers/input/input.c
+++ b/drivers/input/input.c
@@ -218,6 +218,8 @@ static void input_handle_event(struct input_dev *dev,
 {
 	int disposition = INPUT_IGNORE_EVENT;
 
+	trace_mark(input_event, "type %u code %u value %d", type, code, value);
+
 	switch (type) {
 
 	case EV_SYN:
-- 
1.7.0.4

