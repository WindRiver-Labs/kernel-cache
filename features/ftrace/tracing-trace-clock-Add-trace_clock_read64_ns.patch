From efa0c3ba05b7423d14b0712710180243c302e346 Mon Sep 17 00:00:00 2001
From: Wu Zhangjin <zhangjin.wu@windriver.com>
Date: Mon, 20 Sep 2010 15:24:55 +0800
Subject: [PATCH 3/8] tracing/trace-clock: Add trace_clock_read64_ns()

Thanks to trace_clock_cyc2ns(), this patch adds trace_clock_read64_ns()
to allow the users to get the nanosecs directly.

Signed-off-by: Wu Zhangjin <zhangjin.wu@windriver.com>
---
 include/linux/trace-clock.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/include/linux/trace-clock.h b/include/linux/trace-clock.h
index fb5c702..e4f87c5 100644
--- a/include/linux/trace-clock.h
+++ b/include/linux/trace-clock.h
@@ -14,4 +14,12 @@
 #else
 #include <asm-generic/trace-clock.h>
 #endif /* CONFIG_HAVE_TRACE_CLOCK */
+
+extern u64 notrace trace_clock_cyc2ns(u64 cycles);
+
+static inline u64 notrace trace_clock_read64_ns(void)
+{
+	return trace_clock_cyc2ns(trace_clock_read64());
+}
+
 #endif /* _LINUX_TRACE__CLOCK_H */
-- 
1.7.2.1

