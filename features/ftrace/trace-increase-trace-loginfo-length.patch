From c1d3ff79ff86808a0b48a3c68d235468aeb8c346 Mon Sep 17 00:00:00 2001
From: Li Wang <li.wang@windriver.com>
Date: Mon, 2 Jul 2012 15:18:23 +0800
Subject: [PATCH] trace: increase trace loginfo length

Saving 512 cmdlines allows ftrace to store more long trace information,
with a memory overhead of:
static varible increases 7Kbytes,
dynamic memory increases 12Kbytes in one function,
when call the function over, the memory will release.

The more information includes long process name, etc.

Signed-off-by: Li Wang <li.wang@windriver.com>
---
 kernel/trace/trace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/kernel/trace/trace.c b/kernel/trace/trace.c
index d5a1907..72ad94a 100644
--- a/kernel/trace/trace.c
+++ b/kernel/trace/trace.c
@@ -887,7 +887,7 @@ void tracing_reset_current_online_cpus(void)
 	tracing_reset_online_cpus(&global_trace);
 }
 
-#define SAVED_CMDLINES 128
+#define SAVED_CMDLINES 512
 #define NO_CMDLINE_MAP UINT_MAX
 static unsigned map_pid_to_cmdline[PID_MAX_DEFAULT+1];
 static unsigned map_cmdline_to_pid[SAVED_CMDLINES];
-- 
1.7.9.7

